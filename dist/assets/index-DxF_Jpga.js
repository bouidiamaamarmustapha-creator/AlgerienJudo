var Yw=Object.defineProperty;var Vw=(t,e,r)=>e in t?Yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>Vw(t,typeof e!="symbol"?e+"":e,r);function Jw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ub={exports:{}},Bh={},qb={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),Qw=Symbol.for("react.portal"),Xw=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),eS=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),nS=Symbol.for("react.forward_ref"),iS=Symbol.for("react.suspense"),aS=Symbol.for("react.memo"),sS=Symbol.for("react.lazy"),k1=Symbol.iterator;function oS(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zb=Object.assign,Wb={};function ec(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||$b}ec.prototype.isReactComponent={};ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hb(){}Hb.prototype=ec.prototype;function L0(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||$b}var A0=L0.prototype=new Hb;A0.constructor=L0;zb(A0,ec.prototype);A0.isPureReactComponent=!0;var P1=Array.isArray,Gb=Object.prototype.hasOwnProperty,k0={current:null},Yb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Gb.call(e,n)&&!Yb.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Tu,type:t,key:a,ref:o,props:i,_owner:k0.current}}function lS(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function cS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E1=/\/+/g;function Hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cS(""+t.key):e.toString(36)}function Ud(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tu:case Qw:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Hf(o,0):n,P1(i)?(r="",t!=null&&(r=t.replace(E1,"$&/")+"/"),Ud(i,e,r,"",function(u){return u})):i!=null&&(P0(i)&&(i=lS(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",P1(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Hf(a,l);o+=Ud(a,e,r,c,i)}else if(c=oS(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Hf(a,l++),o+=Ud(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(t,e,r){if(t==null)return t;var n=[],i=0;return Ud(t,n,"","",function(a){return e.call(r,a,i++)}),n}function uS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var di={current:null},qd={transition:null},dS={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:qd,ReactCurrentOwner:k0};function Jb(){throw Error("act(...) is not supported in production builds of React.")}mr.Children={map:ld,forEach:function(t,e,r){ld(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mr.Component=ec;mr.Fragment=Xw;mr.Profiler=eS;mr.PureComponent=L0;mr.StrictMode=Zw;mr.Suspense=iS;mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS;mr.act=Jb;mr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zb({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=k0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Gb.call(e,c)&&!Yb.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Tu,type:t.type,key:i,ref:a,props:n,_owner:o}};mr.createContext=function(t){return t={$$typeof:rS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tS,_context:t},t.Consumer=t};mr.createElement=Vb;mr.createFactory=function(t){var e=Vb.bind(null,t);return e.type=t,e};mr.createRef=function(){return{current:null}};mr.forwardRef=function(t){return{$$typeof:nS,render:t}};mr.isValidElement=P0;mr.lazy=function(t){return{$$typeof:sS,_payload:{_status:-1,_result:t},_init:uS}};mr.memo=function(t,e){return{$$typeof:aS,type:t,compare:e===void 0?null:e}};mr.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};mr.unstable_act=Jb;mr.useCallback=function(t,e){return di.current.useCallback(t,e)};mr.useContext=function(t){return di.current.useContext(t)};mr.useDebugValue=function(){};mr.useDeferredValue=function(t){return di.current.useDeferredValue(t)};mr.useEffect=function(t,e){return di.current.useEffect(t,e)};mr.useId=function(){return di.current.useId()};mr.useImperativeHandle=function(t,e,r){return di.current.useImperativeHandle(t,e,r)};mr.useInsertionEffect=function(t,e){return di.current.useInsertionEffect(t,e)};mr.useLayoutEffect=function(t,e){return di.current.useLayoutEffect(t,e)};mr.useMemo=function(t,e){return di.current.useMemo(t,e)};mr.useReducer=function(t,e,r){return di.current.useReducer(t,e,r)};mr.useRef=function(t){return di.current.useRef(t)};mr.useState=function(t){return di.current.useState(t)};mr.useSyncExternalStore=function(t,e,r){return di.current.useSyncExternalStore(t,e,r)};mr.useTransition=function(){return di.current.useTransition()};mr.version="18.3.1";qb.exports=mr;var v=qb.exports;const hS=Mb(v),fS=Jw({__proto__:null,default:hS},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=v,pS=Symbol.for("react.element"),mS=Symbol.for("react.fragment"),vS=Object.prototype.hasOwnProperty,bS=gS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function Kb(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)vS.call(e,n)&&!yS.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pS,type:t,key:a,ref:o,props:i,_owner:bS.current}}Bh.Fragment=mS;Bh.jsx=Kb;Bh.jsxs=Kb;Ub.exports=Bh;var s=Ub.exports,rp={},Qb={exports:{}},qi={},Xb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,ye){var Re=ne.length;ne.push(ye);e:for(;0<Re;){var oe=Re-1>>>1,E=ne[oe];if(0<i(E,ye))ne[oe]=ye,ne[Re]=E,Re=oe;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ye=ne[0],Re=ne.pop();if(Re!==ye){ne[0]=Re;e:for(var oe=0,E=ne.length,U=E>>>1;oe<U;){var Q=2*(oe+1)-1,ce=ne[Q],_e=Q+1,Ce=ne[_e];if(0>i(ce,Re))_e<E&&0>i(Ce,ce)?(ne[oe]=Ce,ne[_e]=Re,oe=_e):(ne[oe]=ce,ne[Q]=Re,oe=Q);else if(_e<E&&0>i(Ce,Re))ne[oe]=Ce,ne[_e]=Re,oe=_e;else break e}}return ye}function i(ne,ye){var Re=ne.sortIndex-ye.sortIndex;return Re!==0?Re:ne.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,g=null,m=3,f=!1,x=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ne){for(var ye=r(u);ye!==null;){if(ye.callback===null)n(u);else if(ye.startTime<=ne)n(u),ye.sortIndex=ye.expirationTime,e(c,ye);else break;ye=r(u)}}function C(ne){if(j=!1,S(ne),!x)if(r(c)!==null)x=!0,ve(B);else{var ye=r(u);ye!==null&&Le(C,ye.startTime-ne)}}function B(ne,ye){x=!1,j&&(j=!1,b(T),T=-1),f=!0;var Re=m;try{for(S(ye),g=r(c);g!==null&&(!(g.expirationTime>ye)||ne&&!I());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,m=g.priorityLevel;var E=oe(g.expirationTime<=ye);ye=t.unstable_now(),typeof E=="function"?g.callback=E:g===r(c)&&n(c),S(ye)}else n(c);g=r(c)}if(g!==null)var U=!0;else{var Q=r(u);Q!==null&&Le(C,Q.startTime-ye),U=!1}return U}finally{g=null,m=Re,f=!1}}var Y=!1,V=null,T=-1,$=5,Z=-1;function I(){return!(t.unstable_now()-Z<$)}function G(){if(V!==null){var ne=t.unstable_now();Z=ne;var ye=!0;try{ye=V(!0,ne)}finally{ye?de():(Y=!1,V=null)}}else Y=!1}var de;if(typeof N=="function")de=function(){N(G)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=G,de=function(){H.postMessage(null)}}else de=function(){_(G,0)};function ve(ne){V=ne,Y||(Y=!0,de())}function Le(ne,ye){T=_(function(){ne(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,ve(B))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var ye=3;break;default:ye=m}var Re=m;m=ye;try{return ne()}finally{m=Re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ye){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Re=m;m=ne;try{return ye()}finally{m=Re}},t.unstable_scheduleCallback=function(ne,ye,Re){var oe=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?oe+Re:oe):Re=oe,ne){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Re+E,ne={id:d++,callback:ye,priorityLevel:ne,startTime:Re,expirationTime:E,sortIndex:-1},Re>oe?(ne.sortIndex=Re,e(u,ne),r(c)===null&&ne===r(u)&&(j?(b(T),T=-1):j=!0,Le(C,Re-oe))):(ne.sortIndex=E,e(c,ne),x||f||(x=!0,ve(B))),ne},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ne){var ye=m;return function(){var Re=m;m=ye;try{return ne.apply(this,arguments)}finally{m=Re}}}})(Zb);Xb.exports=Zb;var xS=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=v,Ui=xS;function jt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,du={};function Mo(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(du[t]=e,t=0;t<e.length;t++)ey.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,wS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F1={},D1={};function SS(t){return np.call(D1,t)?!0:np.call(F1,t)?!1:wS.test(t)?D1[t]=!0:(F1[t]=!0,!1)}function jS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NS(t,e,r,n){if(e===null||typeof e>"u"||jS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function D0(t,e,r,n){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NS(e,r,i,n)&&(r=null),n||i===null?SS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fs=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),bl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ry=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),ny=Symbol.for("react.offscreen"),T1=Symbol.iterator;function Dc(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var Qr=Object.assign,Gf;function Wc(t){if(Gf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Yf=!1;function Vf(t,e){if(!t||Yf)return"";Yf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Wc(t):""}function CS(t){switch(t.tag){case 5:return Wc(t.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return t=Vf(t.type,!1),t;case 11:return t=Vf(t.type.render,!1),t;case 1:return t=Vf(t.type,!0),t;default:return""}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case bl:return"Portal";case ip:return"Profiler";case T0:return"StrictMode";case ap:return"Suspense";case sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case ty:return(t._context.displayName||"Context")+".Provider";case I0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R0:return e=t.displayName||null,e!==null?e:op(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return op(t(e))}catch{}}return null}function LS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===T0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AS(t){var e=iy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ud(t){t._valueTracker||(t._valueTracker=AS(t))}function ay(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=iy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lp(t,e){var r=e.checked;return Qr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function I1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ks(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sy(t,e){e=e.checked,e!=null&&D0(t,"checked",e,!1)}function cp(t,e){sy(t,e);var r=Ks(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?up(t,e.type,r):e.hasOwnProperty("defaultValue")&&up(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function up(t,e,r){(e!=="number"||ih(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hc=Array.isArray;function El(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ks(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(jt(91));return Qr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(jt(92));if(Hc(r)){if(1<r.length)throw Error(jt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ks(r)}}function oy(t,e){var r=Ks(e.value),n=Ks(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function B1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ly(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ly(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,cy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kS=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(t){kS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jc[e]=Jc[t]})});function uy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Jc.hasOwnProperty(t)&&Jc[t]?(""+e).trim():e+"px"}function dy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var PS=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(t,e){if(e){if(PS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(jt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(jt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(jt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(jt(62))}}function gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mp=null,Fl=null,Dl=null;function M1(t){if(t=Ou(t)){if(typeof mp!="function")throw Error(jt(280));var e=t.stateNode;e&&(e=zh(e),mp(t.stateNode,t.type,e))}}function hy(t){Fl?Dl?Dl.push(t):Dl=[t]:Fl=t}function fy(){if(Fl){var t=Fl,e=Dl;if(Dl=Fl=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function gy(t,e){return t(e)}function py(){}var Jf=!1;function my(t,e,r){if(Jf)return t(e,r);Jf=!0;try{return gy(t,e,r)}finally{Jf=!1,(Fl!==null||Dl!==null)&&(py(),fy())}}function fu(t,e){var r=t.stateNode;if(r===null)return null;var n=zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(jt(231,e,typeof r));return r}var vp=!1;if(ls)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{vp=!1}function ES(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Kc=!1,ah=null,sh=!1,bp=null,FS={onError:function(t){Kc=!0,ah=t}};function DS(t,e,r,n,i,a,o,l,c){Kc=!1,ah=null,ES.apply(FS,arguments)}function TS(t,e,r,n,i,a,o,l,c){if(DS.apply(this,arguments),Kc){if(Kc){var u=ah;Kc=!1,ah=null}else throw Error(jt(198));sh||(sh=!0,bp=u)}}function Uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U1(t){if(Uo(t)!==t)throw Error(jt(188))}function IS(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(jt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return U1(i),t;if(a===n)return U1(i),e;a=a.sibling}throw Error(jt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(jt(189))}}if(r.alternate!==n)throw Error(jt(190))}if(r.tag!==3)throw Error(jt(188));return r.stateNode.current===r?t:e}function by(t){return t=IS(t),t!==null?yy(t):null}function yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yy(t);if(e!==null)return e;t=t.sibling}return null}var xy=Ui.unstable_scheduleCallback,q1=Ui.unstable_cancelCallback,RS=Ui.unstable_shouldYield,OS=Ui.unstable_requestPaint,dn=Ui.unstable_now,BS=Ui.unstable_getCurrentPriorityLevel,B0=Ui.unstable_ImmediatePriority,_y=Ui.unstable_UserBlockingPriority,oh=Ui.unstable_NormalPriority,MS=Ui.unstable_LowPriority,wy=Ui.unstable_IdlePriority,Mh=null,Ra=null;function US(t){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Mh,t,void 0,(t.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:zS,qS=Math.log,$S=Math.LN2;function zS(t){return t>>>=0,t===0?32:31-(qS(t)/$S|0)|0}var hd=64,fd=4194304;function Gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Gc(l):(a&=o,a!==0&&(n=Gc(a)))}else o=r&~i,o!==0?n=Gc(o):a!==0&&(n=Gc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ga(e),i=1<<r,n|=t[r],e&=~i;return n}function WS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ga(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=WS(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sy(){var t=hd;return hd<<=1,!(hd&4194240)&&(hd=64),t}function Kf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Iu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ga(e),t[e]=r}function GS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ga(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function M0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ga(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pr=0;function jy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ny,U0,Cy,Ly,Ay,xp=!1,gd=[],$s=null,zs=null,Ws=null,gu=new Map,pu=new Map,Ts=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(e.pointerId)}}function Ic(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VS(t,e,r,n,i){switch(e){case"focusin":return $s=Ic($s,t,e,r,n,i),!0;case"dragenter":return zs=Ic(zs,t,e,r,n,i),!0;case"mouseover":return Ws=Ic(Ws,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return gu.set(a,Ic(gu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,pu.set(a,Ic(pu.get(a)||null,t,e,r,n,i)),!0}return!1}function ky(t){var e=No(t.target);if(e!==null){var r=Uo(e);if(r!==null){if(e=r.tag,e===13){if(e=vy(r),e!==null){t.blockedOn=e,Ay(t.priority,function(){Cy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pp=n,r.target.dispatchEvent(n),pp=null}else return e=Ou(r),e!==null&&U0(e),t.blockedOn=r,!1;e.shift()}return!0}function z1(t,e,r){$d(t)&&r.delete(e)}function JS(){xp=!1,$s!==null&&$d($s)&&($s=null),zs!==null&&$d(zs)&&(zs=null),Ws!==null&&$d(Ws)&&(Ws=null),gu.forEach(z1),pu.forEach(z1)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,JS)))}function mu(t){function e(i){return Rc(i,t)}if(0<gd.length){Rc(gd[0],t);for(var r=1;r<gd.length;r++){var n=gd[r];n.blockedOn===t&&(n.blockedOn=null)}}for($s!==null&&Rc($s,t),zs!==null&&Rc(zs,t),Ws!==null&&Rc(Ws,t),gu.forEach(e),pu.forEach(e),r=0;r<Ts.length;r++)n=Ts[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ts.length&&(r=Ts[0],r.blockedOn===null);)ky(r),r.blockedOn===null&&Ts.shift()}var Tl=fs.ReactCurrentBatchConfig,ch=!0;function KS(t,e,r,n){var i=Pr,a=Tl.transition;Tl.transition=null;try{Pr=1,q0(t,e,r,n)}finally{Pr=i,Tl.transition=a}}function QS(t,e,r,n){var i=Pr,a=Tl.transition;Tl.transition=null;try{Pr=4,q0(t,e,r,n)}finally{Pr=i,Tl.transition=a}}function q0(t,e,r,n){if(ch){var i=_p(t,e,r,n);if(i===null)sg(t,e,n,uh,r),$1(t,n);else if(VS(i,t,e,r,n))n.stopPropagation();else if($1(t,n),e&4&&-1<YS.indexOf(t)){for(;i!==null;){var a=Ou(i);if(a!==null&&Ny(a),a=_p(t,e,r,n),a===null&&sg(t,e,n,uh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else sg(t,e,n,null,r)}}var uh=null;function _p(t,e,r,n){if(uh=null,t=O0(n),t=No(t),t!==null)if(e=Uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uh=t,null}function Py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case B0:return 1;case _y:return 4;case oh:case MS:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Os=null,$0=null,zd=null;function Ey(){if(zd)return zd;var t,e=$0,r=e.length,n,i="value"in Os?Os.value:Os.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return zd=i.slice(t,1<n?1-n:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function W1(){return!1}function $i(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pd:W1,this.isPropagationStopped=W1,this}return Qr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z0=$i(tc),Ru=Qr({},tc,{view:0,detail:0}),XS=$i(Ru),Qf,Xf,Oc,Uh=Qr({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oc&&(Oc&&t.type==="mousemove"?(Qf=t.screenX-Oc.screenX,Xf=t.screenY-Oc.screenY):Xf=Qf=0,Oc=t),Qf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),H1=$i(Uh),ZS=Qr({},Uh,{dataTransfer:0}),ej=$i(ZS),tj=Qr({},Ru,{relatedTarget:0}),Zf=$i(tj),rj=Qr({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=$i(rj),ij=Qr({},tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aj=$i(ij),sj=Qr({},tc,{data:0}),G1=$i(sj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cj[t])?!!e[t]:!1}function W0(){return uj}var dj=Qr({},Ru,{key:function(t){if(t.key){var e=oj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W0,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hj=$i(dj),fj=Qr({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=$i(fj),gj=Qr({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W0}),pj=$i(gj),mj=Qr({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),vj=$i(mj),bj=Qr({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yj=$i(bj),xj=[9,13,27,32],H0=ls&&"CompositionEvent"in window,Qc=null;ls&&"documentMode"in document&&(Qc=document.documentMode);var _j=ls&&"TextEvent"in window&&!Qc,Fy=ls&&(!H0||Qc&&8<Qc&&11>=Qc),V1=" ",J1=!1;function Dy(t,e){switch(t){case"keyup":return xj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function wj(t,e){switch(t){case"compositionend":return Ty(e);case"keypress":return e.which!==32?null:(J1=!0,V1);case"textInput":return t=e.data,t===V1&&J1?null:t;default:return null}}function Sj(t,e){if(xl)return t==="compositionend"||!H0&&Dy(t,e)?(t=Ey(),zd=$0=Os=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jj[t.type]:e==="textarea"}function Iy(t,e,r,n){hy(n),e=dh(e,"onChange"),0<e.length&&(r=new z0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xc=null,vu=null;function Nj(t){Gy(t,0)}function qh(t){var e=Sl(t);if(ay(e))return t}function Cj(t,e){if(t==="change")return e}var Ry=!1;if(ls){var eg;if(ls){var tg="oninput"in document;if(!tg){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),tg=typeof Q1.oninput=="function"}eg=tg}else eg=!1;Ry=eg&&(!document.documentMode||9<document.documentMode)}function X1(){Xc&&(Xc.detachEvent("onpropertychange",Oy),vu=Xc=null)}function Oy(t){if(t.propertyName==="value"&&qh(vu)){var e=[];Iy(e,vu,t,O0(t)),my(Nj,e)}}function Lj(t,e,r){t==="focusin"?(X1(),Xc=e,vu=r,Xc.attachEvent("onpropertychange",Oy)):t==="focusout"&&X1()}function Aj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qh(vu)}function kj(t,e){if(t==="click")return qh(e)}function Pj(t,e){if(t==="input"||t==="change")return qh(e)}function Ej(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var va=typeof Object.is=="function"?Object.is:Ej;function bu(t,e){if(va(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!np.call(e,i)||!va(t[i],e[i]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e2(t,e){var r=Z1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z1(r)}}function By(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?By(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function My(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ih(t.document)}return e}function G0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fj(t){var e=My(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&By(r.ownerDocument.documentElement,r)){if(n!==null&&G0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=e2(r,a);var o=e2(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dj=ls&&"documentMode"in document&&11>=document.documentMode,_l=null,wp=null,Zc=null,Sp=!1;function t2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sp||_l==null||_l!==ih(n)||(n=_l,"selectionStart"in n&&G0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zc&&bu(Zc,n)||(Zc=n,n=dh(wp,"onSelect"),0<n.length&&(e=new z0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function md(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wl={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},rg={},Uy={};ls&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function $h(t){if(rg[t])return rg[t];if(!wl[t])return t;var e=wl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Uy)return rg[t]=e[r];return t}var qy=$h("animationend"),$y=$h("animationiteration"),zy=$h("animationstart"),Wy=$h("transitionend"),Hy=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){Hy.set(t,e),Mo(e,[t])}for(var ng=0;ng<r2.length;ng++){var ig=r2[ng],Tj=ig.toLowerCase(),Ij=ig[0].toUpperCase()+ig.slice(1);Zs(Tj,"on"+Ij)}Zs(qy,"onAnimationEnd");Zs($y,"onAnimationIteration");Zs(zy,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(Wy,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function n2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,TS(n,e,void 0,t),t.currentTarget=null}function Gy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;n2(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;n2(i,l,u),a=c}}}if(sh)throw t=bp,sh=!1,bp=null,t}function $r(t,e){var r=e[Ap];r===void 0&&(r=e[Ap]=new Set);var n=t+"__bubble";r.has(n)||(Yy(e,t,2,!1),r.add(n))}function ag(t,e,r){var n=0;e&&(n|=4),Yy(r,t,n,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[vd]){t[vd]=!0,ey.forEach(function(r){r!=="selectionchange"&&(Rj.has(r)||ag(r,!1,t),ag(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vd]||(e[vd]=!0,ag("selectionchange",!1,e))}}function Yy(t,e,r,n){switch(Py(e)){case 1:var i=KS;break;case 4:i=QS;break;default:i=q0}r=i.bind(null,e,r,t),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function sg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=No(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}my(function(){var u=a,d=O0(r),g=[];e:{var m=Hy.get(t);if(m!==void 0){var f=z0,x=t;switch(t){case"keypress":if(Wd(r)===0)break e;case"keydown":case"keyup":f=hj;break;case"focusin":x="focus",f=Zf;break;case"focusout":x="blur",f=Zf;break;case"beforeblur":case"afterblur":f=Zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=pj;break;case qy:case $y:case zy:f=nj;break;case Wy:f=vj;break;case"scroll":f=XS;break;case"wheel":f=yj;break;case"copy":case"cut":case"paste":f=aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Y1}var j=(e&4)!==0,_=!j&&t==="scroll",b=j?m!==null?m+"Capture":null:m;j=[];for(var N=u,S;N!==null;){S=N;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,b!==null&&(C=fu(N,b),C!=null&&j.push(xu(N,C,S)))),_)break;N=N.return}0<j.length&&(m=new f(m,x,null,r,d),g.push({event:m,listeners:j}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==pp&&(x=r.relatedTarget||r.fromElement)&&(No(x)||x[cs]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=u,x=x?No(x):null,x!==null&&(_=Uo(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=u),f!==x)){if(j=H1,C="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(j=Y1,C="onPointerLeave",b="onPointerEnter",N="pointer"),_=f==null?m:Sl(f),S=x==null?m:Sl(x),m=new j(C,N+"leave",f,r,d),m.target=_,m.relatedTarget=S,C=null,No(d)===u&&(j=new j(b,N+"enter",x,r,d),j.target=S,j.relatedTarget=_,C=j),_=C,f&&x)t:{for(j=f,b=x,N=0,S=j;S;S=al(S))N++;for(S=0,C=b;C;C=al(C))S++;for(;0<N-S;)j=al(j),N--;for(;0<S-N;)b=al(b),S--;for(;N--;){if(j===b||b!==null&&j===b.alternate)break t;j=al(j),b=al(b)}j=null}else j=null;f!==null&&i2(g,m,f,j,!1),x!==null&&_!==null&&i2(g,_,x,j,!0)}}e:{if(m=u?Sl(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var B=Cj;else if(K1(m))if(Ry)B=Pj;else{B=Aj;var Y=Lj}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(B=kj);if(B&&(B=B(t,u))){Iy(g,B,r,d);break e}Y&&Y(t,m,u),t==="focusout"&&(Y=m._wrapperState)&&Y.controlled&&m.type==="number"&&up(m,"number",m.value)}switch(Y=u?Sl(u):window,t){case"focusin":(K1(Y)||Y.contentEditable==="true")&&(_l=Y,wp=u,Zc=null);break;case"focusout":Zc=wp=_l=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,t2(g,r,d);break;case"selectionchange":if(Dj)break;case"keydown":case"keyup":t2(g,r,d)}var V;if(H0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xl?Dy(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Fy&&r.locale!=="ko"&&(xl||T!=="onCompositionStart"?T==="onCompositionEnd"&&xl&&(V=Ey()):(Os=d,$0="value"in Os?Os.value:Os.textContent,xl=!0)),Y=dh(u,T),0<Y.length&&(T=new G1(T,t,null,r,d),g.push({event:T,listeners:Y}),V?T.data=V:(V=Ty(r),V!==null&&(T.data=V)))),(V=_j?wj(t,r):Sj(t,r))&&(u=dh(u,"onBeforeInput"),0<u.length&&(d=new G1("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:u}),d.data=V))}Gy(g,e)})}function xu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function dh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fu(t,r),a!=null&&n.unshift(xu(t,a,i)),a=fu(t,e),a!=null&&n.push(xu(t,a,i))),t=t.return}return n}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i2(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=fu(r,a),c!=null&&o.unshift(xu(r,c,l))):i||(c=fu(r,a),c!=null&&o.push(xu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Oj=/\r\n?/g,Bj=/\u0000|\uFFFD/g;function a2(t){return(typeof t=="string"?t:""+t).replace(Oj,`
`).replace(Bj,"")}function bd(t,e,r){if(e=a2(e),a2(t)!==e&&r)throw Error(jt(425))}function hh(){}var jp=null,Np=null;function Cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,Uj=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(t){return s2.resolve(null).then(t).catch(qj)}:Lp;function qj(t){setTimeout(function(){throw t})}function og(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),mu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);mu(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rc=Math.random().toString(36).slice(2),Ta="__reactFiber$"+rc,_u="__reactProps$"+rc,cs="__reactContainer$"+rc,Ap="__reactEvents$"+rc,$j="__reactListeners$"+rc,zj="__reactHandles$"+rc;function No(t){var e=t[Ta];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cs]||r[Ta]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=o2(t);t!==null;){if(r=t[Ta])return r;t=o2(t)}return e}t=r,r=t.parentNode}return null}function Ou(t){return t=t[Ta]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(jt(33))}function zh(t){return t[_u]||null}var kp=[],jl=-1;function eo(t){return{current:t}}function Wr(t){0>jl||(t.current=kp[jl],kp[jl]=null,jl--)}function Mr(t,e){jl++,kp[jl]=t.current,t.current=e}var Qs={},ei=eo(Qs),_i=eo(!1),Fo=Qs;function zl(t,e){var r=t.type.contextTypes;if(!r)return Qs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wi(t){return t=t.childContextTypes,t!=null}function fh(){Wr(_i),Wr(ei)}function l2(t,e,r){if(ei.current!==Qs)throw Error(jt(168));Mr(ei,e),Mr(_i,r)}function Vy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(jt(108,LS(t)||"Unknown",i));return Qr({},r,n)}function gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Fo=ei.current,Mr(ei,t),Mr(_i,_i.current),!0}function c2(t,e,r){var n=t.stateNode;if(!n)throw Error(jt(169));r?(t=Vy(t,e,Fo),n.__reactInternalMemoizedMergedChildContext=t,Wr(_i),Wr(ei),Mr(ei,t)):Wr(_i),Mr(_i,r)}var rs=null,Wh=!1,lg=!1;function Jy(t){rs===null?rs=[t]:rs.push(t)}function Wj(t){Wh=!0,Jy(t)}function to(){if(!lg&&rs!==null){lg=!0;var t=0,e=Pr;try{var r=rs;for(Pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}rs=null,Wh=!1}catch(i){throw rs!==null&&(rs=rs.slice(t+1)),xy(B0,to),i}finally{Pr=e,lg=!1}}return null}var Nl=[],Cl=0,ph=null,mh=0,Yi=[],Vi=0,Do=null,is=1,as="";function yo(t,e){Nl[Cl++]=mh,Nl[Cl++]=ph,ph=t,mh=e}function Ky(t,e,r){Yi[Vi++]=is,Yi[Vi++]=as,Yi[Vi++]=Do,Do=t;var n=is;t=as;var i=32-ga(n)-1;n&=~(1<<i),r+=1;var a=32-ga(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,is=1<<32-ga(e)+i|r<<i|n,as=a+t}else is=1<<a|r<<i|n,as=t}function Y0(t){t.return!==null&&(yo(t,1),Ky(t,1,0))}function V0(t){for(;t===ph;)ph=Nl[--Cl],Nl[Cl]=null,mh=Nl[--Cl],Nl[Cl]=null;for(;t===Do;)Do=Yi[--Vi],Yi[Vi]=null,as=Yi[--Vi],Yi[Vi]=null,is=Yi[--Vi],Yi[Vi]=null}var Bi=null,Ri=null,Gr=!1,fa=null;function Qy(t,e){var r=Ji(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function u2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bi=t,Ri=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bi=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Do!==null?{id:is,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ji(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bi=t,Ri=null,!0):!1;default:return!1}}function Pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ep(t){if(Gr){var e=Ri;if(e){var r=e;if(!u2(t,e)){if(Pp(t))throw Error(jt(418));e=Hs(r.nextSibling);var n=Bi;e&&u2(t,e)?Qy(n,r):(t.flags=t.flags&-4097|2,Gr=!1,Bi=t)}}else{if(Pp(t))throw Error(jt(418));t.flags=t.flags&-4097|2,Gr=!1,Bi=t}}}function d2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bi=t}function yd(t){if(t!==Bi)return!1;if(!Gr)return d2(t),Gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cp(t.type,t.memoizedProps)),e&&(e=Ri)){if(Pp(t))throw Xy(),Error(jt(418));for(;e;)Qy(t,e),e=Hs(e.nextSibling)}if(d2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(jt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ri=Hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Bi?Hs(t.stateNode.nextSibling):null;return!0}function Xy(){for(var t=Ri;t;)t=Hs(t.nextSibling)}function Wl(){Ri=Bi=null,Gr=!1}function J0(t){fa===null?fa=[t]:fa.push(t)}var Hj=fs.ReactCurrentBatchConfig;function Bc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(jt(309));var n=r.stateNode}if(!n)throw Error(jt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(jt(284));if(!r._owner)throw Error(jt(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(jt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h2(t){var e=t._init;return e(t._payload)}function Zy(t){function e(b,N){if(t){var S=b.deletions;S===null?(b.deletions=[N],b.flags|=16):S.push(N)}}function r(b,N){if(!t)return null;for(;N!==null;)e(b,N),N=N.sibling;return null}function n(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function i(b,N){return b=Js(b,N),b.index=0,b.sibling=null,b}function a(b,N,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<N?(b.flags|=2,N):S):(b.flags|=2,N)):(b.flags|=1048576,N)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,N,S,C){return N===null||N.tag!==6?(N=pg(S,b.mode,C),N.return=b,N):(N=i(N,S),N.return=b,N)}function c(b,N,S,C){var B=S.type;return B===yl?d(b,N,S.props.children,C,S.key):N!==null&&(N.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&h2(B)===N.type)?(C=i(N,S.props),C.ref=Bc(b,N,S),C.return=b,C):(C=Qd(S.type,S.key,S.props,null,b.mode,C),C.ref=Bc(b,N,S),C.return=b,C)}function u(b,N,S,C){return N===null||N.tag!==4||N.stateNode.containerInfo!==S.containerInfo||N.stateNode.implementation!==S.implementation?(N=mg(S,b.mode,C),N.return=b,N):(N=i(N,S.children||[]),N.return=b,N)}function d(b,N,S,C,B){return N===null||N.tag!==7?(N=ko(S,b.mode,C,B),N.return=b,N):(N=i(N,S),N.return=b,N)}function g(b,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return N=pg(""+N,b.mode,S),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cd:return S=Qd(N.type,N.key,N.props,null,b.mode,S),S.ref=Bc(b,null,N),S.return=b,S;case bl:return N=mg(N,b.mode,S),N.return=b,N;case Fs:var C=N._init;return g(b,C(N._payload),S)}if(Hc(N)||Dc(N))return N=ko(N,b.mode,S,null),N.return=b,N;xd(b,N)}return null}function m(b,N,S,C){var B=N!==null?N.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return B!==null?null:l(b,N,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cd:return S.key===B?c(b,N,S,C):null;case bl:return S.key===B?u(b,N,S,C):null;case Fs:return B=S._init,m(b,N,B(S._payload),C)}if(Hc(S)||Dc(S))return B!==null?null:d(b,N,S,C,null);xd(b,S)}return null}function f(b,N,S,C,B){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(S)||null,l(N,b,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case cd:return b=b.get(C.key===null?S:C.key)||null,c(N,b,C,B);case bl:return b=b.get(C.key===null?S:C.key)||null,u(N,b,C,B);case Fs:var Y=C._init;return f(b,N,S,Y(C._payload),B)}if(Hc(C)||Dc(C))return b=b.get(S)||null,d(N,b,C,B,null);xd(N,C)}return null}function x(b,N,S,C){for(var B=null,Y=null,V=N,T=N=0,$=null;V!==null&&T<S.length;T++){V.index>T?($=V,V=null):$=V.sibling;var Z=m(b,V,S[T],C);if(Z===null){V===null&&(V=$);break}t&&V&&Z.alternate===null&&e(b,V),N=a(Z,N,T),Y===null?B=Z:Y.sibling=Z,Y=Z,V=$}if(T===S.length)return r(b,V),Gr&&yo(b,T),B;if(V===null){for(;T<S.length;T++)V=g(b,S[T],C),V!==null&&(N=a(V,N,T),Y===null?B=V:Y.sibling=V,Y=V);return Gr&&yo(b,T),B}for(V=n(b,V);T<S.length;T++)$=f(V,b,T,S[T],C),$!==null&&(t&&$.alternate!==null&&V.delete($.key===null?T:$.key),N=a($,N,T),Y===null?B=$:Y.sibling=$,Y=$);return t&&V.forEach(function(I){return e(b,I)}),Gr&&yo(b,T),B}function j(b,N,S,C){var B=Dc(S);if(typeof B!="function")throw Error(jt(150));if(S=B.call(S),S==null)throw Error(jt(151));for(var Y=B=null,V=N,T=N=0,$=null,Z=S.next();V!==null&&!Z.done;T++,Z=S.next()){V.index>T?($=V,V=null):$=V.sibling;var I=m(b,V,Z.value,C);if(I===null){V===null&&(V=$);break}t&&V&&I.alternate===null&&e(b,V),N=a(I,N,T),Y===null?B=I:Y.sibling=I,Y=I,V=$}if(Z.done)return r(b,V),Gr&&yo(b,T),B;if(V===null){for(;!Z.done;T++,Z=S.next())Z=g(b,Z.value,C),Z!==null&&(N=a(Z,N,T),Y===null?B=Z:Y.sibling=Z,Y=Z);return Gr&&yo(b,T),B}for(V=n(b,V);!Z.done;T++,Z=S.next())Z=f(V,b,T,Z.value,C),Z!==null&&(t&&Z.alternate!==null&&V.delete(Z.key===null?T:Z.key),N=a(Z,N,T),Y===null?B=Z:Y.sibling=Z,Y=Z);return t&&V.forEach(function(G){return e(b,G)}),Gr&&yo(b,T),B}function _(b,N,S,C){if(typeof S=="object"&&S!==null&&S.type===yl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case cd:e:{for(var B=S.key,Y=N;Y!==null;){if(Y.key===B){if(B=S.type,B===yl){if(Y.tag===7){r(b,Y.sibling),N=i(Y,S.props.children),N.return=b,b=N;break e}}else if(Y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&h2(B)===Y.type){r(b,Y.sibling),N=i(Y,S.props),N.ref=Bc(b,Y,S),N.return=b,b=N;break e}r(b,Y);break}else e(b,Y);Y=Y.sibling}S.type===yl?(N=ko(S.props.children,b.mode,C,S.key),N.return=b,b=N):(C=Qd(S.type,S.key,S.props,null,b.mode,C),C.ref=Bc(b,N,S),C.return=b,b=C)}return o(b);case bl:e:{for(Y=S.key;N!==null;){if(N.key===Y)if(N.tag===4&&N.stateNode.containerInfo===S.containerInfo&&N.stateNode.implementation===S.implementation){r(b,N.sibling),N=i(N,S.children||[]),N.return=b,b=N;break e}else{r(b,N);break}else e(b,N);N=N.sibling}N=mg(S,b.mode,C),N.return=b,b=N}return o(b);case Fs:return Y=S._init,_(b,N,Y(S._payload),C)}if(Hc(S))return x(b,N,S,C);if(Dc(S))return j(b,N,S,C);xd(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,N!==null&&N.tag===6?(r(b,N.sibling),N=i(N,S),N.return=b,b=N):(r(b,N),N=pg(S,b.mode,C),N.return=b,b=N),o(b)):r(b,N)}return _}var Hl=Zy(!0),e5=Zy(!1),vh=eo(null),bh=null,Ll=null,K0=null;function Q0(){K0=Ll=bh=null}function X0(t){var e=vh.current;Wr(vh),t._currentValue=e}function Fp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Il(t,e){bh=t,K0=Ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xi=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(K0!==t)if(t={context:t,memoizedValue:e,next:null},Ll===null){if(bh===null)throw Error(jt(308));Ll=t,bh.dependencies={lanes:0,firstContext:t}}else Ll=Ll.next=t;return e}var Co=null;function Z0(t){Co===null?Co=[t]:Co.push(t)}function t5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Z0(e)):(r.next=i.next,i.next=r),e.interleaved=r,us(t,n)}function us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Sr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,us(t,r)}return i=n.interleaved,i===null?(e.next=e,Z0(n)):(e.next=i.next,i.next=e),n.interleaved=e,us(t,r)}function Hd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M0(t,r)}}function f2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yh(t,e,r,n){var i=t.updateQueue;Ds=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,j=l;switch(m=e,f=r,j.tag){case 1:if(x=j.payload,typeof x=="function"){g=x.call(f,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,m=typeof x=="function"?x.call(f,g,m):x,m==null)break e;g=Qr({},g,m);break e;case 2:Ds=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=g):d=d.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=g}}function g2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(jt(191,i));i.call(n)}}}var Bu={},Oa=eo(Bu),wu=eo(Bu),Su=eo(Bu);function Lo(t){if(t===Bu)throw Error(jt(174));return t}function tm(t,e){switch(Mr(Su,e),Mr(wu,t),Mr(Oa,Bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hp(e,t)}Wr(Oa),Mr(Oa,e)}function Gl(){Wr(Oa),Wr(wu),Wr(Su)}function n5(t){Lo(Su.current);var e=Lo(Oa.current),r=hp(e,t.type);e!==r&&(Mr(wu,t),Mr(Oa,r))}function rm(t){wu.current===t&&(Wr(Oa),Wr(wu))}var Jr=eo(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cg=[];function nm(){for(var t=0;t<cg.length;t++)cg[t]._workInProgressVersionPrimary=null;cg.length=0}var Gd=fs.ReactCurrentDispatcher,ug=fs.ReactCurrentBatchConfig,To=0,Kr=null,Cn=null,Fn=null,_h=!1,eu=!1,ju=0,Gj=0;function Hn(){throw Error(jt(321))}function im(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!va(t[r],e[r]))return!1;return!0}function am(t,e,r,n,i,a){if(To=a,Kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gd.current=t===null||t.memoizedState===null?Kj:Qj,t=r(n,i),eu){a=0;do{if(eu=!1,ju=0,25<=a)throw Error(jt(301));a+=1,Fn=Cn=null,e.updateQueue=null,Gd.current=Xj,t=r(n,i)}while(eu)}if(Gd.current=wh,e=Cn!==null&&Cn.next!==null,To=0,Fn=Cn=Kr=null,_h=!1,e)throw Error(jt(300));return t}function sm(){var t=ju!==0;return ju=0,t}function Fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Kr.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function Xi(){if(Cn===null){var t=Kr.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=Fn===null?Kr.memoizedState:Fn.next;if(e!==null)Fn=e,Cn=t;else{if(t===null)throw Error(jt(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Fn===null?Kr.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Nu(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=Xi(),r=e.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=t;var n=Cn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((To&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=n):c=c.next=g,Kr.lanes|=d,Io|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,va(n,e.memoizedState)||(xi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Kr.lanes|=a,Io|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hg(t){var e=Xi(),r=e.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);va(a,e.memoizedState)||(xi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function i5(){}function a5(t,e){var r=Kr,n=Xi(),i=e(),a=!va(n.memoizedState,i);if(a&&(n.memoizedState=i,xi=!0),n=n.queue,om(l5.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,Cu(9,o5.bind(null,r,n,i,e),void 0,null),In===null)throw Error(jt(349));To&30||s5(r,e,i)}return i}function s5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function o5(t,e,r,n){e.value=r,e.getSnapshot=n,c5(e)&&u5(t)}function l5(t,e,r){return r(function(){c5(e)&&u5(t)})}function c5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!va(t,r)}catch{return!0}}function u5(t){var e=us(t,1);e!==null&&pa(e,t,1,-1)}function p2(t){var e=Fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=Jj.bind(null,Kr,t),[e.memoizedState,t]}function Cu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function d5(){return Xi().memoizedState}function Yd(t,e,r,n){var i=Fa();Kr.flags|=t,i.memoizedState=Cu(1|e,r,void 0,n===void 0?null:n)}function Hh(t,e,r,n){var i=Xi();n=n===void 0?null:n;var a=void 0;if(Cn!==null){var o=Cn.memoizedState;if(a=o.destroy,n!==null&&im(n,o.deps)){i.memoizedState=Cu(e,r,a,n);return}}Kr.flags|=t,i.memoizedState=Cu(1|e,r,a,n)}function m2(t,e){return Yd(8390656,8,t,e)}function om(t,e){return Hh(2048,8,t,e)}function h5(t,e){return Hh(4,2,t,e)}function f5(t,e){return Hh(4,4,t,e)}function g5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p5(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4,4,g5.bind(null,e,t),r)}function lm(){}function m5(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&im(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v5(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&im(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function b5(t,e,r){return To&21?(va(r,e)||(r=Sy(),Kr.lanes|=r,Io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xi=!0),t.memoizedState=r)}function Yj(t,e){var r=Pr;Pr=r!==0&&4>r?r:4,t(!0);var n=ug.transition;ug.transition={};try{t(!1),e()}finally{Pr=r,ug.transition=n}}function y5(){return Xi().memoizedState}function Vj(t,e,r){var n=Vs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x5(t))_5(e,r);else if(r=t5(t,e,r,n),r!==null){var i=ci();pa(r,t,n,i),w5(r,e,n)}}function Jj(t,e,r){var n=Vs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x5(t))_5(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,va(l,o)){var c=e.interleaved;c===null?(i.next=i,Z0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=t5(t,e,i,n),r!==null&&(i=ci(),pa(r,t,n,i),w5(r,e,n))}}function x5(t){var e=t.alternate;return t===Kr||e!==null&&e===Kr}function _5(t,e){eu=_h=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function w5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M0(t,r)}}var wh={readContext:Qi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},Kj={readContext:Qi,useCallback:function(t,e){return Fa().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:m2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yd(4194308,4,g5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var r=Fa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Vj.bind(null,Kr,t),[n.memoizedState,t]},useRef:function(t){var e=Fa();return t={current:t},e.memoizedState=t},useState:p2,useDebugValue:lm,useDeferredValue:function(t){return Fa().memoizedState=t},useTransition:function(){var t=p2(!1),e=t[0];return t=Yj.bind(null,t[1]),Fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kr,i=Fa();if(Gr){if(r===void 0)throw Error(jt(407));r=r()}else{if(r=e(),In===null)throw Error(jt(349));To&30||s5(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,m2(l5.bind(null,n,a,t),[t]),n.flags|=2048,Cu(9,o5.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Fa(),e=In.identifierPrefix;if(Gr){var r=as,n=is;r=(n&~(1<<32-ga(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ju++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Gj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qj={readContext:Qi,useCallback:m5,useContext:Qi,useEffect:om,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:v5,useReducer:dg,useRef:d5,useState:function(){return dg(Nu)},useDebugValue:lm,useDeferredValue:function(t){var e=Xi();return b5(e,Cn.memoizedState,t)},useTransition:function(){var t=dg(Nu)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:i5,useSyncExternalStore:a5,useId:y5,unstable_isNewReconciler:!1},Xj={readContext:Qi,useCallback:m5,useContext:Qi,useEffect:om,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:v5,useReducer:hg,useRef:d5,useState:function(){return hg(Nu)},useDebugValue:lm,useDeferredValue:function(t){var e=Xi();return Cn===null?e.memoizedState=t:b5(e,Cn.memoizedState,t)},useTransition:function(){var t=hg(Nu)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:i5,useSyncExternalStore:a5,useId:y5,unstable_isNewReconciler:!1};function ua(t,e){if(t&&t.defaultProps){e=Qr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Dp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gh={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Vs(t),a=os(n,i);a.payload=e,r!=null&&(a.callback=r),e=Gs(t,a,i),e!==null&&(pa(e,t,i,n),Hd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Vs(t),a=os(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Gs(t,a,i),e!==null&&(pa(e,t,i,n),Hd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ci(),n=Vs(t),i=os(r,n);i.tag=2,e!=null&&(i.callback=e),e=Gs(t,i,n),e!==null&&(pa(e,t,n,r),Hd(e,t,n))}};function v2(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!bu(r,n)||!bu(i,a):!0}function S5(t,e,r){var n=!1,i=Qs,a=e.contextType;return typeof a=="object"&&a!==null?a=Qi(a):(i=wi(e)?Fo:ei.current,n=e.contextTypes,a=(n=n!=null)?zl(t,i):Qs),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function b2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function Tp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},em(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qi(a):(a=wi(e)?Fo:ei.current,i.context=zl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Dp(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gh.enqueueReplaceState(i,i.state,null),yh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var r="",n=e;do r+=CS(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function fg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Zj=typeof WeakMap=="function"?WeakMap:Map;function j5(t,e,r){r=os(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jh||(jh=!0,Hp=n),Ip(t,e)},r}function N5(t,e,r){r=os(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ip(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ip(t,e),typeof n!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function y2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Zj;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=f4.bind(null,t,e,r),e.then(t,t))}function x2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=os(-1,1),e.tag=2,Gs(r,e,1))),r.lanes|=1),t)}var e4=fs.ReactCurrentOwner,xi=!1;function li(t,e,r,n){e.child=t===null?e5(e,null,r,n):Hl(e,t.child,r,n)}function w2(t,e,r,n,i){r=r.render;var a=e.ref;return Il(e,i),n=am(t,e,r,n,a,i),r=sm(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Gr&&r&&Y0(e),e.flags|=1,li(t,e,n,i),e.child)}function S2(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!mm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,C5(t,e,a,n,i)):(t=Qd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:bu,r(o,n)&&t.ref===e.ref)return ds(t,e,i)}return e.flags|=1,t=Js(a,n),t.ref=e.ref,t.return=e,e.child=t}function C5(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(bu(a,n)&&t.ref===e.ref)if(xi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(xi=!0);else return e.lanes=t.lanes,ds(t,e,i)}return Rp(t,e,r,n,i)}function L5(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(kl,Ii),Ii|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mr(kl,Ii),Ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Mr(kl,Ii),Ii|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Mr(kl,Ii),Ii|=n;return li(t,e,i,r),e.child}function A5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,r,n,i){var a=wi(r)?Fo:ei.current;return a=zl(e,a),Il(e,i),r=am(t,e,r,n,a,i),n=sm(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Gr&&n&&Y0(e),e.flags|=1,li(t,e,r,i),e.child)}function j2(t,e,r,n,i){if(wi(r)){var a=!0;gh(e)}else a=!1;if(Il(e,i),e.stateNode===null)Vd(t,e),S5(e,r,n),Tp(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qi(u):(u=wi(r)?Fo:ei.current,u=zl(e,u));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&b2(e,o,n,u),Ds=!1;var m=e.memoizedState;o.state=m,yh(e,n,o,i),c=e.memoizedState,l!==n||m!==c||_i.current||Ds?(typeof d=="function"&&(Dp(e,r,d,n),c=e.memoizedState),(l=Ds||v2(e,r,l,n,m,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,r5(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ua(e.type,l),o.props=u,g=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qi(c):(c=wi(r)?Fo:ei.current,c=zl(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==c)&&b2(e,o,n,c),Ds=!1,m=e.memoizedState,o.state=m,yh(e,n,o,i);var x=e.memoizedState;l!==g||m!==x||_i.current||Ds?(typeof f=="function"&&(Dp(e,r,f,n),x=e.memoizedState),(u=Ds||v2(e,r,u,n,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Op(t,e,r,n,a,i)}function Op(t,e,r,n,i,a){A5(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&c2(e,r,!1),ds(t,e,a);n=e.stateNode,e4.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Hl(e,t.child,null,a),e.child=Hl(e,null,l,a)):li(t,e,l,a),e.memoizedState=n.state,i&&c2(e,r,!0),e.child}function k5(t){var e=t.stateNode;e.pendingContext?l2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l2(t,e.context,!1),tm(t,e.containerInfo)}function N2(t,e,r,n,i){return Wl(),J0(i),e.flags|=256,li(t,e,r,n),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function P5(t,e,r){var n=e.pendingProps,i=Jr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mr(Jr,i&1),t===null)return Ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jh(o,n,0,null),t=ko(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Mp(r),e.memoizedState=Bp,t):cm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return t4(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Js(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Js(l,a):(a=ko(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Mp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Bp,n}return a=t.child,t=a.sibling,n=Js(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cm(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _d(t,e,r,n){return n!==null&&J0(n),Hl(e,t.child,null,r),t=cm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t4(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=fg(Error(jt(422))),_d(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Jh({mode:"visible",children:n.children},i,0,null),a=ko(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Hl(e,t.child,null,o),e.child.memoizedState=Mp(o),e.memoizedState=Bp,a);if(!(e.mode&1))return _d(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(jt(419)),n=fg(a,n,void 0),_d(t,e,o,n)}if(l=(o&t.childLanes)!==0,xi||l){if(n=In,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,us(t,i),pa(n,t,i,-1))}return pm(),n=fg(Error(jt(421))),_d(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ri=Hs(i.nextSibling),Bi=e,Gr=!0,fa=null,t!==null&&(Yi[Vi++]=is,Yi[Vi++]=as,Yi[Vi++]=Do,is=t.id,as=t.overflow,Do=e),e=cm(e,n.children),e.flags|=4096,e)}function C2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fp(t.return,e,r)}function gg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function E5(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(li(t,e,n.children,r),n=Jr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C2(t,r,e);else if(t.tag===19)C2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mr(Jr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&xh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),gg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}gg(e,!0,r,null,a);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(jt(153));if(e.child!==null){for(t=e.child,r=Js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function r4(t,e,r){switch(e.tag){case 3:k5(e),Wl();break;case 5:n5(e);break;case 1:wi(e.type)&&gh(e);break;case 4:tm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Mr(vh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mr(Jr,Jr.current&1),e.flags|=128,null):r&e.child.childLanes?P5(t,e,r):(Mr(Jr,Jr.current&1),t=ds(t,e,r),t!==null?t.sibling:null);Mr(Jr,Jr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return E5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mr(Jr,Jr.current),n)break;return null;case 22:case 23:return e.lanes=0,L5(t,e,r)}return ds(t,e,r)}var F5,Up,D5,T5;F5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Up=function(){};D5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Lo(Oa.current);var a=null;switch(r){case"input":i=lp(t,i),n=lp(t,n),a=[];break;case"select":i=Qr({},i,{value:void 0}),n=Qr({},n,{value:void 0}),a=[];break;case"textarea":i=dp(t,i),n=dp(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hh)}fp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(du.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(du.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$r("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};T5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mc(t,e){if(!Gr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function n4(t,e,r){var n=e.pendingProps;switch(V0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return wi(e.type)&&fh(),Gn(e),null;case 3:return n=e.stateNode,Gl(),Wr(_i),Wr(ei),nm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fa!==null&&(Vp(fa),fa=null))),Up(t,e),Gn(e),null;case 5:rm(e);var i=Lo(Su.current);if(r=e.type,t!==null&&e.stateNode!=null)D5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(jt(166));return Gn(e),null}if(t=Lo(Oa.current),yd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ta]=e,n[_u]=a,t=(e.mode&1)!==0,r){case"dialog":$r("cancel",n),$r("close",n);break;case"iframe":case"object":case"embed":$r("load",n);break;case"video":case"audio":for(i=0;i<Yc.length;i++)$r(Yc[i],n);break;case"source":$r("error",n);break;case"img":case"image":case"link":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"input":I1(n,a),$r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$r("invalid",n);break;case"textarea":O1(n,a),$r("invalid",n)}fp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,l,t),i=["children",""+l]):du.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$r("scroll",n)}switch(r){case"input":ud(n),R1(n,a,!0);break;case"textarea":ud(n),B1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ly(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ta]=e,t[_u]=n,F5(t,e,!1,!1),e.stateNode=t;e:{switch(o=gp(r,n),r){case"dialog":$r("cancel",t),$r("close",t),i=n;break;case"iframe":case"object":case"embed":$r("load",t),i=n;break;case"video":case"audio":for(i=0;i<Yc.length;i++)$r(Yc[i],t);i=n;break;case"source":$r("error",t),i=n;break;case"img":case"image":case"link":$r("error",t),$r("load",t),i=n;break;case"details":$r("toggle",t),i=n;break;case"input":I1(t,n),i=lp(t,n),$r("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qr({},n,{value:void 0}),$r("invalid",t);break;case"textarea":O1(t,n),i=dp(t,n),$r("invalid",t);break;default:i=n}fp(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?dy(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cy(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hu(t,c):typeof c=="number"&&hu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(du.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$r("scroll",t):c!=null&&D0(t,a,c,o))}switch(r){case"input":ud(t),R1(t,n,!1);break;case"textarea":ud(t),B1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ks(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?El(t,!!n.multiple,a,!1):n.defaultValue!=null&&El(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)T5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(jt(166));if(r=Lo(Su.current),Lo(Oa.current),yd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ta]=e,(a=n.nodeValue!==r)&&(t=Bi,t!==null))switch(t.tag){case 3:bd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=e,e.stateNode=n}return Gn(e),null;case 13:if(Wr(Jr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gr&&Ri!==null&&e.mode&1&&!(e.flags&128))Xy(),Wl(),e.flags|=98560,a=!1;else if(a=yd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(jt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(jt(317));a[Ta]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),a=!1}else fa!==null&&(Vp(fa),fa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jr.current&1?Ln===0&&(Ln=3):pm())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return Gl(),Up(t,e),t===null&&yu(e.stateNode.containerInfo),Gn(e),null;case 10:return X0(e.type._context),Gn(e),null;case 17:return wi(e.type)&&fh(),Gn(e),null;case 19:if(Wr(Jr),a=e.memoizedState,a===null)return Gn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Mc(a,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,Mc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mr(Jr,Jr.current&1|2),e.child}t=t.sibling}a.tail!==null&&dn()>Vl&&(e.flags|=128,n=!0,Mc(a,!1),e.lanes=4194304)}else{if(!n)if(t=xh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gr)return Gn(e),null}else 2*dn()-a.renderingStartTime>Vl&&r!==1073741824&&(e.flags|=128,n=!0,Mc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,r=Jr.current,Mr(Jr,n?r&1|2:r&1),e):(Gn(e),null);case 22:case 23:return gm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ii&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(jt(156,e.tag))}function i4(t,e){switch(V0(e),e.tag){case 1:return wi(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gl(),Wr(_i),Wr(ei),nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(Wr(Jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(jt(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wr(Jr),null;case 4:return Gl(),null;case 10:return X0(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var wd=!1,Qn=!1,a4=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tn(t,e,n)}else r.current=null}function qp(t,e,r){try{r()}catch(n){tn(t,e,n)}}var L2=!1;function s4(t,e){if(jp=ch,t=My(),G0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,g=t,m=null;t:for(;;){for(var f;g!==r||i!==0&&g.nodeType!==3||(l=o+i),g!==a||n!==0&&g.nodeType!==3||(c=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(f=g.firstChild)!==null;)m=g,g=f;for(;;){if(g===t)break t;if(m===r&&++u===i&&(l=o),m===a&&++d===n&&(c=o),(f=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Np={focusedElem:t,selectionRange:r},ch=!1,$t=e;$t!==null;)if(e=$t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$t=t;else for(;$t!==null;){e=$t;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,_=x.memoizedState,b=e.stateNode,N=b.getSnapshotBeforeUpdate(e.elementType===e.type?j:ua(e.type,j),_);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(jt(163))}}catch(C){tn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$t=t;break}$t=e.return}return x=L2,L2=!1,x}function tu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qp(e,r,a)}i=i.next}while(i!==n)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $p(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function I5(t){var e=t.alternate;e!==null&&(t.alternate=null,I5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ta],delete e[_u],delete e[Ap],delete e[$j],delete e[zj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R5(t){return t.tag===5||t.tag===3||t.tag===4}function A2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hh));else if(n!==4&&(t=t.child,t!==null))for(zp(t,e,r),t=t.sibling;t!==null;)zp(t,e,r),t=t.sibling}function Wp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wp(t,e,r),t=t.sibling;t!==null;)Wp(t,e,r),t=t.sibling}var qn=null,da=!1;function Ls(t,e,r){for(r=r.child;r!==null;)O5(t,e,r),r=r.sibling}function O5(t,e,r){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Mh,r)}catch{}switch(r.tag){case 5:Qn||Al(r,e);case 6:var n=qn,i=da;qn=null,Ls(t,e,r),qn=n,da=i,qn!==null&&(da?(t=qn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qn.removeChild(r.stateNode));break;case 18:qn!==null&&(da?(t=qn,r=r.stateNode,t.nodeType===8?og(t.parentNode,r):t.nodeType===1&&og(t,r),mu(t)):og(qn,r.stateNode));break;case 4:n=qn,i=da,qn=r.stateNode.containerInfo,da=!0,Ls(t,e,r),qn=n,da=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&qp(r,e,o),i=i.next}while(i!==n)}Ls(t,e,r);break;case 1:if(!Qn&&(Al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){tn(r,e,l)}Ls(t,e,r);break;case 21:Ls(t,e,r);break;case 22:r.mode&1?(Qn=(n=Qn)||r.memoizedState!==null,Ls(t,e,r),Qn=n):Ls(t,e,r);break;default:Ls(t,e,r)}}function k2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new a4),e.forEach(function(n){var i=p4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,da=!1;break e;case 3:qn=l.stateNode.containerInfo,da=!0;break e;case 4:qn=l.stateNode.containerInfo,da=!0;break e}l=l.return}if(qn===null)throw Error(jt(160));O5(a,o,i),qn=null,da=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B5(e,t),e=e.sibling}function B5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),ka(t),n&4){try{tu(3,t,t.return),Yh(3,t)}catch(j){tn(t,t.return,j)}try{tu(5,t,t.return)}catch(j){tn(t,t.return,j)}}break;case 1:oa(e,t),ka(t),n&512&&r!==null&&Al(r,r.return);break;case 5:if(oa(e,t),ka(t),n&512&&r!==null&&Al(r,r.return),t.flags&32){var i=t.stateNode;try{hu(i,"")}catch(j){tn(t,t.return,j)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sy(i,a),gp(l,o);var u=gp(l,a);for(o=0;o<c.length;o+=2){var d=c[o],g=c[o+1];d==="style"?dy(i,g):d==="dangerouslySetInnerHTML"?cy(i,g):d==="children"?hu(i,g):D0(i,d,g,u)}switch(l){case"input":cp(i,a);break;case"textarea":oy(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?El(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?El(i,!!a.multiple,a.defaultValue,!0):El(i,!!a.multiple,a.multiple?[]:"",!1))}i[_u]=a}catch(j){tn(t,t.return,j)}}break;case 6:if(oa(e,t),ka(t),n&4){if(t.stateNode===null)throw Error(jt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(j){tn(t,t.return,j)}}break;case 3:if(oa(e,t),ka(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mu(e.containerInfo)}catch(j){tn(t,t.return,j)}break;case 4:oa(e,t),ka(t);break;case 13:oa(e,t),ka(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hm=dn())),n&4&&k2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Qn=(u=Qn)||d,oa(e,t),Qn=u):oa(e,t),ka(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($t=t,d=t.child;d!==null;){for(g=$t=d;$t!==null;){switch(m=$t,f=m.child,m.tag){case 0:case 11:case 14:case 15:tu(4,m,m.return);break;case 1:Al(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(j){tn(n,r,j)}}break;case 5:Al(m,m.return);break;case 22:if(m.memoizedState!==null){E2(g);continue}}f!==null?(f.return=m,$t=f):E2(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uy("display",o))}catch(j){tn(t,t.return,j)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(j){tn(t,t.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:oa(e,t),ka(t),n&4&&k2(t);break;case 21:break;default:oa(e,t),ka(t)}}function ka(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(R5(r)){var n=r;break e}r=r.return}throw Error(jt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hu(i,""),n.flags&=-33);var a=A2(t);Wp(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=A2(t);zp(t,l,o);break;default:throw Error(jt(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o4(t,e,r){$t=t,M5(t)}function M5(t,e,r){for(var n=(t.mode&1)!==0;$t!==null;){var i=$t,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||wd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Qn;l=wd;var u=Qn;if(wd=o,(Qn=c)&&!u)for($t=i;$t!==null;)o=$t,c=o.child,o.tag===22&&o.memoizedState!==null?F2(i):c!==null?(c.return=o,$t=c):F2(i);for(;a!==null;)$t=a,M5(a),a=a.sibling;$t=i,wd=l,Qn=u}P2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$t=a):P2(t)}}function P2(t){for(;$t!==null;){var e=$t;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||Yh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ua(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&g2(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}g2(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&mu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(jt(163))}Qn||e.flags&512&&$p(e)}catch(m){tn(e,e.return,m)}}if(e===t){$t=null;break}if(r=e.sibling,r!==null){r.return=e.return,$t=r;break}$t=e.return}}function E2(t){for(;$t!==null;){var e=$t;if(e===t){$t=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$t=r;break}$t=e.return}}function F2(t){for(;$t!==null;){var e=$t;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yh(4,e)}catch(c){tn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){tn(e,i,c)}}var a=e.return;try{$p(e)}catch(c){tn(e,a,c)}break;case 5:var o=e.return;try{$p(e)}catch(c){tn(e,o,c)}}}catch(c){tn(e,e.return,c)}if(e===t){$t=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$t=l;break}$t=e.return}}var l4=Math.ceil,Sh=fs.ReactCurrentDispatcher,um=fs.ReactCurrentOwner,Ki=fs.ReactCurrentBatchConfig,Sr=0,In=null,bn=null,$n=0,Ii=0,kl=eo(0),Ln=0,Lu=null,Io=0,Vh=0,dm=0,ru=null,bi=null,hm=0,Vl=1/0,es=null,jh=!1,Hp=null,Ys=null,Sd=!1,Bs=null,Nh=0,nu=0,Gp=null,Jd=-1,Kd=0;function ci(){return Sr&6?dn():Jd!==-1?Jd:Jd=dn()}function Vs(t){return t.mode&1?Sr&2&&$n!==0?$n&-$n:Hj.transition!==null?(Kd===0&&(Kd=Sy()),Kd):(t=Pr,t!==0||(t=window.event,t=t===void 0?16:Py(t.type)),t):1}function pa(t,e,r,n){if(50<nu)throw nu=0,Gp=null,Error(jt(185));Iu(t,r,n),(!(Sr&2)||t!==In)&&(t===In&&(!(Sr&2)&&(Vh|=r),Ln===4&&Is(t,$n)),Si(t,n),r===1&&Sr===0&&!(e.mode&1)&&(Vl=dn()+500,Wh&&to()))}function Si(t,e){var r=t.callbackNode;HS(t,e);var n=lh(t,t===In?$n:0);if(n===0)r!==null&&q1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&q1(r),e===1)t.tag===0?Wj(D2.bind(null,t)):Jy(D2.bind(null,t)),Uj(function(){!(Sr&6)&&to()}),r=null;else{switch(jy(n)){case 1:r=B0;break;case 4:r=_y;break;case 16:r=oh;break;case 536870912:r=wy;break;default:r=oh}r=Y5(r,U5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function U5(t,e){if(Jd=-1,Kd=0,Sr&6)throw Error(jt(327));var r=t.callbackNode;if(Rl()&&t.callbackNode!==r)return null;var n=lh(t,t===In?$n:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ch(t,n);else{e=n;var i=Sr;Sr|=2;var a=$5();(In!==t||$n!==e)&&(es=null,Vl=dn()+500,Ao(t,e));do try{d4();break}catch(l){q5(t,l)}while(!0);Q0(),Sh.current=a,Sr=i,bn!==null?e=0:(In=null,$n=0,e=Ln)}if(e!==0){if(e===2&&(i=yp(t),i!==0&&(n=i,e=Yp(t,i))),e===1)throw r=Lu,Ao(t,0),Is(t,n),Si(t,dn()),r;if(e===6)Is(t,n);else{if(i=t.current.alternate,!(n&30)&&!c4(i)&&(e=Ch(t,n),e===2&&(a=yp(t),a!==0&&(n=a,e=Yp(t,a))),e===1))throw r=Lu,Ao(t,0),Is(t,n),Si(t,dn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(jt(345));case 2:xo(t,bi,es);break;case 3:if(Is(t,n),(n&130023424)===n&&(e=hm+500-dn(),10<e)){if(lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lp(xo.bind(null,t,bi,es),e);break}xo(t,bi,es);break;case 4:if(Is(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ga(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=dn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*l4(n/1960))-n,10<n){t.timeoutHandle=Lp(xo.bind(null,t,bi,es),n);break}xo(t,bi,es);break;case 5:xo(t,bi,es);break;default:throw Error(jt(329))}}}return Si(t,dn()),t.callbackNode===r?U5.bind(null,t):null}function Yp(t,e){var r=ru;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=bi,bi=r,e!==null&&Vp(e)),t}function Vp(t){bi===null?bi=t:bi.push.apply(bi,t)}function c4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!va(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~dm,e&=~Vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ga(e),n=1<<r;t[r]=-1,e&=~n}}function D2(t){if(Sr&6)throw Error(jt(327));Rl();var e=lh(t,0);if(!(e&1))return Si(t,dn()),null;var r=Ch(t,e);if(t.tag!==0&&r===2){var n=yp(t);n!==0&&(e=n,r=Yp(t,n))}if(r===1)throw r=Lu,Ao(t,0),Is(t,e),Si(t,dn()),r;if(r===6)throw Error(jt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xo(t,bi,es),Si(t,dn()),null}function fm(t,e){var r=Sr;Sr|=1;try{return t(e)}finally{Sr=r,Sr===0&&(Vl=dn()+500,Wh&&to())}}function Ro(t){Bs!==null&&Bs.tag===0&&!(Sr&6)&&Rl();var e=Sr;Sr|=1;var r=Ki.transition,n=Pr;try{if(Ki.transition=null,Pr=1,t)return t()}finally{Pr=n,Ki.transition=r,Sr=e,!(Sr&6)&&to()}}function gm(){Ii=kl.current,Wr(kl)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Mj(r)),bn!==null)for(r=bn.return;r!==null;){var n=r;switch(V0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fh();break;case 3:Gl(),Wr(_i),Wr(ei),nm();break;case 5:rm(n);break;case 4:Gl();break;case 13:Wr(Jr);break;case 19:Wr(Jr);break;case 10:X0(n.type._context);break;case 22:case 23:gm()}r=r.return}if(In=t,bn=t=Js(t.current,null),$n=Ii=e,Ln=0,Lu=null,dm=Vh=Io=0,bi=ru=null,Co!==null){for(e=0;e<Co.length;e++)if(r=Co[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Co=null}return t}function q5(t,e){do{var r=bn;try{if(Q0(),Gd.current=wh,_h){for(var n=Kr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_h=!1}if(To=0,Fn=Cn=Kr=null,eu=!1,ju=0,um.current=null,r===null||r.return===null){Ln=1,Lu=e,bn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=$n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=x2(o);if(f!==null){f.flags&=-257,_2(f,o,l,a,e),f.mode&1&&y2(a,u,e),e=f,c=u;var x=e.updateQueue;if(x===null){var j=new Set;j.add(c),e.updateQueue=j}else x.add(c);break e}else{if(!(e&1)){y2(a,u,e),pm();break e}c=Error(jt(426))}}else if(Gr&&l.mode&1){var _=x2(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_2(_,o,l,a,e),J0(Yl(c,l));break e}}a=c=Yl(c,l),Ln!==4&&(Ln=2),ru===null?ru=[a]:ru.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=j5(a,c,e);f2(a,b);break e;case 1:l=c;var N=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ys===null||!Ys.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=N5(a,l,e);f2(a,C);break e}}a=a.return}while(a!==null)}W5(r)}catch(B){e=B,bn===r&&r!==null&&(bn=r=r.return);continue}break}while(!0)}function $5(){var t=Sh.current;return Sh.current=wh,t===null?wh:t}function pm(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),In===null||!(Io&268435455)&&!(Vh&268435455)||Is(In,$n)}function Ch(t,e){var r=Sr;Sr|=2;var n=$5();(In!==t||$n!==e)&&(es=null,Ao(t,e));do try{u4();break}catch(i){q5(t,i)}while(!0);if(Q0(),Sr=r,Sh.current=n,bn!==null)throw Error(jt(261));return In=null,$n=0,Ln}function u4(){for(;bn!==null;)z5(bn)}function d4(){for(;bn!==null&&!RS();)z5(bn)}function z5(t){var e=G5(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?W5(t):bn=e,um.current=null}function W5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=i4(r,e),r!==null){r.flags&=32767,bn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,bn=null;return}}else if(r=n4(r,e,Ii),r!==null){bn=r;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);Ln===0&&(Ln=5)}function xo(t,e,r){var n=Pr,i=Ki.transition;try{Ki.transition=null,Pr=1,h4(t,e,r,n)}finally{Ki.transition=i,Pr=n}return null}function h4(t,e,r,n){do Rl();while(Bs!==null);if(Sr&6)throw Error(jt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(jt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(GS(t,a),t===In&&(bn=In=null,$n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sd||(Sd=!0,Y5(oh,function(){return Rl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ki.transition,Ki.transition=null;var o=Pr;Pr=1;var l=Sr;Sr|=4,um.current=null,s4(t,r),B5(r,t),Fj(Np),ch=!!jp,Np=jp=null,t.current=r,o4(r),OS(),Sr=l,Pr=o,Ki.transition=a}else t.current=r;if(Sd&&(Sd=!1,Bs=t,Nh=i),a=t.pendingLanes,a===0&&(Ys=null),US(r.stateNode),Si(t,dn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,t=Hp,Hp=null,t;return Nh&1&&t.tag!==0&&Rl(),a=t.pendingLanes,a&1?t===Gp?nu++:(nu=0,Gp=t):nu=0,to(),null}function Rl(){if(Bs!==null){var t=jy(Nh),e=Ki.transition,r=Pr;try{if(Ki.transition=null,Pr=16>t?16:t,Bs===null)var n=!1;else{if(t=Bs,Bs=null,Nh=0,Sr&6)throw Error(jt(331));var i=Sr;for(Sr|=4,$t=t.current;$t!==null;){var a=$t,o=a.child;if($t.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($t=u;$t!==null;){var d=$t;switch(d.tag){case 0:case 11:case 15:tu(8,d,a)}var g=d.child;if(g!==null)g.return=d,$t=g;else for(;$t!==null;){d=$t;var m=d.sibling,f=d.return;if(I5(d),d===u){$t=null;break}if(m!==null){m.return=f,$t=m;break}$t=f}}}var x=a.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var _=j.sibling;j.sibling=null,j=_}while(j!==null)}}$t=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$t=o;else e:for(;$t!==null;){if(a=$t,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tu(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,$t=b;break e}$t=a.return}}var N=t.current;for($t=N;$t!==null;){o=$t;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,$t=S;else e:for(o=N;$t!==null;){if(l=$t,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yh(9,l)}}catch(B){tn(l,l.return,B)}if(l===o){$t=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,$t=C;break e}$t=l.return}}if(Sr=i,to(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Mh,t)}catch{}n=!0}return n}finally{Pr=r,Ki.transition=e}}return!1}function T2(t,e,r){e=Yl(r,e),e=j5(t,e,1),t=Gs(t,e,1),e=ci(),t!==null&&(Iu(t,1,e),Si(t,e))}function tn(t,e,r){if(t.tag===3)T2(t,t,r);else for(;e!==null;){if(e.tag===3){T2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ys===null||!Ys.has(n))){t=Yl(r,t),t=N5(e,t,1),e=Gs(e,t,1),t=ci(),e!==null&&(Iu(e,1,t),Si(e,t));break}}e=e.return}}function f4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&r,In===t&&($n&r)===r&&(Ln===4||Ln===3&&($n&130023424)===$n&&500>dn()-hm?Ao(t,0):dm|=r),Si(t,e)}function H5(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var r=ci();t=us(t,e),t!==null&&(Iu(t,e,r),Si(t,r))}function g4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),H5(t,r)}function p4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(jt(314))}n!==null&&n.delete(e),H5(t,r)}var G5;G5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)xi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xi=!1,r4(t,e,r);xi=!!(t.flags&131072)}else xi=!1,Gr&&e.flags&1048576&&Ky(e,mh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vd(t,e),t=e.pendingProps;var i=zl(e,ei.current);Il(e,r),i=am(null,e,n,t,i,r);var a=sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(n)?(a=!0,gh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,em(e),i.updater=Gh,e.stateNode=i,i._reactInternals=e,Tp(e,n,t,r),e=Op(null,e,n,!0,a,r)):(e.tag=0,Gr&&a&&Y0(e),li(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=v4(n),t=ua(n,t),i){case 0:e=Rp(null,e,n,t,r);break e;case 1:e=j2(null,e,n,t,r);break e;case 11:e=w2(null,e,n,t,r);break e;case 14:e=S2(null,e,n,ua(n.type,t),r);break e}throw Error(jt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),Rp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),j2(t,e,n,i,r);case 3:e:{if(k5(e),t===null)throw Error(jt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,r5(t,e),yh(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Yl(Error(jt(423)),e),e=N2(t,e,n,r,i);break e}else if(n!==i){i=Yl(Error(jt(424)),e),e=N2(t,e,n,r,i);break e}else for(Ri=Hs(e.stateNode.containerInfo.firstChild),Bi=e,Gr=!0,fa=null,r=e5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wl(),n===i){e=ds(t,e,r);break e}li(t,e,n,r)}e=e.child}return e;case 5:return n5(e),t===null&&Ep(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Cp(n,i)?o=null:a!==null&&Cp(n,a)&&(e.flags|=32),A5(t,e),li(t,e,o,r),e.child;case 6:return t===null&&Ep(e),null;case 13:return P5(t,e,r);case 4:return tm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hl(e,null,n,r):li(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),w2(t,e,n,i,r);case 7:return li(t,e,e.pendingProps,r),e.child;case 8:return li(t,e,e.pendingProps.children,r),e.child;case 12:return li(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Mr(vh,n._currentValue),n._currentValue=o,a!==null)if(va(a.value,o)){if(a.children===i.children&&!_i.current){e=ds(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=os(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Fp(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(jt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fp(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}li(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Il(e,r),i=Qi(i),n=n(i),e.flags|=1,li(t,e,n,r),e.child;case 14:return n=e.type,i=ua(n,e.pendingProps),i=ua(n.type,i),S2(t,e,n,i,r);case 15:return C5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),Vd(t,e),e.tag=1,wi(n)?(t=!0,gh(e)):t=!1,Il(e,r),S5(e,n,i),Tp(e,n,i,r),Op(null,e,n,!0,t,r);case 19:return E5(t,e,r);case 22:return L5(t,e,r)}throw Error(jt(156,e.tag))};function Y5(t,e){return xy(t,e)}function m4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,r,n){return new m4(t,e,r,n)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function v4(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I0)return 11;if(t===R0)return 14}return 2}function Js(t,e){var r=t.alternate;return r===null?(r=Ji(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yl:return ko(r.children,i,a,e);case T0:o=8,i|=8;break;case ip:return t=Ji(12,r,e,i|2),t.elementType=ip,t.lanes=a,t;case ap:return t=Ji(13,r,e,i),t.elementType=ap,t.lanes=a,t;case sp:return t=Ji(19,r,e,i),t.elementType=sp,t.lanes=a,t;case ny:return Jh(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ty:o=10;break e;case ry:o=9;break e;case I0:o=11;break e;case R0:o=14;break e;case Fs:o=16,n=null;break e}throw Error(jt(130,t==null?t:typeof t,""))}return e=Ji(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ko(t,e,r,n){return t=Ji(7,t,n,e),t.lanes=r,t}function Jh(t,e,r,n){return t=Ji(22,t,n,e),t.elementType=ny,t.lanes=r,t.stateNode={isHidden:!1},t}function pg(t,e,r){return t=Ji(6,t,null,e),t.lanes=r,t}function mg(t,e,r){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vm(t,e,r,n,i,a,o,l,c){return t=new b4(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ji(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(a),t}function y4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function V5(t){if(!t)return Qs;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(jt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(jt(171))}if(t.tag===1){var r=t.type;if(wi(r))return Vy(t,r,e)}return e}function J5(t,e,r,n,i,a,o,l,c){return t=vm(r,n,!0,t,i,a,o,l,c),t.context=V5(null),r=t.current,n=ci(),i=Vs(r),a=os(n,i),a.callback=e??null,Gs(r,a,i),t.current.lanes=i,Iu(t,i,n),Si(t,n),t}function Kh(t,e,r,n){var i=e.current,a=ci(),o=Vs(i);return r=V5(r),e.context===null?e.context=r:e.pendingContext=r,e=os(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gs(i,e,o),t!==null&&(pa(t,i,o,a),Hd(t,i,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bm(t,e){I2(t,e),(t=t.alternate)&&I2(t,e)}function x4(){return null}var K5=typeof reportError=="function"?reportError:function(t){console.error(t)};function ym(t){this._internalRoot=t}Qh.prototype.render=ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(jt(409));Kh(t,e,null,null)};Qh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){Kh(null,t,null,null)}),e[cs]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ly();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ts.length&&e!==0&&e<Ts[r].priority;r++);Ts.splice(r,0,t),r===0&&ky(t)}};function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R2(){}function _4(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Lh(o);a.call(u)}}var o=J5(e,n,t,0,null,!1,!1,"",R2);return t._reactRootContainer=o,t[cs]=o.current,yu(t.nodeType===8?t.parentNode:t),Ro(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Lh(c);l.call(u)}}var c=vm(t,0,!1,null,null,!1,!1,"",R2);return t._reactRootContainer=c,t[cs]=c.current,yu(t.nodeType===8?t.parentNode:t),Ro(function(){Kh(e,c,r,n)}),c}function Zh(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Lh(o);l.call(c)}}Kh(e,o,t,i)}else o=_4(r,e,t,i,n);return Lh(o)}Ny=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gc(e.pendingLanes);r!==0&&(M0(e,r|1),Si(e,dn()),!(Sr&6)&&(Vl=dn()+500,to()))}break;case 13:Ro(function(){var n=us(t,1);if(n!==null){var i=ci();pa(n,t,1,i)}}),bm(t,1)}};U0=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var r=ci();pa(e,t,134217728,r)}bm(t,134217728)}};Cy=function(t){if(t.tag===13){var e=Vs(t),r=us(t,e);if(r!==null){var n=ci();pa(r,t,e,n)}bm(t,e)}};Ly=function(){return Pr};Ay=function(t,e){var r=Pr;try{return Pr=t,e()}finally{Pr=r}};mp=function(t,e,r){switch(e){case"input":if(cp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=zh(n);if(!i)throw Error(jt(90));ay(n),cp(n,i)}}}break;case"textarea":oy(t,r);break;case"select":e=r.value,e!=null&&El(t,!!r.multiple,e,!1)}};gy=fm;py=Ro;var w4={usingClientEntryPoint:!1,Events:[Ou,Sl,zh,hy,fy,fm]},Uc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S4={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=by(t),t===null?null:t.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||x4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Mh=jd.inject(S4),Ra=jd}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w4;qi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(e))throw Error(jt(200));return y4(t,e,null,r)};qi.createRoot=function(t,e){if(!xm(t))throw Error(jt(299));var r=!1,n="",i=K5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vm(t,1,!1,null,null,r,!1,n,i),t[cs]=e.current,yu(t.nodeType===8?t.parentNode:t),new ym(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(jt(188)):(t=Object.keys(t).join(","),Error(jt(268,t)));return t=by(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return Ro(t)};qi.hydrate=function(t,e,r){if(!Xh(e))throw Error(jt(200));return Zh(null,t,e,!0,r)};qi.hydrateRoot=function(t,e,r){if(!xm(t))throw Error(jt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=K5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=J5(e,null,t,1,r??null,i,!1,a,o),t[cs]=e.current,yu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qh(e)};qi.render=function(t,e,r){if(!Xh(e))throw Error(jt(200));return Zh(null,t,e,!1,r)};qi.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(jt(40));return t._reactRootContainer?(Ro(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};qi.unstable_batchedUpdates=fm;qi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Xh(r))throw Error(jt(200));if(t==null||t._reactInternals===void 0)throw Error(jt(38));return Zh(t,e,r,!1,n)};qi.version="18.3.1-next-f1338f8080-20240426";function Q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q5)}catch(t){console.error(t)}}Q5(),Qb.exports=qi;var j4=Qb.exports,O2=j4;rp.createRoot=O2.createRoot,rp.hydrateRoot=O2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Au.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const B2="popstate";function N4(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Jp("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Z5(i)}return L4(e,r,null,t)}function An(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C4(){return Math.random().toString(36).substr(2,8)}function M2(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,r,n){return r===void 0&&(r=null),Au({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nc(e):e,{state:r,key:e&&e.key||n||C4()})}function Z5(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function L4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Au({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function g(){l=Ms.Pop;let _=d(),b=_==null?null:_-u;u=_,c&&c({action:l,location:j.location,delta:b})}function m(_,b){l=Ms.Push;let N=Jp(j.location,_,b);u=d()+1;let S=M2(N,u),C=j.createHref(N);try{o.pushState(S,"",C)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(C)}a&&c&&c({action:l,location:j.location,delta:1})}function f(_,b){l=Ms.Replace;let N=Jp(j.location,_,b);u=d();let S=M2(N,u),C=j.createHref(N);o.replaceState(S,"",C),a&&c&&c({action:l,location:j.location,delta:0})}function x(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:Z5(_);return N=N.replace(/ $/,"%20"),An(b,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,b)}let j={get action(){return l},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(B2,g),c=_,()=>{i.removeEventListener(B2,g),c=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let b=x(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:f,go(_){return o.go(_)}};return j}var U2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U2||(U2={}));function A4(t,e,r){return r===void 0&&(r="/"),k4(t,e,r)}function k4(t,e,r,n){let i=typeof e=="string"?nc(e):e,a=rx(i.pathname||"/",r);if(a==null)return null;let o=ex(t);P4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$4(a);l=M4(o[c],u)}return l}function ex(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(An(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Po([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(An(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ex(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:O4(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of tx(a.path))i(a,o,c)}),e}function tx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=tx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function P4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:B4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const E4=/^:[\w-]+$/,F4=3,D4=2,T4=1,I4=10,R4=-2,q2=t=>t==="*";function O4(t,e){let r=t.split("/"),n=r.length;return r.some(q2)&&(n+=R4),e&&(n+=D4),r.filter(i=>!q2(i)).reduce((i,a)=>i+(E4.test(a)?F4:a===""?T4:I4),n)}function B4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function M4(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",g=U4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Po([a,g.pathname]),pathnameBase:V4(Po([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=Po([a,g.pathnameBase]))}return o}function U4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=q4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,g)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let j=l[g]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const x=l[g];return f&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function q4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),X5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function z4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nc(t):t;return{pathname:r?r.startsWith("/")?r:W4(r,e):e,search:J4(n),hash:K4(i)}}function W4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function G4(t,e){let r=H4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Y4(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nc(t):(i=Au({},t),An(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),An(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),An(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let c=z4(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),V4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nx=["post","put","patch","delete"];new Set(nx);const X4=["get",...nx];new Set(X4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}const _m=v.createContext(null),Z4=v.createContext(null),ef=v.createContext(null),tf=v.createContext(null),ic=v.createContext({outlet:null,matches:[],isDataRoute:!1}),ix=v.createContext(null);function rf(){return v.useContext(tf)!=null}function fi(){return rf()||An(!1),v.useContext(tf).location}function ax(t){v.useContext(ef).static||v.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=v.useContext(ic);return t?hN():eN()}function eN(){rf()||An(!1);let t=v.useContext(_m),{basename:e,future:r,navigator:n}=v.useContext(ef),{matches:i}=v.useContext(ic),{pathname:a}=fi(),o=JSON.stringify(G4(i,r.v7_relativeSplatPath)),l=v.useRef(!1);return ax(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let g=Y4(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Po([e,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[e,n,o,a,t])}function tN(t,e){return rN(t,e)}function rN(t,e,r,n){rf()||An(!1);let{navigator:i}=v.useContext(ef),{matches:a}=v.useContext(ic),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fi(),d;if(e){var g;let _=typeof e=="string"?nc(e):e;c==="/"||(g=_.pathname)!=null&&g.startsWith(c)||An(!1),d=_}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=A4(t,{pathname:f}),j=oN(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Po([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Po([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&j?v.createElement(tf.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ms.Pop}},j):j}function nN(){let t=dN(),e=Q4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:i},r):null,null)}const iN=v.createElement(nN,null);class aN extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(ic.Provider,{value:this.props.routeContext},v.createElement(ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sN(t){let{routeContext:e,match:r,children:n}=t,i=v.useContext(_m);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ic.Provider,{value:e},n)}function oN(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);d>=0||An(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let g=o[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:m,errors:f}=r,x=g.route.loader&&m[g.route.id]===void 0&&(!f||f[g.route.id]===void 0);if(g.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,g,m)=>{let f,x=!1,j=null,_=null;r&&(f=l&&g.route.id?l[g.route.id]:void 0,j=g.route.errorElement||iN,c&&(u<0&&m===0?(fN("route-fallback"),x=!0,_=null):u===m&&(x=!0,_=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),N=()=>{let S;return f?S=j:x?S=_:g.route.Component?S=v.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=d,v.createElement(sN,{match:g,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:S})};return r&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?v.createElement(aN,{location:r.location,revalidation:r.revalidation,component:j,error:f,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}var sx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sx||{}),ox=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ox||{});function lN(t){let e=v.useContext(_m);return e||An(!1),e}function cN(t){let e=v.useContext(Z4);return e||An(!1),e}function uN(t){let e=v.useContext(ic);return e||An(!1),e}function lx(t){let e=uN(),r=e.matches[e.matches.length-1];return r.route.id||An(!1),r.route.id}function dN(){var t;let e=v.useContext(ix),r=cN(),n=lx();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hN(){let{router:t}=lN(sx.UseNavigateStable),e=lx(ox.UseNavigateStable),r=v.useRef(!1);return ax(()=>{r.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ku({fromRouteId:e},a)))},[t,e])}const $2={};function fN(t,e,r){$2[t]||($2[t]=!0)}function gN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vr(t){An(!1)}function pN(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ms.Pop,navigator:a,static:o=!1,future:l}=t;rf()&&An(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:ku({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=nc(n));let{pathname:d="/",search:g="",hash:m="",state:f=null,key:x="default"}=n,j=v.useMemo(()=>{let _=rx(d,c);return _==null?null:{location:{pathname:_,search:g,hash:m,state:f,key:x},navigationType:i}},[c,d,g,m,f,x,i]);return j==null?null:v.createElement(ef.Provider,{value:u},v.createElement(tf.Provider,{children:r,value:j}))}function mN(t){let{children:e,location:r}=t;return tN(Kp(e),r)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,i)=>{if(!v.isValidElement(n))return;let a=[...e,i];if(n.type===v.Fragment){r.push.apply(r,Kp(n.props.children,a));return}n.type!==Vr&&An(!1),!n.props.index||!n.props.children||An(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vN="6";try{window.__reactRouterVersion=vN}catch{}const bN="startTransition",z2=fS[bN];function yN(t){let{basename:e,children:r,future:n,window:i}=t,a=v.useRef();a.current==null&&(a.current=N4({window:i,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(g=>{u&&z2?z2(()=>c(g)):c(g)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>gN(n),[n]),v.createElement(pN,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var W2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(W2||(W2={}));var H2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(H2||(H2={}));const xN="modulepreload",_N=function(t){return"/"+t},G2={},ma=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=_N(c),c in G2)return;G2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":xN,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((m,f)=>{g.addEventListener("load",m),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},wN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class wm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class SN extends wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Y2 extends wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V2 extends wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qp||(Qp={}));var jN=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class NN{constructor(e,{headers:r={},customFetch:n,region:i=Qp.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=wN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return jN(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const g=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(j=>{throw new SN(j)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Y2(g);if(!g.ok)throw new V2(g);let f=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield g.json():f==="application/octet-stream"?x=yield g.blob():f==="text/event-stream"?x=g:f==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof V2||i instanceof Y2?i.context:void 0}}})}}var yi={},Sm={},nf={},Mu={},af={},sf={},CN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jl=CN();const LN=Jl.fetch,cx=Jl.fetch.bind(Jl),ux=Jl.Headers,AN=Jl.Request,kN=Jl.Response,ac=Object.freeze(Object.defineProperty({__proto__:null,Headers:ux,Request:AN,Response:kN,default:cx,fetch:LN},Symbol.toStringTag,{value:"Module"})),PN=Kw(ac);var of={};Object.defineProperty(of,"__esModule",{value:!0});let EN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};of.default=EN;var dx=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sf,"__esModule",{value:!0});const FN=dx(PN),DN=dx(of);let TN=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=FN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,g=null,m=null,f=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const N=await a.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?g=N:g=JSON.parse(N))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,f=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await a.text();try{d=JSON.parse(_),Array.isArray(d)&&a.status===404&&(g=[],d=null,f=200,x="OK")}catch{a.status===404&&_===""?(f=204,x="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new DN.default(d)}return{error:d,data:g,count:m,status:f,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};sf.default=TN;var IN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(af,"__esModule",{value:!0});const RN=IN(sf);let ON=class extends RN.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};af.default=ON;var BN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mu,"__esModule",{value:!0});const MN=BN(af);let UN=class extends MN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Mu.default=UN;var qN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nf,"__esModule",{value:!0});const qc=qN(Mu);let $N=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new qc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};nf.default=$N;var hx=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sm,"__esModule",{value:!0});const zN=hx(nf),WN=hx(Mu);let HN=class fx{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new zN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{c.searchParams.append(g,m)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new WN.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Sm.default=HN;var sc=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.PostgrestError=yi.PostgrestBuilder=yi.PostgrestTransformBuilder=yi.PostgrestFilterBuilder=yi.PostgrestQueryBuilder=yi.PostgrestClient=void 0;const gx=sc(Sm);yi.PostgrestClient=gx.default;const px=sc(nf);yi.PostgrestQueryBuilder=px.default;const mx=sc(Mu);yi.PostgrestFilterBuilder=mx.default;const vx=sc(af);yi.PostgrestTransformBuilder=vx.default;const bx=sc(sf);yi.PostgrestBuilder=bx.default;const yx=sc(of);yi.PostgrestError=yx.default;var GN=yi.default={PostgrestClient:gx.default,PostgrestQueryBuilder:px.default,PostgrestFilterBuilder:mx.default,PostgrestTransformBuilder:vx.default,PostgrestBuilder:bx.default,PostgrestError:yx.default};const{PostgrestClient:YN,PostgrestQueryBuilder:w8,PostgrestFilterBuilder:S8,PostgrestTransformBuilder:j8,PostgrestBuilder:N8,PostgrestError:C8}=GN;class VN{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JN="2.15.1",KN=`realtime-js/${JN}`,QN="1.0.0",Xp=1e4,XN=1e3,ZN=100;var iu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(iu||(iu={}));var jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jn||(jn={}));var ha;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ha||(ha={}));var Zp;(function(t){t.websocket="websocket"})(Zp||(Zp={}));var So;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(So||(So={}));class e3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class xx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const J2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=t3(o,t,e,i),a),{})},t3=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?_x(a,o):e0(o)},_x=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return a3(e,r)}switch(t){case Br.bool:return r3(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return n3(e);case Br.json:case Br.jsonb:return i3(e);case Br.timestamp:return s3(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return e0(e);default:return e0(e)}},e0=t=>t,r3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},n3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},a3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>_x(e,l))}return t},s3=t=>typeof t=="string"?t.replace(" ","T"):t,wx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class bg{constructor(e,r,n={},i=Xp){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var K2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(K2||(K2={}));class au{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=au.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=au.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=au.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const g=a[u];if(g){const m=d.map(_=>_.presence_ref),f=g.map(_=>_.presence_ref),x=d.filter(_=>f.indexOf(_.presence_ref)<0),j=g.filter(_=>m.indexOf(_.presence_ref)<0);x.length>0&&(l[u]=x),j.length>0&&(c[u]=j)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const g=e[l].map(f=>f.presence_ref),m=d.filter(f=>g.indexOf(f.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(g=>g.presence_ref);u=u.filter(g=>d.indexOf(g.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Q2||(Q2={}));var su;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(su||(su={}));var ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class jm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bg(this,ha.join,this.params,this.timeout),this.rejoinTimer=new xx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new au(this),this.broadcastEndpointURL=wx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[su.PRESENCE]&&this.bindings[su.PRESENCE].length>0,d={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ts.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:g},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){e==null||e(ts.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(f=x==null?void 0:x.length)!==null&&f!==void 0?f:0,_=[];for(let b=0;b<j;b++){const N=x[b],{filter:{event:S,schema:C,table:B,filter:Y}}=N,V=m&&m[b];if(V&&V.event===S&&V.schema===C&&V.table===B&&V.filter===Y)_.push(Object.assign(Object.assign({},N),{id:V.id}));else{this.unsubscribe(),this.state=jn.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=jn.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===jn.joined&&e===su.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bg(this,ha.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bg(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ZN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ha;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var x,j,_;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(j=f.filter)===null||j===void 0?void 0:j.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var x,j,_,b,N,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const C=f.id,B=(x=f.filter)===null||x===void 0?void 0:x.event;return C&&((j=r.ids)===null||j===void 0?void 0:j.includes(C))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(N=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:j,table:_,commit_timestamp:b,type:N,errors:S}=x;m=Object.assign(Object.assign({},{schema:j,table:_,commit_timestamp:b,eventType:N,new:{},old:{},errors:S}),this._getPayloadRecords(x))}f.callback(m,n)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&jm.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ha.close,{},e)}_onError(e){this._on(ha.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J2(e.columns,e.old_record)),r}}const X2=()=>{},Nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o3=[1e3,2e3,5e3,1e4],l3=1e4,c3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u3{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.transport=null,this.heartbeatIntervalMs=Nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X2,this.ref=0,this.reconnectTimer=null,this.logger=X2,this.conn=null,this.sendBuffer=[],this.serializer=new e3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ma(async()=>{const{default:l}=await Promise.resolve().then(()=>ac);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Zp.websocket}`,this.httpEndpoint=wx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QN}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case iu.connecting:return So.Connecting;case iu.open:return So.Open;case iu.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new jm(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ha.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([c3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:KN};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ha.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Xp,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Nd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>o3[d-1]||l3,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,g)=>g(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class d3 extends Nm{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class t0 extends Nm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var h3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Sx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},f3=()=>h3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ma(()=>Promise.resolve().then(()=>ac),void 0)).Response:Response}),r0=t=>{if(Array.isArray(t))return t.map(r=>r0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=r0(n)}),e},g3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const yg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p3=(t,e,r)=>qo(void 0,void 0,void 0,function*(){const n=yield f3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new d3(yg(i),a,o))}).catch(i=>{e(new t0(yg(i),i))}):e(new t0(yg(t),t))}),m3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(g3(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Uu(t,e,r,n,i,a){return qo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,m3(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>p3(c,l,n))})})}function Ah(t,e,r,n){return qo(this,void 0,void 0,function*(){return Uu(t,"GET",e,r,n)})}function Da(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"POST",e,n,i,r)})}function n0(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"PUT",e,n,i,r)})}function v3(t,e,r,n){return qo(this,void 0,void 0,function*(){return Uu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jx(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"DELETE",e,n,i,r)})}var oi=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const b3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Sx(i)}uploadOrUpdate(e,r,n,i){return oi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Z2),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),g=yield(e=="PUT"?n0:Da)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return oi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Z2.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const g=yield n0(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:g.Key},error:null}}catch(c){if(Nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return oi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Nm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}update(e,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return oi(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return oi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return oi(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(e,r){return oi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ah(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}info(e){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ah(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:r0(n),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}exists(e){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield v3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nn(n)&&n instanceof t0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return oi(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}list(e,r,n){return oi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},b3),r),{prefix:e||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}listV2(e,r){return oi(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const x3="2.11.0",_3={"X-Client-Info":`storage-js/${x3}`};var sl=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class w3{constructor(e,r={},n,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},_3),r),this.fetch=Sx(n)}listBuckets(){return sl(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nn(e))return{data:null,error:e};throw e}})}getBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return sl(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return sl(this,void 0,void 0,function*(){try{return{data:yield n0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}}class S3 extends w3{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new y3(this.url,this.headers,e,this.fetch)}}const j3="2.56.0";let Vc="";typeof Deno<"u"?Vc="deno":typeof document<"u"?Vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vc="react-native":Vc="node";const N3={"X-Client-Info":`supabase-js-${Vc}/${j3}`},C3={headers:N3},L3={schema:"public"},A3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k3={};var P3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const E3=t=>{let e;return t?e=t:typeof fetch>"u"?e=cx:e=fetch,(...r)=>e(...r)},F3=()=>typeof Headers>"u"?ux:Headers,D3=(t,e,r)=>{const n=E3(r),i=F3();return(a,o)=>P3(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var T3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function I3(t){return t.endsWith("/")?t:t+"/"}function R3(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:g}=e,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>T3(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Nx="2.71.1",gl=30*1e3,i0=3,xg=i0*gl,O3="http://localhost:9999",B3="supabase.auth.token",M3={"X-Client-Info":`gotrue-js/${Nx}`},a0="X-Supabase-Api-Version",Cx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q3=10*60*1e3;class Cm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ur(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $3 extends Cm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function z3(t){return ur(t)&&t.name==="AuthApiError"}class Lx extends Cm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ro extends Cm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Es extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W3(t){return ur(t)&&t.name==="AuthSessionMissingError"}class Cd extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ad extends ro{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H3(t){return ur(t)&&t.name==="AuthImplicitGrantRedirectError"}class ev extends ro{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s0 extends ro{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function _g(t){return ur(t)&&t.name==="AuthRetryableFetchError"}class tv extends ro{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class o0 extends ro{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rv=` 	
\r=`.split(""),G3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=-2;for(let e=0;e<kh.length;e+=1)t[kh[e].charCodeAt(0)]=e;return t})();function nv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kh[n]),e.queuedBits-=6}}function Ax(t,e,r){const n=G3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{J3(o,n,r)};for(let o=0;o<t.length;o+=1)Ax(t.charCodeAt(o),i,a);return e.join("")}function Y3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function V3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Y3(n,e)}}function J3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function K3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ax(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Q3(t){const e=[];return V3(t,r=>e.push(r)),new Uint8Array(e)}function X3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>nv(i,r,n)),nv(null,r,n),e.join("")}function Z3(t){return Math.round(Date.now()/1e3)+t}function eC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ca=()=>typeof window<"u"&&typeof document<"u",vo={tested:!1,writable:!1},kx=()=>{if(!ca())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vo.tested)return vo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vo.tested=!0,vo.writable=!0}catch{vo.tested=!0,vo.writable=!1}return vo.writable};function tC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Px=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},As=async(t,e)=>{await t.removeItem(e)};class lf{constructor(){this.promise=new lf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lf.promiseConstructor=Promise;function wg(t){const e=t.split(".");if(e.length!==3)throw new o0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!U3.test(e[n]))throw new o0("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:K3(e[2]),raw:{header:e[0],payload:e[1]}}}async function nC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iC(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function aC(t){return("0"+t.toString(16)).substr(-2)}function sC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,aC).join("")}async function oC(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await oC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(t,e,r=!1){const n=sC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await pl(t,`${e}-code-verifier`,i);const a=await lC(n);return[a,n===a?"plain":"s256"]}const cC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uC(t){const e=t.headers.get(a0);if(!e||!e.match(cC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ll(t){if(!fC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function av(t){return JSON.parse(JSON.stringify(t))}var gC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const _o=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pC=[502,503,504];async function sv(t){var e;if(!rC(t))throw new s0(_o(t),0);if(pC.includes(t.status))throw new s0(_o(t),t.status);let r;try{r=await t.json()}catch(a){throw new Lx(_o(a),a)}let n;const i=uC(t);if(i&&i.getTime()>=Cx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tv(_o(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Es}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new tv(_o(r),t.status,r.weak_password.reasons);throw new $3(_o(r),t.status||500,n)}const mC=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function pr(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[a0]||(a[a0]=Cx["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await vC(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function vC(t,e,r,n,i,a){const o=mC(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new s0(_o(c),0)}if(l.ok||await sv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sv(c)}}function Za(t){var e;let r=null;_C(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Z3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ov(t){const e=Za(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bC(t){return{data:t,error:null}}function yC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=gC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function xC(t){return t}function _C(t){return t.access_token&&t.refresh_token&&t.expires_in}const jg=["global","local","others"];var wC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class SC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Px(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=jg[0]){if(jg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jg.join(", ")}`);try{return await pr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ur(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rs})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=wC(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await pr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ur(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rs})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xC});if(d.error)throw d.error;const g=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const j=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=j}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(ur(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ll(e);try{return await pr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rs})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ll(e);try{return await pr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rs})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ll(e);try{return await pr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rs})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ll(e.userId);try{const{data:r,error:n}=await pr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ll(e.userId),ll(e.id);try{return{data:await pr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}}function lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function jC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cl={debug:!!(globalThis&&kx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ex extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NC extends Ex{}async function CC(t,e,r){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jC();const LC={url:O3,storageKey:B3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cv(t,e,r){return await r()}const ul={};class Pu{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pu.nextInstanceID,Pu.nextInstanceID+=1,this.instanceID>0&&ca()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},LC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Px(i.fetch),this.lock=i.lock||cv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ca()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CC:this.lock=cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),ca()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=ul[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ul[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=tC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ca()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),H3(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ur(r)?{error:r}:{error:new Lx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Za}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ur(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:g,options:m}=e;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await ol(this.storage,this.storageKey)),a=await pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:Za})}else if("phone"in e){const{phone:d,password:g,options:m}=e;a=await pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Za})}else throw new Ld("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ur(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ov})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ov})}else throw new Ld("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,l,c,u,d,g,m,f;let x,j;if("message"in e)x=e.message,j=e.signature;else{const{chain:_,wallet:b,statement:N,options:S}=e;let C;if(ca())if(typeof b=="object")C=b;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))C=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const B=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const Y=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),N?{statement:N}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),j=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${B.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Y}}try{const{data:_,error:b}=await pr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:X3(j)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Za});if(b)throw b;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cd}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:b})}catch(_){if(ur(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await pr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Za});if(await As(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ur(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await pr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Za}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ol(this.storage,this.storageKey));const{error:g}=await pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ld("You must provide either an email or phone number.")}catch(l){if(ur(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await pr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Za});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ur(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ol(this.storage,this.storageKey)),await pr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:bC})}catch(a){if(ur(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Es;const{error:i}=await pr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ur(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await pr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await pr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ld("You must provide either an email or phone number and a type")}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await bo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Sg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rs}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rs})})}catch(r){if(ur(r))return W3(r)&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Es;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ol(this.storage,this.storageKey));const{data:u,error:d}=await pr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Rs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ur(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Es;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=wg(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ur(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Es;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ur(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ca())throw new Ad("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ad(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ev("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ad("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ev("No code detected.");const{data:N,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Ad("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(l);let m=d+g;c&&(m=parseInt(c));const f=m-d;f*1e3<=gl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${g}s`);const x=m-g;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:j,error:_}=await this._getUser(a);if(_)throw _;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:m,refresh_token:o,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(ur(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(z3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=eC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ol(this.storage,this.storageKey,!0));try{return await pr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ur(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:g,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pr(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ca()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ur(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await pr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iC(async i=>(i>0&&await nC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await pr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Za})),(i,a)=>{const o=200*Math.pow(2,i);return a&&_g(a)&&Date.now()+o-n<gl})}catch(n){if(this._debug(r,"error",n),ur(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ca()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await bo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await pl(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Sg()}else if(i&&!i.user&&!i.user){const o=await bo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await As(this.storage,this.storageKey+"-user"),await pl(this.storage,this.storageKey,i)):i.user=Sg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${xg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),_g(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new lf;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Es;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),ur(a)){const o={session:null,error:a};return _g(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await pl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=av(i);await pl(this.storage,this.storageKey,a)}else{const i=av(r);await pl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await As(this.storage,this.storageKey),await As(this.storage,this.storageKey+"-code-verifier"),await As(this.storage,this.storageKey+"-user"),this.userStorage&&await As(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ca()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/gl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${gl}ms, refresh threshold is ${i0} ticks`),i<=i0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ex)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ca()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ol(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await pr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await pr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await pr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ur(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await pr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ur(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wg(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+q3>i)return n;const{data:a,error:o}=await pr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return{data:null,error:x};n=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=wg(n);r!=null&&r.allowExpired||dC(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const d=hC(i.alg),g=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,o,Q3(`${l}.${c}`)))throw new o0("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ur(n))return{data:null,error:n};throw n}}}Pu.nextInstanceID=0;const AC=Pu;class kC extends AC{constructor(e){super(e)}}var PC=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class EC{constructor(e,r,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=I3(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:L3,realtime:k3,auth:Object.assign(Object.assign({},A3),{storageKey:u}),global:C3},g=R3(n??{},d);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,g.global.fetch),this.fetch=D3(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new YN(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new S3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new NN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return PC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kC({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new u3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FC=(t,e,r)=>new EC(t,e,r);function DC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}DC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TC="https://aolsbxfulbvpiobqqsao.supabase.co",IC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFvbHNieGZ1bGJ2cGlvYnFxc2FvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njc4MjIsImV4cCI6MjA3MTU0MzgyMn0.gyDU9a8AvdOjkqTAxw6-p2F4DO3BlswxDXGTe-C6NVM",ae=FC(TC,IC);function pn(){return s.jsx("nav",{className:"navigation",children:s.jsx("ul",{})})}/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),uv=t=>{const e=OC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),BC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...MC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fx("lucide",i),...!a&&!BC(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=(t,e)=>{const r=v.forwardRef(({className:n,...i},a)=>v.createElement(UC,{ref:a,iconNode:e,className:Fx(`lucide-${RC(uv(t))}`,`lucide-${t}`,n),...i}));return r.displayName=uv(t),r};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$C=kn("arrow-left",qC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WC=kn("calendar",zC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GC=kn("circle",HC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dv=kn("download",YC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hv=kn("external-link",VC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],KC=kn("file-down",JC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XC=kn("file-text",QC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],eL=kn("heart",ZC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rL=kn("link",tL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],iL=kn("megaphone",nL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sL=kn("plus",aL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],fv=kn("qr-code",oL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cL=kn("save",lL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ri=kn("shield",uL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hL=kn("square-pen",dL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gL=kn("trash-2",fL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ng=kn("trophy",pL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vL=kn("upload",mL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gv=kn("user",bL);function Er({disabled:t=!1}){const e=Ur();return s.jsx("button",{className:"secondary-btn",disabled:t,onClick:()=>{t||e("/")},children:"Back to Home"})}const ti=()=>{const t=localStorage.getItem("activeButton");if(t){const e=document.querySelector(`.primary-btn[data-id="${t}"]`);e&&e.classList.add("active")}},br=t=>{document.querySelectorAll(".primary-btn").forEach(n=>n.classList.remove("active")),t.classList.add("active");const r=t.dataset.id;r&&localStorage.setItem("activeButton",r)};typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ti):ti());function oc({onLoadingStart:t,...e}){const r=Ur(),n=i=>{i&&i.currentTarget&&br(i.currentTarget),t&&t(),setTimeout(()=>{r("/photos-logo-publication")},1e3)};return s.jsx("button",{className:"primary-btn",...e,onClick:n,children:"Photos, Logo & Publications"})}const Zi="data:image/png;base64,Cg==",Pn=({error:t,onClose:e})=>t?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},onClick:e,children:s.jsxs("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"10px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",width:"90%",textAlign:"center",border:"3px solid #ff4444"},onClick:r=>r.stopPropagation(),children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ff4444",marginBottom:"15px"},children:" Error"}),s.jsx("div",{style:{fontSize:"16px",color:"#333",marginBottom:"20px",lineHeight:"1.4"},children:t}),s.jsx("button",{style:{backgroundColor:"#ff4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold"},onClick:e,children:"OK"})]})}):null,Rn=({success:t,onClose:e})=>t?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:e,children:s.jsxs("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"10px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",width:"90%",textAlign:"center",border:"3px solid #00ff00"},onClick:r=>r.stopPropagation(),children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#00aa00",marginBottom:"15px"},children:" Success"}),s.jsx("div",{style:{fontSize:"16px",color:"#333",marginBottom:"20px",lineHeight:"1.4"},children:t}),s.jsx("button",{style:{backgroundColor:"#00aa00",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold"},onClick:e,children:"OK"})]})}):null,rn=({message:t="Loading..."})=>(v.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @keyframes loadingBar {
        0% {
          transform: scaleX(0);
        }
        50% {
          transform: scaleX(0.7);
        }
        100% {
          transform: scaleX(1);
        }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(2px)"},children:s.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #22c55e",borderRadius:"15px",padding:"30px 40px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",minWidth:"300px"},children:[s.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden",position:"relative"},children:s.jsx("div",{style:{height:"100%",backgroundColor:"#22c55e",borderRadius:"4px",animation:"loadingBar 2s ease-in-out infinite",transformOrigin:"left"}})}),s.jsx("span",{style:{color:"#22c55e",fontWeight:"600",fontSize:"16px",textAlign:"center"},children:t})]})}));function yL(){const[t,e]=v.useState([]),[r,n]=v.useState(null),[i,a]=v.useState("Algerian Judo Federation"),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,g]=v.useState(""),m=Ur(),f=Zi;return v.useEffect(()=>{(async()=>{const{data:j,error:_}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!_&&j&&e(j)})()},[]),v.useEffect(()=>{(async()=>{const{data:j,error:_}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!_&&j&&j.length>0&&n(j[0].logo_url)})()},[]),s.jsxs("div",{className:"app-container",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[r?s.jsx("img",{src:r,alt:"Logo Fdration",className:"federation-logo"}):s.jsx("img",{src:f,alt:"Logo Fdration",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:i||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{onLoadingStart:()=>l(!0)}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/TheAthleteList-Add")},children:"The Athlete List Add"})]})]}),c&&s.jsx(Pn,{message:c,onClose:()=>u("")}),d&&s.jsx(Rn,{message:d,onClose:()=>g("")}),o&&s.jsx(rn,{}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function kr(t){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(t)}var ba=Uint8Array,Oi=Uint16Array,Lm=Int32Array,Am=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),km=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pv=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dx=function(t,e){for(var r=new Oi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Lm(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Tx=Dx(Am,2),xL=Tx.b,l0=Tx.r;xL[28]=258,l0[258]=28;var _L=Dx(km,0),mv=_L.r,c0=new Oi(32768);for(var zr=0;zr<32768;++zr){var ks=(zr&43690)>>1|(zr&21845)<<1;ks=(ks&52428)>>2|(ks&13107)<<2,ks=(ks&61680)>>4|(ks&3855)<<4,c0[zr]=((ks&65280)>>8|(ks&255)<<8)>>1}var ou=function(t,e,r){for(var n=t.length,i=0,a=new Oi(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new Oi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Oi(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],g=o[t[i]-1]++<<d,m=g|(1<<d)-1;g<=m;++g)l[c0[g]>>c]=u}else for(l=new Oi(n),i=0;i<n;++i)t[i]&&(l[i]=c0[o[t[i]-1]++]>>15-t[i]);return l},Oo=new ba(288);for(var zr=0;zr<144;++zr)Oo[zr]=8;for(var zr=144;zr<256;++zr)Oo[zr]=9;for(var zr=256;zr<280;++zr)Oo[zr]=7;for(var zr=280;zr<288;++zr)Oo[zr]=8;var Ph=new ba(32);for(var zr=0;zr<32;++zr)Ph[zr]=5;var wL=ou(Oo,9,0),SL=ou(Ph,5,0),Ix=function(t){return(t+7)/8|0},jL=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ba(t.subarray(e,r))},Qa=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},$c=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Cg=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:Ox,l:0};if(i==1){var o=new ba(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,Y){return B.f-Y.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,g=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[g].f?u++:g++],c=r[u!=d&&r[u].f<r[g].f?u++:g++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var f=new Oi(m+1),x=u0(r[d-1],f,0);if(x>e){var n=0,j=0,_=x-e,b=1<<_;for(a.sort(function(Y,V){return f[V.s]-f[Y.s]||Y.f-V.f});n<i;++n){var N=a[n].s;if(f[N]>e)j+=b-(1<<x-f[N]),f[N]=e;else break}for(j>>=_;j>0;){var S=a[n].s;f[S]<e?j-=1<<e-f[S]++-1:++n}for(;n>=0&&j;--n){var C=a[n].s;f[C]==e&&(--f[C],++j)}x=e}return{t:new ba(f),l:x}},u0=function(t,e,r){return t.s==-1?Math.max(u0(t.l,e,r+1),u0(t.r,e,r+1)):e[t.s]=r},vv=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Oi(++e),n=0,i=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},zc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Rx=function(t,e,r){var n=r.length,i=Ix(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},bv=function(t,e,r,n,i,a,o,l,c,u,d){Qa(e,d++,r),++i[256];for(var g=Cg(i,15),m=g.t,f=g.l,x=Cg(a,15),j=x.t,_=x.l,b=vv(m),N=b.c,S=b.n,C=vv(j),B=C.c,Y=C.n,V=new Oi(19),T=0;T<N.length;++T)++V[N[T]&31];for(var T=0;T<B.length;++T)++V[B[T]&31];for(var $=Cg(V,7),Z=$.t,I=$.l,G=19;G>4&&!Z[pv[G-1]];--G);var de=u+5<<3,M=zc(i,Oo)+zc(a,Ph)+o,H=zc(i,m)+zc(a,j)+o+14+3*G+zc(V,Z)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&de<=M&&de<=H)return Rx(e,d,t.subarray(c,c+u));var ve,Le,ne,ye;if(Qa(e,d,1+(H<M)),d+=2,H<M){ve=ou(m,f,0),Le=m,ne=ou(j,_,0),ye=j;var Re=ou(Z,I,0);Qa(e,d,S-257),Qa(e,d+5,Y-1),Qa(e,d+10,G-4),d+=14;for(var T=0;T<G;++T)Qa(e,d+3*T,Z[pv[T]]);d+=3*G;for(var oe=[N,B],E=0;E<2;++E)for(var U=oe[E],T=0;T<U.length;++T){var Q=U[T]&31;Qa(e,d,Re[Q]),d+=Z[Q],Q>15&&(Qa(e,d,U[T]>>5&127),d+=U[T]>>12)}}else ve=wL,Le=Oo,ne=SL,ye=Ph;for(var T=0;T<l;++T){var ce=n[T];if(ce>255){var Q=ce>>18&31;$c(e,d,ve[Q+257]),d+=Le[Q+257],Q>7&&(Qa(e,d,ce>>23&31),d+=Am[Q]);var _e=ce&31;$c(e,d,ne[_e]),d+=ye[_e],_e>3&&($c(e,d,ce>>5&8191),d+=km[_e])}else $c(e,d,ve[ce]),d+=Le[ce]}return $c(e,d,ve[256]),d+Le[256]},NL=new Lm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ox=new ba(0),CL=function(t,e,r,n,i,a){var o=a.z||t.length,l=new ba(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var g=NL[e-1],m=g>>13,f=g&8191,x=(1<<r)-1,j=a.p||new Oi(32768),_=a.h||new Oi(x+1),b=Math.ceil(r/3),N=2*b,S=function(Oe){return(t[Oe]^t[Oe+1]<<b^t[Oe+2]<<N)&x},C=new Lm(25e3),B=new Oi(288),Y=new Oi(32),V=0,T=0,$=a.i||0,Z=0,I=a.w||0,G=0;$+2<o;++$){var de=S($),M=$&32767,H=_[de];if(j[M]=H,_[de]=M,I<=$){var ve=o-$;if((V>7e3||Z>24576)&&(ve>423||!u)){d=bv(t,c,0,C,B,Y,T,Z,G,$-G,d),Z=V=T=0,G=$;for(var Le=0;Le<286;++Le)B[Le]=0;for(var Le=0;Le<30;++Le)Y[Le]=0}var ne=2,ye=0,Re=f,oe=M-H&32767;if(ve>2&&de==S($-oe))for(var E=Math.min(m,ve)-1,U=Math.min(32767,$),Q=Math.min(258,ve);oe<=U&&--Re&&M!=H;){if(t[$+ne]==t[$+ne-oe]){for(var ce=0;ce<Q&&t[$+ce]==t[$+ce-oe];++ce);if(ce>ne){if(ne=ce,ye=oe,ce>E)break;for(var _e=Math.min(oe,ce-2),Ce=0,Le=0;Le<_e;++Le){var Be=$-oe+Le&32767,ke=j[Be],He=Be-ke&32767;He>Ce&&(Ce=He,H=Be)}}}M=H,H=j[M],oe+=M-H&32767}if(ye){C[Z++]=268435456|l0[ne]<<18|mv[ye];var Ke=l0[ne]&31,ot=mv[ye]&31;T+=Am[Ke]+km[ot],++B[257+Ke],++Y[ot],I=$+ne,++V}else C[Z++]=t[$],++B[t[$]]}}for($=Math.max($,I);$<o;++$)C[Z++]=t[$],++B[t[$]];d=bv(t,c,u,C,B,Y,T,Z,G,$-G,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=_,a.p=j,a.i=$,a.w=I)}else{for(var $=a.w||0;$<o+u;$+=65535){var Ge=$+65535;Ge>=o&&(c[d/8|0]=u,Ge=o),d=Rx(c,d+1,t.subarray($,Ge))}a.i=o}return jL(l,0,n+Ix(d)+i)},Bx=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},LL=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new ba(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return CL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Mx=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},AL=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Bx();i.p(e.dictionary),Mx(t,2,i.d())}};function d0(t,e){e||(e={});var r=Bx();r.p(t);var n=LL(t,e,e.dictionary?6:2,4);return AL(n,e),Mx(n,n.length-4,r.d()),n}var kL=typeof TextDecoder<"u"&&new TextDecoder,PL=0;try{kL.decode(Ox,{stream:!0}),PL=1}catch{}function EL(t){if(Array.isArray(t))return t}function FL(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DL(t,e){if(t){if(typeof t=="string")return yv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yv(t,e):void 0}}function TL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(t,e){return EL(t)||FL(t,e)||DL(t,e)||TL()}function _v(t,e="utf8"){return new TextDecoder(e).decode(t)}const IL=new TextEncoder;function RL(t){return IL.encode(t)}const OL=1024*8,BL=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Lg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Pm{constructor(e=OL,r={}){Ar(this,"buffer");Ar(this,"byteLength");Ar(this,"byteOffset");Ar(this,"length");Ar(this,"offset");Ar(this,"lastWrittenByte");Ar(this,"littleEndian");Ar(this,"_data");Ar(this,"_mark");Ar(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Pm)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Lg[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===BL&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new Lg[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Lg[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return _v(this.readBytes(e))}decodeText(e=1,r="utf8"){return _v(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(RL(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function lc(t){let e=t.length;for(;--e>=0;)t[e]=0}const ML=3,UL=258,Ux=29,qL=256,$L=qL+1+Ux,qx=30,zL=512,WL=new Array(($L+2)*2);lc(WL);const HL=new Array(qx*2);lc(HL);const GL=new Array(zL);lc(GL);const YL=new Array(UL-ML+1);lc(YL);const VL=new Array(Ux);lc(VL);const JL=new Array(qx);lc(JL);const KL=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var h0=KL;const QL=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},XL=new Uint32Array(QL()),ZL=(t,e,r,n)=>{const i=XL,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Pa=ZL,f0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$x={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)eA(r,n)&&(t[n]=r[n])}}return t},rA=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},zx={assign:tA,flattenChunks:rA};let Wx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wx=!1}const Eu=new Uint8Array(256);for(let t=0;t<256;t++)Eu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Eu[254]=Eu[254]=1;var nA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const iA=(t,e)=>{if(e<65534&&t.subarray&&Wx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var aA=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=Eu[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return iA(a,i)},sA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Eu[t[r]]>e?r:e},g0={string2buf:nA,buf2string:aA,utf8border:sA};function oA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lA=oA;const kd=16209,cA=16191;var uA=function(e,r){let n,i,a,o,l,c,u,d,g,m,f,x,j,_,b,N,S,C,B,Y,V,T,$,Z;const I=e.state;n=e.next_in,$=e.input,i=n+(e.avail_in-5),a=e.next_out,Z=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=I.dmax,u=I.wsize,d=I.whave,g=I.wnext,m=I.window,f=I.hold,x=I.bits,j=I.lencode,_=I.distcode,b=(1<<I.lenbits)-1,N=(1<<I.distbits)-1;e:do{x<15&&(f+=$[n++]<<x,x+=8,f+=$[n++]<<x,x+=8),S=j[f&b];t:for(;;){if(C=S>>>24,f>>>=C,x-=C,C=S>>>16&255,C===0)Z[a++]=S&65535;else if(C&16){B=S&65535,C&=15,C&&(x<C&&(f+=$[n++]<<x,x+=8),B+=f&(1<<C)-1,f>>>=C,x-=C),x<15&&(f+=$[n++]<<x,x+=8,f+=$[n++]<<x,x+=8),S=_[f&N];r:for(;;){if(C=S>>>24,f>>>=C,x-=C,C=S>>>16&255,C&16){if(Y=S&65535,C&=15,x<C&&(f+=$[n++]<<x,x+=8,x<C&&(f+=$[n++]<<x,x+=8)),Y+=f&(1<<C)-1,Y>c){e.msg="invalid distance too far back",I.mode=kd;break e}if(f>>>=C,x-=C,C=a-o,Y>C){if(C=Y-C,C>d&&I.sane){e.msg="invalid distance too far back",I.mode=kd;break e}if(V=0,T=m,g===0){if(V+=u-C,C<B){B-=C;do Z[a++]=m[V++];while(--C);V=a-Y,T=Z}}else if(g<C){if(V+=u+g-C,C-=g,C<B){B-=C;do Z[a++]=m[V++];while(--C);if(V=0,g<B){C=g,B-=C;do Z[a++]=m[V++];while(--C);V=a-Y,T=Z}}}else if(V+=g-C,C<B){B-=C;do Z[a++]=m[V++];while(--C);V=a-Y,T=Z}for(;B>2;)Z[a++]=T[V++],Z[a++]=T[V++],Z[a++]=T[V++],B-=3;B&&(Z[a++]=T[V++],B>1&&(Z[a++]=T[V++]))}else{V=a-Y;do Z[a++]=Z[V++],Z[a++]=Z[V++],Z[a++]=Z[V++],B-=3;while(B>2);B&&(Z[a++]=Z[V++],B>1&&(Z[a++]=Z[V++]))}}else if(C&64){e.msg="invalid distance code",I.mode=kd;break e}else{S=_[(S&65535)+(f&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){I.mode=cA;break e}else{e.msg="invalid literal/length code",I.mode=kd;break e}else{S=j[(S&65535)+(f&(1<<C)-1)];continue t}break}}while(n<i&&a<l);B=x>>3,n-=B,x-=B<<3,f&=(1<<x)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),I.hold=f,I.bits=x};const dl=15,wv=852,Sv=592,jv=0,Ag=1,Nv=2,dA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pA=(t,e,r,n,i,a,o,l)=>{const c=l.bits;let u=0,d=0,g=0,m=0,f=0,x=0,j=0,_=0,b=0,N=0,S,C,B,Y,V,T=null,$;const Z=new Uint16Array(dl+1),I=new Uint16Array(dl+1);let G=null,de,M,H;for(u=0;u<=dl;u++)Z[u]=0;for(d=0;d<n;d++)Z[e[r+d]]++;for(f=c,m=dl;m>=1&&Z[m]===0;m--);if(f>m&&(f=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<m&&Z[g]===0;g++);for(f<g&&(f=g),_=1,u=1;u<=dl;u++)if(_<<=1,_-=Z[u],_<0)return-1;if(_>0&&(t===jv||m!==1))return-1;for(I[1]=0,u=1;u<dl;u++)I[u+1]=I[u]+Z[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[I[e[r+d]]++]=d);if(t===jv?(T=G=o,$=20):t===Ag?(T=dA,G=hA,$=257):(T=fA,G=gA,$=0),N=0,d=0,u=g,V=a,x=f,j=0,B=-1,b=1<<f,Y=b-1,t===Ag&&b>wv||t===Nv&&b>Sv)return 1;for(;;){de=u-j,o[d]+1<$?(M=0,H=o[d]):o[d]>=$?(M=G[o[d]-$],H=T[o[d]-$]):(M=96,H=0),S=1<<u-j,C=1<<x,g=C;do C-=S,i[V+(N>>j)+C]=de<<24|M<<16|H|0;while(C!==0);for(S=1<<u-1;N&S;)S>>=1;if(S!==0?(N&=S-1,N+=S):N=0,d++,--Z[u]===0){if(u===m)break;u=e[r+o[d]]}if(u>f&&(N&Y)!==B){for(j===0&&(j=f),V+=g,x=u-j,_=1<<x;x+j<m&&(_-=Z[x+j],!(_<=0));)x++,_<<=1;if(b+=1<<x,t===Ag&&b>wv||t===Nv&&b>Sv)return 1;B=N&Y,i[B]=f<<24|x<<16|V-a|0}}return N!==0&&(i[V+N]=u-j<<24|64<<16|0),l.bits=f,0};var lu=pA;const mA=0,Hx=1,Gx=2,{Z_FINISH:Cv,Z_BLOCK:vA,Z_TREES:Pd,Z_OK:Bo,Z_STREAM_END:bA,Z_NEED_DICT:yA,Z_STREAM_ERROR:ea,Z_DATA_ERROR:Yx,Z_MEM_ERROR:Vx,Z_BUF_ERROR:xA,Z_DEFLATED:Lv}=$x,cf=16180,Av=16181,kv=16182,Pv=16183,Ev=16184,Fv=16185,Dv=16186,Tv=16187,Iv=16188,Rv=16189,Eh=16190,Xa=16191,kg=16192,Ov=16193,Pg=16194,Bv=16195,Mv=16196,Uv=16197,qv=16198,Ed=16199,Fd=16200,$v=16201,zv=16202,Wv=16203,Hv=16204,Gv=16205,Eg=16206,Yv=16207,Vv=16208,Hr=16209,Jx=16210,Kx=16211,_A=852,wA=592,SA=15,jA=SA,Jv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function NA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $o=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cf||e.mode>Kx?1:0},Qx=t=>{if($o(t))return ea;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_A),e.distcode=e.distdyn=new Int32Array(wA),e.sane=1,e.back=-1,Bo},Xx=t=>{if($o(t))return ea;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Qx(t)},Zx=(t,e)=>{let r;if($o(t))return ea;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ea:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Xx(t))},e_=(t,e)=>{if(!t)return ea;const r=new NA;t.state=r,r.strm=t,r.window=null,r.mode=cf;const n=Zx(t,e);return n!==Bo&&(t.state=null),n},CA=t=>e_(t,jA);let Kv=!0,Fg,Dg;const LA=t=>{if(Kv){Fg=new Int32Array(512),Dg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(lu(Hx,t.lens,0,288,Fg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;lu(Gx,t.lens,0,32,Dg,0,t.work,{bits:5}),Kv=!1}t.lencode=Fg,t.lenbits=9,t.distcode=Dg,t.distbits=5},t_=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},AA=(t,e)=>{let r,n,i,a,o,l,c,u,d,g,m,f,x,j,_=0,b,N,S,C,B,Y,V,T;const $=new Uint8Array(4);let Z,I;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($o(t)||!t.output||!t.input&&t.avail_in!==0)return ea;r=t.state,r.mode===Xa&&(r.mode=kg),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,g=l,m=c,T=Bo;e:for(;;)switch(r.mode){case cf:if(r.wrap===0){r.mode=kg;break}for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0),u=0,d=0,r.mode=Av;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Hr;break}if((u&15)!==Lv){t.msg="unknown compression method",r.mode=Hr;break}if(u>>>=4,d-=4,V=(u&15)+8,r.wbits===0&&(r.wbits=V),V>15||V>r.wbits){t.msg="invalid window size",r.mode=Hr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?Rv:Xa,u=0,d=0;break;case Av:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==Lv){t.msg="unknown compression method",r.mode=Hr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Hr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0,r.mode=kv;case kv:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,$[2]=u>>>16&255,$[3]=u>>>24&255,r.check=Pa(r.check,$,4,0)),u=0,d=0,r.mode=Pv;case Pv:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0,r.mode=Ev;case Ev:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=Fv;case Fv:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),V)),r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=Dv;case Dv:if(r.flags&2048){if(l===0)break e;f=0;do V=n[a+f++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Tv;case Tv:if(r.flags&4096){if(l===0)break e;f=0;do V=n[a+f++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,V)break e}else r.head&&(r.head.comment=null);r.mode=Iv;case Iv:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Hr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Xa;break;case Rv:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}t.adler=r.check=Jv(u),u=0,d=0,r.mode=Eh;case Eh:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,yA;t.adler=r.check=1,r.mode=Xa;case Xa:if(e===vA||e===Pd)break e;case kg:if(r.last){u>>>=d&7,d-=d&7,r.mode=Eg;break}for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=Ov;break;case 1:if(LA(r),r.mode=Ed,e===Pd){u>>>=2,d-=2;break e}break;case 2:r.mode=Mv;break;case 3:t.msg="invalid block type",r.mode=Hr}u>>>=2,d-=2;break;case Ov:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Hr;break}if(r.length=u&65535,u=0,d=0,r.mode=Pg,e===Pd)break e;case Pg:r.mode=Bv;case Bv:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;i.set(n.subarray(a,a+f),o),l-=f,a+=f,c-=f,o+=f,r.length-=f;break}r.mode=Xa;break;case Mv:for(;d<14;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Hr;break}r.have=0,r.mode=Uv;case Uv:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.lens[G[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},T=lu(mA,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,T){t.msg="invalid code lengths set",r.mode=Hr;break}r.have=0,r.mode=qv;case qv:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[u&(1<<r.lenbits)-1],b=_>>>24,N=_>>>16&255,S=_&65535,!(b<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(S<16)u>>>=b,d-=b,r.lens[r.have++]=S;else{if(S===16){for(I=b+2;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Hr;break}V=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(S===17){for(I=b+3;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,V=0,f=3+(u&7),u>>>=3,d-=3}else{for(I=b+7;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,V=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Hr;break}for(;f--;)r.lens[r.have++]=V}}if(r.mode===Hr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Hr;break}if(r.lenbits=9,Z={bits:r.lenbits},T=lu(Hx,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,T){t.msg="invalid literal/lengths set",r.mode=Hr;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},T=lu(Gx,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,T){t.msg="invalid distances set",r.mode=Hr;break}if(r.mode=Ed,e===Pd)break e;case Ed:r.mode=Fd;case Fd:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,uA(t,m),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Xa&&(r.back=-1);break}for(r.back=0;_=r.lencode[u&(1<<r.lenbits)-1],b=_>>>24,N=_>>>16&255,S=_&65535,!(b<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(N&&!(N&240)){for(C=b,B=N,Y=S;_=r.lencode[Y+((u&(1<<C+B)-1)>>C)],b=_>>>24,N=_>>>16&255,S=_&65535,!(C+b<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,r.back+=C}if(u>>>=b,d-=b,r.back+=b,r.length=S,N===0){r.mode=Gv;break}if(N&32){r.back=-1,r.mode=Xa;break}if(N&64){t.msg="invalid literal/length code",r.mode=Hr;break}r.extra=N&15,r.mode=$v;case $v:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zv;case zv:for(;_=r.distcode[u&(1<<r.distbits)-1],b=_>>>24,N=_>>>16&255,S=_&65535,!(b<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(!(N&240)){for(C=b,B=N,Y=S;_=r.distcode[Y+((u&(1<<C+B)-1)>>C)],b=_>>>24,N=_>>>16&255,S=_&65535,!(C+b<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=C,d-=C,r.back+=C}if(u>>>=b,d-=b,r.back+=b,N&64){t.msg="invalid distance code",r.mode=Hr;break}r.offset=S,r.extra=N&15,r.mode=Wv;case Wv:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Hr;break}r.mode=Hv;case Hv:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Hr;break}f>r.wnext?(f-=r.wnext,x=r.wsize-f):x=r.wnext-f,f>r.length&&(f=r.length),j=r.window}else j=i,x=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do i[o++]=j[x++];while(--f);r.length===0&&(r.mode=Fd);break;case Gv:if(c===0)break e;i[o++]=r.length,c--,r.mode=Fd;break;case Eg:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[a++]<<d,d+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Pa(r.check,i,m,o-m):h0(r.check,i,m,o-m)),m=c,r.wrap&4&&(r.flags?u:Jv(u))!==r.check){t.msg="incorrect data check",r.mode=Hr;break}u=0,d=0}r.mode=Yv;case Yv:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Hr;break}u=0,d=0}r.mode=Vv;case Vv:T=bA;break e;case Hr:T=Yx;break e;case Jx:return Vx;case Kx:default:return ea}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==t.avail_out&&r.mode<Hr&&(r.mode<Eg||e!==Cv))&&t_(t,t.output,t.next_out,m-t.avail_out),g-=t.avail_in,m-=t.avail_out,t.total_in+=g,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Pa(r.check,i,m,t.next_out-m):h0(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Xa?128:0)+(r.mode===Ed||r.mode===Pg?256:0),(g===0&&m===0||e===Cv)&&T===Bo&&(T=xA),T},kA=t=>{if($o(t))return ea;let e=t.state;return e.window&&(e.window=null),t.state=null,Bo},PA=(t,e)=>{if($o(t))return ea;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Bo):ea},EA=(t,e)=>{const r=e.length;let n,i,a;return $o(t)||(n=t.state,n.wrap!==0&&n.mode!==Eh)?ea:n.mode===Eh&&(i=1,i=h0(i,e,r,0),i!==n.check)?Yx:(a=t_(t,e,r,r),a?(n.mode=Jx,Vx):(n.havedict=1,Bo))};var FA=Xx,DA=Zx,TA=Qx,IA=CA,RA=e_,OA=AA,BA=kA,MA=PA,UA=EA,qA="pako inflate (from Nodeca project)",ns={inflateReset:FA,inflateReset2:DA,inflateResetKeep:TA,inflateInit:IA,inflateInit2:RA,inflate:OA,inflateEnd:BA,inflateGetHeader:MA,inflateSetDictionary:UA,inflateInfo:qA};function $A(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zA=$A;const r_=Object.prototype.toString,{Z_NO_FLUSH:WA,Z_FINISH:HA,Z_OK:Fu,Z_STREAM_END:Tg,Z_NEED_DICT:Ig,Z_STREAM_ERROR:GA,Z_DATA_ERROR:Qv,Z_MEM_ERROR:YA}=$x;function qu(t){this.options=zx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lA,this.strm.avail_out=0;let r=ns.inflateInit2(this.strm,e.windowBits);if(r!==Fu)throw new Error(f0[r]);if(this.header=new zA,ns.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=g0.string2buf(e.dictionary):r_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ns.inflateSetDictionary(this.strm,e.dictionary),r!==Fu)))throw new Error(f0[r])}qu.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?HA:WA,r_.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ns.inflate(r,o),a===Ig&&i&&(a=ns.inflateSetDictionary(r,i),a===Fu?a=ns.inflate(r,o):a===Qv&&(a=Ig));r.avail_in>0&&a===Tg&&r.state.wrap>0&&t[r.next_in]!==0;)ns.inflateReset(r),a=ns.inflate(r,o);switch(a){case GA:case Qv:case Ig:case YA:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===Tg))if(this.options.to==="string"){let c=g0.utf8border(r.output,r.next_out),u=r.next_out-c,d=g0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Fu&&l===0)){if(a===Tg)return a=ns.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};qu.prototype.onData=function(t){this.chunks.push(t)};qu.prototype.onEnd=function(t){t===Fu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function VA(t,e){const r=new qu(e);if(r.push(t),r.err)throw r.msg||f0[r.err];return r.result}var JA=qu,KA=VA,QA={Inflate:JA,inflate:KA};const{Inflate:XA,inflate:ZA}=QA;var Xv=XA,e6=ZA;const n_=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;n_[t]=e}const Zv=4294967295;function t6(t,e,r){let n=t;for(let i=0;i<r;i++)n=n_[(n^e[i])&255]^n>>>8;return n}function r6(t,e){return(t6(Zv,t,e)^Zv)>>>0}function eb(t,e,r){const n=t.readUint32(),i=r6(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function i_(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function a_(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function s_(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function o_(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function l_(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+n6(e[a-i],r[a],r[a-i])&255}}function n6(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function i6(t,e,r,n,i,a){switch(t){case 0:i_(e,r,i);break;case 1:a_(e,r,i,a);break;case 2:s_(e,r,n,i);break;case 3:o_(e,r,n,i,a);break;case 4:l_(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const a6=new Uint16Array([255]),s6=new Uint8Array(a6.buffer),o6=s6[0]===255;function l6(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const g=o[d],m=Math.ceil((r-g.x)/g.xStep),f=Math.ceil((n-g.y)/g.yStep);if(m<=0||f<=0)continue;const x=m*l,j=new Uint8Array(x);for(let _=0;_<f;_++){const b=e[u++],N=e.subarray(u,u+x);u+=x;const S=new Uint8Array(x);i6(b,N,S,j,x,l),j.set(S);for(let C=0;C<m;C++){const B=g.x+C*g.xStep,Y=g.y+_*g.yStep;if(!(B>=r||Y>=n))for(let V=0;V<l;V++)c[(Y*r+B)*l+V]=S[C*l+V]}}}if(a===16){const d=new Uint16Array(c.buffer);if(o6)for(let g=0;g<d.length;g++)d[g]=c6(d[g]);return d}else return c}function c6(t){return(t&255)<<8|t>>8&255}const u6=new Uint16Array([255]),d6=new Uint8Array(u6.buffer),h6=d6[0]===255,f6=new Uint8Array(0);function tb(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let u=f6,d=0,g,m;for(let f=0;f<n;f++){switch(g=e.subarray(d+1,d+1+l),m=c.subarray(f*l,(f+1)*l),e[d]){case 0:i_(g,m,l);break;case 1:a_(g,m,l,o);break;case 2:s_(g,m,u,l);break;case 3:o_(g,m,u,l,o);break;case 4:l_(g,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(a===16){const f=new Uint16Array(c.buffer);if(h6)for(let x=0;x<f.length;x++)f[x]=g6(f[x]);return f}else return c}function g6(t){return(t&255)<<8|t>>8&255}const Xd=Uint8Array.of(137,80,78,71,13,10,26,10);function rb(t){if(!p6(t.readBytes(Xd.length)))throw new Error("wrong PNG signature")}function p6(t){if(t.length<Xd.length)return!1;for(let e=0;e<Xd.length;e++)if(t[e]!==Xd[e])return!1;return!0}const m6="tEXt",v6=0,c_=new TextDecoder("latin1");function b6(t){if(x6(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const y6=/^[\u0000-\u00FF]*$/;function x6(t){if(!y6.test(t))throw new Error("invalid latin1 text")}function _6(t,e,r){const n=u_(e);t[n]=w6(e,r-n.length-1)}function u_(t){for(t.mark();t.readByte()!==v6;);const e=t.offset;t.reset();const r=c_.decode(t.readBytes(e-t.offset-1));return t.skip(1),b6(r),r}function w6(t,e){return c_.decode(t.readBytes(e))}const Ti={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rg={UNKNOWN:-1,DEFLATE:0},nb={UNKNOWN:-1,ADAPTIVE:0},Og={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dd={NONE:0,BACKGROUND:1,PREVIOUS:2},Bg={SOURCE:0,OVER:1};class S6 extends Pm{constructor(r,n={}){super(r);Ar(this,"_checkCrc");Ar(this,"_inflator");Ar(this,"_png");Ar(this,"_apng");Ar(this,"_end");Ar(this,"_hasPalette");Ar(this,"_palette");Ar(this,"_hasTransparency");Ar(this,"_transparency");Ar(this,"_compressionMethod");Ar(this,"_filterMethod");Ar(this,"_interlaceMethod");Ar(this,"_colorType");Ar(this,"_isAnimated");Ar(this,"_numberOfFrames");Ar(this,"_numberOfPlays");Ar(this,"_frames");Ar(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Xv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rg.UNKNOWN,this._filterMethod=nb.UNKNOWN,this._interlaceMethod=Og.UNKNOWN,this._colorType=Ti.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(rb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(rb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case m6:_6(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?eb(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?eb(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=j6(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ti.GREYSCALE:i=1;break;case Ti.TRUECOLOUR:i=3;break;case Ti.INDEXED_COLOUR:i=1;break;case Ti.GREYSCALE_ALPHA:i=2;break;case Ti.TRUECOLOUR_ALPHA:i=4;break;case Ti.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ti.GREYSCALE:case Ti.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ti.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ti.UNKNOWN:case Ti.GREYSCALE_ALPHA:case Ti.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=u_(this),i=this.readUint8();if(i!==Rg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:e6(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=tb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Dd.NONE:break;case Dd.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Dd.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Bg.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Bg.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const g=n.data[u+this._png.channels-1]/i,m=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(g*m+(1-g)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==nb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Og.NO_INTERLACE)this._png.data=tb({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Og.ADAM7)this._png.data=l6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dd.NONE,blendOp:Bg.SOURCE,data:r}),this._inflator=new Xv,this._writingDataChunks=!1}}function j6(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ib;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ib||(ib={}));function N6(t,e){return new S6(t,e).decode()}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Mg(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var Tr={log:Mg,warn:function(t){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):Mg.call(null,arguments))},error:function(t){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):Mg(t))}};function Ug(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){wo(n.response,e,r)},n.onerror=function(){Tr.error("could not download file")},n.send()}function ab(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Td(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wo=nr.saveAs||((typeof window>"u"?"undefined":kr(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=nr.URL||nr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ab(i.href)?Ug(t,e,r):Td(i,i.target="_blank"):Td(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Td(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(ab(t))Ug(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Td(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:kr(a)!=="object"&&(Tr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ug(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(nr.HTMLElement)||nr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":kr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=nr.URL||nr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function d_(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Zd=nr.atob.bind(nr),sb=nr.btoa.bind(nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qg(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Yn(r,n,i,a,e[0],7,-680876936),a=Yn(a,r,n,i,e[1],12,-389564586),i=Yn(i,a,r,n,e[2],17,606105819),n=Yn(n,i,a,r,e[3],22,-1044525330),r=Yn(r,n,i,a,e[4],7,-176418897),a=Yn(a,r,n,i,e[5],12,1200080426),i=Yn(i,a,r,n,e[6],17,-1473231341),n=Yn(n,i,a,r,e[7],22,-45705983),r=Yn(r,n,i,a,e[8],7,1770035416),a=Yn(a,r,n,i,e[9],12,-1958414417),i=Yn(i,a,r,n,e[10],17,-42063),n=Yn(n,i,a,r,e[11],22,-1990404162),r=Yn(r,n,i,a,e[12],7,1804603682),a=Yn(a,r,n,i,e[13],12,-40341101),i=Yn(i,a,r,n,e[14],17,-1502002290),r=Vn(r,n=Yn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Vn(a,r,n,i,e[6],9,-1069501632),i=Vn(i,a,r,n,e[11],14,643717713),n=Vn(n,i,a,r,e[0],20,-373897302),r=Vn(r,n,i,a,e[5],5,-701558691),a=Vn(a,r,n,i,e[10],9,38016083),i=Vn(i,a,r,n,e[15],14,-660478335),n=Vn(n,i,a,r,e[4],20,-405537848),r=Vn(r,n,i,a,e[9],5,568446438),a=Vn(a,r,n,i,e[14],9,-1019803690),i=Vn(i,a,r,n,e[3],14,-187363961),n=Vn(n,i,a,r,e[8],20,1163531501),r=Vn(r,n,i,a,e[13],5,-1444681467),a=Vn(a,r,n,i,e[2],9,-51403784),i=Vn(i,a,r,n,e[7],14,1735328473),r=Jn(r,n=Vn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Jn(a,r,n,i,e[8],11,-2022574463),i=Jn(i,a,r,n,e[11],16,1839030562),n=Jn(n,i,a,r,e[14],23,-35309556),r=Jn(r,n,i,a,e[1],4,-1530992060),a=Jn(a,r,n,i,e[4],11,1272893353),i=Jn(i,a,r,n,e[7],16,-155497632),n=Jn(n,i,a,r,e[10],23,-1094730640),r=Jn(r,n,i,a,e[13],4,681279174),a=Jn(a,r,n,i,e[0],11,-358537222),i=Jn(i,a,r,n,e[3],16,-722521979),n=Jn(n,i,a,r,e[6],23,76029189),r=Jn(r,n,i,a,e[9],4,-640364487),a=Jn(a,r,n,i,e[12],11,-421815835),i=Jn(i,a,r,n,e[15],16,530742520),r=Kn(r,n=Jn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Kn(a,r,n,i,e[7],10,1126891415),i=Kn(i,a,r,n,e[14],15,-1416354905),n=Kn(n,i,a,r,e[5],21,-57434055),r=Kn(r,n,i,a,e[12],6,1700485571),a=Kn(a,r,n,i,e[3],10,-1894986606),i=Kn(i,a,r,n,e[10],15,-1051523),n=Kn(n,i,a,r,e[1],21,-2054922799),r=Kn(r,n,i,a,e[8],6,1873313359),a=Kn(a,r,n,i,e[15],10,-30611744),i=Kn(i,a,r,n,e[6],15,-1560198380),n=Kn(n,i,a,r,e[13],21,1309151649),r=Kn(r,n,i,a,e[4],6,-145523070),a=Kn(a,r,n,i,e[11],10,-1120210379),i=Kn(i,a,r,n,e[2],15,718787259),n=Kn(n,i,a,r,e[9],21,-343485551),t[0]=Us(r,t[0]),t[1]=Us(n,t[1]),t[2]=Us(i,t[2]),t[3]=Us(a,t[3])}function uf(t,e,r,n,i,a){return e=Us(Us(e,t),Us(n,a)),Us(e<<i|e>>>32-i,r)}function Yn(t,e,r,n,i,a,o){return uf(e&r|~e&n,t,e,i,a,o)}function Vn(t,e,r,n,i,a,o){return uf(e&n|r&~n,t,e,i,a,o)}function Jn(t,e,r,n,i,a,o){return uf(e^r^n,t,e,i,a,o)}function Kn(t,e,r,n,i,a,o){return uf(r^(e|~n),t,e,i,a,o)}function h_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qg(n,C6(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qg(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,qg(n,i),n}function C6(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ob="0123456789abcdef".split("");function L6(t){for(var e="",r=0;r<4;r++)e+=ob[t>>8*r+4&15]+ob[t>>8*r&15];return e}function A6(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function p0(t){return h_(t).map(A6).join("")}var k6=function(t){for(var e=0;e<t.length;e++)t[e]=L6(t[e]);return t.join("")}(h_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Us(t,e){if(k6){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m0(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var g=e.length,m=0,f=0,x="";for(c=0;c<g;c++)f=(f+(d=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=d,o=l[(l[m]+l[f])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lb={print:4,modify:8,copy:16,"annot-forms":32};function ml(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(lb.perm!==void 0)throw new Error("Invalid permission: "+l);i+=lb[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=p0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=m0(this.encryptionKey,this.padding)}function vl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function cb(t){if(kr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){nr.console&&Tr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fh(t){if(!(this instanceof Fh))return new Fh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function f_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function jo(t,e,r,n,i){if(!(this instanceof jo))return new jo(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,f_.call(this,n,i)}function Pl(t,e,r,n,i){if(!(this instanceof Pl))return new Pl(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,f_.call(this,n,i)}function At(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;kr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=cb;var x="1.3",j=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(y){x=y};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var b=f.__private__.getPageFormat=function(y){return _[y]};i=i||"a4";var N="compat",S="advanced",C=N;function B(){this.saveGraphicsState(),le(new bt(St,0,0,-St,0,Ci()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),u="n",C=S}function Y(){this.restoreGraphicsState(),u="S",C=N}var V=f.__private__.combineFontStyleAndFontWeight=function(y,O){if(y=="bold"&&O=="normal"||y=="bold"&&O==400||y=="normal"&&O=="italic"||y=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(y=O==400||O==="normal"?y==="italic"?"italic":"normal":O!=700&&O!=="bold"||y!=="normal"?(O==700?"bold":O)+""+y:"bold"),y};f.advancedAPI=function(y){var O=C===N;return O&&B.call(this),typeof y!="function"||(y(this),O&&Y.call(this)),this},f.compatAPI=function(y){var O=C===S;return O&&Y.call(this),typeof y!="function"||(y(this),O&&B.call(this)),this},f.isAdvancedAPI=function(){return C===S};var T,$=function(y){if(C!==S)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=f.roundToPrecision=f.__private__.roundToPrecision=function(y,O){var ge=e||O;if(isNaN(y)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ge).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof c=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(y,c)}:c==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(y,16)};var I=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return Z(y,2)},G=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return Z(y,3)},de=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return C===N?y*St:C===S?y:void 0},M=function(y){return de(function(O){return C===N?Ci()-O:C===S?O:void 0}(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var H,ve="00000000000000000000000000000000",Le=f.__private__.getFileId=function(){return ve},ne=f.__private__.setFileId=function(y){return ve=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(jr=new ml(d.userPermissions,d.userPassword,d.ownerPassword,ve)),ve};f.setFileId=function(y){return ne(y),this},f.getFileId=function(){return Le()};var ye=f.__private__.convertDateToPDFDate=function(y){var O=y.getTimezoneOffset(),ge=O<0?"+":"-",je=Math.floor(Math.abs(O/60)),Ue=Math.abs(O%60),ct=[ge,Q(je),"'",Q(Ue),"'"].join("");return["D:",y.getFullYear(),Q(y.getMonth()+1),Q(y.getDate()),Q(y.getHours()),Q(y.getMinutes()),Q(y.getSeconds()),ct].join("")},Re=f.__private__.convertPDFDateToDate=function(y){var O=parseInt(y.substr(2,4),10),ge=parseInt(y.substr(6,2),10)-1,je=parseInt(y.substr(8,2),10),Ue=parseInt(y.substr(10,2),10),ct=parseInt(y.substr(12,2),10),vt=parseInt(y.substr(14,2),10);return new Date(O,ge,je,Ue,ct,vt,0)},oe=f.__private__.setCreationDate=function(y){var O;if(y===void 0&&(y=new Date),y instanceof Date)O=ye(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=y}return H=O},E=f.__private__.getCreationDate=function(y){var O=H;return y==="jsDate"&&(O=Re(H)),O};f.setCreationDate=function(y){return oe(y),this},f.getCreationDate=function(y){return E(y)};var U,Q=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ce=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},_e=0,Ce=[],Be=[],ke=0,He=[],Ke=[],ot=!1,Ge=Be;f.__private__.setCustomOutputDestination=function(y){ot=!0,Ge=y};var Oe=function(y){ot||(Ge=y)};f.__private__.resetCustomOutputDestination=function(){ot=!1,Ge=Be};var le=f.__private__.out=function(y){return y=y.toString(),ke+=y.length+1,Ge.push(y),Ge},kt=f.__private__.write=function(y){return le(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Pt=f.__private__.getArrayBuffer=function(y){for(var O=y.length,ge=new ArrayBuffer(O),je=new Uint8Array(ge);O--;)je[O]=y.charCodeAt(O);return ge},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return We};var Me=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Me=C===S?y/St:y,this};var ht,lt=f.__private__.getFontSize=f.getFontSize=function(){return C===N?Me:Me*St},_t=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return _t=y,this},f.__private__.getR2L=f.getR2L=function(){return _t};var Lt,Ot=f.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))ht=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');ht=y}else ht=parseInt(y,10)};f.__private__.getZoomMode=function(){return ht};var nt,yt=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Lt=y};f.__private__.getPageMode=function(){return Lt};var Bt=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');nt=y};f.__private__.getLayoutMode=function(){return nt},f.__private__.setDisplayMode=f.setDisplayMode=function(y,O,ge){return Ot(y),Bt(O),yt(ge),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[y]},f.__private__.getDocumentProperties=function(){return gt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var O in gt)gt.hasOwnProperty(O)&&y[O]&&(gt[O]=y[O]);return this},f.__private__.setDocumentProperty=function(y,O){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[y]=O};var Nt,St,Ft,wt,Qt,Pe={},me={},De=[],ut={},$e={},ze={},Jt={},Ut=null,qt=0,Mt=[],Fe=new cb(f),z=t.hotfixes||[],Ee={},st={},tt=[],bt=function y(O,ge,je,Ue,ct,vt){if(!(this instanceof y))return new y(O,ge,je,Ue,ct,vt);isNaN(O)&&(O=1),isNaN(ge)&&(ge=0),isNaN(je)&&(je=0),isNaN(Ue)&&(Ue=1),isNaN(ct)&&(ct=0),isNaN(vt)&&(vt=0),this._matrix=[O,ge,je,Ue,ct,vt]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(y)},bt.prototype.multiply=function(y){var O=y.sx*this.sx+y.shy*this.shx,ge=y.sx*this.shy+y.shy*this.sy,je=y.shx*this.sx+y.sy*this.shx,Ue=y.shx*this.shy+y.sy*this.sy,ct=y.tx*this.sx+y.ty*this.shx+this.tx,vt=y.tx*this.shy+y.ty*this.sy+this.ty;return new bt(O,ge,je,Ue,ct,vt)},bt.prototype.decompose=function(){var y=this.sx,O=this.shy,ge=this.shx,je=this.sy,Ue=this.tx,ct=this.ty,vt=Math.sqrt(y*y+O*O),Ht=(y/=vt)*ge+(O/=vt)*je;ge-=y*Ht,je-=O*Ht;var Kt=Math.sqrt(ge*ge+je*je);return Ht/=Kt,y*(je/=Kt)<O*(ge/=Kt)&&(y=-y,O=-O,Ht=-Ht,vt=-vt),{scale:new bt(vt,0,0,Kt,0,0),translate:new bt(1,0,0,1,Ue,ct),rotate:new bt(y,O,-O,y,0,0),skew:new bt(1,0,Ht,1,0,0)}},bt.prototype.toString=function(y){return this.join(" ")},bt.prototype.inversed=function(){var y=this.sx,O=this.shy,ge=this.shx,je=this.sy,Ue=this.tx,ct=this.ty,vt=1/(y*je-O*ge),Ht=je*vt,Kt=-O*vt,rr=-ge*vt,cr=y*vt;return new bt(Ht,Kt,rr,cr,-Ht*Ue-rr*ct,-Kt*Ue-cr*ct)},bt.prototype.applyToPoint=function(y){var O=y.x*this.sx+y.y*this.shx+this.tx,ge=y.x*this.shy+y.y*this.sy+this.ty;return new co(O,ge)},bt.prototype.applyToRectangle=function(y){var O=this.applyToPoint(y),ge=this.applyToPoint(new co(y.x+y.w,y.y+y.h));return new pc(O.x,O.y,ge.x-O.x,ge.y-O.y)},bt.prototype.clone=function(){var y=this.sx,O=this.shy,ge=this.shx,je=this.sy,Ue=this.tx,ct=this.ty;return new bt(y,O,ge,je,Ue,ct)},f.Matrix=bt;var tr=f.matrixMult=function(y,O){return O.multiply(y)},Gt=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Gt;var vr=function(y,O){if(!$e[y]){var ge=(O instanceof jo?"Sh":"P")+(Object.keys(ut).length+1).toString(10);O.id=ge,$e[y]=ge,ut[ge]=O,Fe.publish("addPattern",O)}};f.ShadingPattern=jo,f.TilingPattern=Pl,f.addShadingPattern=function(y,O){return $("addShadingPattern()"),vr(y,O),this},f.beginTilingPattern=function(y){$("beginTilingPattern()"),mc(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,O){$("endTilingPattern()"),O.stream=Ke[U].join(`
`),vr(y,O),Fe.publish("endTilingPattern",O),tt.pop().restore()};var te,ee=f.__private__.newObject=function(){var y=we();return Je(y,!0),y},we=f.__private__.newObjectDeferred=function(){return _e++,Ce[_e]=function(){return ke},_e},Je=function(y,O){return O=typeof O=="boolean"&&O,Ce[y]=ke,O&&le(y+" 0 obj"),y},It=f.__private__.newAdditionalObject=function(){var y={objId:we(),content:""};return He.push(y),y},Rt=we(),Xe=we(),ir=f.__private__.decodeColorString=function(y){var O=y.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ge=parseFloat(O[0]);O=[ge,ge,ge,"r"]}for(var je="#",Ue=0;Ue<3;Ue++)je+=("0"+Math.floor(255*parseFloat(O[Ue])).toString(16)).slice(-2);return je},L=f.__private__.encodeColorString=function(y){var O;typeof y=="string"&&(y={ch1:y});var ge=y.ch1,je=y.ch2,Ue=y.ch3,ct=y.ch4,vt=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Ht=new d_(ge);if(Ht.ok)ge=Ht.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Kt=parseInt(ge.substr(1),16);ge=Kt>>16&255,je=Kt>>8&255,Ue=255&Kt}if(je===void 0||ct===void 0&&ge===je&&je===Ue)O=typeof ge=="string"?ge+" "+vt[0]:y.precision===2?I(ge/255)+" "+vt[0]:G(ge/255)+" "+vt[0];else if(ct===void 0||kr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",vt[1]].join(" ");O=typeof ge=="string"?[ge,je,Ue,vt[1]].join(" "):y.precision===2?[I(ge/255),I(je/255),I(Ue/255),vt[1]].join(" "):[G(ge/255),G(je/255),G(Ue/255),vt[1]].join(" ")}else O=typeof ge=="string"?[ge,je,Ue,ct,vt[2]].join(" "):y.precision===2?[I(ge),I(je),I(Ue),I(ct),vt[2]].join(" "):[G(ge),G(je),G(Ue),G(ct),vt[2]].join(" ");return O},A=f.__private__.getFilters=function(){return o},J=f.__private__.putStream=function(y){var O=(y=y||{}).data||"",ge=y.filters||A(),je=y.alreadyAppliedFilters||[],Ue=y.addLength1||!1,ct=O.length,vt=y.objectId,Ht=function(yn){return yn};if(d!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ht=jr.encryptor(vt,0));var Kt={};ge===!0&&(ge=["FlateEncode"]);var rr=y.additionalKeyValues||[],cr=(Kt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(O,ge):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(Kt.data.length!==0&&(rr.push({key:"Length",value:Kt.data.length}),Ue===!0&&rr.push({key:"Length1",value:ct})),cr.length!=0)if(cr.split("/").length-1==1)rr.push({key:"Filter",value:cr});else{rr.push({key:"Filter",value:"["+cr+"]"});for(var Nr=0;Nr<rr.length;Nr+=1)if(rr[Nr].key==="DecodeParms"){for(var Yr=[],mn=0;mn<Kt.reverseChain.split("/").length-1;mn+=1)Yr.push("null");Yr.push(rr[Nr].value),rr[Nr].value="["+Yr.join(" ")+"]"}}le("<<");for(var Fr=0;Fr<rr.length;Fr++)le("/"+rr[Fr].key+" "+rr[Fr].value);le(">>"),Kt.data.length!==0&&(le("stream"),le(Ht(Kt.data)),le("endstream"))},ie=f.__private__.putPage=function(y){var O=y.number,ge=y.data,je=y.objId,Ue=y.contentsObjId;Je(je,!0),le("<</Type /Page"),le("/Parent "+y.rootDictionaryObjId+" 0 R"),le("/Resources "+y.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(T(y.mediaBox.bottomLeftX))+" "+parseFloat(T(y.mediaBox.bottomLeftY))+" "+T(y.mediaBox.topRightX)+" "+T(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&le("/CropBox ["+T(y.cropBox.bottomLeftX)+" "+T(y.cropBox.bottomLeftY)+" "+T(y.cropBox.topRightX)+" "+T(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&le("/BleedBox ["+T(y.bleedBox.bottomLeftX)+" "+T(y.bleedBox.bottomLeftY)+" "+T(y.bleedBox.topRightX)+" "+T(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&le("/TrimBox ["+T(y.trimBox.bottomLeftX)+" "+T(y.trimBox.bottomLeftY)+" "+T(y.trimBox.topRightX)+" "+T(y.trimBox.topRightY)+"]"),y.artBox!==null&&le("/ArtBox ["+T(y.artBox.bottomLeftX)+" "+T(y.artBox.bottomLeftY)+" "+T(y.artBox.topRightX)+" "+T(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&le("/UserUnit "+y.userUnit),Fe.publish("putPage",{objId:je,pageContext:Mt[O],pageNumber:O,page:ge}),le("/Contents "+Ue+" 0 R"),le(">>"),le("endobj");var ct=ge.join(`
`);return C===S&&(ct+=`
Q`),Je(Ue,!0),J({data:ct,filters:A(),objectId:Ue}),le("endobj"),je},Ne=f.__private__.putPages=function(){var y,O,ge=[];for(y=1;y<=qt;y++)Mt[y].objId=we(),Mt[y].contentsObjId=we();for(y=1;y<=qt;y++)ge.push(ie({number:y,data:Ke[y],objId:Mt[y].objId,contentsObjId:Mt[y].contentsObjId,mediaBox:Mt[y].mediaBox,cropBox:Mt[y].cropBox,bleedBox:Mt[y].bleedBox,trimBox:Mt[y].trimBox,artBox:Mt[y].artBox,userUnit:Mt[y].userUnit,rootDictionaryObjId:Rt,resourceDictionaryObjId:Xe}));Je(Rt,!0),le("<</Type /Pages");var je="/Kids [";for(O=0;O<qt;O++)je+=ge[O]+" 0 R ";le(je+"]"),le("/Count "+qt),le(">>"),le("endobj"),Fe.publish("postPutPages")},et=function(y){Fe.publish("putFont",{font:y,out:le,newObject:ee,putStream:J}),y.isAlreadyPutted!==!0&&(y.objectNumber=ee(),le("<<"),le("/Type /Font"),le("/BaseFont /"+vl(y.postScriptName)),le("/Subtype /Type1"),typeof y.encoding=="string"&&le("/Encoding /"+y.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},D=function(y){y.objectNumber=ee();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[T(y.x),T(y.y),T(y.x+y.width),T(y.y+y.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ge=y.pages[1].join(`
`);J({data:ge,additionalKeyValues:O,objectId:y.objectNumber}),le("endobj")},be=function(y,O){O||(O=21);var ge=ee(),je=function(vt,Ht){var Kt,rr=[],cr=1/(Ht-1);for(Kt=0;Kt<1;Kt+=cr)rr.push(Kt);if(rr.push(1),vt[0].offset!=0){var Nr={offset:0,color:vt[0].color};vt.unshift(Nr)}if(vt[vt.length-1].offset!=1){var Yr={offset:1,color:vt[vt.length-1].color};vt.push(Yr)}for(var mn="",Fr=0,yn=0;yn<rr.length;yn++){for(Kt=rr[yn];Kt>vt[Fr+1].offset;)Fr++;var vn=vt[Fr].offset,On=(Kt-vn)/(vt[Fr+1].offset-vn),za=vt[Fr].color,ms=vt[Fr+1].color;mn+=ce(Math.round((1-On)*za[0]+On*ms[0]).toString(16))+ce(Math.round((1-On)*za[1]+On*ms[1]).toString(16))+ce(Math.round((1-On)*za[2]+On*ms[2]).toString(16))}return mn.trim()}(y.colors,O),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+O+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),J({data:je,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),le("endobj"),y.objectNumber=ee(),le("<< /ShadingType "+y.type),le("/ColorSpace /DeviceRGB");var ct="/Coords ["+T(parseFloat(y.coords[0]))+" "+T(parseFloat(y.coords[1]))+" ";y.type===2?ct+=T(parseFloat(y.coords[2]))+" "+T(parseFloat(y.coords[3])):ct+=T(parseFloat(y.coords[2]))+" "+T(parseFloat(y.coords[3]))+" "+T(parseFloat(y.coords[4]))+" "+T(parseFloat(y.coords[5])),le(ct+="]"),y.matrix&&le("/Matrix ["+y.matrix.toString()+"]"),le("/Function "+ge+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},pe=function(y,O){var ge=we(),je=ee();O.push({resourcesOid:ge,objectOid:je}),y.objectNumber=je;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+y.boundingBox.map(T).join(" ")+"]"}),Ue.push({key:"XStep",value:T(y.xStep)}),Ue.push({key:"YStep",value:T(y.yStep)}),Ue.push({key:"Resources",value:ge+" 0 R"}),y.matrix&&Ue.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),J({data:y.stream,additionalKeyValues:Ue,objectId:y.objectNumber}),le("endobj")},F=function(y){for(var O in y.objectNumber=ee(),le("<<"),y)switch(O){case"opacity":le("/ca "+I(y[O]));break;case"stroke-opacity":le("/CA "+I(y[O]))}le(">>"),le("endobj")},se=function(y){Je(y.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in le("/Font <<"),Pe)Pe.hasOwnProperty(O)&&(g===!1||g===!0&&m.hasOwnProperty(O))&&le("/"+O+" "+Pe[O].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(ut).length>0){for(var O in le("/Shading <<"),ut)ut.hasOwnProperty(O)&&ut[O]instanceof jo&&ut[O].objectNumber>=0&&le("/"+O+" "+ut[O].objectNumber+" 0 R");Fe.publish("putShadingPatternDict"),le(">>")}}(),function(O){if(Object.keys(ut).length>0){for(var ge in le("/Pattern <<"),ut)ut.hasOwnProperty(ge)&&ut[ge]instanceof f.TilingPattern&&ut[ge].objectNumber>=0&&ut[ge].objectNumber<O&&le("/"+ge+" "+ut[ge].objectNumber+" 0 R");Fe.publish("putTilingPatternDict"),le(">>")}}(y.objectOid),function(){if(Object.keys(ze).length>0){var O;for(O in le("/ExtGState <<"),ze)ze.hasOwnProperty(O)&&ze[O].objectNumber>=0&&le("/"+O+" "+ze[O].objectNumber+" 0 R");Fe.publish("putGStateDict"),le(">>")}}(),function(){for(var O in le("/XObject <<"),Ee)Ee.hasOwnProperty(O)&&Ee[O].objectNumber>=0&&le("/"+O+" "+Ee[O].objectNumber+" 0 R");Fe.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},k=function(y){me[y.fontName]=me[y.fontName]||{},me[y.fontName][y.fontStyle]=y.id},K=function(y,O,ge,je,Ue){var ct={id:"F"+(Object.keys(Pe).length+1).toString(10),postScriptName:y,fontName:O,fontStyle:ge,encoding:je,isStandardFont:Ue||!1,metadata:{}};return Fe.publish("addFont",{font:ct,instance:this}),Pe[ct.id]=ct,k(ct),ct.id},ue=f.__private__.pdfEscape=f.pdfEscape=function(y,O){return function(ge,je){var Ue,ct,vt,Ht,Kt,rr,cr,Nr,Yr;if(vt=(je=je||{}).sourceEncoding||"Unicode",Kt=je.outputEncoding,(je.autoencode||Kt)&&Pe[Nt].metadata&&Pe[Nt].metadata[vt]&&Pe[Nt].metadata[vt].encoding&&(Ht=Pe[Nt].metadata[vt].encoding,!Kt&&Pe[Nt].encoding&&(Kt=Pe[Nt].encoding),!Kt&&Ht.codePages&&(Kt=Ht.codePages[0]),typeof Kt=="string"&&(Kt=Ht[Kt]),Kt)){for(cr=!1,rr=[],Ue=0,ct=ge.length;Ue<ct;Ue++)(Nr=Kt[ge.charCodeAt(Ue)])?rr.push(String.fromCharCode(Nr)):rr.push(ge[Ue]),rr[Ue].charCodeAt(0)>>8&&(cr=!0);ge=rr.join("")}for(Ue=ge.length;cr===void 0&&Ue!==0;)ge.charCodeAt(Ue-1)>>8&&(cr=!0),Ue--;if(!cr)return ge;for(rr=je.noBOM?[]:[254,255],Ue=0,ct=ge.length;Ue<ct;Ue++){if((Yr=(Nr=ge.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(Yr),rr.push(Nr-(Yr<<8))}return String.fromCharCode.apply(void 0,rr)}(y,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xe=f.__private__.beginPage=function(y){Ke[++qt]=[],Mt[qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Ze(qt),Oe(Ke[U])},Se=function(y,O){var ge,je,Ue;switch(r=O||r,typeof y=="string"&&(ge=b(y.toLowerCase()),Array.isArray(ge)&&(je=ge[0],Ue=ge[1])),Array.isArray(y)&&(je=y[0]*St,Ue=y[1]*St),isNaN(je)&&(je=i[0],Ue=i[1]),(je>14400||Ue>14400)&&(Tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ue=Math.min(14400,Ue)),i=[je,Ue],r.substr(0,1)){case"l":Ue>je&&(i=[Ue,je]);break;case"p":je>Ue&&(i=[Ue,je])}xe(i),xf(dc),le(Go),fc!==0&&le(fc+" J"),gc!==0&&le(gc+" j"),Fe.publish("addPage",{pageNumber:qt})},Te=function(y){y>0&&y<=qt&&(Ke.splice(y,1),Mt.splice(y,1),qt--,U>qt&&(U=qt),this.setPage(U))},Ze=function(y){y>0&&y<=qt&&(U=y)},pt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ke.length-1},Et=function(y,O,ge){var je,Ue=void 0;return ge=ge||{},y=y!==void 0?y:Pe[Nt].fontName,O=O!==void 0?O:Pe[Nt].fontStyle,je=y.toLowerCase(),me[je]!==void 0&&me[je][O]!==void 0?Ue=me[je][O]:me[y]!==void 0&&me[y][O]!==void 0?Ue=me[y][O]:ge.disableWarning===!1&&Tr.warn("Unable to look up font label for font '"+y+"', '"+O+"'. Refer to getFontList() for available fonts."),Ue||ge.noFallback||(Ue=me.times[O])==null&&(Ue=me.times.normal),Ue},Qe=f.__private__.putInfo=function(){var y=ee(),O=function(je){return je};for(var ge in d!==null&&(O=jr.encryptor(y,0)),le("<<"),le("/Producer ("+ue(O("jsPDF "+At.version))+")"),gt)gt.hasOwnProperty(ge)&&gt[ge]&&le("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+ue(O(gt[ge]))+")");le("/CreationDate ("+ue(O(H))+")"),le(">>"),le("endobj")},ft=f.__private__.putCatalog=function(y){var O=(y=y||{}).rootDictionaryObjId||Rt;switch(ee(),le("<<"),le("/Type /Catalog"),le("/Pages "+O+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+ht;ge.substr(ge.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&le("/OpenAction [3 0 R /XYZ null null "+I(ht)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Lt&&le("/PageMode /"+Lt),Fe.publish("putCatalog"),le(">>"),le("endobj")},rt=f.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(_e+1)),le("/Root "+_e+" 0 R"),le("/Info "+(_e-1)+" 0 R"),d!==null&&le("/Encrypt "+jr.oid+" 0 R"),le("/ID [ <"+ve+"> <"+ve+"> ]"),le(">>")},Tt=f.__private__.putHeader=function(){le("%PDF-"+x),le("%")},Zt=f.__private__.putXRef=function(){var y="0000000000";le("xref"),le("0 "+(_e+1)),le("0000000000 65535 f ");for(var O=1;O<=_e;O++)typeof Ce[O]=="function"?le((y+Ce[O]()).slice(-10)+" 00000 n "):Ce[O]!==void 0?le((y+Ce[O]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},er=f.__private__.buildDocument=function(){var y;_e=0,ke=0,Be=[],Ce=[],He=[],Rt=we(),Xe=we(),Oe(Be),Fe.publish("buildDocument"),Tt(),Ne(),function(){Fe.publish("putAdditionalObjects");for(var ge=0;ge<He.length;ge++){var je=He[ge];Je(je.objId,!0),le(je.content),le("endobj")}Fe.publish("postPutAdditionalObjects")}(),y=[],function(){for(var ge in Pe)Pe.hasOwnProperty(ge)&&(g===!1||g===!0&&m.hasOwnProperty(ge))&&et(Pe[ge])}(),function(){var ge;for(ge in ze)ze.hasOwnProperty(ge)&&F(ze[ge])}(),function(){for(var ge in Ee)Ee.hasOwnProperty(ge)&&D(Ee[ge])}(),function(ge){var je;for(je in ut)ut.hasOwnProperty(je)&&(ut[je]instanceof jo?be(ut[je]):ut[je]instanceof Pl&&pe(ut[je],ge))}(y),Fe.publish("putResources"),y.forEach(se),se({resourcesOid:Xe,objectOid:Number.MAX_SAFE_INTEGER}),Fe.publish("postPutResources"),d!==null&&(jr.oid=ee(),le("<<"),le("/Filter /Standard"),le("/V "+jr.v),le("/R "+jr.r),le("/U <"+jr.toHexString(jr.U)+">"),le("/O <"+jr.toHexString(jr.O)+">"),le("/P "+jr.P),le(">>"),le("endobj")),Qe(),ft();var O=ke;return Zt(),rt(),le("startxref"),le(""+O),le("%%EOF"),Oe(Ke[U]),Be.join(`
`)},gr=f.__private__.getBlob=function(y){return new Blob([Pt(y)],{type:"application/pdf"})},ar=f.output=f.__private__.output=(te=function(y,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",y){case void 0:return er();case"save":f.save(O.filename);break;case"arraybuffer":return Pt(er());case"blob":return gr(er());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(gr(er()))||void 0;Tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",je=er();try{ge=sb(je)}catch{ge=sb(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+O.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(Ue=O.pdfObjectUrl,ct="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Ht=nr.open();return Ht!==null&&Ht.document.write(vt),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',rr=nr.open();if(rr!==null){rr.document.write(Kt);var cr=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=O.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cr.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Yr=nr.open();if(Yr!==null&&(Yr.document.write(Nr),Yr.document.title=O.filename),Yr||typeof safari>"u")return Yr;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",O);default:return null}},te.foo=function(){try{return te.apply(this,arguments)}catch(ge){var y=ge.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var O="Error in function "+y.split(`
`)[0].split("<")[0]+": "+ge.message;if(!nr.console)throw new Error(O);nr.console.error(O,ge),nr.alert&&alert(O)}},te.foo.bar=te,te.foo),nn=function(y){return Array.isArray(z)===!0&&z.indexOf(y)>-1};switch(n){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=nn("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);St=n}var jr=null;oe(),ne();var dr=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[y].objId,pageNumber:y,pageContext:Mt[y]}},_a=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in Mt)if(Mt[O].objId===y)break;return dr(O)},ra=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Mt[U].objId,pageNumber:U,pageContext:Mt[U]}};f.addPage=function(){return Se.apply(this,arguments),this},f.setPage=function(){return Ze.apply(this,arguments),Oe.call(this,Ke[U]),this},f.insertPage=function(y){return this.addPage(),this.movePage(U,y),this},f.movePage=function(y,O){var ge,je;if(y>O){ge=Ke[y],je=Mt[y];for(var Ue=y;Ue>O;Ue--)Ke[Ue]=Ke[Ue-1],Mt[Ue]=Mt[Ue-1];Ke[O]=ge,Mt[O]=je,this.setPage(O)}else if(y<O){ge=Ke[y],je=Mt[y];for(var ct=y;ct<O;ct++)Ke[ct]=Ke[ct+1],Mt[ct]=Mt[ct+1];Ke[O]=ge,Mt[O]=je,this.setPage(O)}return this},f.deletePage=function(){return Te.apply(this,arguments),this},f.__private__.text=f.text=function(y,O,ge,je,Ue){var ct,vt,Ht,Kt,rr,cr,Nr,Yr,mn,Fr=(je=je||{}).scope||this;if(typeof y=="number"&&typeof O=="number"&&(typeof ge=="string"||Array.isArray(ge))){var yn=ge;ge=O,O=y,y=yn}if(arguments[3]instanceof bt==0?(Ht=arguments[4],Kt=arguments[5],kr(Nr=arguments[3])==="object"&&Nr!==null||(typeof Ht=="string"&&(Kt=Ht,Ht=null),typeof Nr=="string"&&(Kt=Nr,Nr=null),typeof Nr=="number"&&(Ht=Nr,Nr=null),je={flags:Nr,angle:Ht,align:Kt})):($("The transform parameter of text() with a Matrix value"),mn=Ue),isNaN(O)||isNaN(ge)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Fr;var vn,On="",za=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:so,ms=Fr.internal.scaleFactor;function Lf(Ir){return Ir=Ir.split("	").join(Array(je.TabLen||9).join(" ")),ue(Ir,Nr)}function zu(Ir){for(var Rr,sn=Ir.concat(),on=[],Ya=sn.length;Ya--;)typeof(Rr=sn.shift())=="string"?on.push(Rr):Array.isArray(Ir)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?on.push(Rr[0]):on.push([Rr[0],Rr[1],Rr[2]]);return on}function ho(Ir,Rr){var sn;if(typeof Ir=="string")sn=Rr(Ir)[0];else if(Array.isArray(Ir)){for(var on,Ya,nl=Ir.concat(),Aa=[],Cc=nl.length;Cc--;)typeof(on=nl.shift())=="string"?Aa.push(Rr(on)[0]):Array.isArray(on)&&typeof on[0]=="string"&&(Ya=Rr(on[0],on[1],on[2]),Aa.push([Ya[0],Ya[1],Ya[2]]));sn=Aa}return sn}var na=!1,yc=!0;if(typeof y=="string")na=!0;else if(Array.isArray(y)){var Ko=y.concat();vt=[];for(var vs,En=Ko.length;En--;)(typeof(vs=Ko.shift())!="string"||Array.isArray(vs)&&typeof vs[0]!="string")&&(yc=!1);na=yc}if(na===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Wa=Me/Fr.internal.scaleFactor,Ha=Wa*(za-1);switch(je.baseline){case"bottom":ge-=Ha;break;case"top":ge+=Wa-Ha;break;case"hanging":ge+=Wa-2*Ha;break;case"middle":ge+=Wa/2-Ha}if((cr=je.maxWidth||0)>0&&(typeof y=="string"?y=Fr.splitTextToSize(y,cr):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Ir,Rr){return Ir.concat(Fr.splitTextToSize(Rr,cr))},[]))),ct={text:y,x:O,y:ge,options:je,mutex:{pdfEscape:ue,activeFontKey:Nt,fonts:Pe,activeFontSize:Me}},Fe.publish("preProcessText",ct),y=ct.text,Ht=(je=ct.options).angle,mn instanceof bt==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,je.rotationDirection===0&&(Ht=-Ht),C===S&&(Ht=-Ht);var Qo=Math.cos(Ht),xc=Math.sin(Ht);mn=new bt(Qo,xc,-xc,Qo,0,0)}else Ht&&Ht instanceof bt&&(mn=Ht);C!==S||mn||(mn=Gt),(rr=je.charSpace||Vo)!==void 0&&(On+=T(de(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yr=je.horizontalScale)!==void 0&&(On+=T(100*Yr)+` Tz
`),je.lang;var ni=-1,Wu=je.renderingMode!==void 0?je.renderingMode:je.stroke,Xo=Fr.internal.getCurrentPageInfo().pageContext;switch(Wu){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var Hu=Xo.usedRenderingMode!==void 0?Xo.usedRenderingMode:-1;ni!==-1?On+=ni+` Tr
`:Hu!==-1&&(On+=`0 Tr
`),ni!==-1&&(Xo.usedRenderingMode=ni),Kt=je.align||"left";var xn,Wi=Me*za,_c=Fr.internal.pageSize.getWidth(),wc=Pe[Nt];rr=je.charSpace||Vo,cr=je.maxWidth||0,Nr=Object.assign({autoencode:!0,noBOM:!0},je.flags);var bs=[],Zo=function(Ir){return Fr.getStringUnitWidth(Ir,{font:wc,charSpace:rr,fontSize:Me,doKerning:!1})*Me/ms};if(Object.prototype.toString.call(y)==="[object Array]"){var gi;vt=zu(y),Kt!=="left"&&(xn=vt.map(Zo));var pi,fo=0;if(Kt==="right"){O-=xn[0],y=[],En=vt.length;for(var ja=0;ja<En;ja++)ja===0?(pi=qa(O),gi=$a(ge)):(pi=de(fo-xn[ja]),gi=-Wi),y.push([vt[ja],pi,gi]),fo=xn[ja]}else if(Kt==="center"){O-=xn[0]/2,y=[],En=vt.length;for(var ys=0;ys<En;ys++)ys===0?(pi=qa(O),gi=$a(ge)):(pi=de((fo-xn[ys])/2),gi=-Wi),y.push([vt[ys],pi,gi]),fo=xn[ys]}else if(Kt==="left"){y=[],En=vt.length;for(var Sc=0;Sc<En;Sc++)y.push(vt[Sc])}else if(Kt==="justify"&&wc.encoding==="Identity-H"){y=[],En=vt.length,cr=cr!==0?cr:_c;for(var xs=0,an=0;an<En;an++)if(gi=an===0?$a(ge):-Wi,pi=an===0?qa(O):xs,an<En-1){var Af=de((cr-xn[an])/(vt[an].split(" ").length-1)),Na=vt[an].split(" ");y.push([Na[0]+" ",pi,gi]),xs=0;for(var Ca=1;Ca<Na.length;Ca++){var el=(Zo(Na[Ca-1]+" "+Na[Ca])-Zo(Na[Ca]))*ms+Af;Ca==Na.length-1?y.push([Na[Ca],el,0]):y.push([Na[Ca]+" ",el,0]),xs-=el}}else y.push([vt[an],pi,gi]);y.push(["",xs,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],En=vt.length,cr=cr!==0?cr:_c,an=0;an<En;an++)gi=an===0?$a(ge):-Wi,pi=an===0?qa(O):0,an<En-1?bs.push(T(de((cr-xn[an])/(vt[an].split(" ").length-1)))):bs.push(0),y.push([vt[an],pi,gi])}}(typeof je.R2L=="boolean"?je.R2L:_t)===!0&&(y=ho(y,function(Ir,Rr,sn){return[Ir.split("").reverse().join(""),Rr,sn]})),ct={text:y,x:O,y:ge,options:je,mutex:{pdfEscape:ue,activeFontKey:Nt,fonts:Pe,activeFontSize:Me}},Fe.publish("postProcessText",ct),y=ct.text,vn=ct.mutex.isHex||!1;var jc=Pe[Nt].encoding;jc!=="WinAnsiEncoding"&&jc!=="StandardEncoding"||(y=ho(y,function(Ir,Rr,sn){return[Lf(Ir),Rr,sn]})),vt=zu(y),y=[];for(var tl,rl,go,po=Array.isArray(vt[0])?1:0,Ga="",Nc=function(Ir,Rr,sn){var on="";return sn instanceof bt?(sn=typeof je.angle=="number"?tr(sn,new bt(1,0,0,1,Ir,Rr)):tr(new bt(1,0,0,1,Ir,Rr),sn),C===S&&(sn=tr(new bt(1,0,0,-1,0,0),sn)),on=sn.join(" ")+` Tm
`):on=T(Ir)+" "+T(Rr)+` Td
`,on},Li=0;Li<vt.length;Li++){switch(Ga="",po){case 1:go=(vn?"<":"(")+vt[Li][0]+(vn?">":")"),tl=parseFloat(vt[Li][1]),rl=parseFloat(vt[Li][2]);break;case 0:go=(vn?"<":"(")+vt[Li]+(vn?">":")"),tl=qa(O),rl=$a(ge)}bs!==void 0&&bs[Li]!==void 0&&(Ga=bs[Li]+` Tw
`),Li===0?y.push(Ga+Nc(tl,rl,mn)+go):po===0?y.push(Ga+go):po===1&&y.push(Ga+Nc(tl,rl,mn)+go)}y=po===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var La=`BT
/`;return La+=Nt+" "+Me+` Tf
`,La+=T(Me*za)+` TL
`,La+=oo+`
`,La+=On,La+=y,le(La+="ET"),m[Nt]=!0,Fr};var Wo=f.__private__.clip=f.clip=function(y){return le(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Wo("evenodd")},f.__private__.discardPath=f.discardPath=function(){return le("n"),this};var Ni=f.__private__.isValidStyle=function(y){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(O=!0),O};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return Ni(y)&&(u=y),this};var io=f.__private__.getStyle=f.getStyle=function(y){var O=u;switch(y){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=y}return O},Ho=f.close=function(){return le("h"),this};f.stroke=function(){return le("S"),this},f.fill=function(y){return wa("f",y),this},f.fillEvenOdd=function(y){return wa("f*",y),this},f.fillStroke=function(y){return wa("B",y),this},f.fillStrokeEvenOdd=function(y){return wa("B*",y),this};var wa=function(y,O){kr(O)==="object"?vf(O,y):le(y)},cc=function(y){y===null||C===S&&y===void 0||(y=io(y),le(y))};function mf(y,O,ge,je,Ue){var ct=new Pl(O||this.boundingBox,ge||this.xStep,je||this.yStep,this.gState,Ue||this.matrix);ct.stream=this.stream;var vt=y+"$$"+this.cloneIndex+++"$$";return vr(vt,ct),ct}var vf=function(y,O){var ge=$e[y.key],je=ut[ge];if(je instanceof jo)le("q"),le(bf(O)),je.gState&&f.setGState(je.gState),le(y.matrix.toString()+" cm"),le("/"+ge+" sh"),le("Q");else if(je instanceof Pl){var Ue=new bt(1,0,0,-1,0,Ci());y.matrix&&(Ue=Ue.multiply(y.matrix||Gt),ge=mf.call(je,y.key,y.boundingBox,y.xStep,y.yStep,Ue).id),le("q"),le("/Pattern cs"),le("/"+ge+" scn"),je.gState&&f.setGState(je.gState),le(O),le("Q")}},bf=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uc=f.moveTo=function(y,O){return le(T(de(y))+" "+T(M(O))+" m"),this},ao=f.lineTo=function(y,O){return le(T(de(y))+" "+T(M(O))+" l"),this},ps=f.curveTo=function(y,O,ge,je,Ue,ct){return le([T(de(y)),T(M(O)),T(de(ge)),T(M(je)),T(de(Ue)),T(M(ct)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,O,ge,je,Ue){if(isNaN(y)||isNaN(O)||isNaN(ge)||isNaN(je)||!Ni(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return C===N?this.lines([[ge-y,je-O]],y,O,[1,1],Ue||"S"):this.lines([[ge-y,je-O]],y,O,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,O,ge,je,Ue,ct){var vt,Ht,Kt,rr,cr,Nr,Yr,mn,Fr,yn,vn,On;if(typeof y=="number"&&(On=ge,ge=O,O=y,y=On),je=je||[1,1],ct=ct||!1,isNaN(O)||isNaN(ge)||!Array.isArray(y)||!Array.isArray(je)||!Ni(Ue)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uc(O,ge),vt=je[0],Ht=je[1],rr=y.length,yn=O,vn=ge,Kt=0;Kt<rr;Kt++)(cr=y[Kt]).length===2?(yn=cr[0]*vt+yn,vn=cr[1]*Ht+vn,ao(yn,vn)):(Nr=cr[0]*vt+yn,Yr=cr[1]*Ht+vn,mn=cr[2]*vt+yn,Fr=cr[3]*Ht+vn,yn=cr[4]*vt+yn,vn=cr[5]*Ht+vn,ps(Nr,Yr,mn,Fr,yn,vn));return ct&&Ho(),cc(Ue),this},f.path=function(y){for(var O=0;O<y.length;O++){var ge=y[O],je=ge.c;switch(ge.op){case"m":uc(je[0],je[1]);break;case"l":ao(je[0],je[1]);break;case"c":ps.apply(this,je);break;case"h":Ho()}}return this},f.__private__.rect=f.rect=function(y,O,ge,je,Ue){if(isNaN(y)||isNaN(O)||isNaN(ge)||isNaN(je)||!Ni(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return C===N&&(je=-je),le([T(de(y)),T(M(O)),T(de(ge)),T(de(je)),"re"].join(" ")),cc(Ue),this},f.__private__.triangle=f.triangle=function(y,O,ge,je,Ue,ct,vt){if(isNaN(y)||isNaN(O)||isNaN(ge)||isNaN(je)||isNaN(Ue)||isNaN(ct)||!Ni(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-y,je-O],[Ue-ge,ct-je],[y-Ue,O-ct]],y,O,[1,1],vt,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,O,ge,je,Ue,ct,vt){if(isNaN(y)||isNaN(O)||isNaN(ge)||isNaN(je)||isNaN(Ue)||isNaN(ct)||!Ni(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*ge),ct=Math.min(ct,.5*je),this.lines([[ge-2*Ue,0],[Ue*Ht,0,Ue,ct-ct*Ht,Ue,ct],[0,je-2*ct],[0,ct*Ht,-Ue*Ht,ct,-Ue,ct],[2*Ue-ge,0],[-Ue*Ht,0,-Ue,-ct*Ht,-Ue,-ct],[0,2*ct-je],[0,-ct*Ht,Ue*Ht,-ct,Ue,-ct]],y+Ue,O,[1,1],vt,!0),this},f.__private__.ellipse=f.ellipse=function(y,O,ge,je,Ue){if(isNaN(y)||isNaN(O)||isNaN(ge)||isNaN(je)||!Ni(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*ge,vt=4/3*(Math.SQRT2-1)*je;return uc(y+ge,O),ps(y+ge,O-vt,y+ct,O-je,y,O-je),ps(y-ct,O-je,y-ge,O-vt,y-ge,O),ps(y-ge,O+vt,y-ct,O+je,y,O+je),ps(y+ct,O+je,y+ge,O+vt,y+ge,O),cc(Ue),this},f.__private__.circle=f.circle=function(y,O,ge,je){if(isNaN(y)||isNaN(O)||isNaN(ge)||!Ni(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,O,ge,ge,je)},f.setFont=function(y,O,ge){return ge&&(O=V(O,ge)),Nt=Et(y,O,{disableWarning:!1}),this};var yf=f.__private__.getFont=f.getFont=function(){return Pe[Et.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,O,ge={};for(y in me)if(me.hasOwnProperty(y))for(O in ge[y]=[],me[y])me[y].hasOwnProperty(O)&&ge[y].push(O);return ge},f.addFont=function(y,O,ge,je,Ue){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(ge=V(ge,je)),K.call(this,y,O,ge,Ue=Ue||"Identity-H")};var so,dc=t.lineWidth||.200025,sr=f.__private__.getLineWidth=f.getLineWidth=function(){return dc},xf=f.__private__.setLineWidth=f.setLineWidth=function(y){return dc=y,le(T(de(y))+" w"),this};f.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(y,O){if(y=y||[],O=O||0,isNaN(O)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ge){return T(de(ge))}).join(" "),O=T(de(O)),le("["+y+"] "+O+" d"),this};var _f=f.__private__.getLineHeight=f.getLineHeight=function(){return Me*so};f.__private__.getLineHeight=f.getLineHeight=function(){return Me*so};var wf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(so=y),this},Sf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return so};wf(t.lineHeight);var qa=f.__private__.getHorizontalCoordinate=function(y){return de(y)},$a=f.__private__.getVerticalCoordinate=function(y){return C===S?y:Mt[U].mediaBox.topRightY-Mt[U].mediaBox.bottomLeftY-de(y)},jf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return T(qa(y))},Nf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return T($a(y))},Go=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ir(Go)},f.__private__.setStrokeColor=f.setDrawColor=function(y,O,ge,je){return Go=L({ch1:y,ch2:O,ch3:ge,ch4:je,pdfColorType:"draw",precision:2}),le(Go),this};var hc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ir(hc)},f.__private__.setFillColor=f.setFillColor=function(y,O,ge,je){return hc=L({ch1:y,ch2:O,ch3:ge,ch4:je,pdfColorType:"fill",precision:2}),le(hc),this};var oo=t.textColor||"0 g",Yo=f.__private__.getTextColor=f.getTextColor=function(){return ir(oo)};f.__private__.setTextColor=f.setTextColor=function(y,O,ge,je){return oo=L({ch1:y,ch2:O,ch3:ge,ch4:je,pdfColorType:"text",precision:3}),this};var Vo=t.charSpace,Cf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Vo||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vo=y,this};var fc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var O=f.CapJoinStyles[y];if(O===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fc=O,le(O+" J"),this};var gc=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var O=f.CapJoinStyles[y];if(O===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gc=O,le(O+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(T(de(y))+" M"),this},f.GState=Fh,f.setGState=function(y){(y=typeof y=="string"?ze[Jt[y]]:lo(null,y)).equals(Ut)||(le("/"+y.id+" gs"),Ut=y)};var lo=function(y,O){if(!y||!Jt[y]){var ge=!1;for(var je in ze)if(ze.hasOwnProperty(je)&&ze[je].equals(O)){ge=!0;break}if(ge)O=ze[je];else{var Ue="GS"+(Object.keys(ze).length+1).toString(10);ze[Ue]=O,O.id=Ue}return y&&(Jt[y]=O.id),Fe.publish("addGState",O),O}};f.addGState=function(y,O){return lo(y,O),this},f.saveGraphicsState=function(){return le("q"),De.push({key:Nt,size:Me,color:oo}),this},f.restoreGraphicsState=function(){le("Q");var y=De.pop();return Nt=y.key,Me=y.size,oo=y.color,Ut=null,this},f.setCurrentTransformationMatrix=function(y){return le(y.toString()+" cm"),this},f.comment=function(y){return le("#"+y),this};var co=function(y,O){var ge=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(ct){isNaN(ct)||(ge=parseFloat(ct))}});var je=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(ct){isNaN(ct)||(je=parseFloat(ct))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(ct){Ue=ct.toString()}}),this},pc=function(y,O,ge,je){co.call(this,y,O),this.type="rect";var Ue=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(vt){isNaN(vt)||(Ue=parseFloat(vt))}});var ct=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(vt){isNaN(vt)||(ct=parseFloat(vt))}}),this},Jo=function(){this.page=qt,this.currentPage=U,this.pages=Ke.slice(0),this.pagesContext=Mt.slice(0),this.x=Ft,this.y=wt,this.matrix=Qt,this.width=vc(U),this.height=Ci(U),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){qt=this.page,U=this.currentPage,Mt=this.pagesContext,Ke=this.pages,Ft=this.x,wt=this.y,Qt=this.matrix,bc(U,this.width),Sa(U,this.height),Ge=this.outputDestination};var mc=function(y,O,ge,je,Ue){tt.push(new Jo),qt=U=0,Ke=[],Ft=y,wt=O,Qt=Ue,xe([ge,je])};for(var uo in f.beginFormObject=function(y,O,ge,je,Ue){return mc(y,O,ge,je,Ue),this},f.endFormObject=function(y){return function(O){if(st[O])tt.pop().restore();else{var ge=new Jo,je="Xo"+(Object.keys(Ee).length+1).toString(10);ge.id=je,st[O]=je,Ee[je]=ge,Fe.publish("addFormObject",ge),tt.pop().restore()}}(y),this},f.doFormObject=function(y,O){var ge=Ee[st[y]];return le("q"),le(O.toString()+" cm"),le("/"+ge.id+" Do"),le("Q"),this},f.getFormObject=function(y){var O=Ee[st[y]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},f.save=function(y,O){return y=y||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(wo(gr(er()),y),typeof wo.unload=="function"&&nr.setTimeout&&setTimeout(wo.unload,911),this):new Promise(function(ge,je){try{var Ue=wo(gr(er()),y);typeof wo.unload=="function"&&nr.setTimeout&&setTimeout(wo.unload,911),ge(Ue)}catch(ct){je(ct.message)}})},At.API)At.API.hasOwnProperty(uo)&&(uo==="events"&&At.API.events.length?function(y,O){var ge,je,Ue;for(Ue=O.length-1;Ue!==-1;Ue--)ge=O[Ue][0],je=O[Ue][1],y.subscribe.apply(y,[ge].concat(typeof je=="function"?[je]:je))}(Fe,At.API.events):f[uo]=At.API[uo]);var vc=f.getPageWidth=function(y){return(Mt[y=y||U].mediaBox.topRightX-Mt[y].mediaBox.bottomLeftX)/St},bc=f.setPageWidth=function(y,O){Mt[y].mediaBox.topRightX=O*St+Mt[y].mediaBox.bottomLeftX},Ci=f.getPageHeight=function(y){return(Mt[y=y||U].mediaBox.topRightY-Mt[y].mediaBox.bottomLeftY)/St},Sa=f.setPageHeight=function(y,O){Mt[y].mediaBox.topRightY=O*St+Mt[y].mediaBox.bottomLeftY};return f.internal={pdfEscape:ue,getStyle:io,getFont:yf,getFontSize:lt,getCharSpace:Cf,getTextColor:Yo,getLineHeight:_f,getLineHeightFactor:Sf,getLineWidth:sr,write:kt,getHorizontalCoordinate:qa,getVerticalCoordinate:$a,getCoordinateString:jf,getVerticalCoordinateString:Nf,collections:{},newObject:ee,newAdditionalObject:It,newObjectDeferred:we,newObjectDeferredBegin:Je,getFilters:A,putStream:J,events:Fe,scaleFactor:St,pageSize:{getWidth:function(){return vc(U)},setWidth:function(y){bc(U,y)},getHeight:function(){return Ci(U)},setHeight:function(y){Sa(U,y)}},encryptionOptions:d,encryption:jr,getEncryptor:function(y){return d!==null?jr.encryptor(y,0):function(O){return O}},output:ar,getNumberOfPages:pt,pages:Ke,out:le,f2:I,f3:G,getPageInfo:dr,getPageInfoByObjId:_a,getCurrentPageInfo:ra,getPDFVersion:j,Point:co,Rectangle:pc,Matrix:bt,hasHotfix:nn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return vc(U)},set:function(y){bc(U,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ci(U)},set:function(y){Sa(U,y)},enumerable:!0,configurable:!0}),(function(y){for(var O=0,ge=We.length;O<ge;O++){var je=K.call(this,y[O][0],y[O][1],y[O][2],We[O][3],!0);g===!1&&(m[je]=!0);var Ue=y[O][0].split("-");k({id:je,fontName:Ue[0],fontStyle:Ue[1]||""})}Fe.publish("addFonts",{fonts:Pe,dictionary:me})}).call(f,We),Nt="F1",Se(i,r),Fe.publish("initialized"),f}ml.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ml.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ml.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ml.prototype.processOwnerPassword=function(t,e){return m0(p0(e).substr(0,5),t)},ml.prototype.encryptor=function(t,e){var r=p0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return m0(r,n)}},Fh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||kr(t)!==kr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="3.0.2";var en=At.API,Em=1,zo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},or=function(t){return t.toFixed(2)},Ps=function(t){return t.toFixed(5)};en.__acroform__={};var ji=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ub=function(t){return t*Em},Ea=function(t){var e=new p_,r=Wt.internal.getHeight(t)||0,n=Wt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(or(n)),Number(or(r))],e},P6=en.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},E6=en.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},F6=en.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},hn=en.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return F6(t,e-1)},fn=en.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P6(t,e-1)},gn=en.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return E6(t,e-1)},D6=en.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(or(c.lowerLeft_X)),Number(or(c.lowerLeft_Y)),Number(or(c.upperRight_X)),Number(or(c.upperRight_Y))]},T6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=v0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+or(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ea(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},v0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=r,o=Wt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Wt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,G,de){if(I+1<i.length){var M=G+" "+i[I+1][0];return Id(M,t,de).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,g=Id("3",t,a).height,m=t.multiline?o-a:(o-g)/2,f=m+=2,x=0,j=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Id(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var b="",N=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var C=!1;if(i[S].length!==1&&_!==i[S].length-1){if((g+2)*(N+2)+2>o)continue e;b+=i[S][_],C=!0,j=S,S--}else{b=(b+=i[S][_]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(S),Y=c(B,b,a),V=S>=i.length-1;if(Y&&!V){b+=" ",_=0;continue}if(Y||V){if(V)j=B;else if(t.multiline&&(g+2)*(N+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(N+2)+2>o)continue e;j=B}}for(var T="",$=x;$<=j;$++){var Z=i[$];if(t.multiline){if($===j){T+=Z[_]+" ",_=(_+1)%Z.length;continue}if($===x){T+=Z[Z.length-1]+" ";continue}}T+=Z[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=Id(T,t,a).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=or(u)+" "+or(f)+` Td
`,e+="("+zo(T)+`) Tj
`,e+=-or(u)+` 0 Td
`,f=-(a+2),d=0,x=C?j:j+1,N++,b=""}break}return n.text=e,n.fontSize=a,n},Id=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},I6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},O6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ya.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(I6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Em=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new m_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&R6(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=D6(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wt.createDefaultAppearanceStream(l),kr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=T6(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var g="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(i,l)),g+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(i,l)),g+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(j,_){for(var b in j)if(j.hasOwnProperty(b)){var N=b,S=j[b];_.internal.newObjectDeferredBegin(S.objId,!0),kr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete j[N]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},g_=en.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),kr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+zo(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$g=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+zo(n(t))+")"},Ia=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ia.prototype.toString=function(){return this.objId+" 0 R"},Ia.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ia.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:g_(i,this.objId,this.scope)}):i instanceof Ia?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var p_=function(){Ia.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ji(p_,Ia);var m_=function(){Ia.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+zo(r(t))+")"}},set:function(r){t=r}})};ji(m_,Ia);var ya=function t(){Ia.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hn(e,3)},set:function(b){b?this.F=fn(e,3):this.F=gn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Dh)return;a="FieldObject"+t.FieldNum++}var b=function(N){return N};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+zo(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Em:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Dh||this instanceof Eo))return $g(g,this.objId,this.scope)},set:function(b){b=b.toString(),g=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Dn==0?$g(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof Dn==0?b.substr(0,1)==="("?hl(b.substr(1,b.length-2)):hl(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn==1?hl(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Dn==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Dn==0?$g(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof Dn==0?b.substr(0,1)==="("?hl(b.substr(1,b.length-2)):hl(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn==1?hl(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Dn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(b){b=!!b,j=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,1)},set:function(b){b?this.Ff=fn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,2)},set:function(b){b?this.Ff=fn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,3)},set:function(b){b?this.Ff=fn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');_=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(_){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};ji(ya,Ia);var Ol=function(){ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return g_(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,18)},set:function(r){r?this.Ff=fn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=fn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,20)},set:function(r){r?(this.Ff=fn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,22)},set:function(r){r?this.Ff=fn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(r){r?this.Ff=fn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,27)},set:function(r){r?this.Ff=fn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};ji(Ol,ya);var Bl=function(){Ol.call(this),this.fontName="helvetica",this.combo=!1};ji(Bl,Ol);var Ml=function(){Bl.call(this),this.combo=!0};ji(Ml,Bl);var eh=function(){Ml.call(this),this.edit=!0};ji(eh,Ml);var Dn=function(){ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,15)},set:function(r){r?this.Ff=fn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,16)},set:function(r){r?this.Ff=fn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,17)},set:function(r){r?this.Ff=fn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(r){r?this.Ff=fn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+zo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){kr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ji(Dn,ya);var th=function(){Dn.call(this),this.pushButton=!0};ji(th,Dn);var Ul=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ji(Ul,Dn);var Dh=function(){var t,e;ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+zo(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){kr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ji(Dh,ya),Ul.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ul.prototype.createOption=function(t){var e=new Dh;return e.Parent=this,e.optionName=t,this.Kids.push(e),B6.call(this.scope,e),e};var rh=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};ji(rh,Dn);var Eo=function(){ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,13)},set:function(e){e?this.Ff=fn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,21)},set:function(e){e?this.Ff=fn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(e){e?this.Ff=fn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,24)},set:function(e){e?this.Ff=fn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,25)},set:function(e){e?this.Ff=fn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(e){e?this.Ff=fn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ji(Eo,ya);var nh=function(){Eo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,14)},set:function(t){t?this.Ff=fn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};ji(nh,Eo);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=v0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+or(Wt.internal.getWidth(t))+" "+or(Wt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+or(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Wt.internal.getHeight(t),o=Wt.internal.getWidth(t),l=v0(t,t.caption);return i.push("1 g"),i.push("0 0 "+or(o)+" "+or(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+or(o-1)+" "+or(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+or(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+or(Wt.internal.getWidth(t))+" "+or(Wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Wt.RadioButton.Circle.YesNormal,e.D[t]=Wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Wt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5)),o=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Wt.RadioButton.Cross.YesNormal,e.D[t]=Wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+or(Wt.internal.getWidth(t)-2)+" "+or(Wt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(or(n.x1.x)+" "+or(n.x1.y)+" m"),r.push(or(n.x2.x)+" "+or(n.x2.y)+" l"),r.push(or(n.x4.x)+" "+or(n.x4.y)+" m"),r.push(or(n.x3.x)+" "+or(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=Wt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+or(Wt.internal.getWidth(t))+" "+or(Wt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+or(Wt.internal.getWidth(t)-2)+" "+or(Wt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(or(r.x1.x)+" "+or(r.x1.y)+" m"),n.push(or(r.x2.x)+" "+or(r.x2.y)+" l"),n.push(or(r.x4.x)+" "+or(r.x4.y)+" m"),n.push(or(r.x3.x)+" "+or(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+or(Wt.internal.getWidth(t))+" "+or(Wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Wt.internal.getWidth(t),r=Wt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(t){var e=0;return kr(t)==="object"&&(e=ub(t.Rect[2])),e},Wt.internal.getHeight=function(t){var e=0;return kr(t)==="object"&&(e=ub(t.Rect[3])),e};var B6=en.addField=function(t){if(O6(this,t),!(t instanceof ya))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};en.AcroFormChoiceField=Ol,en.AcroFormListBox=Bl,en.AcroFormComboBox=Ml,en.AcroFormEditBox=eh,en.AcroFormButton=Dn,en.AcroFormPushButton=th,en.AcroFormRadioButton=Ul,en.AcroFormCheckBox=rh,en.AcroFormTextField=Eo,en.AcroFormPasswordField=nh,en.AcroFormAppearance=Wt,en.AcroForm={ChoiceField:Ol,ListBox:Bl,ComboBox:Ml,EditBox:eh,Button:Dn,PushButton:th,RadioButton:Ul,CheckBox:rh,TextField:Eo,PasswordField:nh,Appearance:Wt},At.AcroForm={ChoiceField:Ol,ListBox:Bl,ComboBox:Ml,EditBox:eh,Button:Dn,PushButton:th,RadioButton:Ul,CheckBox:rh,TextField:Eo,PasswordField:nh,Appearance:Wt};At.AcroForm;function v_(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,G){var de,M,H,ve,Le,ne=r;if((G=G||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Y(I))for(Le in n)for(H=n[Le],de=0;de<H.length;de+=1){for(ve=!0,M=0;M<H[de].length;M+=1)if(H[de][M]!==void 0&&H[de][M]!==I[M]){ve=!1;break}if(ve===!0){ne=Le;break}}else for(Le in n)for(H=n[Le],de=0;de<H.length;de+=1){for(ve=!0,M=0;M<H[de].length;M+=1)if(H[de][M]!==void 0&&H[de][M]!==I.charCodeAt(M)){ve=!1;break}if(ve===!0){ne=Le;break}}return ne===r&&G!==r&&(ne=G),ne},a=function I(G){for(var de=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:G.width}),ve.push({key:"Height",value:G.height}),G.colorSpace===b.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===b.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Le="",ne=0,ye=G.transparency.length;ne<ye;ne++)Le+=G.transparency[ne]+" "+G.transparency[ne]+" ";ve.push({key:"Mask",value:"["+Le+"]"})}G.sMask!==void 0&&ve.push({key:"SMask",value:G.objectId+1+" 0 R"});var Re=G.filter!==void 0?["/"+G.filter]:void 0;if(M({data:G.data,additionalKeyValues:ve,alreadyAppliedFilters:Re,objectId:G.objectId}),de("endobj"),"sMask"in G&&G.sMask!==void 0){var oe=(G.predictor!=null?"/Predictor "+G.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+G.width,E={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:oe,data:G.sMask};"filter"in G&&(E.filter=G.filter),I.call(this,E)}if(G.colorSpace===b.INDEXED){var U=this.internal.newObject();M({data:T(new Uint8Array(G.palette)),objectId:U}),de("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var G in I)a.call(this,I[G])},l=function(){var I,G=this.internal.collections[e+"images"],de=this.internal.write;for(var M in G)de("/I"+(I=G[M]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(I){return typeof t["process"+I.toUpperCase()]=="function"},m=function(I){return kr(I)==="object"&&I.nodeType===1},f=function(I,G){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var de=""+I.getAttribute("src");if(de.indexOf("data:image/")===0)return Zd(unescape(de).split("base64,").pop());var M=t.loadFile(de,!0);if(M!==void 0)return M}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var H;switch(G){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return Zd(I.toDataURL(H,1).split("base64,").pop())}},x=function(I){var G=this.internal.collections[e+"images"];if(G){for(var de in G)if(I===G[de].alias)return G[de]}},j=function(I,G,de){return I||G||(I=-96,G=-96),I<0&&(I=-1*de.width*72/I/this.internal.scaleFactor),G<0&&(G=-1*de.height*72/G/this.internal.scaleFactor),I===0&&(I=G*de.width/de.height),G===0&&(G=I*de.height/de.width),[I,G]},_=function(I,G,de,M,H,ve){var Le=j.call(this,de,M,H),ne=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Re=u.call(this);if(de=Le[0],M=Le[1],Re[H.index]=H,ve){ve*=Math.PI/180;var oe=Math.cos(ve),E=Math.sin(ve),U=function(ce){return ce.toFixed(4)},Q=[U(oe),U(E),U(-1*E),U(oe),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,ne(I),ye(G+M),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ne(de),"0","0",ne(M),"0","0","cm"].join(" "))):this.internal.write([ne(de),"0","0",ne(M),ne(I),ye(G+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(I){var G,de,M=0;if(typeof I=="string")for(de=I.length,G=0;G<de;G++)M=(M<<5)-M+I.charCodeAt(G),M|=0;else if(Y(I))for(de=I.byteLength/2,G=0;G<de;G++)M=(M<<5)-M+I[G],M|=0;return M},C=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var G=!0;return I.length===0&&(G=!1),I.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(G=!1),G},B=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var G=I.indexOf(",");return G<0?null:I.substring(0,G).trim().endsWith("base64")?I.substring(G+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(I){for(var G=I.length,de=new Uint8Array(G),M=0;M<G;M++)de[M]=I.charCodeAt(M);return de},T=t.__addimage__.arrayBufferToBinaryString=function(I){for(var G="",de=Y(I)?I:new Uint8Array(I),M=0;M<de.length;M+=8192)G+=String.fromCharCode.apply(null,de.subarray(M,M+8192));return G};t.addImage=function(){var I,G,de,M,H,ve,Le,ne,ye;if(typeof arguments[1]=="number"?(G=r,de=arguments[1],M=arguments[2],H=arguments[3],ve=arguments[4],Le=arguments[5],ne=arguments[6],ye=arguments[7]):(G=arguments[1],de=arguments[2],M=arguments[3],H=arguments[4],ve=arguments[5],Le=arguments[6],ne=arguments[7],ye=arguments[8]),kr(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var Re=I;I=Re.imageData,G=Re.format||G||r,de=Re.x||de||0,M=Re.y||M||0,H=Re.w||Re.width||H,ve=Re.h||Re.height||ve,Le=Re.alias||Le,ne=Re.compression||ne,ye=Re.rotation||Re.angle||ye}var oe=this.internal.getFilters();if(ne===void 0&&oe.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(de)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var E=$.call(this,I,G,Le,ne);return _.call(this,de,M,H,ve,E,ye),this};var $=function(I,G,de,M){var H,ve,Le;if(typeof I=="string"&&i(I)===r){I=unescape(I);var ne=Z(I,!1);(ne!==""||(ne=t.loadFile(I,!0))!==void 0)&&(I=ne)}if(m(I)&&(I=f(I,G)),G=i(I,G),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Le=de)==null||Le.length===0)&&(de=function(ye){return typeof ye=="string"||Y(ye)?S(ye):Y(ye.data)?S(ye.data):null}(I)),(H=x.call(this,de))||(I instanceof Uint8Array||G==="RGBA"||(ve=I,I=V(I)),H=this["process"+G.toUpperCase()](I,d.call(this),de,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:N.NONE}(M),ve)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},Z=t.__addimage__.convertBase64ToBinaryString=function(I,G){G=typeof G!="boolean"||G;var de,M="";if(typeof I=="string"){var H;de=(H=B(I))!==null&&H!==void 0?H:I;try{M=Zd(de)}catch(ve){if(G)throw C(de)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(I){var G,de,M="";if(m(I)&&(I=f(I)),typeof I=="string"&&i(I)===r&&((M=Z(I,!1))===""&&(M=t.loadFile(I)||""),I=M),de=i(I),!g(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if(I instanceof Uint8Array||(I=V(I)),!(G=this["process"+de.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=de,G}})(At.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,g=0;g<u.length&&!d;g++)switch((n=u[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(j.objId),N=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(b(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(b(N))+") >>",j.content=a;var S=j.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(j.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var Y=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},l=t.__arabicParser__.isArabicEndLetter=function(j){return o(j)&&a(j)&&e[j.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(j){return o(j)&&i.indexOf(j.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return o(j)&&a(j)&&e[j.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(j){return o(j)&&a(j)&&e[j.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(j){return o(j)&&a(j)&&e[j.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(j){return o(j)&&a(j)&&e[j.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(j){var _=0,b=r,N="",S=0;for(_=0;_<j.length;_+=1)b[j.charCodeAt(_)]!==void 0?(S++,typeof(b=b[j.charCodeAt(_)])=="number"&&(N+=String.fromCharCode(b),b=r,S=0),_===j.length-1&&(b=r,N+=j.charAt(_-(S-1)),_-=S-1,S=0)):(b=r,N+=j.charAt(_-S),_-=S,S=0);return N};t.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(j,_,b){return o(j)?a(j)===!1?-1:!u(j)||!o(_)&&!o(b)||!o(b)&&l(_)||l(j)&&!o(_)||l(j)&&c(_)||l(j)&&l(_)?0:d(j)&&o(_)&&!l(_)&&o(b)&&u(b)?3:l(j)||!o(b)?1:2:-1},f=function(j){var _=0,b=0,N=0,S="",C="",B="",Y=(j=j||"").split("\\s+"),V=[];for(_=0;_<Y.length;_+=1){for(V.push(""),b=0;b<Y[_].length;b+=1)S=Y[_][b],C=Y[_][b-1],B=Y[_][b+1],o(S)?(N=m(S,C,B),V[_]+=N!==-1?String.fromCharCode(e[S.charCodeAt(0)][N]):S):V[_]+=S;V[_]=g(V[_])}return V.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var j,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(_)){var N=0;for(b=[],N=0;N<_.length;N+=1)Array.isArray(_[N])?b.push([f(_[N][0]),_[N][1],_[N][2]]):b.push([f(_[N])]);j=b}else j=f(_);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};t.events.push(["preProcessText",x])}(At.API),At.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(j){c=j}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(j){x=j}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,x=0,j=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,C){return S.concat(_.splitTextToSize(C,b))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)f<(j=this.getStringUnitWidth(c[N],{font:g})*d)&&(f=j);return f!==0&&(x=c.length),{w:f/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,g,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,x,j,_,b=[],N=[],S=[],C={},B={},Y=[],V=[],T=(m=m||{}).autoSize||!1,$=m.printHeaders!==!1,Z=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,I=m.margins||Object.assign({width:this.getPageWidth()},e),G=typeof m.padding=="number"?m.padding:3,de=m.headerBackgroundColor||"#c8c8c8",M=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=de,this.internal.__cell__.headerTextColor=M,this.setFontSize(Z),g==null)N=b=Object.keys(d[0]),S=b.map(function(){return"left"});else if(Array.isArray(g)&&kr(g[0])==="object")for(b=g.map(function(Re){return Re.name}),N=g.map(function(Re){return Re.prompt||Re.name||""}),S=g.map(function(Re){return Re.align||"left"}),f=0;f<g.length;f+=1)B[g[f].name]=.7499990551181103*g[f].width;else Array.isArray(g)&&typeof g[0]=="string"&&(N=b=g,S=b.map(function(){return"left"}));if(T||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<b.length;f+=1){for(C[_=b[f]]=d.map(function(Re){return Re[_]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(N[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[_],this.setFont(void 0,"normal"),j=0;j<x.length;j+=1)Y.push(this.getTextDimensions(x[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,Y)+G+G,Y=[]}if($){var H={};for(f=0;f<b.length;f+=1)H[b[f]]={},H[b[f]].text=N[f],H[b[f]].align=S[f];var ve=l.call(this,H,B);V=b.map(function(Re){return new a(c,u,B[Re],ve,H[Re].text,void 0,H[Re].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var Le=g.reduce(function(Re,oe){return Re[oe.name]=oe.align,Re},{});for(f=0;f<d.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:d[f]},this);var ne=l.call(this,d[f],B);for(j=0;j<b.length;j+=1){var ye=d[f][b[j]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:j,data:ye},this),o.call(this,new a(c,u,B[b[j]],ne,ye,f+2,Le[b[j]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/m+d+d},this).reduce(function(f,x){return Math.max(f,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(At.API);var b_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b0=v_(y_),x_=[100,200,300,400,500,600,700,800,900],M6=v_(x_);function zg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return b_[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof b0[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function db(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var U6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gb(t){return t.trimLeft()}function q6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function $6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Rd,pb,mb,fl,Od,vb,bb,yb,Wg=["times"];function xb(t,e,r,n){var i=4,a=wb;switch(n){case At.API.image_compression.FAST:i=1,a=_b;break;case At.API.image_compression.MEDIUM:i=6,a=Sb;break;case At.API.image_compression.SLOW:i=9,a=jb}t=function(l,c,u,d){for(var g,m=l.length/c,f=new Uint8Array(l.length+m),x=[z6,_b,wb,Sb,jb],j=0;j<m;j+=1){var _=j*c,b=l.subarray(_,_+c);if(d)f.set(d(b,u,g),_+j);else{for(var N=x.length,S=[],C=0;C<N;C+=1)S[C]=x[C](b,u,g);var B=H6(S.concat());f.set(S[B],_+j)}g=b}return f}(t,e,r,a);var o=d0(t,{level:i});return At.API.__addimage__.arrayBufferToBinaryString(o)}function z6(t){var e=Array.apply([],t);return e.unshift(0),e}function _b(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function wb(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function Sb(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function jb(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=W6(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function W6(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function H6(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Hg(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return __(t,i)>>a&o}function Nb(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,d,g){if(d+1<u.byteLength)u.setUint16(d,g,!1);else{var m=g>>8&255;u.setUint8(d,m)}})(t,a,__(t,a)&~(l<<o)&65535|c)}function __(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function G6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,d=[],g=0,m=null,f=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=t[e++];g=t[e++]|t[e++]<<8,m=t[e++],1&j||(m=null),f=j>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,C=t[e++],B=C>>6&1,Y=1<<1+(7&C),V=l,T=c,$=!1;C>>7&&($=!0,V=e,T=Y,e+=3*Y);var Z=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:_,y:b,width:N,height:S,has_local_palette:$,palette_offset:V,palette_size:T,data_offset:Z,data_length:e-Z,transparent_index:m,interlaced:!!B,delay:g,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(G){if(G<0||G>=d.length)throw new Error("Frame index out of range.");return d[G]},this.decodeAndBlitFrameBGRA=function(G,de){var M=this.frameInfo(G),H=M.width*M.height,ve=new Uint8Array(H);Cb(t,M.data_offset,ve,H);var Le=M.palette_offset,ne=M.transparent_index;ne===null&&(ne=256);var ye=M.width,Re=r-ye,oe=ye,E=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),Q=E,ce=4*Re;M.interlaced===!0&&(ce+=4*r*7);for(var _e=8,Ce=0,Be=ve.length;Ce<Be;++Ce){var ke=ve[Ce];if(oe===0&&(oe=ye,(Q+=ce)>=U&&(ce=4*Re+4*r*(_e-1),Q=E+(ye+Re)*(_e<<1),_e>>=1)),ke===ne)Q+=4;else{var He=t[Le+3*ke],Ke=t[Le+3*ke+1],ot=t[Le+3*ke+2];de[Q++]=ot,de[Q++]=Ke,de[Q++]=He,de[Q++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(G,de){var M=this.frameInfo(G),H=M.width*M.height,ve=new Uint8Array(H);Cb(t,M.data_offset,ve,H);var Le=M.palette_offset,ne=M.transparent_index;ne===null&&(ne=256);var ye=M.width,Re=r-ye,oe=ye,E=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),Q=E,ce=4*Re;M.interlaced===!0&&(ce+=4*r*7);for(var _e=8,Ce=0,Be=ve.length;Ce<Be;++Ce){var ke=ve[Ce];if(oe===0&&(oe=ye,(Q+=ce)>=U&&(ce=4*Re+4*r*(_e-1),Q=E+(ye+Re)*(_e<<1),_e>>=1)),ke===ne)Q+=4;else{var He=t[Le+3*ke],Ke=t[Le+3*ke+1],ot=t[Le+3*ke+2];de[Q++]=He,de[Q++]=Ke,de[Q++]=ot,de[Q++]=255}--oe}}}function Cb(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,g=0,m=0,f=t[e++],x=new Int32Array(4096),j=null;;){for(;d<16&&f!==0;)g|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<c)break;var _=g&u;if(g>>=c,d-=c,_!==a){if(_===o)break;for(var b=_<l?_:j,N=0,S=b;S>a;)S=x[S]>>8,++N;var C=S;if(m+N+(b!==_?1:0)>n)return void Tr.log("Warning, gif stream longer than expected.");r[m++]=C;var B=m+=N;for(b!==_&&(r[m++]=C),S=b;N--;)S=x[S],r[--B]=255&S,S>>=8;j!==null&&l<4096&&(x[l++]=j<<8|C,l>=u+1&&c<12&&(++c,u=u<<1|1)),j=_}else l=o+1,u=(1<<(c=i+1))-1,j=null}return m!==n&&Tr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gg(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),g=new Array(65535),m=new Array(65535),f=new Array(64),x=new Array(64),j=[],_=0,b=7,N=new Array(64),S=new Array(64),C=new Array(64),B=new Array(256),Y=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],de=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(E,U){for(var Q=0,ce=0,_e=new Array,Ce=1;Ce<=16;Ce++){for(var Be=1;Be<=E[Ce];Be++)_e[U[ce]]=[],_e[U[ce]][0]=Q,_e[U[ce]][1]=Ce,ce++,Q++;Q*=2}return _e}function Le(E){for(var U=E[0],Q=E[1]-1;Q>=0;)U&1<<Q&&(_|=1<<b),Q--,--b<0&&(_==255?(ne(255),ne(0)):ne(_),b=7,_=0)}function ne(E){j.push(E)}function ye(E){ne(E>>8&255),ne(255&E)}function Re(E,U,Q,ce,_e){for(var Ce,Be=_e[0],ke=_e[240],He=function(Me,ht){var lt,_t,Lt,Ot,nt,yt,Bt,gt,Nt,St,Ft=0;for(Nt=0;Nt<8;++Nt){lt=Me[Ft],_t=Me[Ft+1],Lt=Me[Ft+2],Ot=Me[Ft+3],nt=Me[Ft+4],yt=Me[Ft+5],Bt=Me[Ft+6];var wt=lt+(gt=Me[Ft+7]),Qt=lt-gt,Pe=_t+Bt,me=_t-Bt,De=Lt+yt,ut=Lt-yt,$e=Ot+nt,ze=Ot-nt,Jt=wt+$e,Ut=wt-$e,qt=Pe+De,Mt=Pe-De;Me[Ft]=Jt+qt,Me[Ft+4]=Jt-qt;var Fe=.707106781*(Mt+Ut);Me[Ft+2]=Ut+Fe,Me[Ft+6]=Ut-Fe;var z=.382683433*((Jt=ze+ut)-(Mt=me+Qt)),Ee=.5411961*Jt+z,st=1.306562965*Mt+z,tt=.707106781*(qt=ut+me),bt=Qt+tt,tr=Qt-tt;Me[Ft+5]=tr+Ee,Me[Ft+3]=tr-Ee,Me[Ft+1]=bt+st,Me[Ft+7]=bt-st,Ft+=8}for(Ft=0,Nt=0;Nt<8;++Nt){lt=Me[Ft],_t=Me[Ft+8],Lt=Me[Ft+16],Ot=Me[Ft+24],nt=Me[Ft+32],yt=Me[Ft+40],Bt=Me[Ft+48];var Gt=lt+(gt=Me[Ft+56]),vr=lt-gt,te=_t+Bt,ee=_t-Bt,we=Lt+yt,Je=Lt-yt,It=Ot+nt,Rt=Ot-nt,Xe=Gt+It,ir=Gt-It,L=te+we,A=te-we;Me[Ft]=Xe+L,Me[Ft+32]=Xe-L;var J=.707106781*(A+ir);Me[Ft+16]=ir+J,Me[Ft+48]=ir-J;var ie=.382683433*((Xe=Rt+Je)-(A=ee+vr)),Ne=.5411961*Xe+ie,et=1.306562965*A+ie,D=.707106781*(L=Je+ee),be=vr+D,pe=vr-D;Me[Ft+40]=pe+Ne,Me[Ft+24]=pe-Ne,Me[Ft+8]=be+et,Me[Ft+56]=be-et,Ft++}for(Nt=0;Nt<64;++Nt)St=Me[Nt]*ht[Nt],f[Nt]=St>0?St+.5|0:St-.5|0;return f}(E,U),Ke=0;Ke<64;++Ke)x[V[Ke]]=He[Ke];var ot=x[0]-Q;Q=x[0],ot==0?Le(ce[0]):(Le(ce[m[Ce=32767+ot]]),Le(g[Ce]));for(var Ge=63;Ge>0&&x[Ge]==0;)Ge--;if(Ge==0)return Le(Be),Q;for(var Oe,le=1;le<=Ge;){for(var kt=le;x[le]==0&&le<=Ge;)++le;var Pt=le-kt;if(Pt>=16){Oe=Pt>>4;for(var We=1;We<=Oe;++We)Le(ke);Pt&=15}Ce=32767+x[le],Le(_e[(Pt<<4)+m[Ce]]),Le(g[Ce]),le++}return Ge!=63&&Le(Be),Q}function oe(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(U){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var _e=o((Q[ce]*U+50)/100);_e=Math.min(Math.max(_e,1),255),l[V[ce]]=_e}for(var Ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var ke=o((Ce[Be]*U+50)/100);ke=Math.min(Math.max(ke,1),255),c[V[Be]]=ke}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,ot=0;ot<8;ot++)for(var Ge=0;Ge<8;Ge++)u[Ke]=1/(l[V[Ke]]*He[ot]*He[Ge]*8),d[Ke]=1/(c[V[Ke]]*He[ot]*He[Ge]*8),Ke++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,U){U&&oe(U),j=new Array,_=0,b=7,ye(65496),ye(65504),ye(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),ye(1),ye(1),ne(0),ne(0),function(){ye(65499),ye(132),ne(0);for(var _t=0;_t<64;_t++)ne(l[_t]);ne(1);for(var Lt=0;Lt<64;Lt++)ne(c[Lt])}(),function(_t,Lt){ye(65472),ye(17),ne(8),ye(Lt),ye(_t),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(E.width,E.height),function(){ye(65476),ye(418),ne(0);for(var _t=0;_t<16;_t++)ne(T[_t+1]);for(var Lt=0;Lt<=11;Lt++)ne($[Lt]);ne(16);for(var Ot=0;Ot<16;Ot++)ne(Z[Ot+1]);for(var nt=0;nt<=161;nt++)ne(I[nt]);ne(1);for(var yt=0;yt<16;yt++)ne(G[yt+1]);for(var Bt=0;Bt<=11;Bt++)ne(de[Bt]);ne(17);for(var gt=0;gt<16;gt++)ne(M[gt+1]);for(var Nt=0;Nt<=161;Nt++)ne(H[Nt])}(),ye(65498),ye(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Q=0,ce=0,_e=0;_=0,b=7,this.encode.displayName="_encode_";for(var Ce,Be,ke,He,Ke,ot,Ge,Oe,le,kt=E.data,Pt=E.width,We=E.height,Me=4*Pt,ht=0;ht<We;){for(Ce=0;Ce<Me;){for(Ke=Me*ht+Ce,Ge=-1,Oe=0,le=0;le<64;le++)ot=Ke+(Oe=le>>3)*Me+(Ge=4*(7&le)),ht+Oe>=We&&(ot-=Me*(ht+1+Oe-We)),Ce+Ge>=Me&&(ot-=Ce+Ge-Me+4),Be=kt[ot++],ke=kt[ot++],He=kt[ot++],N[le]=(Y[Be]+Y[ke+256|0]+Y[He+512|0]>>16)-128,S[le]=(Y[Be+768|0]+Y[ke+1024|0]+Y[He+1280|0]>>16)-128,C[le]=(Y[Be+1280|0]+Y[ke+1536|0]+Y[He+1792|0]>>16)-128;Q=Re(N,u,Q,e,n),ce=Re(S,d,ce,r,i),_e=Re(C,d,_e,r,i),Ce+=32}ht+=8}if(b>=0){var lt=[];lt[1]=b+1,lt[0]=(1<<b+1)-1,Le(lt)}return ye(65497),new Uint8Array(j)},t=t||50,function(){for(var E=String.fromCharCode,U=0;U<256;U++)B[U]=E(U)}(),e=ve(T,$),r=ve(G,de),n=ve(Z,I),i=ve(M,H),function(){for(var E=1,U=2,Q=1;Q<=15;Q++){for(var ce=E;ce<U;ce++)m[32767+ce]=Q,g[32767+ce]=[],g[32767+ce][1]=Q,g[32767+ce][0]=ce;for(var _e=-(U-1);_e<=-E;_e++)m[32767+_e]=Q,g[32767+_e]=[],g[32767+_e][1]=Q,g[32767+_e][0]=U-1+_e;E<<=1,U<<=1}}(),function(){for(var E=0;E<256;E++)Y[E]=19595*E,Y[E+256|0]=38470*E,Y[E+512|0]=7471*E+32768,Y[E+768|0]=-11059*E,Y[E+1024|0]=-21709*E,Y[E+1280|0]=32768*E+8421375,Y[E+1536|0]=-27439*E,Y[E+1792|0]=-5329*E}(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function la(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lb(t){function e($){if(!$)throw Error("assert :P")}function r($,Z,I){for(var G=0;4>G;G++)if($[Z+G]!=I.charCodeAt(G))return!0;return!1}function n($,Z,I,G,de){for(var M=0;M<de;M++)$[Z+M]=I[G+M]}function i($,Z,I,G){for(var de=0;de<G;de++)$[Z+de]=I}function a($){return new Int32Array($)}function o($,Z){for(var I=[],G=0;G<$;G++)I.push(new Z);return I}function l($,Z){var I=[];return function G(de,M,H){for(var ve=H[M],Le=0;Le<ve&&(de.push(H.length>M+1?[]:new Z),!(H.length<M+1));Le++)G(de[Le],M+1,H)}(I,0,$),I}var c=function(){var $=this;function Z(h,p){for(var w=1<<p-1>>>0;h&w;)w>>>=1;return w?(h&w-1)+w:h}function I(h,p,w,P,R){e(!(P%w));do h[p+(P-=w)]=R;while(0<P)}function G(h,p,w,P,R){if(e(2328>=R),512>=R)var q=a(512);else if((q=a(R))==null)return 0;return function(W,X,re,he,Ae,Ve){var fe,Ie,qe=X,it=1<<re,Ye=a(16),at=a(16);for(e(Ae!=0),e(he!=null),e(W!=null),e(0<re),Ie=0;Ie<Ae;++Ie){if(15<he[Ie])return 0;++Ye[he[Ie]]}if(Ye[0]==Ae)return 0;for(at[1]=0,fe=1;15>fe;++fe){if(Ye[fe]>1<<fe)return 0;at[fe+1]=at[fe]+Ye[fe]}for(Ie=0;Ie<Ae;++Ie)fe=he[Ie],0<he[Ie]&&(Ve[at[fe]++]=Ie);if(at[15]==1)return(he=new de).g=0,he.value=Ve[0],I(W,qe,1,it,he),it;var dt,xt=-1,mt=it-1,Xt=0,zt=1,hr=1,Yt=1<<re;for(Ie=0,fe=1,Ae=2;fe<=re;++fe,Ae<<=1){if(zt+=hr<<=1,0>(hr-=Ye[fe]))return 0;for(;0<Ye[fe];--Ye[fe])(he=new de).g=fe,he.value=Ve[Ie++],I(W,qe+Xt,Ae,Yt,he),Xt=Z(Xt,fe)}for(fe=re+1,Ae=2;15>=fe;++fe,Ae<<=1){if(zt+=hr<<=1,0>(hr-=Ye[fe]))return 0;for(;0<Ye[fe];--Ye[fe]){if(he=new de,(Xt&mt)!=xt){for(qe+=Yt,dt=1<<(xt=fe)-re;15>xt&&!(0>=(dt-=Ye[xt]));)++xt,dt<<=1;it+=Yt=1<<(dt=xt-re),W[X+(xt=Xt&mt)].g=dt+re,W[X+xt].value=qe-X-xt}he.g=fe-re,he.value=Ve[Ie++],I(W,qe+(Xt>>re),Ae,Yt,he),Xt=Z(Xt,fe)}}return zt!=2*at[15]-1?0:it}(h,p,w,P,R,q)}function de(){this.value=this.g=0}function M(){this.value=this.g=0}function H(){this.G=o(5,de),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ja,M)}function ve(h,p,w,P){e(h!=null),e(p!=null),e(2147483648>P),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=w,h.Jd=p,h.Yc=w+P,h.Zc=4<=P?w+P-4+1:w,Be(h)}function Le(h,p){for(var w=0;0<p--;)w|=He(h,128)<<p;return w}function ne(h,p){var w=Le(h,p);return ke(h)?-w:w}function ye(h,p,w,P){var R,q=0;for(e(h!=null),e(p!=null),e(4294967288>P),h.Sb=P,h.Ra=0,h.u=0,h.h=0,4<P&&(P=4),R=0;R<P;++R)q+=p[w+R]<<8*R;h.Ra=q,h.bb=P,h.oa=p,h.pa=w}function Re(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<xs-8>>>0,++h.bb,h.u-=8;ce(h)&&(h.h=1,h.u=0)}function oe(h,p){if(e(0<=p),!h.h&&p<=Sc){var w=Q(h)&ys[p];return h.u+=p,Re(h),w}return h.h=1,h.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(h){return h.Ra>>>(h.u&xs-1)>>>0}function ce(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>xs}function _e(h,p){h.u=p,h.h=ce(h)}function Ce(h){h.u>=an&&(e(h.u>=an),Re(h))}function Be(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ke(h){return Le(h,1)}function He(h,p){var w=h.Ca;0>h.b&&Be(h);var P=h.b,R=w*p>>>8,q=(h.I>>>P>R)+0;for(q?(w-=R,h.I-=R+1<<P>>>0):w=R+1,P=w,R=0;256<=P;)R+=8,P>>=8;return P=7^R+Af[P],h.b-=P,h.Ca=(w<<P)-1,q}function Ke(h,p,w){h[p+0]=w>>24&255,h[p+1]=w>>16&255,h[p+2]=w>>8&255,h[p+3]=255&w}function ot(h,p){return h[p+0]|h[p+1]<<8}function Ge(h,p){return ot(h,p)|h[p+2]<<16}function Oe(h,p){return ot(h,p)|ot(h,p+2)<<16}function le(h,p){var w=1<<p;return e(h!=null),e(0<p),h.X=a(w),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function kt(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),n(p.X,0,h.X,0,1<<p.Xa)}function Pt(){this.X=[],this.Xa=this.Mb=0}function We(h,p,w,P){e(w!=null),e(P!=null);var R=w[0],q=P[0];return R==0&&(R=(h*q+p/2)/p),q==0&&(q=(p*R+h/2)/h),0>=R||0>=q?0:(w[0]=R,P[0]=q,1)}function Me(h,p){return h+(1<<p)-1>>>p}function ht(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function lt(h,p){$[p]=function(w,P,R,q,W,X,re){var he;for(he=0;he<W;++he){var Ae=$[h](X[re+he-1],R,q+he);X[re+he]=ht(w[P+he],Ae)}}}function _t(){this.ud=this.hd=this.jd=0}function Lt(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function Ot(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function nt(h,p){return Ot(h+(h-p+.5>>1))}function yt(h,p,w){return Math.abs(p-w)-Math.abs(h-w)}function Bt(h,p,w,P,R,q,W){for(P=q[W-1],w=0;w<R;++w)q[W+w]=P=ht(h[p+w],P)}function gt(h,p,w,P,R){var q;for(q=0;q<w;++q){var W=h[p+q],X=W>>8&255,re=16711935&(re=(re=16711935&W)+((X<<16)+X));P[R+q]=(4278255360&W)+re>>>0}}function Nt(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function St(h,p,w,P,R,q){var W;for(W=0;W<P;++W){var X=p[w+W],re=X>>>8,he=X,Ae=255&(Ae=(Ae=X>>>16)+((h.jd<<24>>24)*(re<<24>>24)>>>5));he=255&(he=(he+=(h.hd<<24>>24)*(re<<24>>24)>>>5)+((h.ud<<24>>24)*(Ae<<24>>24)>>>5)),R[q+W]=(4278255360&X)+(Ae<<16)+he}}function Ft(h,p,w,P,R){$[p]=function(q,W,X,re,he,Ae,Ve,fe,Ie){for(re=Ve;re<fe;++re)for(Ve=0;Ve<Ie;++Ve)he[Ae++]=R(X[P(q[W++])])},$[h]=function(q,W,X,re,he,Ae,Ve){var fe=8>>q.b,Ie=q.Ea,qe=q.K[0],it=q.w;if(8>fe)for(q=(1<<q.b)-1,it=(1<<fe)-1;W<X;++W){var Ye,at=0;for(Ye=0;Ye<Ie;++Ye)Ye&q||(at=P(re[he++])),Ae[Ve++]=R(qe[at&it]),at>>=fe}else $["VP8LMapColor"+w](re,he,qe,it,Ae,Ve,W,X,Ie)}}function wt(h,p,w,P,R){for(w=p+w;p<w;){var q=h[p++];P[R++]=q>>16&255,P[R++]=q>>8&255,P[R++]=255&q}}function Qt(h,p,w,P,R){for(w=p+w;p<w;){var q=h[p++];P[R++]=q>>16&255,P[R++]=q>>8&255,P[R++]=255&q,P[R++]=q>>24&255}}function Pe(h,p,w,P,R){for(w=p+w;p<w;){var q=(W=h[p++])>>16&240|W>>12&15,W=240&W|W>>28&15;P[R++]=q,P[R++]=W}}function me(h,p,w,P,R){for(w=p+w;p<w;){var q=(W=h[p++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;P[R++]=q,P[R++]=W}}function De(h,p,w,P,R){for(w=p+w;p<w;){var q=h[p++];P[R++]=255&q,P[R++]=q>>8&255,P[R++]=q>>16&255}}function ut(h,p,w,P,R,q){if(q==0)for(w=p+w;p<w;)Ke(P,((q=h[p++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),R+=32;else n(P,R,h,p,w)}function $e(h,p){$[p][0]=$[h+"0"],$[p][1]=$[h+"1"],$[p][2]=$[h+"2"],$[p][3]=$[h+"3"],$[p][4]=$[h+"4"],$[p][5]=$[h+"5"],$[p][6]=$[h+"6"],$[p][7]=$[h+"7"],$[p][8]=$[h+"8"],$[p][9]=$[h+"9"],$[p][10]=$[h+"10"],$[p][11]=$[h+"11"],$[p][12]=$[h+"12"],$[p][13]=$[h+"13"],$[p][14]=$[h+"0"],$[p][15]=$[h+"0"]}function ze(h){return h==Ef||h==Ff||h==Qu||h==Df}function Jt(){this.eb=[],this.size=this.A=this.fb=0}function Ut(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jt,this.f.kb=new Ut,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function z(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Ee(h,p){var w=h.T,P=p.ba.f.RGBA,R=P.eb,q=P.fb+h.ka*P.A,W=Gi[p.ba.S],X=h.y,re=h.O,he=h.f,Ae=h.N,Ve=h.ea,fe=h.W,Ie=p.cc,qe=p.dc,it=p.Mc,Ye=p.Nc,at=h.ka,dt=h.ka+h.T,xt=h.U,mt=xt+1>>1;for(at==0?W(X,re,null,null,he,Ae,Ve,fe,he,Ae,Ve,fe,R,q,null,null,xt):(W(p.ec,p.fc,X,re,Ie,qe,it,Ye,he,Ae,Ve,fe,R,q-P.A,R,q,xt),++w);at+2<dt;at+=2)Ie=he,qe=Ae,it=Ve,Ye=fe,Ae+=h.Rc,fe+=h.Rc,q+=2*P.A,W(X,(re+=2*h.fa)-h.fa,X,re,Ie,qe,it,Ye,he,Ae,Ve,fe,R,q-P.A,R,q,xt);return re+=h.fa,h.j+dt<h.o?(n(p.ec,p.fc,X,re,xt),n(p.cc,p.dc,he,Ae,mt),n(p.Mc,p.Nc,Ve,fe,mt),w--):1&dt||W(X,re,null,null,he,Ae,Ve,fe,he,Ae,Ve,fe,R,q+P.A,null,null,xt),w}function st(h,p,w){var P=h.F,R=[h.J];if(P!=null){var q=h.U,W=p.ba.S,X=W==Ku||W==Qu;p=p.ba.f.RGBA;var re=[0],he=h.ka;re[0]=h.T,h.Kb&&(he==0?--re[0]:(--he,R[0]-=h.width),h.j+h.ka+h.T==h.o&&(re[0]=h.o-h.j-he));var Ae=p.eb;he=p.fb+he*p.A,h=Zm(P,R[0],h.width,q,re,Ae,he+(X?0:3),p.A),e(w==re),h&&ze(W)&&Lc(Ae,he,X,q,re,p.A)}return 0}function tt(h){var p=h.ma,w=p.ba.S,P=11>w,R=w==Vu||w==Ju||w==Ku||w==Pf||w==12||ze(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!gi(p.Oa,h,R?11:12))return 0;if(R&&ze(w)&&yc(),h.da)alert("todo:use_scaling");else{if(P){if(p.Ib=z,h.Kb){if(w=h.U+1>>1,p.memory=a(h.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Ee,yc()}}else alert("todo:EmitYUV");R&&(p.Jb=st,P&&ho())}if(P&&!p1){for(h=0;256>h;++h)Aw[h]=89858*(h-128)+Zu>>Xu,Ew[h]=-22014*(h-128)+Zu,Pw[h]=-45773*(h-128),kw[h]=113618*(h-128)+Zu>>Xu;for(h=kc;h<Rf;++h)p=76283*(h-16)+Zu>>Xu,Fw[h-kc]=xn(p,255),Dw[h-kc]=xn(p+8>>4,15);p1=1}return 1}function bt(h){var p=h.ma,w=h.U,P=h.T;return e(!(1&h.ka)),0>=w||0>=P?0:(w=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,w),p.Dc+=w,1)}function tr(h){h.ma.memory=null}function Gt(h,p,w,P){return oe(h,8)!=47?0:(p[0]=oe(h,14)+1,w[0]=oe(h,14)+1,P[0]=oe(h,1),oe(h,3)!=0?0:!h.h)}function vr(h,p){if(4>h)return h+1;var w=h-2>>1;return(2+(1&h)<<w)+oe(p,w)+1}function te(h,p){return 120<p?p-120:1<=(w=((w=gw[p-1])>>4)*h+(8-(15&w)))?w:1;var w}function ee(h,p,w){var P=Q(w),R=h[p+=255&P].g-8;return 0<R&&(_e(w,w.u+8),P=Q(w),p+=h[p].value,p+=P&(1<<R)-1),_e(w,w.u+h[p].g),h[p].value}function we(h,p,w){return w.g+=h.g,w.value+=h.value<<p>>>0,e(8>=w.g),h.g}function Je(h,p,w){var P=h.xc;return e((p=P==0?0:h.vc[h.md*(w>>P)+(p>>P)])<h.Wb),h.Ya[p]}function It(h,p,w,P){var R=h.ab,q=h.c*p,W=h.C;p=W+p;var X=w,re=P;for(P=h.Ta,w=h.Ua;0<R--;){var he=h.gc[R],Ae=W,Ve=p,fe=X,Ie=re,qe=(re=P,X=w,he.Ea);switch(e(Ae<Ve),e(Ve<=he.nc),he.hc){case 2:el(fe,Ie,(Ve-Ae)*qe,re,X);break;case 0:var it=Ae,Ye=Ve,at=re,dt=X,xt=(Yt=he).Ea;it==0&&(Na(fe,Ie,null,null,1,at,dt),Bt(fe,Ie+1,0,0,xt-1,at,dt+1),Ie+=xt,dt+=xt,++it);for(var mt=1<<Yt.b,Xt=mt-1,zt=Me(xt,Yt.b),hr=Yt.K,Yt=Yt.w+(it>>Yt.b)*zt;it<Ye;){var xr=hr,_n=Yt,fr=1;for(Ca(fe,Ie,at,dt-xt,1,at,dt);fr<xt;){var Vt=(fr&~Xt)+mt;Vt>xt&&(Vt=xt),(0,po[xr[_n++]>>8&15])(fe,Ie+ +fr,at,dt+fr-xt,Vt-fr,at,dt+fr),fr=Vt}Ie+=xt,dt+=xt,++it&Xt||(Yt+=zt)}Ve!=he.nc&&n(re,X-qe,re,X+(Ve-Ae-1)*qe,qe);break;case 1:for(qe=fe,Ye=Ie,xt=(fe=he.Ea)-(dt=fe&~(at=(Ie=1<<he.b)-1)),it=Me(fe,he.b),mt=he.K,he=he.w+(Ae>>he.b)*it;Ae<Ve;){for(Xt=mt,zt=he,hr=new _t,Yt=Ye+dt,xr=Ye+fe;Ye<Yt;)Nt(Xt[zt++],hr),Ga(hr,qe,Ye,Ie,re,X),Ye+=Ie,X+=Ie;Ye<xr&&(Nt(Xt[zt++],hr),Ga(hr,qe,Ye,xt,re,X),Ye+=xt,X+=xt),++Ae&at||(he+=it)}break;case 3:if(fe==re&&Ie==X&&0<he.b){for(Ye=re,fe=qe=X+(Ve-Ae)*qe-(dt=(Ve-Ae)*Me(he.Ea,he.b)),Ie=re,at=X,it=[],dt=(xt=dt)-1;0<=dt;--dt)it[dt]=Ie[at+dt];for(dt=xt-1;0<=dt;--dt)Ye[fe+dt]=it[dt];jc(he,Ae,Ve,re,qe,re,X)}else jc(he,Ae,Ve,fe,Ie,re,X)}X=P,re=w}re!=w&&n(P,w,X,re,q)}function Rt(h,p){var w=h.V,P=h.Ba+h.c*h.C,R=p-h.C;if(e(p<=h.l.o),e(16>=R),0<R){var q=h.l,W=h.Ta,X=h.Ua,re=q.width;if(It(h,R,w,P),R=X=[X],e((w=h.C)<(P=p)),e(q.v<q.va),P>q.o&&(P=q.o),w<q.j){var he=q.j-w;w=q.j,R[0]+=he*re}if(w>=P?w=0:(R[0]+=4*q.v,q.ka=w-q.j,q.U=q.va-q.v,q.T=P-w,w=1),w){if(X=X[0],11>(w=h.ca).S){var Ae=w.f.RGBA,Ve=(P=w.S,R=q.U,q=q.T,he=Ae.eb,Ae.A),fe=q;for(Ae=Ae.fb+h.Ma*Ae.A;0<fe--;){var Ie=W,qe=X,it=R,Ye=he,at=Ae;switch(P){case Yu:Nc(Ie,qe,it,Ye,at);break;case Vu:Li(Ie,qe,it,Ye,at);break;case Ef:Li(Ie,qe,it,Ye,at),Lc(Ye,at,0,it,1,0);break;case s1:Rr(Ie,qe,it,Ye,at);break;case Ju:ut(Ie,qe,it,Ye,at,1);break;case Ff:ut(Ie,qe,it,Ye,at,1),Lc(Ye,at,0,it,1,0);break;case Ku:ut(Ie,qe,it,Ye,at,0);break;case Qu:ut(Ie,qe,it,Ye,at,0),Lc(Ye,at,1,it,1,0);break;case Pf:La(Ie,qe,it,Ye,at);break;case Df:La(Ie,qe,it,Ye,at),Xm(Ye,at,it,1,0);break;case o1:Ir(Ie,qe,it,Ye,at);break;default:e(0)}X+=re,Ae+=Ve}h.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=w.height)}}h.C=p,e(h.C<=h.i)}function Xe(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var w=h.Ya[p].G,P=h.Ya[p].H;if(0<w[1][P[1]+0].g||0<w[2][P[2]+0].g||0<w[3][P[3]+0].g)return 0}return 1}function ir(h,p,w,P,R,q){if(h.Z!=0){var W=h.qd,X=h.rd;for(e(ws[h.Z]!=null);p<w;++p)ws[h.Z](W,X,P,R,P,R,q),W=P,X=R,R+=q;h.qd=W,h.rd=X}}function L(h,p){var w=h.l.ma,P=w.Z==0||w.Z==1?h.l.j:h.C;if(P=h.C<P?P:h.C,e(p<=h.l.o),p>P){var R=h.l.width,q=w.ca,W=w.tb+R*P,X=h.V,re=h.Ba+h.c*P,he=h.gc;e(h.ab==1),e(he[0].hc==3),rl(he[0],P,p,X,re,q,W),ir(w,P,p,q,W,R)}h.C=h.Ma=p}function A(h,p,w,P,R,q,W){var X=h.$/P,re=h.$%P,he=h.m,Ae=h.s,Ve=w+h.$,fe=Ve;R=w+P*R;var Ie=w+P*q,qe=280+Ae.ua,it=h.Pb?X:16777216,Ye=0<Ae.ua?Ae.Wa:null,at=Ae.wc,dt=Ve<Ie?Je(Ae,re,X):null;e(h.C<q),e(Ie<=R);var xt=!1;e:for(;;){for(;xt||Ve<Ie;){var mt=0;if(X>=it){var Xt=Ve-w;e((it=h).Pb),it.wd=it.m,it.xd=Xt,0<it.s.ua&&kt(it.s.Wa,it.s.vb),it=X+mw}if(re&at||(dt=Je(Ae,re,X)),e(dt!=null),dt.Qb&&(p[Ve]=dt.qb,xt=!0),!xt)if(Ce(he),dt.jc){mt=he,Xt=p;var zt=Ve,hr=dt.pd[Q(mt)&ja-1];e(dt.jc),256>hr.g?(_e(mt,mt.u+hr.g),Xt[zt]=hr.value,mt=0):(_e(mt,mt.u+hr.g-256),e(256<=hr.value),mt=hr.value),mt==0&&(xt=!0)}else mt=ee(dt.G[0],dt.H[0],he);if(he.h)break;if(xt||256>mt){if(!xt)if(dt.nd)p[Ve]=(dt.qb|mt<<8)>>>0;else{if(Ce(he),xt=ee(dt.G[1],dt.H[1],he),Ce(he),Xt=ee(dt.G[2],dt.H[2],he),zt=ee(dt.G[3],dt.H[3],he),he.h)break;p[Ve]=(zt<<24|xt<<16|mt<<8|Xt)>>>0}if(xt=!1,++Ve,++re>=P&&(re=0,++X,W!=null&&X<=q&&!(X%16)&&W(h,X),Ye!=null))for(;fe<Ve;)mt=p[fe++],Ye.X[(506832829*mt&4294967295)>>>Ye.Mb]=mt}else if(280>mt){if(mt=vr(mt-256,he),Xt=ee(dt.G[4],dt.H[4],he),Ce(he),Xt=te(P,Xt=vr(Xt,he)),he.h)break;if(Ve-w<Xt||R-Ve<mt)break e;for(zt=0;zt<mt;++zt)p[Ve+zt]=p[Ve+zt-Xt];for(Ve+=mt,re+=mt;re>=P;)re-=P,++X,W!=null&&X<=q&&!(X%16)&&W(h,X);if(e(Ve<=R),re&at&&(dt=Je(Ae,re,X)),Ye!=null)for(;fe<Ve;)mt=p[fe++],Ye.X[(506832829*mt&4294967295)>>>Ye.Mb]=mt}else{if(!(mt<qe))break e;for(xt=mt-280,e(Ye!=null);fe<Ve;)mt=p[fe++],Ye.X[(506832829*mt&4294967295)>>>Ye.Mb]=mt;mt=Ve,e(!(xt>>>(Xt=Ye).Xa)),p[mt]=Xt.X[xt],xt=!0}xt||e(he.h==ce(he))}if(h.Pb&&he.h&&Ve<R)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&kt(h.s.vb,h.s.Wa);else{if(he.h)break e;W!=null&&W(h,X>q?q:X),h.a=0,h.$=Ve-w}return 1}return h.a=3,0}function J(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function ie(){var h=new Yr;return h==null?null:(h.a=0,h.xb=u1,$e("Predictor","VP8LPredictors"),$e("Predictor","VP8LPredictors_C"),$e("PredictorAdd","VP8LPredictorsAdd"),$e("PredictorAdd","VP8LPredictorsAdd_C"),el=gt,Ga=St,Nc=wt,Li=Qt,La=Pe,Ir=me,Rr=De,$.VP8LMapColor32b=tl,$.VP8LMapColor8b=go,h)}function Ne(h,p,w,P,R){var q=1,W=[h],X=[p],re=P.m,he=P.s,Ae=null,Ve=0;e:for(;;){if(w)for(;q&&oe(re,1);){var fe=W,Ie=X,qe=P,it=1,Ye=qe.m,at=qe.gc[qe.ab],dt=oe(Ye,2);if(qe.Oc&1<<dt)q=0;else{switch(qe.Oc|=1<<dt,at.hc=dt,at.Ea=fe[0],at.nc=Ie[0],at.K=[null],++qe.ab,e(4>=qe.ab),dt){case 0:case 1:at.b=oe(Ye,3)+2,it=Ne(Me(at.Ea,at.b),Me(at.nc,at.b),0,qe,at.K),at.K=at.K[0];break;case 3:var xt,mt=oe(Ye,8)+1,Xt=16<mt?0:4<mt?1:2<mt?2:3;if(fe[0]=Me(at.Ea,Xt),at.b=Xt,xt=it=Ne(mt,1,0,qe,at.K)){var zt,hr=mt,Yt=at,xr=1<<(8>>Yt.b),_n=a(xr);if(_n==null)xt=0;else{var fr=Yt.K[0],Vt=Yt.w;for(_n[0]=Yt.K[0][0],zt=1;zt<1*hr;++zt)_n[zt]=ht(fr[Vt+zt],_n[zt-1]);for(;zt<4*xr;++zt)_n[zt]=0;Yt.K[0]=null,Yt.K[0]=_n,xt=1}}it=xt;break;case 2:break;default:e(0)}q=it}}if(W=W[0],X=X[0],q&&oe(re,1)&&!(q=1<=(Ve=oe(re,4))&&11>=Ve)){P.a=3;break e}var Dt;if(Dt=q)t:{var ln,lr,_r,qr=P,Bn=W,ii=X,Xr=Ve,Wn=w,ai=qr.m,wn=qr.s,wr=[null],Cr=1,Zr=0,Lr=pw[Xr];r:for(;;){if(Wn&&oe(ai,1)){var Mn=oe(ai,3)+2,aa=Me(Bn,Mn),cn=Me(ii,Mn),mi=aa*cn;if(!Ne(aa,cn,0,qr,wr))break r;for(wr=wr[0],wn.xc=Mn,ln=0;ln<mi;++ln){var Dr=wr[ln]>>8&65535;wr[ln]=Dr,Dr>=Cr&&(Cr=Dr+1)}}if(ai.h)break r;for(lr=0;5>lr;++lr){var Sn=l1[lr];!lr&&0<Xr&&(Sn+=1<<Xr),Zr<Sn&&(Zr=Sn)}var ki=o(Cr*Lr,de),si=Cr,Pi=o(si,H);if(Pi==null)var Ei=null;else e(65536>=si),Ei=Pi;var vi=a(Zr);if(Ei==null||vi==null||ki==null){qr.a=1;break r}var Fi=ki;for(ln=_r=0;ln<Cr;++ln){var Or=Ei[ln],Di=Or.G,sa=Or.H,mo=0,Ja=1,Un=0;for(lr=0;5>lr;++lr){Sn=l1[lr],Di[lr]=Fi,sa[lr]=_r,!lr&&0<Xr&&(Sn+=1<<Xr);i:{var td,Of=Sn,rd=qr,Pc=vi,Rw=Fi,Ow=_r,Bf=0,Ss=rd.m,Bw=oe(Ss,1);if(i(Pc,0,0,Of),Bw){var Mw=oe(Ss,1)+1,Uw=oe(Ss,1),b1=oe(Ss,Uw==0?1:8);Pc[b1]=1,Mw==2&&(Pc[b1=oe(Ss,8)]=1);var nd=1}else{var y1=a(19),x1=oe(Ss,4)+4;if(19<x1){rd.a=3;var id=0;break i}for(td=0;td<x1;++td)y1[fw[td]]=oe(Ss,3);var Mf=void 0,Ec=void 0,_1=rd,qw=y1,ad=Of,w1=Pc,Uf=0,js=_1.m,S1=8,j1=o(128,de);n:for(;G(j1,0,7,qw,19);){if(oe(js,1)){var $w=2+2*oe(js,3);if((Mf=2+oe(js,$w))>ad)break n}else Mf=ad;for(Ec=0;Ec<ad&&Mf--;){Ce(js);var N1=j1[0+(127&Q(js))];_e(js,js.u+N1.g);var il=N1.value;if(16>il)w1[Ec++]=il,il!=0&&(S1=il);else{var zw=il==16,C1=il-16,Ww=dw[C1],L1=oe(js,uw[C1])+Ww;if(Ec+L1>ad)break n;for(var Hw=zw?S1:0;0<L1--;)w1[Ec++]=Hw}}Uf=1;break n}Uf||(_1.a=3),nd=Uf}(nd=nd&&!Ss.h)&&(Bf=G(Rw,Ow,8,Pc,Of)),nd&&Bf!=0?id=Bf:(rd.a=3,id=0)}if(id==0)break r;if(Ja&&hw[lr]==1&&(Ja=Fi[_r].g==0),mo+=Fi[_r].g,_r+=id,3>=lr){var Fc,qf=vi[0];for(Fc=1;Fc<Sn;++Fc)vi[Fc]>qf&&(qf=vi[Fc]);Un+=qf}}if(Or.nd=Ja,Or.Qb=0,Ja&&(Or.qb=(Di[3][sa[3]+0].value<<24|Di[1][sa[1]+0].value<<16|Di[2][sa[2]+0].value)>>>0,mo==0&&256>Di[0][sa[0]+0].value&&(Or.Qb=1,Or.qb+=Di[0][sa[0]+0].value<<8)),Or.jc=!Or.Qb&&6>Un,Or.jc){var sd,Ka=Or;for(sd=0;sd<ja;++sd){var Ns=sd,Cs=Ka.pd[Ns],od=Ka.G[0][Ka.H[0]+Ns];256<=od.value?(Cs.g=od.g+256,Cs.value=od.value):(Cs.g=0,Cs.value=0,Ns>>=we(od,8,Cs),Ns>>=we(Ka.G[1][Ka.H[1]+Ns],16,Cs),Ns>>=we(Ka.G[2][Ka.H[2]+Ns],0,Cs),we(Ka.G[3][Ka.H[3]+Ns],24,Cs))}}}wn.vc=wr,wn.Wb=Cr,wn.Ya=Ei,wn.yc=ki,Dt=1;break t}Dt=0}if(!(q=Dt)){P.a=3;break e}if(0<Ve){if(he.ua=1<<Ve,!le(he.Wa,Ve)){P.a=1,q=0;break e}}else he.ua=0;var $f=P,A1=W,Gw=X,zf=$f.s,Wf=zf.xc;if($f.c=A1,$f.i=Gw,zf.md=Me(A1,Wf),zf.wc=Wf==0?-1:(1<<Wf)-1,w){P.xb=Sw;break e}if((Ae=a(W*X))==null){P.a=1,q=0;break e}q=(q=A(P,Ae,0,W,X,X,null))&&!re.h;break e}return q?(R!=null?R[0]=Ae:(e(Ae==null),e(w)),P.$=0,w||J(he)):J(he),q}function et(h,p){var w=h.c*h.i,P=w+p+16*p;return e(h.c<=p),h.V=a(P),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+w+p,1)}function D(h,p){var w=h.C,P=p-w,R=h.V,q=h.Ba+h.c*w;for(e(p<=h.l.o);0<P;){var W=16<P?16:P,X=h.l.ma,re=h.l.width,he=re*W,Ae=X.ca,Ve=X.tb+re*w,fe=h.Ta,Ie=h.Ua;It(h,W,R,q),e1(fe,Ie,Ae,Ve,he),ir(X,w,w+W,Ae,Ve,re),P-=W,R+=W*h.c,w+=W}e(w==p),h.C=h.Ma=p}function be(){this.ub=this.yd=this.td=this.Rb=0}function pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function F(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function se(){this.Yb=function(){var h=[];return function p(w,P,R){for(var q=R[P],W=0;W<q&&(w.push(R.length>P+1?[]:0),!(R.length<P+1));W++)p(w[W],P+1,R)}(h,0,[3,11]),h}()}function k(){this.jb=a(3),this.Wc=l([4,8],se),this.Xc=l([4,17],se)}function K(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ue(){this.ld=this.La=this.dd=this.tc=0}function xe(){this.Na=this.la=0}function Se(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Te(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new ue),this.Y=0,this.ya=Array(new Te),this.aa=0,this.l=new Qe}function pt(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Et(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new be,this.Kc=new pe,this.ed=new K,this.Qa=new F,this.Ic=this.$c=this.Aa=0,this.D=new Ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,E),this.ia=0,this.pb=o(4,Se),this.Pa=new k,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pt),this.Hd=0,this.rb=Array(new xe),this.sb=0,this.wa=Array(new ue),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Te),this.L=this.aa=0,this.gd=l([4,2],ue),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ft(){var h=new Et;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Ac||(Ac=er)),h}function rt(h,p,w){return h.a==0&&(h.a=p,h.sc=w,h.cb=0),0}function Tt(h,p,w){return 3<=w&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Zt(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return rt(h,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,P=p.w,R=p.ha;if(4>R)return rt(h,7,"Truncated header.");var q=w[P+0]|w[P+1]<<8|w[P+2]<<16,W=h.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return rt(h,3,"Incorrect keyframe parameters.");if(!W.yd)return rt(h,4,"Frame not displayable.");P+=3,R-=3;var X=h.Kc;if(W.Rb){if(7>R)return rt(h,7,"cannot parse picture header");if(!Tt(w,P,R))return rt(h,3,"Bad code word");X.c=16383&(w[P+4]<<8|w[P+3]),X.Td=w[P+4]>>6,X.i=16383&(w[P+6]<<8|w[P+5]),X.Ud=w[P+6]>>6,P+=7,R-=7,h.za=X.c+15>>4,h.Ub=X.i+15>>4,p.width=X.c,p.height=X.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((q=h.Pa).jb,0,255,q.jb.length),e((q=h.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>R)return rt(h,7,"bad partition length");ve(q=h.m,w,P,W.ub),P+=W.ub,R-=W.ub,W.Rb&&(X.Ld=ke(q),X.Kd=ke(q)),X=h.Qa;var re,he=h.Pa;if(e(q!=null),e(X!=null),X.Cb=ke(q),X.Cb){if(X.Bb=ke(q),ke(q)){for(X.Fb=ke(q),re=0;4>re;++re)X.Zb[re]=ke(q)?ne(q,7):0;for(re=0;4>re;++re)X.Lb[re]=ke(q)?ne(q,6):0}if(X.Bb)for(re=0;3>re;++re)he.jb[re]=ke(q)?Le(q,8):255}else X.Bb=0;if(q.Ka)return rt(h,3,"cannot parse segment header");if((X=h.ed).zd=ke(q),X.Tb=Le(q,6),X.wb=Le(q,3),X.Pc=ke(q),X.Pc&&ke(q)){for(he=0;4>he;++he)ke(q)&&(X.vd[he]=ne(q,6));for(he=0;4>he;++he)ke(q)&&(X.od[he]=ne(q,6))}if(h.L=X.Tb==0?0:X.zd?1:2,q.Ka)return rt(h,3,"cannot parse filter header");var Ae=R;if(R=re=P,P=re+Ae,X=Ae,h.Xb=(1<<Le(h.m,2))-1,Ae<3*(he=h.Xb))w=7;else{for(re+=3*he,X-=3*he,Ae=0;Ae<he;++Ae){var Ve=w[R+0]|w[R+1]<<8|w[R+2]<<16;Ve>X&&(Ve=X),ve(h.Jc[+Ae],w,re,Ve),re+=Ve,X-=Ve,R+=3}ve(h.Jc[+he],w,re,X),w=re<P?0:5}if(w!=0)return rt(h,w,"cannot parse partitions");for(w=Le(re=h.m,7),R=ke(re)?ne(re,4):0,P=ke(re)?ne(re,4):0,X=ke(re)?ne(re,4):0,he=ke(re)?ne(re,4):0,re=ke(re)?ne(re,4):0,Ae=h.Qa,Ve=0;4>Ve;++Ve){if(Ae.Cb){var fe=Ae.Zb[Ve];Ae.Fb||(fe+=w)}else{if(0<Ve){h.pb[Ve]=h.pb[0];continue}fe=w}var Ie=h.pb[Ve];Ie.Sc[0]=Tf[xn(fe+R,127)],Ie.Sc[1]=If[xn(fe+0,127)],Ie.Eb[0]=2*Tf[xn(fe+P,127)],Ie.Eb[1]=101581*If[xn(fe+X,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Tf[xn(fe+he,117)],Ie.Qc[1]=If[xn(fe+re,127)],Ie.lc=fe+re}if(!W.Rb)return rt(h,4,"Not a key frame.");for(ke(q),W=h.Pa,w=0;4>w;++w){for(R=0;8>R;++R)for(P=0;3>P;++P)for(X=0;11>X;++X)he=He(q,_w[w][R][P][X])?Le(q,8):yw[w][R][P][X],W.Wc[w][R].Yb[P][X]=he;for(R=0;17>R;++R)W.Xc[w][R]=W.Wc[w][ww[R]]}return h.kc=ke(q),h.kc&&(h.Bd=Le(q,8)),h.cb=1}function er(h,p,w,P,R,q,W){var X=p[R].Yb[w];for(w=0;16>R;++R){if(!He(h,X[w+0]))return R;for(;!He(h,X[w+1]);)if(X=p[++R].Yb[0],w=0,R==16)return 16;var re=p[R+1].Yb;if(He(h,X[w+2])){var he=h,Ae=0;if(He(he,(fe=X)[(Ve=w)+3]))if(He(he,fe[Ve+6])){for(X=0,Ve=2*(Ae=He(he,fe[Ve+8]))+(fe=He(he,fe[Ve+9+Ae])),Ae=0,fe=vw[Ve];fe[X];++X)Ae+=Ae+He(he,fe[X]);Ae+=3+(8<<Ve)}else He(he,fe[Ve+7])?(Ae=7+2*He(he,165),Ae+=He(he,145)):Ae=5+He(he,159);else Ae=He(he,fe[Ve+4])?3+He(he,fe[Ve+5]):2;X=re[2]}else Ae=1,X=re[1];re=W+bw[R],0>(he=h).b&&Be(he);var Ve,fe=he.b,Ie=(Ve=he.Ca>>1)-(he.I>>fe)>>31;--he.b,he.Ca+=Ie,he.Ca|=1,he.I-=(Ve+1&Ie)<<fe,q[re]=((Ae^Ie)-Ie)*P[(0<R)+0]}return 16}function gr(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function ar(h,p,w,P,R){R=h[p+w+32*P]+(R>>3),h[p+w+32*P]=-256&R?0>R?0:255:R}function nn(h,p,w,P,R,q){ar(h,p,0,w,P+R),ar(h,p,1,w,P+q),ar(h,p,2,w,P-q),ar(h,p,3,w,P-R)}function jr(h){return(20091*h>>16)+h}function dr(h,p,w,P){var R,q=0,W=a(16);for(R=0;4>R;++R){var X=h[p+0]+h[p+8],re=h[p+0]-h[p+8],he=(35468*h[p+4]>>16)-jr(h[p+12]),Ae=jr(h[p+4])+(35468*h[p+12]>>16);W[q+0]=X+Ae,W[q+1]=re+he,W[q+2]=re-he,W[q+3]=X-Ae,q+=4,p++}for(R=q=0;4>R;++R)X=(h=W[q+0]+4)+W[q+8],re=h-W[q+8],he=(35468*W[q+4]>>16)-jr(W[q+12]),ar(w,P,0,0,X+(Ae=jr(W[q+4])+(35468*W[q+12]>>16))),ar(w,P,1,0,re+he),ar(w,P,2,0,re-he),ar(w,P,3,0,X-Ae),q++,P+=32}function _a(h,p,w,P){var R=h[p+0]+4,q=35468*h[p+4]>>16,W=jr(h[p+4]),X=35468*h[p+1]>>16;nn(w,P,0,R+W,h=jr(h[p+1]),X),nn(w,P,1,R+q,h,X),nn(w,P,2,R-q,h,X),nn(w,P,3,R-W,h,X)}function ra(h,p,w,P,R){dr(h,p,w,P),R&&dr(h,p+16,w,P+4)}function Wo(h,p,w,P){on(h,p+0,w,P,1),on(h,p+32,w,P+128,1)}function Ni(h,p,w,P){var R;for(h=h[p+0]+4,R=0;4>R;++R)for(p=0;4>p;++p)ar(w,P,p,R,h)}function io(h,p,w,P){h[p+0]&&Aa(h,p+0,w,P),h[p+16]&&Aa(h,p+16,w,P+4),h[p+32]&&Aa(h,p+32,w,P+128),h[p+48]&&Aa(h,p+48,w,P+128+4)}function Ho(h,p,w,P){var R,q=a(16);for(R=0;4>R;++R){var W=h[p+0+R]+h[p+12+R],X=h[p+4+R]+h[p+8+R],re=h[p+4+R]-h[p+8+R],he=h[p+0+R]-h[p+12+R];q[0+R]=W+X,q[8+R]=W-X,q[4+R]=he+re,q[12+R]=he-re}for(R=0;4>R;++R)W=(h=q[0+4*R]+3)+q[3+4*R],X=q[1+4*R]+q[2+4*R],re=q[1+4*R]-q[2+4*R],he=h-q[3+4*R],w[P+0]=W+X>>3,w[P+16]=he+re>>3,w[P+32]=W-X>>3,w[P+48]=he-re>>3,P+=64}function wa(h,p,w){var P,R=p-32,q=Ai,W=255-h[R-1];for(P=0;P<w;++P){var X,re=q,he=W+h[p-1];for(X=0;X<w;++X)h[p+X]=re[he+h[R+X]];p+=32}}function cc(h,p){wa(h,p,4)}function mf(h,p){wa(h,p,8)}function vf(h,p){wa(h,p,16)}function bf(h,p){var w;for(w=0;16>w;++w)n(h,p+32*w,h,p-32,16)}function uc(h,p){var w;for(w=16;0<w;--w)i(h,p,h[p-1],16),p+=32}function ao(h,p,w){var P;for(P=0;16>P;++P)i(p,w+32*P,h,16)}function ps(h,p){var w,P=16;for(w=0;16>w;++w)P+=h[p-1+32*w]+h[p+w-32];ao(P>>5,h,p)}function yf(h,p){var w,P=8;for(w=0;16>w;++w)P+=h[p-1+32*w];ao(P>>4,h,p)}function so(h,p){var w,P=8;for(w=0;16>w;++w)P+=h[p+w-32];ao(P>>4,h,p)}function dc(h,p){ao(128,h,p)}function sr(h,p,w){return h+2*p+w+2>>2}function xf(h,p){var w,P=p-32;for(P=new Uint8Array([sr(h[P-1],h[P+0],h[P+1]),sr(h[P+0],h[P+1],h[P+2]),sr(h[P+1],h[P+2],h[P+3]),sr(h[P+2],h[P+3],h[P+4])]),w=0;4>w;++w)n(h,p+32*w,P,0,P.length)}function _f(h,p){var w=h[p-1],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96];Ke(h,p+0,16843009*sr(h[p-1-32],w,P)),Ke(h,p+32,16843009*sr(w,P,R)),Ke(h,p+64,16843009*sr(P,R,q)),Ke(h,p+96,16843009*sr(R,q,q))}function wf(h,p){var w,P=4;for(w=0;4>w;++w)P+=h[p+w-32]+h[p-1+32*w];for(P>>=3,w=0;4>w;++w)i(h,p+32*w,P,4)}function Sf(h,p){var w=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1-32],W=h[p+0-32],X=h[p+1-32],re=h[p+2-32],he=h[p+3-32];h[p+0+96]=sr(P,R,h[p-1+96]),h[p+1+96]=h[p+0+64]=sr(w,P,R),h[p+2+96]=h[p+1+64]=h[p+0+32]=sr(q,w,P),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=sr(W,q,w),h[p+3+64]=h[p+2+32]=h[p+1+0]=sr(X,W,q),h[p+3+32]=h[p+2+0]=sr(re,X,W),h[p+3+0]=sr(he,re,X)}function qa(h,p){var w=h[p+1-32],P=h[p+2-32],R=h[p+3-32],q=h[p+4-32],W=h[p+5-32],X=h[p+6-32],re=h[p+7-32];h[p+0+0]=sr(h[p+0-32],w,P),h[p+1+0]=h[p+0+32]=sr(w,P,R),h[p+2+0]=h[p+1+32]=h[p+0+64]=sr(P,R,q),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=sr(R,q,W),h[p+3+32]=h[p+2+64]=h[p+1+96]=sr(q,W,X),h[p+3+64]=h[p+2+96]=sr(W,X,re),h[p+3+96]=sr(X,re,re)}function $a(h,p){var w=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1-32],W=h[p+0-32],X=h[p+1-32],re=h[p+2-32],he=h[p+3-32];h[p+0+0]=h[p+1+64]=q+W+1>>1,h[p+1+0]=h[p+2+64]=W+X+1>>1,h[p+2+0]=h[p+3+64]=X+re+1>>1,h[p+3+0]=re+he+1>>1,h[p+0+96]=sr(R,P,w),h[p+0+64]=sr(P,w,q),h[p+0+32]=h[p+1+96]=sr(w,q,W),h[p+1+32]=h[p+2+96]=sr(q,W,X),h[p+2+32]=h[p+3+96]=sr(W,X,re),h[p+3+32]=sr(X,re,he)}function jf(h,p){var w=h[p+0-32],P=h[p+1-32],R=h[p+2-32],q=h[p+3-32],W=h[p+4-32],X=h[p+5-32],re=h[p+6-32],he=h[p+7-32];h[p+0+0]=w+P+1>>1,h[p+1+0]=h[p+0+64]=P+R+1>>1,h[p+2+0]=h[p+1+64]=R+q+1>>1,h[p+3+0]=h[p+2+64]=q+W+1>>1,h[p+0+32]=sr(w,P,R),h[p+1+32]=h[p+0+96]=sr(P,R,q),h[p+2+32]=h[p+1+96]=sr(R,q,W),h[p+3+32]=h[p+2+96]=sr(q,W,X),h[p+3+64]=sr(W,X,re),h[p+3+96]=sr(X,re,he)}function Nf(h,p){var w=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96];h[p+0+0]=w+P+1>>1,h[p+2+0]=h[p+0+32]=P+R+1>>1,h[p+2+32]=h[p+0+64]=R+q+1>>1,h[p+1+0]=sr(w,P,R),h[p+3+0]=h[p+1+32]=sr(P,R,q),h[p+3+32]=h[p+1+64]=sr(R,q,q),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=q}function Go(h,p){var w=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96],W=h[p-1-32],X=h[p+0-32],re=h[p+1-32],he=h[p+2-32];h[p+0+0]=h[p+2+32]=w+W+1>>1,h[p+0+32]=h[p+2+64]=P+w+1>>1,h[p+0+64]=h[p+2+96]=R+P+1>>1,h[p+0+96]=q+R+1>>1,h[p+3+0]=sr(X,re,he),h[p+2+0]=sr(W,X,re),h[p+1+0]=h[p+3+32]=sr(w,W,X),h[p+1+32]=h[p+3+64]=sr(P,w,W),h[p+1+64]=h[p+3+96]=sr(R,P,w),h[p+1+96]=sr(q,R,P)}function hc(h,p){var w;for(w=0;8>w;++w)n(h,p+32*w,h,p-32,8)}function oo(h,p){var w;for(w=0;8>w;++w)i(h,p,h[p-1],8),p+=32}function Yo(h,p,w){var P;for(P=0;8>P;++P)i(p,w+32*P,h,8)}function Vo(h,p){var w,P=8;for(w=0;8>w;++w)P+=h[p+w-32]+h[p-1+32*w];Yo(P>>4,h,p)}function Cf(h,p){var w,P=4;for(w=0;8>w;++w)P+=h[p+w-32];Yo(P>>3,h,p)}function fc(h,p){var w,P=4;for(w=0;8>w;++w)P+=h[p-1+32*w];Yo(P>>3,h,p)}function gc(h,p){Yo(128,h,p)}function lo(h,p,w){var P=h[p-w],R=h[p+0],q=3*(R-P)+kf[1020+h[p-2*w]-h[p+w]],W=Gu[112+(q+4>>3)];h[p-w]=Ai[255+P+Gu[112+(q+3>>3)]],h[p+0]=Ai[255+R-W]}function co(h,p,w,P){var R=h[p+0],q=h[p+w];return Hi[255+h[p-2*w]-h[p-w]]>P||Hi[255+q-R]>P}function pc(h,p,w,P){return 4*Hi[255+h[p-w]-h[p+0]]+Hi[255+h[p-2*w]-h[p+w]]<=P}function Jo(h,p,w,P,R){var q=h[p-3*w],W=h[p-2*w],X=h[p-w],re=h[p+0],he=h[p+w],Ae=h[p+2*w],Ve=h[p+3*w];return 4*Hi[255+X-re]+Hi[255+W-he]>P?0:Hi[255+h[p-4*w]-q]<=R&&Hi[255+q-W]<=R&&Hi[255+W-X]<=R&&Hi[255+Ve-Ae]<=R&&Hi[255+Ae-he]<=R&&Hi[255+he-re]<=R}function mc(h,p,w,P){var R=2*P+1;for(P=0;16>P;++P)pc(h,p+P,w,R)&&lo(h,p+P,w)}function uo(h,p,w,P){var R=2*P+1;for(P=0;16>P;++P)pc(h,p+P*w,1,R)&&lo(h,p+P*w,1)}function vc(h,p,w,P){var R;for(R=3;0<R;--R)mc(h,p+=4*w,w,P)}function bc(h,p,w,P){var R;for(R=3;0<R;--R)uo(h,p+=4,w,P)}function Ci(h,p,w,P,R,q,W,X){for(q=2*q+1;0<R--;){if(Jo(h,p,w,q,W))if(co(h,p,w,X))lo(h,p,w);else{var re=h,he=p,Ae=w,Ve=re[he-2*Ae],fe=re[he-Ae],Ie=re[he+0],qe=re[he+Ae],it=re[he+2*Ae],Ye=27*(dt=kf[1020+3*(Ie-fe)+kf[1020+Ve-qe]])+63>>7,at=18*dt+63>>7,dt=9*dt+63>>7;re[he-3*Ae]=Ai[255+re[he-3*Ae]+dt],re[he-2*Ae]=Ai[255+Ve+at],re[he-Ae]=Ai[255+fe+Ye],re[he+0]=Ai[255+Ie-Ye],re[he+Ae]=Ai[255+qe-at],re[he+2*Ae]=Ai[255+it-dt]}p+=P}}function Sa(h,p,w,P,R,q,W,X){for(q=2*q+1;0<R--;){if(Jo(h,p,w,q,W))if(co(h,p,w,X))lo(h,p,w);else{var re=h,he=p,Ae=w,Ve=re[he-Ae],fe=re[he+0],Ie=re[he+Ae],qe=Gu[112+(4+(it=3*(fe-Ve))>>3)],it=Gu[112+(it+3>>3)],Ye=qe+1>>1;re[he-2*Ae]=Ai[255+re[he-2*Ae]+Ye],re[he-Ae]=Ai[255+Ve+it],re[he+0]=Ai[255+fe-qe],re[he+Ae]=Ai[255+Ie-Ye]}p+=P}}function y(h,p,w,P,R,q){Ci(h,p,w,1,16,P,R,q)}function O(h,p,w,P,R,q){Ci(h,p,1,w,16,P,R,q)}function ge(h,p,w,P,R,q){var W;for(W=3;0<W;--W)Sa(h,p+=4*w,w,1,16,P,R,q)}function je(h,p,w,P,R,q){var W;for(W=3;0<W;--W)Sa(h,p+=4,1,w,16,P,R,q)}function Ue(h,p,w,P,R,q,W,X){Ci(h,p,R,1,8,q,W,X),Ci(w,P,R,1,8,q,W,X)}function ct(h,p,w,P,R,q,W,X){Ci(h,p,1,R,8,q,W,X),Ci(w,P,1,R,8,q,W,X)}function vt(h,p,w,P,R,q,W,X){Sa(h,p+4*R,R,1,8,q,W,X),Sa(w,P+4*R,R,1,8,q,W,X)}function Ht(h,p,w,P,R,q,W,X){Sa(h,p+4,1,R,8,q,W,X),Sa(w,P+4,1,R,8,q,W,X)}function Kt(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nr(){this.ua=0,this.Wa=new Pt,this.vb=new Pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new de}function Yr(){this.xb=this.a=0,this.l=new Qe,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nr,this.ab=0,this.gc=o(4,cr),this.Oc=0}function mn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(h,p,w,P,R,q,W){for(h=h==null?0:h[p+0],p=0;p<W;++p)R[q+p]=h+w[P+p]&255,h=R[q+p]}function yn(h,p,w,P,R,q,W){var X;if(h==null)Fr(null,null,w,P,R,q,W);else for(X=0;X<W;++X)R[q+X]=h[p+X]+w[P+X]&255}function vn(h,p,w,P,R,q,W){if(h==null)Fr(null,null,w,P,R,q,W);else{var X,re=h[p+0],he=re,Ae=re;for(X=0;X<W;++X)he=Ae+(re=h[p+X])-he,Ae=w[P+X]+(-256&he?0>he?0:255:he)&255,he=re,R[q+X]=Ae}}function On(h,p,w,P){var R=p.width,q=p.o;if(e(h!=null&&p!=null),0>w||0>=P||w+P>q)return null;if(!h.Cc){if(h.ga==null){var W;if(h.ga=new mn,(W=h.ga==null)||(W=p.width*p.o,e(h.Gb.length==0),h.Gb=a(W),h.Uc=0,h.Gb==null?W=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,W=1),W=!W),!W){W=h.ga;var X=h.Fa,re=h.P,he=h.qc,Ae=h.mb,Ve=h.nb,fe=re+1,Ie=he-1,qe=W.l;if(e(X!=null&&Ae!=null&&p!=null),ws[0]=null,ws[1]=Fr,ws[2]=yn,ws[3]=vn,W.ca=Ae,W.tb=Ve,W.c=p.width,W.i=p.height,e(0<W.c&&0<W.i),1>=he)p=0;else if(W.$a=3&X[re+0],W.Z=X[re+0]>>2&3,W.Lc=X[re+0]>>4&3,re=X[re+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||re)p=0;else if(qe.put=bt,qe.ac=tt,qe.bc=tr,qe.ma=W,qe.width=p.width,qe.height=p.height,qe.Da=p.Da,qe.v=p.v,qe.va=p.va,qe.j=p.j,qe.o=p.o,W.$a)e:{e(W.$a==1),p=ie();t:for(;;){if(p==null){p=0;break e}if(e(W!=null),W.mc=p,p.c=W.c,p.i=W.i,p.l=W.l,p.l.ma=W,p.l.width=W.c,p.l.height=W.i,p.a=0,ye(p.m,X,fe,Ie),!Ne(W.c,W.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Xe(p.s)?(W.ic=1,X=p.c*p.i,p.Ta=null,p.Ua=0,p.V=a(X),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(W.ic=0,p=et(p,W.c)),!p))break t;p=1;break e}W.mc=null,p=0}else p=Ie>=W.c*W.i;W=!p}if(W)return null;h.ga.Lc!=1?h.Ga=0:P=q-w}e(h.ga!=null),e(w+P<=q);e:{if(p=(X=h.ga).c,q=X.l.o,X.$a==0){if(fe=h.rc,Ie=h.Vc,qe=h.Fa,re=h.P+1+w*p,he=h.mb,Ae=h.nb+w*p,e(re<=h.P+h.qc),X.Z!=0)for(e(ws[X.Z]!=null),W=0;W<P;++W)ws[X.Z](fe,Ie,qe,re,he,Ae,p),fe=he,Ie=Ae,Ae+=p,re+=p;else for(W=0;W<P;++W)n(he,Ae,qe,re,p),fe=he,Ie=Ae,Ae+=p,re+=p;h.rc=fe,h.Vc=Ie}else{if(e(X.mc!=null),p=w+P,e((W=X.mc)!=null),e(p<=W.i),W.C>=p)p=1;else if(X.ic||ho(),X.ic){X=W.V,fe=W.Ba,Ie=W.c;var it=W.i,Ye=(qe=1,re=W.$/Ie,he=W.$%Ie,Ae=W.m,Ve=W.s,W.$),at=Ie*it,dt=Ie*p,xt=Ve.wc,mt=Ye<dt?Je(Ve,he,re):null;e(Ye<=at),e(p<=it),e(Xe(Ve));t:for(;;){for(;!Ae.h&&Ye<dt;){if(he&xt||(mt=Je(Ve,he,re)),e(mt!=null),Ce(Ae),256>(it=ee(mt.G[0],mt.H[0],Ae)))X[fe+Ye]=it,++Ye,++he>=Ie&&(he=0,++re<=p&&!(re%16)&&L(W,re));else{if(!(280>it)){qe=0;break t}it=vr(it-256,Ae);var Xt,zt=ee(mt.G[4],mt.H[4],Ae);if(Ce(Ae),!(Ye>=(zt=te(Ie,zt=vr(zt,Ae)))&&at-Ye>=it)){qe=0;break t}for(Xt=0;Xt<it;++Xt)X[fe+Ye+Xt]=X[fe+Ye+Xt-zt];for(Ye+=it,he+=it;he>=Ie;)he-=Ie,++re<=p&&!(re%16)&&L(W,re);Ye<dt&&he&xt&&(mt=Je(Ve,he,re))}e(Ae.h==ce(Ae))}L(W,re>p?p:re);break t}!qe||Ae.h&&Ye<at?(qe=0,W.a=Ae.h?5:3):W.$=Ye,p=qe}else p=A(W,W.V,W.Ba,W.c,W.i,p,D);if(!p){P=0;break e}}w+P>=q&&(h.Cc=1),P=1}if(!P)return null;if(h.Cc&&((P=h.ga)!=null&&(P.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+w*R}function za(h,p,w,P,R,q){for(;0<R--;){var W,X=h,re=p+(w?1:0),he=h,Ae=p+(w?0:3);for(W=0;W<P;++W){var Ve=he[Ae+4*W];Ve!=255&&(Ve*=32897,X[re+4*W+0]=X[re+4*W+0]*Ve>>23,X[re+4*W+1]=X[re+4*W+1]*Ve>>23,X[re+4*W+2]=X[re+4*W+2]*Ve>>23)}p+=q}}function ms(h,p,w,P,R){for(;0<P--;){var q;for(q=0;q<w;++q){var W=h[p+2*q+0],X=15&(he=h[p+2*q+1]),re=4369*X,he=(240&he|he>>4)*re>>16;h[p+2*q+0]=(240&W|W>>4)*re>>16&240|(15&W|W<<4)*re>>16>>4&15,h[p+2*q+1]=240&he|X}p+=R}}function Lf(h,p,w,P,R,q,W,X){var re,he,Ae=255;for(he=0;he<R;++he){for(re=0;re<P;++re){var Ve=h[p+re];q[W+4*re]=Ve,Ae&=Ve}p+=w,W+=X}return Ae!=255}function zu(h,p,w,P,R){var q;for(q=0;q<R;++q)w[P+q]=h[p+q]>>8}function ho(){Lc=za,Xm=ms,Zm=Lf,e1=zu}function na(h,p,w){$[h]=function(P,R,q,W,X,re,he,Ae,Ve,fe,Ie,qe,it,Ye,at,dt,xt){var mt,Xt=xt-1>>1,zt=X[re+0]|he[Ae+0]<<16,hr=Ve[fe+0]|Ie[qe+0]<<16;e(P!=null);var Yt=3*zt+hr+131074>>2;for(p(P[R+0],255&Yt,Yt>>16,it,Ye),q!=null&&(Yt=3*hr+zt+131074>>2,p(q[W+0],255&Yt,Yt>>16,at,dt)),mt=1;mt<=Xt;++mt){var xr=X[re+mt]|he[Ae+mt]<<16,_n=Ve[fe+mt]|Ie[qe+mt]<<16,fr=zt+xr+hr+_n+524296,Vt=fr+2*(xr+hr)>>3;Yt=Vt+zt>>1,zt=(fr=fr+2*(zt+_n)>>3)+xr>>1,p(P[R+2*mt-1],255&Yt,Yt>>16,it,Ye+(2*mt-1)*w),p(P[R+2*mt-0],255&zt,zt>>16,it,Ye+(2*mt-0)*w),q!=null&&(Yt=fr+hr>>1,zt=Vt+_n>>1,p(q[W+2*mt-1],255&Yt,Yt>>16,at,dt+(2*mt-1)*w),p(q[W+2*mt+0],255&zt,zt>>16,at,dt+(2*mt+0)*w)),zt=xr,hr=_n}1&xt||(Yt=3*zt+hr+131074>>2,p(P[R+xt-1],255&Yt,Yt>>16,it,Ye+(xt-1)*w),q!=null&&(Yt=3*hr+zt+131074>>2,p(q[W+xt-1],255&Yt,Yt>>16,at,dt+(xt-1)*w)))}}function yc(){Gi[Yu]=jw,Gi[Vu]=d1,Gi[s1]=Nw,Gi[Ju]=h1,Gi[Ku]=f1,Gi[Pf]=g1,Gi[o1]=Cw,Gi[Ef]=d1,Gi[Ff]=h1,Gi[Qu]=f1,Gi[Df]=g1}function Ko(h){return h&-16384?0>h?0:255:h>>Lw}function vs(h,p){return Ko((19077*h>>8)+(26149*p>>8)-14234)}function En(h,p,w){return Ko((19077*h>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function Wa(h,p){return Ko((19077*h>>8)+(33050*p>>8)-17685)}function Ha(h,p,w,P,R){P[R+0]=vs(h,w),P[R+1]=En(h,p,w),P[R+2]=Wa(h,p)}function Qo(h,p,w,P,R){P[R+0]=Wa(h,p),P[R+1]=En(h,p,w),P[R+2]=vs(h,w)}function xc(h,p,w,P,R){var q=En(h,p,w);p=q<<3&224|Wa(h,p)>>3,P[R+0]=248&vs(h,w)|q>>5,P[R+1]=p}function ni(h,p,w,P,R){var q=240&Wa(h,p)|15;P[R+0]=240&vs(h,w)|En(h,p,w)>>4,P[R+1]=q}function Wu(h,p,w,P,R){P[R+0]=255,Ha(h,p,w,P,R+1)}function Xo(h,p,w,P,R){Qo(h,p,w,P,R),P[R+3]=255}function Hu(h,p,w,P,R){Ha(h,p,w,P,R),P[R+3]=255}function xn(h,p){return 0>h?0:h>p?p:h}function Wi(h,p,w){$[h]=function(P,R,q,W,X,re,he,Ae,Ve){for(var fe=Ae+(-2&Ve)*w;Ae!=fe;)p(P[R+0],q[W+0],X[re+0],he,Ae),p(P[R+1],q[W+0],X[re+0],he,Ae+w),R+=2,++W,++re,Ae+=2*w;1&Ve&&p(P[R+0],q[W+0],X[re+0],he,Ae)}}function _c(h,p,w){return w==0?h==0?p==0?6:5:p==0?4:0:w}function wc(h,p,w,P,R){switch(h>>>30){case 3:on(p,w,P,R,0);break;case 2:Ya(p,w,P,R);break;case 1:Aa(p,w,P,R)}}function bs(h,p){var w,P,R=p.M,q=p.Nb,W=h.oc,X=h.pc+40,re=h.oc,he=h.pc+584,Ae=h.oc,Ve=h.pc+600;for(w=0;16>w;++w)W[X+32*w-1]=129;for(w=0;8>w;++w)re[he+32*w-1]=129,Ae[Ve+32*w-1]=129;for(0<R?W[X-1-32]=re[he-1-32]=Ae[Ve-1-32]=129:(i(W,X-32-1,127,21),i(re,he-32-1,127,9),i(Ae,Ve-32-1,127,9)),P=0;P<h.za;++P){var fe=p.ya[p.aa+P];if(0<P){for(w=-1;16>w;++w)n(W,X+32*w-4,W,X+32*w+12,4);for(w=-1;8>w;++w)n(re,he+32*w-4,re,he+32*w+4,4),n(Ae,Ve+32*w-4,Ae,Ve+32*w+4,4)}var Ie=h.Gd,qe=h.Hd+P,it=fe.ad,Ye=fe.Hc;if(0<R&&(n(W,X-32,Ie[qe].y,0,16),n(re,he-32,Ie[qe].f,0,8),n(Ae,Ve-32,Ie[qe].ea,0,8)),fe.Za){var at=W,dt=X-32+16;for(0<R&&(P>=h.za-1?i(at,dt,Ie[qe].y[15],4):n(at,dt,Ie[qe+1].y,0,4)),w=0;4>w;w++)at[dt+128+w]=at[dt+256+w]=at[dt+384+w]=at[dt+0+w];for(w=0;16>w;++w,Ye<<=2)at=W,dt=X+m1[w],ia[fe.Ob[w]](at,dt),wc(Ye,it,16*+w,at,dt)}else if(at=_c(P,R,fe.Ob[0]),_s[at](W,X),Ye!=0)for(w=0;16>w;++w,Ye<<=2)wc(Ye,it,16*+w,W,X+m1[w]);for(w=fe.Gc,at=_c(P,R,fe.Dd),Va[at](re,he),Va[at](Ae,Ve),Ye=it,at=re,dt=he,255&(fe=0|w)&&(170&fe?nl(Ye,256,at,dt):Cc(Ye,256,at,dt)),fe=Ae,Ye=Ve,255&(w>>=8)&&(170&w?nl(it,320,fe,Ye):Cc(it,320,fe,Ye)),R<h.Ub-1&&(n(Ie[qe].y,0,W,X+480,16),n(Ie[qe].f,0,re,he+224,8),n(Ie[qe].ea,0,Ae,Ve+224,8)),w=8*q*h.B,Ie=h.sa,qe=h.ta+16*P+16*q*h.R,it=h.qa,fe=h.ra+8*P+w,Ye=h.Ha,at=h.Ia+8*P+w,w=0;16>w;++w)n(Ie,qe+w*h.R,W,X+32*w,16);for(w=0;8>w;++w)n(it,fe+w*h.B,re,he+32*w,8),n(Ye,at+w*h.B,Ae,Ve+32*w,8)}}function Zo(h,p,w,P,R,q,W,X,re){var he=[0],Ae=[0],Ve=0,fe=re!=null?re.kd:0,Ie=re??new rr;if(h==null||12>w)return 7;Ie.data=h,Ie.w=p,Ie.ha=w,p=[p],w=[w],Ie.gb=[Ie.gb];e:{var qe=p,it=w,Ye=Ie.gb;if(e(h!=null),e(it!=null),e(Ye!=null),Ye[0]=0,12<=it[0]&&!r(h,qe[0],"RIFF")){if(r(h,qe[0]+8,"WEBP")){Ye=3;break e}var at=Oe(h,qe[0]+4);if(12>at||4294967286<at){Ye=3;break e}if(fe&&at>it[0]-8){Ye=7;break e}Ye[0]=at,qe[0]+=12,it[0]-=12}Ye=0}if(Ye!=0)return Ye;for(at=0<Ie.gb[0],w=w[0];;){e:{var dt=h;it=p,Ye=w;var xt=he,mt=Ae,Xt=qe=[0];if((Yt=Ve=[Ve])[0]=0,8>Ye[0])Ye=7;else{if(!r(dt,it[0],"VP8X")){if(Oe(dt,it[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var zt=Oe(dt,it[0]+8),hr=1+Ge(dt,it[0]+12);if(2147483648<=hr*(dt=1+Ge(dt,it[0]+15))){Ye=3;break e}Xt!=null&&(Xt[0]=zt),xt!=null&&(xt[0]=hr),mt!=null&&(mt[0]=dt),it[0]+=18,Ye[0]-=18,Yt[0]=1}Ye=0}}if(Ve=Ve[0],qe=qe[0],Ye!=0)return Ye;if(it=!!(2&qe),!at&&Ve)return 3;if(q!=null&&(q[0]=!!(16&qe)),W!=null&&(W[0]=it),X!=null&&(X[0]=0),W=he[0],qe=Ae[0],Ve&&it&&re==null){Ye=0;break}if(4>w){Ye=7;break}if(at&&Ve||!at&&!Ve&&!r(h,p[0],"ALPH")){w=[w],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{zt=h,Ye=p,at=w;var Yt=Ie.gb;xt=Ie.na,mt=Ie.P,Xt=Ie.Sa,hr=22,e(zt!=null),e(at!=null),dt=Ye[0];var xr=at[0];for(e(xt!=null),e(Xt!=null),xt[0]=null,mt[0]=null,Xt[0]=0;;){if(Ye[0]=dt,at[0]=xr,8>xr){Ye=7;break e}var _n=Oe(zt,dt+4);if(4294967286<_n){Ye=3;break e}var fr=8+_n+1&-2;if(hr+=fr,0<Yt&&hr>Yt){Ye=3;break e}if(!r(zt,dt,"VP8 ")||!r(zt,dt,"VP8L")){Ye=0;break e}if(xr[0]<fr){Ye=7;break e}r(zt,dt,"ALPH")||(xt[0]=zt,mt[0]=dt+8,Xt[0]=_n),dt+=fr,xr-=fr}}if(w=w[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ye!=0)break}w=[w],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Yt=h,Ye=p,at=w,xt=Ie.gb[0],mt=Ie.Ja,Xt=Ie.xa,zt=Ye[0],dt=!r(Yt,zt,"VP8 "),hr=!r(Yt,zt,"VP8L"),e(Yt!=null),e(at!=null),e(mt!=null),e(Xt!=null),8>at[0])Ye=7;else{if(dt||hr){if(Yt=Oe(Yt,zt+4),12<=xt&&Yt>xt-12){Ye=3;break e}if(fe&&Yt>at[0]-8){Ye=7;break e}mt[0]=Yt,Ye[0]+=8,at[0]-=8,Xt[0]=hr}else Xt[0]=5<=at[0]&&Yt[zt+0]==47&&!(Yt[zt+4]>>5),mt[0]=at[0];Ye=0}if(w=w[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],p=p[0],Ye!=0)break;if(4294967286<Ie.Ja)return 3;if(X==null||it||(X[0]=Ie.xa?2:1),W=[W],qe=[qe],Ie.xa){if(5>w){Ye=7;break}X=W,fe=qe,it=q,h==null||5>w?h=0:5<=w&&h[p+0]==47&&!(h[p+4]>>5)?(at=[0],Yt=[0],xt=[0],ye(mt=new U,h,p,w),Gt(mt,at,Yt,xt)?(X!=null&&(X[0]=at[0]),fe!=null&&(fe[0]=Yt[0]),it!=null&&(it[0]=xt[0]),h=1):h=0):h=0}else{if(10>w){Ye=7;break}X=qe,h==null||10>w||!Tt(h,p+3,w-3)?h=0:(fe=h[p+0]|h[p+1]<<8|h[p+2]<<16,it=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=Ie.Ja||!it||!h?h=0:(W&&(W[0]=it),X&&(X[0]=h),h=1))}if(!h||(W=W[0],qe=qe[0],Ve&&(he[0]!=W||Ae[0]!=qe)))return 3;re!=null&&(re[0]=Ie,re.offset=p-re.w,e(4294967286>p-re.w),e(re.offset==re.ha-w));break}return Ye==0||Ye==7&&Ve&&re==null?(q!=null&&(q[0]|=Ie.na!=null&&0<Ie.na.length),P!=null&&(P[0]=W),R!=null&&(R[0]=qe),0):Ye}function gi(h,p,w){var P=p.width,R=p.height,q=0,W=0,X=P,re=R;if(p.Da=h!=null&&0<h.Da,p.Da&&(X=h.cd,re=h.bd,q=h.v,W=h.j,11>w||(q&=-2,W&=-2),0>q||0>W||0>=X||0>=re||q+X>P||W+re>R))return 0;if(p.v=q,p.j=W,p.va=q+X,p.o=W+re,p.U=X,p.T=re,p.da=h!=null&&0<h.da,p.da){if(!We(X,re,w=[h.ib],q=[h.hb]))return 0;p.ib=w[0],p.hb=q[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*P/4&&p.hb<3*R/4,p.Kb=0),1}function pi(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function fo(h,p,w,P){if(P==null||0>=h||0>=p)return 2;if(w!=null){if(w.Da){var R=w.cd,q=w.bd,W=-2&w.v,X=-2&w.j;if(0>W||0>X||0>=R||0>=q||W+R>h||X+q>p)return 2;h=R,p=q}if(w.da){if(!We(h,p,R=[w.ib],q=[w.hb]))return 2;h=R[0],p=q[0]}}P.width=h,P.height=p;e:{var re=P.width,he=P.height;if(h=P.S,0>=re||0>=he||!(h>=Yu&&13>h))h=2;else{if(0>=P.Rd&&P.sd==null){W=q=R=p=0;var Ae=(X=re*v1[h])*he;if(11>h||(q=(he+1)/2*(p=(re+1)/2),h==12&&(W=(R=re)*he)),(he=a(Ae+2*q+W))==null){h=1;break e}P.sd=he,11>h?((re=P.f.RGBA).eb=he,re.fb=0,re.A=X,re.size=Ae):((re=P.f.kb).y=he,re.O=0,re.fa=X,re.Fd=Ae,re.f=he,re.N=0+Ae,re.Ab=p,re.Cd=q,re.ea=he,re.W=0+Ae+q,re.Db=p,re.Ed=q,h==12&&(re.F=he,re.J=0+Ae+2*q),re.Tc=W,re.lb=R)}if(p=1,R=P.S,q=P.width,W=P.height,R>=Yu&&13>R)if(11>R)h=P.f.RGBA,p&=(X=Math.abs(h.A))*(W-1)+q<=h.size,p&=X>=q*v1[R],p&=h.eb!=null;else{h=P.f.kb,X=(q+1)/2,Ae=(W+1)/2,re=Math.abs(h.fa),he=Math.abs(h.Ab);var Ve=Math.abs(h.Db),fe=Math.abs(h.lb),Ie=fe*(W-1)+q;p&=re*(W-1)+q<=h.Fd,p&=he*(Ae-1)+X<=h.Cd,p=(p&=Ve*(Ae-1)+X<=h.Ed)&re>=q&he>=X&Ve>=X,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,R==12&&(p&=fe>=q,p&=Ie<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||w!=null&&w.fd&&(h=pi(P)),h}var ja=64,ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sc=24,xs=32,an=8,Af=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(h){return h},$.Predictor2=function(h,p,w){return p[w+0]},$.Predictor3=function(h,p,w){return p[w+1]},$.Predictor4=function(h,p,w){return p[w-1]},$.Predictor5=function(h,p,w){return Lt(Lt(h,p[w+1]),p[w+0])},$.Predictor6=function(h,p,w){return Lt(h,p[w-1])},$.Predictor7=function(h,p,w){return Lt(h,p[w+0])},$.Predictor8=function(h,p,w){return Lt(p[w-1],p[w+0])},$.Predictor9=function(h,p,w){return Lt(p[w+0],p[w+1])},$.Predictor10=function(h,p,w){return Lt(Lt(h,p[w-1]),Lt(p[w+0],p[w+1]))},$.Predictor11=function(h,p,w){var P=p[w+0];return 0>=yt(P>>24&255,h>>24&255,(p=p[w-1])>>24&255)+yt(P>>16&255,h>>16&255,p>>16&255)+yt(P>>8&255,h>>8&255,p>>8&255)+yt(255&P,255&h,255&p)?P:h},$.Predictor12=function(h,p,w){var P=p[w+0];return(Ot((h>>24&255)+(P>>24&255)-((p=p[w-1])>>24&255))<<24|Ot((h>>16&255)+(P>>16&255)-(p>>16&255))<<16|Ot((h>>8&255)+(P>>8&255)-(p>>8&255))<<8|Ot((255&h)+(255&P)-(255&p)))>>>0},$.Predictor13=function(h,p,w){var P=p[w-1];return(nt((h=Lt(h,p[w+0]))>>24&255,P>>24&255)<<24|nt(h>>16&255,P>>16&255)<<16|nt(h>>8&255,P>>8&255)<<8|nt(255&h,255&P))>>>0};var Na=$.PredictorAdd0;$.PredictorAdd1=Bt,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Ca=$.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var el,jc=$.ColorIndexInverseTransform,tl=$.MapARGB,rl=$.VP8LColorIndexInverseTransformAlpha,go=$.MapAlpha,po=$.VP8LPredictorsAdd=[];po.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Ga,Nc,Li,La,Ir,Rr,sn,on,Ya,nl,Aa,Cc,Um,qm,$m,zm,Wm,Hm,Gm,Ym,Vm,Jm,Km,Qm,Lc,Xm,Zm,e1,t1=a(511),r1=a(2041),n1=a(225),i1=a(767),a1=0,kf=r1,Gu=n1,Ai=i1,Hi=t1,Yu=0,Vu=1,s1=2,Ju=3,Ku=4,Pf=5,o1=6,Ef=7,Ff=8,Qu=9,Df=10,uw=[2,3,7],dw=[3,3,11],l1=[280,256,256,256,40],hw=[0,1,1,1,0],fw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mw=8,Tf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],If=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ac=null,vw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],c1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_w=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ww=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_s=[],ia=[],Va=[],Sw=1,u1=2,ws=[],Gi=[];na("UpsampleRgbLinePair",Ha,3),na("UpsampleBgrLinePair",Qo,3),na("UpsampleRgbaLinePair",Hu,4),na("UpsampleBgraLinePair",Xo,4),na("UpsampleArgbLinePair",Wu,4),na("UpsampleRgba4444LinePair",ni,2),na("UpsampleRgb565LinePair",xc,2);var jw=$.UpsampleRgbLinePair,Nw=$.UpsampleBgrLinePair,d1=$.UpsampleRgbaLinePair,h1=$.UpsampleBgraLinePair,f1=$.UpsampleArgbLinePair,g1=$.UpsampleRgba4444LinePair,Cw=$.UpsampleRgb565LinePair,Xu=16,Zu=1<<Xu-1,kc=-227,Rf=482,Lw=6,p1=0,Aw=a(256),kw=a(256),Pw=a(256),Ew=a(256),Fw=a(Rf-kc),Dw=a(Rf-kc);Wi("YuvToRgbRow",Ha,3),Wi("YuvToBgrRow",Qo,3),Wi("YuvToRgbaRow",Hu,4),Wi("YuvToBgraRow",Xo,4),Wi("YuvToArgbRow",Wu,4),Wi("YuvToRgba4444Row",ni,2),Wi("YuvToRgb565Row",xc,2);var m1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],Tw=[8,7,6,4,4,2,2,2,1,1,1,1],Iw=1;this.WebPDecodeRGBA=function(h,p,w,P,R){var q=Vu,W=new Kt,X=new qt;W.ba=X,X.S=q,X.width=[X.width],X.height=[X.height];var re=X.width,he=X.height,Ae=new Mt;if(Ae==null||h==null)var Ve=2;else e(Ae!=null),Ve=Zo(h,p,w,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(Ve!=0?re=0:(re!=null&&(re[0]=Ae.width[0]),he!=null&&(he[0]=Ae.height[0]),re=1),re){X.width=X.width[0],X.height=X.height[0],P!=null&&(P[0]=X.width),R!=null&&(R[0]=X.height);e:{if(P=new Qe,(R=new rr).data=h,R.w=p,R.ha=w,R.kd=1,p=[0],e(R!=null),((h=Zo(R.data,R.w,R.ha,null,null,null,p,null,R))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(W!=null),P.data=R.data,P.w=R.w+R.offset,P.ha=R.ha-R.offset,P.put=bt,P.ac=tt,P.bc=tr,P.ma=W,R.xa){if((h=ie())==null){W=1;break e}if(function(fe,Ie){var qe=[0],it=[0],Ye=[0];t:for(;;){if(fe==null)return 0;if(Ie==null)return fe.a=2,0;if(fe.l=Ie,fe.a=0,ye(fe.m,Ie.data,Ie.w,Ie.ha),!Gt(fe.m,qe,it,Ye)){fe.a=3;break t}if(fe.xb=u1,Ie.width=qe[0],Ie.height=it[0],!Ne(qe[0],it[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(h,P)){if(P=(p=fo(P.width,P.height,W.Oa,W.ba))==0){t:{P=h;r:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((w=P.l)!=null),e((R=w.ma)!=null),P.xb!=0){if(P.ca=R.ba,P.tb=R.tb,e(P.ca!=null),!gi(R.Oa,w,Ju)){P.a=2;break r}if(!et(P,w.width)||w.da)break r;if((w.da||ze(P.ca.S))&&ho(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&ho()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!le(P.s.vb,P.s.Wa.Xa)){P.a=1;break r}P.xb=0}if(!A(P,P.V,P.Ba,P.c,P.i,w.o,Rt))break r;R.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(p=h.a)}else p=h.a}else{if((h=new ft)==null){W=1;break e}if(h.Fa=R.na,h.P=R.P,h.qc=R.Sa,Zt(h,P)){if((p=fo(P.width,P.height,W.Oa,W.ba))==0){if(h.Aa=0,w=W.Oa,e((R=h)!=null),w!=null){if(0<(re=0>(re=w.Md)?0:100<re?255:255*re/100)){for(he=Ae=0;4>he;++he)12>(Ve=R.pb[he]).lc&&(Ve.ia=re*Tw[0>Ve.lc?0:Ve.lc]>>3),Ae|=Ve.ia;Ae&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=w.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(fe,Ie){if(fe==null)return 0;if(Ie==null)return rt(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!Zt(fe,Ie))return 0;if(e(fe.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(fe.L=0);var qe=ed[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=Ie.v-qe>>4,fe.zb=Ie.j-qe>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=Ie.o+15+qe>>4,fe.Hb=Ie.va+15+qe>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var it=fe.ed;for(qe=0;4>qe;++qe){var Ye;if(fe.Qa.Cb){var at=fe.Qa.Lb[qe];fe.Qa.Fb||(at+=it.Tb)}else at=it.Tb;for(Ye=0;1>=Ye;++Ye){var dt=fe.gd[qe][Ye],xt=at;if(it.Pc&&(xt+=it.vd[0],Ye&&(xt+=it.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var mt=xt;0<it.wb&&(mt=4<it.wb?mt>>2:mt>>1)>9-it.wb&&(mt=9-it.wb),1>mt&&(mt=1),dt.dd=mt,dt.tc=2*xt+mt,dt.ld=40<=xt?2:15<=xt?1:0}else dt.tc=0;dt.La=Ye}}}qe=0}else rt(fe,6,"Frame setup failed"),qe=fe.a;if(qe=qe==0){if(qe){fe.$c=0,0<fe.Aa||(fe.Ic=Iw);t:{qe=fe.Ic,it=4*(mt=fe.za);var Xt=32*mt,zt=mt+1,hr=0<fe.L?mt*(0<fe.Aa?2:1):0,Yt=(fe.Aa==2?2:1)*mt;if((dt=it+832+(Ye=3*(16*qe+ed[fe.L])/2*Xt)+(at=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=dt)qe=0;else{if(dt>fe.Vb){if(fe.Vb=0,fe.Ec=a(dt),fe.Fc=0,fe.Ec==null){qe=rt(fe,1,"no memory during frame initialization.");break t}fe.Vb=dt}dt=fe.Ec,xt=fe.Fc,fe.Ac=dt,fe.Bc=xt,xt+=it,fe.Gd=o(Xt,pt),fe.Hd=0,fe.rb=o(zt+1,xe),fe.sb=1,fe.wa=hr?o(hr,ue):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=mt),e(!0),fe.oc=dt,fe.pc=xt,xt+=832,fe.ya=o(Yt,Te),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=mt),fe.R=16*mt,fe.B=8*mt,mt=(Xt=ed[fe.L])*fe.R,Xt=Xt/2*fe.B,fe.sa=dt,fe.ta=xt+mt,fe.qa=fe.sa,fe.ra=fe.ta+16*qe*fe.R+Xt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*qe*fe.B+Xt,fe.$c=0,xt+=Ye,fe.mb=at?dt:null,fe.nb=at?xt:null,e(xt+at<=fe.Fc+fe.Vb),gr(fe),i(fe.Ac,fe.Bc,0,it),qe=1}}if(qe){if(Ie.ka=0,Ie.y=fe.sa,Ie.O=fe.ta,Ie.f=fe.qa,Ie.N=fe.ra,Ie.ea=fe.Ha,Ie.Vd=fe.Ia,Ie.fa=fe.R,Ie.Rc=fe.B,Ie.F=null,Ie.J=0,!a1){for(qe=-255;255>=qe;++qe)t1[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)r1[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)n1[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)i1[255+qe]=0>qe?0:255<qe?255:qe;a1=1}sn=Ho,on=ra,nl=Wo,Aa=Ni,Cc=io,Ya=_a,Um=y,qm=O,$m=Ue,zm=ct,Wm=ge,Hm=je,Gm=vt,Ym=Ht,Vm=mc,Jm=uo,Km=vc,Qm=bc,ia[0]=wf,ia[1]=cc,ia[2]=xf,ia[3]=_f,ia[4]=Sf,ia[5]=$a,ia[6]=qa,ia[7]=jf,ia[8]=Go,ia[9]=Nf,_s[0]=ps,_s[1]=vf,_s[2]=bf,_s[3]=uc,_s[4]=yf,_s[5]=so,_s[6]=dc,Va[0]=Vo,Va[1]=mf,Va[2]=hc,Va[3]=oo,Va[4]=fc,Va[5]=Cf,Va[6]=gc,qe=1}else qe=0}qe&&(qe=function(xr,_n){for(xr.M=0;xr.M<xr.Va;++xr.M){var fr,Vt=xr.Jc[xr.M&xr.Xb],Dt=xr.m,ln=xr;for(fr=0;fr<ln.za;++fr){var lr=Dt,_r=ln,qr=_r.Ac,Bn=_r.Bc+4*fr,ii=_r.zc,Xr=_r.ya[_r.aa+fr];if(_r.Qa.Bb?Xr.$b=He(lr,_r.Pa.jb[0])?2+He(lr,_r.Pa.jb[2]):He(lr,_r.Pa.jb[1]):Xr.$b=0,_r.kc&&(Xr.Ad=He(lr,_r.Bd)),Xr.Za=!He(lr,145)+0,Xr.Za){var Wn=Xr.Ob,ai=0;for(_r=0;4>_r;++_r){var wn,wr=ii[0+_r];for(wn=0;4>wn;++wn){wr=xw[qr[Bn+wn]][wr];for(var Cr=c1[He(lr,wr[0])];0<Cr;)Cr=c1[2*Cr+He(lr,wr[Cr])];wr=-Cr,qr[Bn+wn]=wr}n(Wn,ai,qr,Bn,4),ai+=4,ii[0+_r]=wr}}else wr=He(lr,156)?He(lr,128)?1:3:He(lr,163)?2:0,Xr.Ob[0]=wr,i(qr,Bn,wr,4),i(ii,0,wr,4);Xr.Dd=He(lr,142)?He(lr,114)?He(lr,183)?1:3:2:0}if(ln.m.Ka)return rt(xr,7,"Premature end-of-partition0 encountered.");for(;xr.ja<xr.za;++xr.ja){if(ln=Vt,lr=(Dt=xr).rb[Dt.sb-1],qr=Dt.rb[Dt.sb+Dt.ja],fr=Dt.ya[Dt.aa+Dt.ja],Bn=Dt.kc?fr.Ad:0)lr.la=qr.la=0,fr.Za||(lr.Na=qr.Na=0),fr.Hc=0,fr.Gc=0,fr.ia=0;else{var Zr,Lr;if(lr=qr,qr=ln,Bn=Dt.Pa.Xc,ii=Dt.ya[Dt.aa+Dt.ja],Xr=Dt.pb[ii.$b],_r=ii.ad,Wn=0,ai=Dt.rb[Dt.sb-1],wr=wn=0,i(_r,Wn,0,384),ii.Za)var Mn=0,aa=Bn[3];else{Cr=a(16);var cn=lr.Na+ai.Na;if(cn=Ac(qr,Bn[1],cn,Xr.Eb,0,Cr,0),lr.Na=ai.Na=(0<cn)+0,1<cn)sn(Cr,0,_r,Wn);else{var mi=Cr[0]+3>>3;for(Cr=0;256>Cr;Cr+=16)_r[Wn+Cr]=mi}Mn=1,aa=Bn[0]}var Dr=15&lr.la,Sn=15&ai.la;for(Cr=0;4>Cr;++Cr){var ki=1&Sn;for(mi=Lr=0;4>mi;++mi)Dr=Dr>>1|(ki=(cn=Ac(qr,aa,cn=ki+(1&Dr),Xr.Sc,Mn,_r,Wn))>Mn)<<7,Lr=Lr<<2|(3<cn?3:1<cn?2:_r[Wn+0]!=0),Wn+=16;Dr>>=4,Sn=Sn>>1|ki<<7,wn=(wn<<8|Lr)>>>0}for(aa=Dr,Mn=Sn>>4,Zr=0;4>Zr;Zr+=2){for(Lr=0,Dr=lr.la>>4+Zr,Sn=ai.la>>4+Zr,Cr=0;2>Cr;++Cr){for(ki=1&Sn,mi=0;2>mi;++mi)cn=ki+(1&Dr),Dr=Dr>>1|(ki=0<(cn=Ac(qr,Bn[2],cn,Xr.Qc,0,_r,Wn)))<<3,Lr=Lr<<2|(3<cn?3:1<cn?2:_r[Wn+0]!=0),Wn+=16;Dr>>=2,Sn=Sn>>1|ki<<5}wr|=Lr<<4*Zr,aa|=Dr<<4<<Zr,Mn|=(240&Sn)<<Zr}lr.la=aa,ai.la=Mn,ii.Hc=wn,ii.Gc=wr,ii.ia=43690&wr?0:Xr.ia,Bn=!(wn|wr)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[fr.$b][fr.Za],Dt.wa[Dt.Y+Dt.ja].La|=!Bn),ln.Ka)return rt(xr,7,"Premature end-of-file encountered.")}if(gr(xr),Dt=_n,ln=1,fr=(Vt=xr).D,lr=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(fr.M=Vt.M,fr.uc=lr,bs(Vt,fr),ln=1,fr=(Lr=Vt.D).Nb,lr=(wr=ed[Vt.L])*Vt.R,qr=wr/2*Vt.B,Cr=16*fr*Vt.R,mi=8*fr*Vt.B,Bn=Vt.sa,ii=Vt.ta-lr+Cr,Xr=Vt.qa,_r=Vt.ra-qr+mi,Wn=Vt.Ha,ai=Vt.Ia-qr+mi,Sn=(Dr=Lr.M)==0,wn=Dr>=Vt.Va-1,Vt.Aa==2&&bs(Vt,Lr),Lr.uc)for(ki=(cn=Vt).D.M,e(cn.D.uc),Lr=cn.yb;Lr<cn.Hb;++Lr){Mn=Lr,aa=ki;var si=(Pi=(Un=cn).D).Nb;Zr=Un.R;var Pi=Pi.wa[Pi.Y+Mn],Ei=Un.sa,vi=Un.ta+16*si*Zr+16*Mn,Fi=Pi.dd,Or=Pi.tc;if(Or!=0)if(e(3<=Or),Un.L==1)0<Mn&&Jm(Ei,vi,Zr,Or+4),Pi.La&&Qm(Ei,vi,Zr,Or),0<aa&&Vm(Ei,vi,Zr,Or+4),Pi.La&&Km(Ei,vi,Zr,Or);else{var Di=Un.B,sa=Un.qa,mo=Un.ra+8*si*Di+8*Mn,Ja=Un.Ha,Un=Un.Ia+8*si*Di+8*Mn;si=Pi.ld,0<Mn&&(qm(Ei,vi,Zr,Or+4,Fi,si),zm(sa,mo,Ja,Un,Di,Or+4,Fi,si)),Pi.La&&(Hm(Ei,vi,Zr,Or,Fi,si),Ym(sa,mo,Ja,Un,Di,Or,Fi,si)),0<aa&&(Um(Ei,vi,Zr,Or+4,Fi,si),$m(sa,mo,Ja,Un,Di,Or+4,Fi,si)),Pi.La&&(Wm(Ei,vi,Zr,Or,Fi,si),Gm(sa,mo,Ja,Un,Di,Or,Fi,si))}}if(Vt.ia&&alert("todo:DitherRow"),Dt.put!=null){if(Lr=16*Dr,Dr=16*(Dr+1),Sn?(Dt.y=Vt.sa,Dt.O=Vt.ta+Cr,Dt.f=Vt.qa,Dt.N=Vt.ra+mi,Dt.ea=Vt.Ha,Dt.W=Vt.Ia+mi):(Lr-=wr,Dt.y=Bn,Dt.O=ii,Dt.f=Xr,Dt.N=_r,Dt.ea=Wn,Dt.W=ai),wn||(Dr-=wr),Dr>Dt.o&&(Dr=Dt.o),Dt.F=null,Dt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&Lr<Dr&&(Dt.J=On(Vt,Dt,Lr,Dr-Lr),Dt.F=Vt.mb,Dt.F==null&&Dt.F.length==0)){ln=rt(Vt,3,"Could not decode alpha data.");break t}Lr<Dt.j&&(wr=Dt.j-Lr,Lr=Dt.j,e(!(1&wr)),Dt.O+=Vt.R*wr,Dt.N+=Vt.B*(wr>>1),Dt.W+=Vt.B*(wr>>1),Dt.F!=null&&(Dt.J+=Dt.width*wr)),Lr<Dr&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=Lr-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Dr-Lr,ln=Dt.put(Dt))}fr+1!=Vt.Ic||wn||(n(Vt.sa,Vt.ta-lr,Bn,ii+16*Vt.R,lr),n(Vt.qa,Vt.ra-qr,Xr,_r+8*Vt.B,qr),n(Vt.Ha,Vt.Ia-qr,Wn,ai+8*Vt.B,qr))}if(!ln)return rt(xr,6,"Output aborted.")}return 1}(fe,Ie)),Ie.bc!=null&&Ie.bc(Ie),qe&=1}return qe?(fe.cb=0,qe):0})(h,P)||(p=h.a)}}else p=h.a}p==0&&W.Oa!=null&&W.Oa.fd&&(p=pi(W.ba))}W=p}q=W!=0?null:11>q?X.f.RGBA.eb:X.f.kb.y}else q=null;return q};var v1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u($,Z){for(var I="",G=0;G<4;G++)I+=String.fromCharCode($[Z++]);return I}function d($,Z){return $[Z+0]|$[Z+1]<<8}function g($,Z){return($[Z+0]|$[Z+1]<<8|$[Z+2]<<16)>>>0}function m($,Z){return($[Z+0]|$[Z+1]<<8|$[Z+2]<<16|$[Z+3]<<24)>>>0}new c;var f=[0],x=[0],j=[],_=new c,b=t,N=function($,Z){var I={},G=0,de=!1,M=0,H=0;if(I.frames=[],!function(E,U){for(var Q=0;Q<4;Q++)if(E[U+Q]!="RIFF".charCodeAt(Q))return!0;return!1}($,Z)){for(m($,Z+=4),Z+=8;Z<$.length;){var ve=u($,Z),Le=m($,Z+=4);Z+=4;var ne=Le+(1&Le);switch(ve){case"VP8 ":case"VP8L":I.frames[G]===void 0&&(I.frames[G]={}),(oe=I.frames[G]).src_off=de?H:Z-8,oe.src_size=M+Le+8,G++,de&&(de=!1,M=0,H=0);break;case"VP8X":(oe=I.header={}).feature_flags=$[Z];var ye=Z+4;oe.canvas_width=1+g($,ye),ye+=3,oe.canvas_height=1+g($,ye),ye+=3;break;case"ALPH":de=!0,M=ne+8,H=Z-8;break;case"ANIM":(oe=I.header).bgcolor=m($,Z),ye=Z+4,oe.loop_count=d($,ye),ye+=2;break;case"ANMF":var Re,oe;(oe=I.frames[G]={}).offset_x=2*g($,Z),Z+=3,oe.offset_y=2*g($,Z),Z+=3,oe.width=1+g($,Z),Z+=3,oe.height=1+g($,Z),Z+=3,oe.duration=g($,Z),Z+=3,Re=$[Z++],oe.dispose=1&Re,oe.blend=Re>>1&1}ve!="ANMF"&&(Z+=ne)}return I}}(b,0);N.response=b,N.rgbaoutput=!0,N.dataurl=!1;var S=N.header?N.header:null,C=N.frames?N.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],x=[S.canvas_width];for(var B=0;B<C.length&&C[B].blend!=0;B++);}var Y=C[0],V=_.WebPDecodeRGBA(b,Y.src_off,Y.src_size,x,f);Y.rgba=V,Y.imgwidth=x[0],Y.imgheight=f[0];for(var T=0;T<x[0]*f[0]*4;T++)j[T]=V[T];return this.width=x,this.height=f,this.data=j,this}(function(t){var e,r,n,i,a,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var g=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=E;Object.defineProperty(this,"pdf",{get:function(){return U}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Oe){Q=!!Oe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Oe){ce=!!Oe}});var _e=0;Object.defineProperty(this,"posX",{get:function(){return _e},set:function(Oe){isNaN(Oe)||(_e=Oe)}});var Ce=0;Object.defineProperty(this,"posY",{get:function(){return Ce},set:function(Oe){isNaN(Oe)||(Ce=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Oe){var le;typeof Oe=="number"?le=[Oe,Oe,Oe,Oe]:((le=new Array(4))[0]=Oe[0],le[1]=Oe.length>=2?Oe[1]:le[0],le[2]=Oe.length>=3?Oe[2]:le[0],le[3]=Oe.length>=4?Oe[3]:le[1]),u.margin=le}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(Oe){Be=Oe}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Oe){ke=Oe}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(Oe){He=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Oe){Oe instanceof d&&(u=Oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Oe){u.path=Oe}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(Oe){Ke=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var le;le=m(Oe),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var le=m(Oe);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var ot=null,Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Oe){ot=null,Ge=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var le;if(this.ctx.font=Oe,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var kt=le[1];le[2];var Pt=le[3],We=le[4];le[5];var Me=le[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(ht==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var lt=function(St){var Ft,wt,Qt=[],Pe=St.trim();if(Pe==="")return Wg;if(Pe in hb)return[hb[Pe]];for(;Pe!=="";){switch(wt=null,Ft=(Pe=gb(Pe)).charAt(0)){case'"':case"'":wt=q6(Pe.substring(1),Ft);break;default:wt=$6(Pe)}if(wt===null||(Qt.push(wt[0]),(Pe=gb(wt[1]))!==""&&Pe.charAt(0)!==","))return Wg;Pe=Pe.replace(/^,/,"")}return Qt}(Me);if(this.fontFaces){var _t=function(St,Ft){if(ot===null){var wt=function(Qt){var Pe=[];return Object.keys(Qt).forEach(function(me){Qt[me].forEach(function(De){var ut=null;switch(De){case"bold":ut={family:me,weight:"bold"};break;case"italic":ut={family:me,style:"italic"};break;case"bolditalic":ut={family:me,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:me}}ut!==null&&(ut.ref={name:me,style:De},Pe.push(ut))})}),Pe}(St.getFontList());ot=function(Qt){for(var Pe={},me=0;me<Qt.length;++me){var De=zg(Qt[me]),ut=De.family,$e=De.stretch,ze=De.style,Jt=De.weight;Pe[ut]=Pe[ut]||{},Pe[ut][$e]=Pe[ut][$e]||{},Pe[ut][$e][ze]=Pe[ut][$e][ze]||{},Pe[ut][$e][ze][Jt]=De}return Pe}(wt.concat(Ft))}return ot}(this.pdf,this.fontFaces),Lt=lt.map(function(St){return{family:St,stretch:"normal",weight:Pt,style:kt}}),Ot=function(St,Ft,wt){for(var Qt=(wt=wt||{}).defaultFontFamily||"times",Pe=Object.assign({},U6,wt.genericFontFamilies||{}),me=null,De=null,ut=0;ut<Ft.length;++ut)if(Pe[(me=zg(Ft[ut])).family]&&(me.family=Pe[me.family]),St.hasOwnProperty(me.family)){De=St[me.family];break}if(!(De=De||St[Qt]))throw new Error("Could not find a font-family for the rule '"+fb(me)+"' and default family '"+Qt+"'.");if(De=function($e,ze){if(ze[$e])return ze[$e];var Jt=b0[$e],Ut=Jt<=b0.normal?-1:1,qt=db(ze,y_,Jt,Ut);if(!qt)throw new Error("Could not find a matching font-stretch value for "+$e);return qt}(me.stretch,De),De=function($e,ze){if(ze[$e])return ze[$e];for(var Jt=b_[$e],Ut=0;Ut<Jt.length;++Ut)if(ze[Jt[Ut]])return ze[Jt[Ut]];throw new Error("Could not find a matching font-style for "+$e)}(me.style,De),!(De=function($e,ze){if(ze[$e])return ze[$e];if($e===400&&ze[500])return ze[500];if($e===500&&ze[400])return ze[400];var Jt=M6[$e],Ut=db(ze,x_,Jt,$e<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+$e);return Ut}(me.weight,De)))throw new Error("Failed to resolve a font for the rule '"+fb(me)+"'.");return De}(_t,Lt);this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var nt="";(Pt==="bold"||parseInt(Pt,10)>=700||kt==="bold")&&(nt="bold"),kt==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var yt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<lt.length;gt++){if(this.pdf.internal.getFont(lt[gt],nt,{noFallback:!0,disableWarning:!0})!==void 0){yt=lt[gt];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(lt[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=lt[gt],nt="bold";else if(this.pdf.internal.getFont(lt[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=lt[gt],nt="normal";break}}if(yt===""){for(var Nt=0;Nt<lt.length;Nt++)if(Bt[lt[Nt]]){yt=Bt[lt[Nt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};g.prototype.setLineDash=function(E){this.lineDash=E},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){C.call(this,"fill",!1)},g.prototype.stroke=function(){C.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(E,U){if(isNaN(E)||isNaN(U))throw Tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(E,U)},g.prototype.closePath=function(){var E=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&kr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){E=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},g.prototype.lineTo=function(E,U){if(isNaN(E)||isNaN(U))throw Tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},g.prototype.quadraticCurveTo=function(E,U,Q,ce){if(isNaN(Q)||isNaN(ce)||isNaN(E)||isNaN(U))throw Tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var _e=this.ctx.transform.applyToPoint(new o(Q,ce)),Ce=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"qct",x1:Ce.x,y1:Ce.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},g.prototype.bezierCurveTo=function(E,U,Q,ce,_e,Ce){if(isNaN(_e)||isNaN(Ce)||isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce))throw Tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new o(_e,Ce)),ke=this.ctx.transform.applyToPoint(new o(E,U)),He=this.ctx.transform.applyToPoint(new o(Q,ce));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:He.x,y2:He.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new o(Be.x,Be.y)},g.prototype.arc=function(E,U,Q,ce,_e,Ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce)||isNaN(_e))throw Tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ce=!!Ce,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new o(E,U));E=Be.x,U=Be.y;var ke=this.ctx.transform.applyToPoint(new o(0,Q)),He=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ke.x-He.x,2)+Math.pow(ke.y-He.y,2))}Math.abs(_e-ce)>=2*Math.PI&&(ce=0,_e=2*Math.PI),this.path.push({type:"arc",x:E,y:U,radius:Q,startAngle:ce,endAngle:_e,counterclockwise:Ce})},g.prototype.arcTo=function(E,U,Q,ce,_e){throw new Error("arcTo not implemented.")},g.prototype.rect=function(E,U,Q,ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce))throw Tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,U),this.lineTo(E+Q,U),this.lineTo(E+Q,U+ce),this.lineTo(E,U+ce),this.lineTo(E,U),this.lineTo(E+Q,U),this.lineTo(E,U)},g.prototype.fillRect=function(E,U,Q,ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce))throw Tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var _e={};this.lineCap!=="butt"&&(_e.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(_e.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,U,Q,ce),this.fill(),_e.hasOwnProperty("lineCap")&&(this.lineCap=_e.lineCap),_e.hasOwnProperty("lineJoin")&&(this.lineJoin=_e.lineJoin)}},g.prototype.strokeRect=function(E,U,Q,ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce))throw Tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(E,U,Q,ce),this.stroke())},g.prototype.clearRect=function(E,U,Q,ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce))throw Tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,U,Q,ce))},g.prototype.save=function(E){E=typeof E!="boolean"||E;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},g.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(E){var U,Q,ce,_e;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))U=0,Q=0,ce=0,_e=0;else{var Ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(Ce!==null)U=parseInt(Ce[1]),Q=parseInt(Ce[2]),ce=parseInt(Ce[3]),_e=1;else if((Ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)U=parseInt(Ce[1]),Q=parseInt(Ce[2]),ce=parseInt(Ce[3]),_e=parseFloat(Ce[4]);else{if(_e=1,typeof E=="string"&&E.charAt(0)!=="#"){var Be=new d_(E);E=Be.ok?Be.toHex():"#000000"}E.length===4?(U=E.substring(1,2),U+=U,Q=E.substring(2,3),Q+=Q,ce=E.substring(3,4),ce+=ce):(U=E.substring(1,3),Q=E.substring(3,5),ce=E.substring(5,7)),U=parseInt(U,16),Q=parseInt(Q,16),ce=parseInt(ce,16)}}return{r:U,g:Q,b:ce,a:_e,style:E}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(E,U,Q,ce){if(isNaN(U)||isNaN(Q)||typeof E!="string")throw Tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!f.call(this)){var _e=ne(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;G.call(this,{text:E,x:U,y:Q,scale:Ce,angle:_e,align:this.textAlign,maxWidth:ce})}},g.prototype.strokeText=function(E,U,Q,ce){if(isNaN(U)||isNaN(Q)||typeof E!="string")throw Tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ce=isNaN(ce)?void 0:ce;var _e=ne(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;G.call(this,{text:E,x:U,y:Q,scale:Ce,renderingMode:"stroke",angle:_e,align:this.textAlign,maxWidth:ce})}},g.prototype.measureText=function(E){if(typeof E!="string")throw Tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Q=this.pdf.internal.scaleFactor,ce=U.internal.getFontSize(),_e=U.getStringUnitWidth(E)*ce/U.internal.scaleFactor;return new function(Ce){var Be=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:_e*=Math.round(96*Q/72*1e4)/1e4})},g.prototype.scale=function(E,U){if(isNaN(E)||isNaN(U))throw Tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(E,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.rotate=function(E){if(isNaN(E))throw Tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},g.prototype.translate=function(E,U){if(isNaN(E)||isNaN(U))throw Tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,E,U);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.transform=function(E,U,Q,ce,_e,Ce){if(isNaN(E)||isNaN(U)||isNaN(Q)||isNaN(ce)||isNaN(_e)||isNaN(Ce))throw Tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new c(E,U,Q,ce,_e,Ce);this.ctx.transform=this.ctx.transform.multiply(Be)},g.prototype.setTransform=function(E,U,Q,ce,_e,Ce){E=isNaN(E)?1:E,U=isNaN(U)?0:U,Q=isNaN(Q)?0:Q,ce=isNaN(ce)?1:ce,_e=isNaN(_e)?0:_e,Ce=isNaN(Ce)?0:Ce,this.ctx.transform=new c(E,U,Q,ce,_e,Ce)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(E,U,Q,ce,_e,Ce,Be,ke,He){var Ke=this.pdf.getImageProperties(E),ot=1,Ge=1,Oe=1,le=1;ce!==void 0&&ke!==void 0&&(Oe=ke/ce,le=He/_e,ot=Ke.width/ce*ke/ce,Ge=Ke.height/_e*He/_e),Ce===void 0&&(Ce=U,Be=Q,U=0,Q=0),ce!==void 0&&ke===void 0&&(ke=ce,He=_e),ce===void 0&&ke===void 0&&(ke=Ke.width,He=Ke.height);for(var kt,Pt=this.ctx.transform.decompose(),We=ne(Pt.rotate.shx),Me=new c,ht=(Me=(Me=(Me=Me.multiply(Pt.translate)).multiply(Pt.skew)).multiply(Pt.scale)).applyToRectangle(new l(Ce-U*Oe,Be-Q*le,ce*ot,_e*Ge)),lt=_.call(this,ht),_t=[],Lt=0;Lt<lt.length;Lt+=1)_t.indexOf(lt[Lt])===-1&&_t.push(lt[Lt]);if(S(_t),this.autoPaging)for(var Ot=_t[0],nt=_t[_t.length-1],yt=Ot;yt<nt+1;yt++){this.pdf.setPage(yt);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=yt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=yt===1?0:Nt+(yt-2)*St;if(this.ctx.clip_path.length!==0){var wt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(kt,this.posX+this.margin[3],-Ft+gt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=wt}var Qt=JSON.parse(JSON.stringify(ht));Qt=N([Qt],this.posX+this.margin[3],-Ft+gt+this.ctx.prevPageLastElemOffset)[0];var Pe=(yt>Ot||yt<nt)&&j.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,St,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,We),Pe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,We)};var _=function(E,U,Q){var ce=[];U=U||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var _e=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":ce.push(Math.floor((E.y+_e)/Q)+1);break;case"arc":ce.push(Math.floor((E.y+_e-E.radius)/Q)+1),ce.push(Math.floor((E.y+_e+E.radius)/Q)+1);break;case"qct":var Ce=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);ce.push(Math.floor((Ce.y+_e)/Q)+1),ce.push(Math.floor((Ce.y+Ce.h+_e)/Q)+1);break;case"bct":var Be=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);ce.push(Math.floor((Be.y+_e)/Q)+1),ce.push(Math.floor((Be.y+Be.h+_e)/Q)+1);break;case"rect":ce.push(Math.floor((E.y+_e)/Q)+1),ce.push(Math.floor((E.y+E.h+_e)/Q)+1)}for(var ke=0;ke<ce.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ce[ke];)b.call(this);return ce},b=function(){var E=this.fillStyle,U=this.strokeStyle,Q=this.font,ce=this.lineCap,_e=this.lineWidth,Ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=U,this.font=Q,this.lineCap=ce,this.lineWidth=_e,this.lineJoin=Ce},N=function(E,U,Q){for(var ce=0;ce<E.length;ce++)switch(E[ce].type){case"bct":E[ce].x2+=U,E[ce].y2+=Q;case"qct":E[ce].x1+=U,E[ce].y1+=Q;default:E[ce].x+=U,E[ce].y+=Q}return E},S=function(E){return E.sort(function(U,Q){return U-Q})},C=function(E,U){for(var Q,ce,_e=this.fillStyle,Ce=this.strokeStyle,Be=this.lineCap,ke=this.lineWidth,He=Math.abs(ke*this.ctx.transform.scaleX),Ke=this.lineJoin,ot=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),Oe=[],le=0;le<Ge.length;le++)if(Ge[le].x!==void 0)for(var kt=_.call(this,Ge[le]),Pt=0;Pt<kt.length;Pt+=1)Oe.indexOf(kt[Pt])===-1&&Oe.push(kt[Pt]);for(var We=0;We<Oe.length;We++)for(;this.pdf.internal.getNumberOfPages()<Oe[We];)b.call(this);if(S(Oe),this.autoPaging)for(var Me=Oe[0],ht=Oe[Oe.length-1],lt=Me;lt<ht+1;lt++){this.pdf.setPage(lt),this.fillStyle=_e,this.strokeStyle=Ce,this.lineCap=Be,this.lineWidth=He,this.lineJoin=Ke;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=lt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=lt===1?0:Ot+(lt-2)*nt;if(this.ctx.clip_path.length!==0){var Bt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Q,this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset),B.call(this,E,!0),this.path=Bt}if(ce=JSON.parse(JSON.stringify(ot)),this.path=N(ce,this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset),U===!1||lt===0){var gt=(lt>Me||lt<ht)&&j.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,nt,null).clip().discardPath()),B.call(this,E,U),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=He,B.call(this,E,U),this.lineWidth=ke;this.path=ot},B=function(E,U){if((E!=="stroke"||U||!x.call(this))&&(E==="stroke"||U||!f.call(this))){for(var Q,ce,_e=[],Ce=this.path,Be=0;Be<Ce.length;Be++){var ke=Ce[Be];switch(ke.type){case"begin":_e.push({begin:!0});break;case"close":_e.push({close:!0});break;case"mt":_e.push({start:ke,deltas:[],abs:[]});break;case"lt":var He=_e.length;if(Ce[Be-1]&&!isNaN(Ce[Be-1].x)&&(Q=[ke.x-Ce[Be-1].x,ke.y-Ce[Be-1].y],He>0)){for(;He>=0;He--)if(_e[He-1].close!==!0&&_e[He-1].begin!==!0){_e[He-1].deltas.push(Q),_e[He-1].abs.push(ke);break}}break;case"bct":Q=[ke.x1-Ce[Be-1].x,ke.y1-Ce[Be-1].y,ke.x2-Ce[Be-1].x,ke.y2-Ce[Be-1].y,ke.x-Ce[Be-1].x,ke.y-Ce[Be-1].y],_e[_e.length-1].deltas.push(Q);break;case"qct":var Ke=Ce[Be-1].x+2/3*(ke.x1-Ce[Be-1].x),ot=Ce[Be-1].y+2/3*(ke.y1-Ce[Be-1].y),Ge=ke.x+2/3*(ke.x1-ke.x),Oe=ke.y+2/3*(ke.y1-ke.y),le=ke.x,kt=ke.y;Q=[Ke-Ce[Be-1].x,ot-Ce[Be-1].y,Ge-Ce[Be-1].x,Oe-Ce[Be-1].y,le-Ce[Be-1].x,kt-Ce[Be-1].y],_e[_e.length-1].deltas.push(Q);break;case"arc":_e.push({deltas:[],abs:[],arc:!0}),Array.isArray(_e[_e.length-1].abs)&&_e[_e.length-1].abs.push(ke)}}ce=U?null:E==="stroke"?"stroke":"fill";for(var Pt=!1,We=0;We<_e.length;We++)if(_e[We].arc)for(var Me=_e[We].abs,ht=0;ht<Me.length;ht++){var lt=Me[ht];lt.type==="arc"?T.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,U,!Pt):de.call(this,lt.x,lt.y),Pt=!0}else if(_e[We].close===!0)this.pdf.internal.out("h"),Pt=!1;else if(_e[We].begin!==!0){var _t=_e[We].start.x,Lt=_e[We].start.y;M.call(this,_e[We].deltas,_t,Lt),Pt=!0}ce&&$.call(this,ce),U&&Z.call(this)}},Y=function(E){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-Q;case"top":return E+U-Q;case"hanging":return E+U-2*Q;case"middle":return E+U/2-Q;default:return E}},V=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(U,Q){this.colorStops.push([U,Q])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(E,U,Q,ce,_e,Ce,Be,ke,He){for(var Ke=ve.call(this,Q,ce,_e,Ce),ot=0;ot<Ke.length;ot++){var Ge=Ke[ot];ot===0&&(He?I.call(this,Ge.x1+E,Ge.y1+U):de.call(this,Ge.x1+E,Ge.y1+U)),H.call(this,E,U,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}ke?Z.call(this):$.call(this,Be)},$=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(E,U){this.pdf.internal.out(r(E)+" "+n(U)+" m")},G=function(E){var U;switch(E.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var Q=this.pdf.getTextDimensions(E.text),ce=Y.call(this,E.y),_e=V.call(this,ce)-Q.h,Ce=this.ctx.transform.applyToPoint(new o(E.x,ce)),Be=this.ctx.transform.decompose(),ke=new c;ke=(ke=(ke=ke.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var He,Ke,ot,Ge=this.ctx.transform.applyToRectangle(new l(E.x,ce,Q.w,Q.h)),Oe=ke.applyToRectangle(new l(E.x,_e,Q.w,Q.h)),le=_.call(this,Oe),kt=[],Pt=0;Pt<le.length;Pt+=1)kt.indexOf(le[Pt])===-1&&kt.push(le[Pt]);if(S(kt),this.autoPaging)for(var We=kt[0],Me=kt[kt.length-1],ht=We;ht<Me+1;ht++){this.pdf.setPage(ht);var lt=ht===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Ot=Lt-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],yt=nt-this.margin[3],Bt=ht===1?0:_t+(ht-2)*Ot;if(this.ctx.clip_path.length!==0){var gt=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(He,this.posX+this.margin[3],-1*Bt+lt),B.call(this,"fill",!0),this.path=gt}var Nt=N([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Bt+lt+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*E.scale),ot=this.lineWidth,this.lineWidth=ot*E.scale);var St=this.autoPaging!=="text";if(St||Nt.y+Nt.h<=Lt){if(St||Nt.y>=lt&&Nt.x<=nt){var Ft=St?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||nt-Nt.x)[0],wt=N([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Bt+lt+this.ctx.prevPageLastElemOffset)[0],Qt=St&&(ht>We||ht<Me)&&j.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Ot,null).clip().discardPath()),this.pdf.text(Ft,wt.x,wt.y,{angle:E.angle,align:U,renderingMode:E.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else Nt.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-Nt.y);E.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=ot)}else E.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*E.scale),ot=this.lineWidth,this.lineWidth=ot*E.scale),this.pdf.text(E.text,Ce.x+this.posX,Ce.y+this.posY,{angle:E.angle,align:U,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=ot)},de=function(E,U,Q,ce){Q=Q||0,ce=ce||0,this.pdf.internal.out(r(E+Q)+" "+n(U+ce)+" l")},M=function(E,U,Q){return this.pdf.lines(E,U,Q,null,null)},H=function(E,U,Q,ce,_e,Ce,Be,ke){this.pdf.internal.out([e(i(Q+E)),e(a(ce+U)),e(i(_e+E)),e(a(Ce+U)),e(i(Be+E)),e(a(ke+U)),"c"].join(" "))},ve=function(E,U,Q,ce){for(var _e=2*Math.PI,Ce=Math.PI/2;U>Q;)U-=_e;var Be=Math.abs(Q-U);Be<_e&&ce&&(Be=_e-Be);for(var ke=[],He=ce?-1:1,Ke=U;Be>1e-5;){var ot=Ke+He*Math.min(Be,Ce);ke.push(Le.call(this,E,Ke,ot)),Be-=Math.abs(ot-Ke),Ke=ot}return ke},Le=function(E,U,Q){var ce=(Q-U)/2,_e=E*Math.cos(ce),Ce=E*Math.sin(ce),Be=_e,ke=-Ce,He=Be*Be+ke*ke,Ke=He+Be*_e+ke*Ce,ot=4/3*(Math.sqrt(2*He*Ke)-Ke)/(Be*Ce-ke*_e),Ge=Be-ot*ke,Oe=ke+ot*Be,le=Ge,kt=-Oe,Pt=ce+U,We=Math.cos(Pt),Me=Math.sin(Pt);return{x1:E*Math.cos(U),y1:E*Math.sin(U),x2:Ge*We-Oe*Me,y2:Ge*Me+Oe*We,x3:le*We-kt*Me,y3:le*Me+kt*We,x4:E*Math.cos(Q),y4:E*Math.sin(Q)}},ne=function(E){return 180*E/Math.PI},ye=function(E,U,Q,ce,_e,Ce){var Be=E+.5*(Q-E),ke=U+.5*(ce-U),He=_e+.5*(Q-_e),Ke=Ce+.5*(ce-Ce),ot=Math.min(E,_e,Be,He),Ge=Math.max(E,_e,Be,He),Oe=Math.min(U,Ce,ke,Ke),le=Math.max(U,Ce,ke,Ke);return new l(ot,Oe,Ge-ot,le-Oe)},Re=function(E,U,Q,ce,_e,Ce,Be,ke){var He,Ke,ot,Ge,Oe,le,kt,Pt,We,Me,ht,lt,_t,Lt,Ot=Q-E,nt=ce-U,yt=_e-Q,Bt=Ce-ce,gt=Be-_e,Nt=ke-Ce;for(Ke=0;Ke<41;Ke++)We=(kt=(ot=E+(He=Ke/40)*Ot)+He*((Oe=Q+He*yt)-ot))+He*(Oe+He*(_e+He*gt-Oe)-kt),Me=(Pt=(Ge=U+He*nt)+He*((le=ce+He*Bt)-Ge))+He*(le+He*(Ce+He*Nt-le)-Pt),Ke==0?(ht=We,lt=Me,_t=We,Lt=Me):(ht=Math.min(ht,We),lt=Math.min(lt,Me),_t=Math.max(_t,We),Lt=Math.max(Lt,Me));return new l(Math.round(ht),Math.round(lt),Math.round(_t-ht),Math.round(Lt-lt))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,U,Q=(E=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:U}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(At.API),function(t){var e=function(o){var l,c,u,d,g,m,f,x,j,_;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(g=((g=((g=((g=(g-(_=g%85))/85)-(j=g%85))/85)-(x=g%85))/85)-(f=g%85))/85)%85,c.push(m+33,f+33,x+33,j+33,_+33)):c.push(122);return function(b,N){for(var S=N;S>0;S--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,g,m=String,f="length",x=255,j="charCodeAt",_="slice",b="replace";for(o[_](-2),o=o[_](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,g=(o+=l="uuuuu"[_](o[f]%5||5))[f];g>d;d+=5)c=52200625*(o[j](d)-33)+614125*(o[j](d+1)-33)+7225*(o[j](d+2)-33)+85*(o[j](d+3)-33)+(o[j](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(N,S){for(var C=S;C>0;C--)N.pop()}(u,l[f]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=d0(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var g=new XMLHttpRequest,m=0,f=function(x){var j=x.length,_=[],b=String.fromCharCode;for(m=0;m<j;m+=1)_.push(b(255&x.charCodeAt(m)));return _.join("")};if(g.open("GET",c,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?d(f(this.responseText)):d(void 0)}),g.send(null),u&&g.status===200)return f(g.responseText)}(i,a,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):ma(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):ma(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=kr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var x=d[f],j=x.src.find(function(_){return _.format==="truetype"});j&&u.addFont(j.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,g).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(g,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,At.getPageSize=function(l,c,u){if(kr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var g,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var x,j=0,_=0;if(f.hasOwnProperty(m))j=f[m][1]/g,_=f[m][0]/g;else try{j=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",_>j&&(x=_,_=j,j=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",j>_&&(x=_,_=j,j=x)}return{width:_,height:j,unit:c,k:g,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(zg):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(At.API),At.API.addJS=function(t){return mb=t,this.internal.events.subscribe("postPutResources",function(){Rd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rd!==void 0&&pb!==void 0&&this.internal.out("/Names <</JavaScript "+Rd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var g=r.internal.newObject();d.push(g);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(g){for(var m,f=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,j={width:0,height:0,numcomponents:1},_=4;_<x;_+=2){if(_+=f,e.indexOf(g.charCodeAt(_+1))!==-1){m=256*g.charCodeAt(_+5)+g.charCodeAt(_+6),j={width:256*g.charCodeAt(_+7)+g.charCodeAt(_+8),height:m,numcomponents:g.charCodeAt(_+9)};break}f=256*g.charCodeAt(_+2)+g.charCodeAt(_+3)}return j}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(At.API),At.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=N6(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;i=u&&c===1?function(V){for(var T=V.width,$=V.height,Z=V.data,I=V.palette,G=V.depth,de=!1,M=[],H=[],ve=void 0,Le=!1,ne=0,ye=0;ye<I.length;ye++){var Re=xv(I[ye],4),oe=Re[0],E=Re[1],U=Re[2],Q=Re[3];M.push(oe,E,U),Q!=null&&(Q===0?(ne++,H.length<1&&H.push(ye)):Q<255&&(Le=!0))}if(Le||ne>1){de=!0,H=void 0;var ce=T*$;ve=new Uint8Array(ce);for(var _e=new DataView(Z.buffer),Ce=0;Ce<ce;Ce++){var Be=Hg(_e,Ce,G),ke=xv(I[Be],4)[3];ve[Ce]=ke}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:Z,alphaBytes:ve,needSMask:de,palette:M,mask:H}}(a):c===2||c===4?function(V){for(var T=V.data,$=V.width,Z=V.height,I=V.channels,G=V.depth,de=I===2?"DeviceGray":"DeviceRGB",M=I-1,H=$*Z,ve=M,Le=H*ve,ne=1*H,ye=Math.ceil(Le*G/8),Re=Math.ceil(ne*G/8),oe=new Uint8Array(ye),E=new Uint8Array(Re),U=new DataView(T.buffer),Q=new DataView(oe.buffer),ce=new DataView(E.buffer),_e=!1,Ce=0;Ce<H;Ce++){for(var Be=Ce*I,ke=0;ke<ve;ke++)Nb(Q,Hg(U,Be+ke,G),Ce*ve+ke,G);var He=Hg(U,Be+ve,G);He<(1<<G)-1&&(_e=!0),Nb(ce,He,1*Ce,G)}return{colorSpace:de,colorsPerPixel:M,colorBytes:oe,alphaBytes:E,needSMask:_e}}(a):function(V){var T=V.data,$=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:T instanceof Uint8Array?T:new Uint8Array(T.buffer),needSMask:!1}}(a);var g,m,f,x=i,j=x.colorSpace,_=x.colorsPerPixel,b=x.colorBytes,N=x.alphaBytes,S=x.needSMask,C=x.palette,B=x.mask,Y=null;return n!==At.API.image_compression.NONE&&typeof d0=="function"?(Y=function(V){var T;switch(V){case At.API.image_compression.FAST:T=11;break;case At.API.image_compression.MEDIUM:T=13;break;case At.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),g=this.decode.FLATE_DECODE,m="/Predictor ".concat(Y," "),t=xb(b,o*_,_,n),S&&(f=xb(N,o,1,n))):(g=void 0,m="",t=b,S&&(f=N)),m+="/Colors ".concat(_," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:g,decodeParameters:m,transparency:B,palette:C,sMask:f,predictor:Y,width:o,height:l,bitsPerComponent:d,colorSpace:j}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new G6(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Gg(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(At.API),la.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},la.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Tr.log("bit decode error:"+r)}},la.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},la.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},la.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},la.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},la.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},la.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},la.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},la.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new la(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Gg(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),Lb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new Lb(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Gg(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),At.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],g=n[u+1],m=n[u+2],f=n[u+3];a[l++]=d,a[l++]=g,a[l++]=m,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fl=At.API,Od=fl.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,g=e.doKerning!==!1,m=0,f=t.length,x=0,j=l[0]||c,_=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=g&&kr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,_.push((l[n]||j)/c+m)),x=n;return _},vb=fl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fl.processArabic&&(t=fl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Od.apply(this,arguments).reduce(function(a,o){return a+o},0)},bb=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},yb=function(t,e,r){r||(r={});var n,i,a,o,l,c,u,d=[],g=[d],m=r.textIndent||0,f=0,x=0,j=t.split(" "),_=Od.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?j[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),N=[];j.map(function(C){(C=C.split(/\s*\n/)).length>1?N=N.concat(C.map(function(B,Y){return(Y&&B.length?`
`:"")+B})):N.push(C[0])}),j=N,c=vb.apply(this,[b,r])}for(a=0,o=j.length;a<o;a++){var S=0;if(n=j[a],c&&n[0]==`
`&&(n=n.substr(1),S=1),m+f+(x=(i=Od.apply(this,[n,r])).reduce(function(C,B){return C+B},0))>e||S){if(x>e){for(l=bb.apply(this,[n,i,e-(m+f),e]),d.push(l.shift()),d=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,B){return C+B},0)}else d=[n];g.push(d),m=x+c,f=_}else d.push(n),m+=f+x,f=_}return u=c?function(C,B){return(B?b:"")+C.join(" ")}:function(C){return C.join(" ")},g.map(u)},fl.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return g.metadata[m]?{widths:g.metadata[m].widths||{0:1},kerning:g.metadata[m].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(yb.apply(this,[n[l],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,x,j,_,b=["{"];for(var N in m){if(f=m[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=o(N).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof f=="number")f<0?(j=o(f).slice(3),_="-"):(j=o(f).slice(2),_=""),j=_+j.slice(0,-1)+i[j.slice(-1)];else{if(kr(f)!=="object")throw new Error("Don't know what to do with value type "+kr(f)+".");j=l(f)}b.push(x+j)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,j,_,b={},N=1,S=b,C=[],B="",Y="",V=m.length-1,T=1;T<V;T+=1)(_=m[T])=="'"?f?(j=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(C.push([S,j]),S={},j=void 0):_=="}"?((x=C.pop())[0][x[1]]=S,j=void 0,S=x[0]):_=="-"?N=-1:j===void 0?n.hasOwnProperty(_)?(B+=n[_],j=parseInt(B,16)*N,N=1,B=""):B+=_:n.hasOwnProperty(_)?(Y+=n[_],S[j]=parseInt(Y,16)*N,N=1,j=void 0,Y=""):Y+=_;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,x=g.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var j=d.Unicode[f.postScriptName];j&&(f.metadata.Unicode.encoding=j,f.encoding=j.codePages[0])}])}(At.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Zd(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),At.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw Tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(nr.canvg?Promise.resolve(nr.canvg):ma(()=>import("./index.es-DShIBx6Z.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},At.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},At.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,g=0;function m(x,j){var _,b=!1;for(_=0;_<x.length;_+=1)x[_]===j&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(g=0;g<f;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(kr(t)==="object"){for(i in t)if(a=t[i],m(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,j=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?j.push("/"+x+" /"+r[x].value):j.push("/"+x+" "+r[x].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],g=0,m=a.length;g<m;++g){if(l=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(a){var o,l,c,u,d,g,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,m=(l=Object.keys(a).sort(function(f,x){return f-x})).length;g<m;g++)o=l[g],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<m.length;x++)f+=String.fromCharCode(m[x]);var j=u();d({data:f,addLength1:!0,objectId:j}),c("endobj");var _=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vl(l.fontName)),c("/FontFile2 "+j+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+vl(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+vl(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,m="",f=0;f<g.length;f++)m+=String.fromCharCode(g[f]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var j=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var _=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+vl(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+vl(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},g=a.mutex||{},m=g.pdfEscape,f=g.activeFontKey,x=g.fonts,j=f,_="",b=0,N="",S=x[j].encoding;if(x[j].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:g};for(N=l,j=f,Array.isArray(l)&&(N=l[0]),b=0;b<N.length;b+=1)x[j].metadata.hasOwnProperty("cmap")&&(o=x[j].metadata.cmap.unicode.codeMap[N[b].charCodeAt(0)]),o||N[b].charCodeAt(0)<256&&x[j].metadata.hasOwnProperty("Unicode")?_+=N[b]:_+="";var C="";return parseInt(j.slice(1))<14||S==="WinAnsiEncoding"?C=m(_,j).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=r(_,x[j])),g.isHex=!0,{text:C,x:c,y:u,options:d,mutex:g}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,d,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var C=function(I){var G=I.charCodeAt(),de=G>>8,M=j[de];return M!==void 0?g[256*M+(255&G)]:de===252||de===253?"AL":b.test(de)?"L":de===8?"R":"N"},B=function(I){for(var G,de=0;de<I.length;de++){if((G=C(I.charAt(de)))==="L")return!1;if(G==="R")return!0}return!1},Y=function(I,G,de,M){var H,ve,Le,ne,ye=G[M];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ye="AN");break;case"AL":N=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":M<1||M+1>=G.length||(H=de[M-1])!=="EN"&&H!=="AN"||(ve=G[M+1])!=="EN"&&ve!=="AN"?ye="N":N&&(ve="AN"),ye=ve===H?ve:"N";break;case"ES":ye=(H=M>0?de[M-1]:"B")==="EN"&&M+1<G.length&&G[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&de[M-1]==="EN"){ye="EN";break}if(N){ye="N";break}for(Le=M+1,ne=G.length;Le<ne&&G[Le]==="ET";)Le++;ye=Le<ne&&G[Le]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ne=G.length,Le=M+1;Le<ne&&G[Le]==="NSM";)Le++;if(Le<ne){var Re=I[M],oe=Re>=1425&&Re<=2303||Re===64286;if(H=G[Le],oe&&(H==="R"||H==="AL")){ye="R";break}}}ye=M<1||(H=G[M-1])==="B"?"N":de[M-1];break;case"B":N=!1,i=!0,ye=S;break;case"S":a=!0,ye="N"}return ye},V=function(I,G,de){var M=I.split("");return de&&T(M,de,{hiLevel:S}),M.reverse(),G&&G.reverse(),M.join("")},T=function(I,G,de){var M,H,ve,Le,ne,ye=-1,Re=I.length,oe=0,E=[],U=S?f:m,Q=[];for(N=!1,i=!1,a=!1,H=0;H<Re;H++)Q[H]=C(I[H]);for(ve=0;ve<Re;ve++){if(ne=oe,E[ve]=Y(I,Q,E,ve),M=240&(oe=U[ne][x[E[ve]]]),oe&=15,G[ve]=Le=U[oe][5],M>0)if(M===16){for(H=ye;H<ve;H++)G[H]=1;ye=-1}else ye=-1;if(U[oe][6])ye===-1&&(ye=ve);else if(ye>-1){for(H=ye;H<ve;H++)G[H]=Le;ye=-1}Q[ve]==="B"&&(G[ve]=0),de.hiLevel|=Le}a&&function(ce,_e,Ce){for(var Be=0;Be<Ce;Be++)if(ce[Be]==="S"){_e[Be]=S;for(var ke=Be-1;ke>=0&&ce[ke]==="WS";ke--)_e[ke]=S}}(Q,G,Re)},$=function(I,G,de,M,H){if(!(H.hiLevel<I)){if(I===1&&S===1&&!i)return G.reverse(),void(de&&de.reverse());for(var ve,Le,ne,ye,Re=G.length,oe=0;oe<Re;){if(M[oe]>=I){for(ne=oe+1;ne<Re&&M[ne]>=I;)ne++;for(ye=oe,Le=ne-1;ye<Le;ye++,Le--)ve=G[ye],G[ye]=G[Le],G[Le]=ve,de&&(ve=de[ye],de[ye]=de[Le],de[Le]=ve);oe=ne}oe++}}},Z=function(I,G,de){var M=I.split(""),H={hiLevel:S};return de||(de=[]),T(M,de,H),function(ve,Le,ne){if(ne.hiLevel!==0&&d)for(var ye,Re=0;Re<ve.length;Re++)Le[Re]===1&&(ye=_.indexOf(ve[Re]))>=0&&(ve[Re]=_[ye+1])}(M,de,H),$(2,M,G,de,H),$(1,M,G,de,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(I,G,de){if(function(H,ve){if(ve)for(var Le=0;Le<H.length;Le++)ve[Le]=Le;l===void 0&&(l=B(H)),u===void 0&&(u=B(H))}(I,G),o||!c||u)if(o&&c&&l^u)S=l?1:0,I=V(I,G,de);else if(!o&&c&&u)S=l?1:0,I=Z(I,G,de),I=V(I,G);else if(!o||l||c||u){if(o&&!c&&l^u)I=V(I,G),l?(S=0,I=Z(I,G,de)):(S=1,I=Z(I,G,de),I=V(I,G));else if(o&&l&&!c&&u)S=1,I=Z(I,G,de),I=V(I,G);else if(!o&&!c&&l^u){var M=d;l?(S=1,I=Z(I,G,de),S=0,d=!1,I=Z(I,G,de),d=M):(S=0,I=Z(I,G,de),I=V(I,G),S=1,d=!1,I=Z(I,G,de),d=M,I=V(I,G))}}else S=0,I=Z(I,G,de);else S=l?1:0,I=Z(I,G,de);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Xs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ok(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Y6(this.contents),this.head=new J6(this),this.name=new ek(this),this.cmap=new w_(this),this.toUnicode={},this.hhea=new K6(this),this.maxp=new tk(this),this.hmtx=new rk(this),this.post=new X6(this),this.os2=new Q6(this),this.loca=new sk(this),this.glyf=new nk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var xa,Xs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Y6=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,c,u,d,g,m,f,x,j;for(j in f=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(f)/c),o=Math.floor(g/c),d=16*f-g,(i=new Xs).writeInt(this.scalarType),i.writeShort(f),i.writeShort(g),i.writeShort(o),i.writeShort(d),a=16*f,u=i.pos+a,l=null,x=[],r)for(m=r[j],i.writeString(j),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),x=x.concat(m),j==="head"&&(l=u),u+=m.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=S_.call(r);r.length%4;)r.push(0);for(a=new Xs(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),V6={}.hasOwnProperty,Ba=function(t,e){for(var r in e)V6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var J6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Xs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Ab=function(){function t(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,j,_,b,N,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,a=function(){var C,B;for(B=[],c=C=0;0<=m?C<m:C>m;c=0<=m?++C:--C)B.push(e.readUInt16());return B}(),e.pos+=2,j=function(){var C,B;for(B=[],c=C=0;0<=m?C<m:C>m;c=0<=m?++C:--C)B.push(e.readUInt16());return B}(),u=function(){var C,B;for(B=[],c=C=0;0<=m?C<m:C>m;c=0<=m?++C:--C)B.push(e.readUInt16());return B}(),d=function(){var C,B;for(B=[],c=C=0;0<=m?C<m:C>m;c=0<=m?++C:--C)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,l=function(){var C,B;for(B=[],c=C=0;0<=i?C<i:C>i;c=0<=i?++C:--C)B.push(e.readUInt16());return B}(),c=b=0,S=a.length;b<S;c=++b)for(_=a[c],n=N=x=j[c];x<=_?N<=_:N>=_;n=x<=_?++N:--N)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=g}return t.encode=function(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,j,_,b,N,S,C,B,Y,V,T,$,Z,I,G,de,M,H,ve,Le,ne,ye,Re,oe,E,U,Q,ce,_e,Ce,Be,ke,He,Ke,ot;switch(M=new Xs,o=Object.keys(e).sort(function(Ge,Oe){return Ge-Oe}),r){case"macroman":for(j=0,_=function(){var Ge=[];for(x=0;x<256;++x)Ge.push(0);return Ge}(),N={0:0},a={},H=0,ye=o.length;H<ye;H++)N[ke=e[i=o[H]]]==null&&(N[ke]=++j),a[i]={old:e[i],new:N[e[i]]},_[i]=N[e[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(_),{charMap:a,subtable:M.data,maxGlyphID:j+1};case"unicode":for(G=[],g=[],S=0,N={},n={},b=u=null,ve=0,Re=o.length;ve<Re;ve++)N[B=e[i=o[ve]]]==null&&(N[B]=++S),n[i]={old:B,new:N[B]},l=N[B]-i,b!=null&&l===u||(b&&g.push(b),G.push(i),u=l),b=i;for(b&&g.push(b),g.push(65535),G.push(65535),Z=2*($=G.length),T=2*Math.pow(Math.log($)/Math.LN2,2),m=Math.log(T/2)/Math.LN2,V=2*$-T,c=[],Y=[],f=[],x=Le=0,oe=G.length;Le<oe;x=++Le){if(I=G[x],d=g[x],I===65535){c.push(0),Y.push(0);break}if(I-(de=n[I].new)>=32768)for(c.push(0),Y.push(2*(f.length+$-x)),i=ne=I;I<=d?ne<=d:ne>=d;i=I<=d?++ne:--ne)f.push(n[i].new);else c.push(de-I),Y.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*$+2*f.length),M.writeUInt16(0),M.writeUInt16(Z),M.writeUInt16(T),M.writeUInt16(m),M.writeUInt16(V),Ce=0,E=g.length;Ce<E;Ce++)i=g[Ce],M.writeUInt16(i);for(M.writeUInt16(0),Be=0,U=G.length;Be<U;Be++)i=G[Be],M.writeUInt16(i);for(He=0,Q=c.length;He<Q;He++)l=c[He],M.writeUInt16(l);for(Ke=0,ce=Y.length;Ke<ce;Ke++)C=Y[Ke],M.writeUInt16(C);for(ot=0,_e=f.length;ot<_e;ot++)j=f[ot],M.writeUInt16(j);return{charMap:n,subtable:M.data,maxGlyphID:S+1}}},t}(),w_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Ab(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Ab.encode(e,r),(i=new Xs).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),K6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Q6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),X6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t}(),Z6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ek=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,c,u,d,g,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=d=0,g=n.length;d<g;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new Z6(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),tk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),rk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,g,m;for(m=[],u=0,d=(g=this.metrics).length;u<d;u++)a=g[u],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),S_=[].slice,nk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,c,u,d,g;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new Xs(r.read(i))).readShort(),u=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new ak(l,u,g,c,d):new ik(l,o,u,g,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),ik=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ak=function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Xs(S_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),sk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),ok=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,j,_,b;for(i in n=w_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},b=n.charMap)f[(c=b[i]).old]=c.new;for(x in m=n.maxGlyphID,o)x in f||(f[x]=m++);return d=function(N){var S,C;for(S in C={},N)C[N[S]]=S;return C}(f),g=Object.keys(d).sort(function(N,S){return N-S}),j=function(){var N,S,C;for(C=[],N=0,S=g.length;N<S;N++)l=g[N],C.push(d[l]);return C}(),a=this.font.glyf.encode(o,j,f),u=this.font.loca.encode(a.offsets,j),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();function j_(t,e,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=l*c,d=/\r\n|\r|\n/g,g="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(d):t,m=g.length||1),r+=l*(2-a),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),g&&m>=1){for(var x=0;x<g.length;x++)i.text(g[x],e-i.getStringUnitWidth(g[x])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var kb={},ql=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:kb=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return kb||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),y0=function(t,e){return y0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},y0(t,e)};function N_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");y0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C_=function(t){N_(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function lk(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ck(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Th(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function L_(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=A_(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function A_(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function df(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function k_(t,e){var r=df(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function uk(t,e,r,n,i){var a={},o=1.3333333333333333,l=Yg(e,function(S){return i.getComputedStyle(S).backgroundColor});l!=null&&(a.fillColor=l);var c=Yg(e,function(S){return i.getComputedStyle(S).color});c!=null&&(a.textColor=c);var u=hk(n,r);u&&(a.cellPadding=u);var d="borderTopColor",g=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var f=(parseFloat(m)||0)/g;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var x=Yg(e,function(S){return i.getComputedStyle(S)[d]});x!=null&&(a.lineColor=x);var j=["left","right","center","justify"];j.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),j=["middle","bottom","top"],j.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(a.fontSize=_/o);var b=dk(n);b&&(a.fontStyle=b);var N=(n.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(a.font=N),a}function dk(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Yg(t,e){var r=P_(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function P_(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:P_(t.parentElement,e):r}function hk(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(l){return parseInt(l||"0")/n}),o=df(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function E_(t,e,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],g=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:g,foot:m};for(var f=0;f<l.rows.length;f++){var x=l.rows[f],j=(o=(a=x==null?void 0:x.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=fk(c,u,r,x,n,i);_&&(j==="thead"?d.push(_):j==="tfoot"?m.push(_):g.push(_))}return{head:d,body:g,foot:m}}function fk(t,e,r,n,i,a){for(var o=new C_(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(i||u.display!=="none"){var d=void 0;a&&(d=uk(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:gk(c)})}}var g=r.getComputedStyle(n);if(o.length>0&&(i||g.display!=="none"))return o}function gk(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function pk(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function ss(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function F_(t,e){var r=new ql(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();pk(i,n,e);var a=ss({},i,n,e),o;typeof window<"u"&&(o=window);var l=mk(i,n,e),c=vk(i,n,e),u=bk(r,a),d=xk(r,a,o);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function mk(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],g=r[c];n.columnStyles=ss({},u,d,g)}else{var m=[t,e,r],f=m.map(function(x){return x[c]||{}});n[c]=ss({},f[0],f[1],f[2])}},a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i(l)}return n}function vk(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function bk(t,e){var r,n,i,a,o,l,c,u,d,g,m,f,x=df(e.margin,40/t.scaleFactor()),j=(r=yk(t,e.startY))!==null&&r!==void 0?r:x.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var N=(a=e.useCss)!==null&&a!==void 0?a:!1,S=e.theme||(N?"plain":"striped"),C=!!e.horizontalPageBreak,B=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:N,theme:S,startY:j,margin:x,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:_,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:C,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function yk(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function xk(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=E_(t,e.html,r,o,e.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||_k(n,i,a);return{columns:c,head:n,body:i,foot:a}}function _k(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};i.push(d)}}),i}var x0=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),wk=function(t){N_(e,t);function e(r,n,i,a,o,l){var c=t.call(this,r,n,l)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return e}(x0),Sk=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new wk(e,this,n,i,a,o),g=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new x0(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new x0(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),D_=function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof C_&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>i?u:i},0)},t}(),T_=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=df(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),jk=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function Nk(t,e){Ck(t,e);var r=[],n=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=_0(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=_0(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Ak(e),kk(e,t),Lk(e)}function Ck(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=k_(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,a,c,null);var g=u.padding("horizontal");u.contentWidth=Th(u.text,u.styles,t)+g;var m=Th(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=d.cellWidth||d.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function _0(t,e,r){for(var n=e,i=t.reduce(function(f,x){return f+x.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=o.wrappedWidth/i,c=n*l,u=o.width+c,d=r(o),g=u<d?d:u;e-=g-o.width,o.width=g}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>r(f):!0});m.length&&(e=_0(m,e,r))}return e}function Lk(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var g=n.length-i,m=d.rowSpan>g?g:d.rowSpan;e[c.index]={cell:d,left:m,row:a}}}}}function Ak(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function kk(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Pb(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Pb(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,d);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}function Pb(t,e,r,n,i){return t.map(function(a){return Pk(a,e,r,n,i)})}function Pk(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Th(t,r,n))return t;for(;e<Th(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function I_(t,e){var r=new ql(t),n=Ek(e,r.scaleFactor()),i=new Sk(e,n);return Nk(r,i),r.applyStyles(r.userStyles),i}function Ek(t,e){var r=t.content,n=Dk(r.columns);if(r.head.length===0){var i=Eb(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Eb(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:n,head:Vg("head",r.head,n,o,a,e),body:Vg("body",r.body,n,o,a,e),foot:Vg("foot",r.foot,n,o,a,e)}}function Vg(t,e,r,n,i,a){var o={},l=e.map(function(c,u){for(var d=0,g={},m=0,f=0,x=0,j=r;x<j.length;x++){var _=j[x];if(o[_.index]==null||o[_.index].left===0)if(f===0){var b=void 0;Array.isArray(c)?b=c[_.index-m-d]:b=c[_.dataKey];var N={};typeof b=="object"&&!Array.isArray(b)&&(N=(b==null?void 0:b.styles)||{});var S=Tk(t,_,u,i,n,a,N),C=new T_(b,S,t);g[_.dataKey]=C,g[_.index]=C,f=C.colSpan-1,o[_.index]={left:C.rowSpan-1,times:f}}else f--,m++;else o[_.index].left--,f=o[_.index].times,d++}return new D_(c,u,t,g)});return l}function Eb(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=Fk(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Fk(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Dk(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new jk(i,e,r)})}function Tk(t,e,r,n,i,a,o){var l=ck(n),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var u=ss({},l.table,l[t],i.styles,c),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=t==="body"?d:{},m=t==="body"&&r%2===0?ss({},l.alternateRow,i.alternateRowStyles):{},f=lk(a),x=ss({},f,u,m,g);return ss(x,o)}function Ik(t,e,r){var n;r===void 0&&(r={});var i=k_(t,e),a=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var f=e.columns.find(function(x){return x.dataKey===m||x.index===m});f&&!a.has(f.index)&&(a.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(a.has(d)){d++;continue}var g=e.columns[d].wrappedWidth;if(u||i>=g)u=!1,o.push(d),l.push(e.columns[d]),i-=g;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function Rk(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=Ik(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function R_(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(m,f){return m+f.height},0);l+=u}var d=new ql(t);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(B_(d),a.y=i.top),e.callWillDrawPageHooks(d,a);var g=ss({},a);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Ok(d,e,g,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return hs(d,e,m,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(m,f){var x=f===e.body.length-1;Ih(d,e,m,x,g,a,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return hs(d,e,m,a,e.columns)})),L_(d,e,g,a),e.callEndPageHooks(d,a),e.finalY=a.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function Ok(t,e,r,n){var i=Rk(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?cu(t,e,r,n,u.columns,!0):Fb(t,e,n,u.columns),Bk(t,e,r,n,u.columns),Jg(t,e,n,u.columns)});else for(var o=-1,l=i[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var d=l.columns;o>=0?cu(t,e,r,n,d,!0):Fb(t,e,n,d),u=Db(t,e,o+1,n,d),Jg(t,e,n,d)}var g=u-o;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),cu(t,e,r,n,m.columns,!0),Db(t,e,o+1,n,m.columns,g),Jg(t,e,n,m.columns)}),o=u};o<e.body.length-1;)c()}function Fb(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return hs(t,e,a,r,n)})}function Bk(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var l=o===e.body.length-1;Ih(t,e,a,l,r,n,i)})}function Db(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(r+a,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var d=r+u===e.body.length-1,g=O_(t,e,d,n);c.canEntireRowFit(g,i)&&(hs(t,e,c,n,i),l=r+u)}),l}function Jg(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return hs(t,e,a,r,n)})}function Mk(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function Uk(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new T_(u.raw,u.styles,u.section);d=ss(d,u),d.text=[];var g=Mk(u,e,n);u.text.length>g&&(d.text=u.text.splice(g,u.text.length));var m=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,f),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,f),d.contentHeight>a&&(a=d.contentHeight),i[c.index]=d}}var x=new D_(t.raw,-1,t.section,i,!0);x.height=a;for(var j=0,_=r.columns;j<_.length;j++){var c=_[j],d=x.cells[c.index];d&&(d.height=x.height);var u=t.cells[c.index];u&&(u.height=t.height)}return x}function qk(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,l=i-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>l;return g?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Ih(t,e,r,n,i,a,o){var l=O_(t,e,n,a);if(r.canEntireRowFit(l,o))hs(t,e,r,a,o);else if(qk(t,r,l,e)){var c=Uk(r,l,e,t);hs(t,e,r,a,o),cu(t,e,i,a,o),Ih(t,e,c,n,i,a,o)}else cu(t,e,i,a,o),Ih(t,e,r,n,i,a,o)}function hs(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}$k(t,c,n);var d=c.getTextPos();j_(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function $k(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=A_(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),zk(t,e,r,n.lineWidth))}function zk(t,e,r,n){var i,a,o,l;n.top&&(i=r.x,a=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,o,l)),n.bottom&&(i=r.x,a=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,o,l)),n.left&&(i=r.x,a=r.y,o=r.x,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,o,l)),n.right&&(i=r.x+e.width,a=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,o,l));function c(u,d,g,m,f){t.getDocument().setLineWidth(u),t.getDocument().line(d,g,m,f,"S")}}function O_(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function cu(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return hs(t,e,l,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;L_(t,e,r,n),B_(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return hs(t,e,l,n,i)}),t.applyStyles(t.userStyles))}function B_(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Wk(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=F_(this,n),a=I_(this,i);return R_(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){j_(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return ql.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ql.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ql(this),a=E_(i,e,window,r,!1),o=a.head,l=a.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Kg;function yr(t,e){var r=F_(t,e),n=I_(t,r);R_(t,n)}try{if(typeof window<"u"&&window){var Tb=window,Ib=Tb.jsPDF||((Kg=Tb.jspdf)===null||Kg===void 0?void 0:Kg.jsPDF);Ib&&Wk(Ib)}}catch(t){console.error("Could not apply autoTable plugin",t)}var ui={},Hk=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},M_={},zi={};let Fm;const Gk=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];zi.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};zi.getSymbolTotalCodewords=function(e){return Gk[e]};zi.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};zi.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Fm=e};zi.isKanjiModeEnabled=function(){return typeof Fm<"u"};zi.toSJIS=function(e){return Fm(e)};var hf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(hf);function U_(){this.buffer=[],this.length=0}U_.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Yk=U_;function $u(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}$u.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};$u.prototype.get=function(t,e){return this.data[t*this.size+e]};$u.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};$u.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Vk=$u,q_={};(function(t){const e=zi.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=e(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const i=[],a=t.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(q_);var $_={};const Jk=zi.getSymbolSize,Rb=7;$_.getPositions=function(e){const r=Jk(e);return[[0,0],[r-Rb,0],[0,r-Rb]]};var z_={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,d=null;for(let g=0;g<a;g++){l=c=0,u=d=null;for(let m=0;m<a;m++){let f=i.get(g,m);f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1),f=i.get(m,g),f===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=f,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function r(n,i,a){switch(n){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(z_);var ff={};const qs=hf,Bd=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Md=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ff.getBlocksCount=function(e,r){switch(r){case qs.L:return Bd[(e-1)*4+0];case qs.M:return Bd[(e-1)*4+1];case qs.Q:return Bd[(e-1)*4+2];case qs.H:return Bd[(e-1)*4+3];default:return}};ff.getTotalCodewordsCount=function(e,r){switch(r){case qs.L:return Md[(e-1)*4+0];case qs.M:return Md[(e-1)*4+1];case qs.Q:return Md[(e-1)*4+2];case qs.H:return Md[(e-1)*4+3];default:return}};var W_={},gf={};const uu=new Uint8Array(512),Rh=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)uu[r]=e,Rh[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)uu[r]=uu[r-255]})();gf.log=function(e){if(e<1)throw new Error("log("+e+")");return Rh[e]};gf.exp=function(e){return uu[e]};gf.mul=function(e,r){return e===0||r===0?0:uu[Rh[e]+Rh[r]]};(function(t){const e=gf;t.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(n[o],i[l]);return a},t.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(W_);const H_=W_;function Dm(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Dm.prototype.initialize=function(e){this.degree=e,this.genPoly=H_.generateECPolynomial(this.degree)};Dm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=H_.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var Kk=Dm,G_={},no={},Tm={};Tm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ma={};const Y_="[0-9]+",Qk="[A-Z $%*+\\-./:]+";let Du="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Du=Du.replace(/u/g,"\\u");const Xk="(?:(?![A-Z0-9 $%*+\\-./:]|"+Du+`)(?:.|[\r
]))+`;Ma.KANJI=new RegExp(Du,"g");Ma.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ma.BYTE=new RegExp(Xk,"g");Ma.NUMERIC=new RegExp(Y_,"g");Ma.ALPHANUMERIC=new RegExp(Qk,"g");const Zk=new RegExp("^"+Du+"$"),eP=new RegExp("^"+Y_+"$"),tP=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ma.testKanji=function(e){return Zk.test(e)};Ma.testNumeric=function(e){return eP.test(e)};Ma.testAlphanumeric=function(e){return tP.test(e)};(function(t){const e=Tm,r=Ma;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return n(a)}catch{return o}}})(no);(function(t){const e=zi,r=ff,n=hf,i=no,a=Tm,o=7973,l=e.getBCHDigit(o);function c(m,f,x){for(let j=1;j<=40;j++)if(f<=t.getCapacity(j,x,m))return j}function u(m,f){return i.getCharCountIndicator(m,f)+4}function d(m,f){let x=0;return m.forEach(function(j){const _=u(j.mode,f);x+=_+j.getBitsLength()}),x}function g(m,f){for(let x=1;x<=40;x++)if(d(m,x)<=t.getCapacity(x,f,i.MIXED))return x}t.from=function(f,x){return a.isValid(f)?parseInt(f,10):x},t.getCapacity=function(f,x,j){if(!a.isValid(f))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=i.BYTE);const _=e.getSymbolTotalCodewords(f),b=r.getTotalCodewordsCount(f,x),N=(_-b)*8;if(j===i.MIXED)return N;const S=N-u(j,f);switch(j){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(f,x){let j;const _=n.from(x,n.M);if(Array.isArray(f)){if(f.length>1)return g(f,_);if(f.length===0)return 1;j=f[0]}else j=f;return c(j.mode,j.getLength(),_)},t.getEncodedBits=function(f){if(!a.isValid(f)||f<7)throw new Error("Invalid QR Code version");let x=f<<12;for(;e.getBCHDigit(x)-l>=0;)x^=o<<e.getBCHDigit(x)-l;return f<<12|x}})(G_);var V_={};const w0=zi,J_=1335,rP=21522,Ob=w0.getBCHDigit(J_);V_.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;w0.getBCHDigit(i)-Ob>=0;)i^=J_<<w0.getBCHDigit(i)-Ob;return(n<<10|i)^rP};var K_={};const nP=no;function Kl(t){this.mode=nP.NUMERIC,this.data=t.toString()}Kl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Kl.prototype.getLength=function(){return this.data.length};Kl.prototype.getBitsLength=function(){return Kl.getBitsLength(this.data.length)};Kl.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,a*3+1))};var iP=Kl;const aP=no,Qg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ql(t){this.mode=aP.ALPHANUMERIC,this.data=t}Ql.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ql.prototype.getLength=function(){return this.data.length};Ql.prototype.getBitsLength=function(){return Ql.getBitsLength(this.data.length)};Ql.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Qg.indexOf(this.data[r])*45;n+=Qg.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Qg.indexOf(this.data[r]),6)};var sP=Ql;const oP=no;function Xl(t){this.mode=oP.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Xl.getBitsLength=function(e){return e*8};Xl.prototype.getLength=function(){return this.data.length};Xl.prototype.getBitsLength=function(){return Xl.getBitsLength(this.data.length)};Xl.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var lP=Xl;const cP=no,uP=zi;function Zl(t){this.mode=cP.KANJI,this.data=t}Zl.getBitsLength=function(e){return e*13};Zl.prototype.getLength=function(){return this.data.length};Zl.prototype.getBitsLength=function(){return Zl.getBitsLength(this.data.length)};Zl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=uP.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var dP=Zl,Q_={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var a={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,u,d,g,m,f,x,j,_;!l.empty();){c=l.pop(),u=c.value,g=c.cost,m=r[u]||{};for(d in m)m.hasOwnProperty(d)&&(f=m[d],x=g+f,j=o[d],_=typeof o[d]>"u",(_||j>x)&&(o[d]=x,l.push(d,x),a[d]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(b)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Q_);var hP=Q_.exports;(function(t){const e=no,r=iP,n=sP,i=lP,a=dP,o=Ma,l=zi,c=hP;function u(b){return unescape(encodeURIComponent(b)).length}function d(b,N,S){const C=[];let B;for(;(B=b.exec(S))!==null;)C.push({data:B[0],index:B.index,mode:N,length:B[0].length});return C}function g(b){const N=d(o.NUMERIC,e.NUMERIC,b),S=d(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let C,B;return l.isKanjiModeEnabled()?(C=d(o.BYTE,e.BYTE,b),B=d(o.KANJI,e.KANJI,b)):(C=d(o.BYTE_KANJI,e.BYTE,b),B=[]),N.concat(S,C,B).sort(function(V,T){return V.index-T.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function m(b,N){switch(N){case e.NUMERIC:return r.getBitsLength(b);case e.ALPHANUMERIC:return n.getBitsLength(b);case e.KANJI:return a.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function f(b){return b.reduce(function(N,S){const C=N.length-1>=0?N[N.length-1]:null;return C&&C.mode===S.mode?(N[N.length-1].data+=S.data,N):(N.push(S),N)},[])}function x(b){const N=[];for(let S=0;S<b.length;S++){const C=b[S];switch(C.mode){case e.NUMERIC:N.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:N.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:N.push([C,{data:C.data,mode:e.BYTE,length:u(C.data)}]);break;case e.BYTE:N.push([{data:C.data,mode:e.BYTE,length:u(C.data)}])}}return N}function j(b,N){const S={},C={start:{}};let B=["start"];for(let Y=0;Y<b.length;Y++){const V=b[Y],T=[];for(let $=0;$<V.length;$++){const Z=V[$],I=""+Y+$;T.push(I),S[I]={node:Z,lastCount:0},C[I]={};for(let G=0;G<B.length;G++){const de=B[G];S[de]&&S[de].node.mode===Z.mode?(C[de][I]=m(S[de].lastCount+Z.length,Z.mode)-m(S[de].lastCount,Z.mode),S[de].lastCount+=Z.length):(S[de]&&(S[de].lastCount=Z.length),C[de][I]=m(Z.length,Z.mode)+4+e.getCharCountIndicator(Z.mode,N))}}B=T}for(let Y=0;Y<B.length;Y++)C[B[Y]].end=0;return{map:C,table:S}}function _(b,N){let S;const C=e.getBestModeForData(b);if(S=e.from(N,C),S!==e.BYTE&&S.bit<C.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(C));switch(S===e.KANJI&&!l.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new r(b);case e.ALPHANUMERIC:return new n(b);case e.KANJI:return new a(b);case e.BYTE:return new i(b)}}t.fromArray=function(N){return N.reduce(function(S,C){return typeof C=="string"?S.push(_(C,null)):C.data&&S.push(_(C.data,C.mode)),S},[])},t.fromString=function(N,S){const C=g(N,l.isKanjiModeEnabled()),B=x(C),Y=j(B,S),V=c.find_path(Y.map,"start","end"),T=[];for(let $=1;$<V.length-1;$++)T.push(Y.table[V[$]].node);return t.fromArray(f(T))},t.rawSplit=function(N){return t.fromArray(g(N,l.isKanjiModeEnabled()))}})(K_);const pf=zi,Xg=hf,fP=Yk,gP=Vk,pP=q_,mP=$_,S0=z_,j0=ff,vP=Kk,Oh=G_,bP=V_,yP=no,Zg=K_;function xP(t,e){const r=t.size,n=mP.getPositions(e);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(a+l,o+c,!0,!0):t.set(a+l,o+c,!1,!0))}}function _P(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function wP(t,e){const r=pP.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0)}}function SP(t,e){const r=t.size,n=Oh.getEncodedBits(e);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,o=(n>>l&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function ep(t,e,r){const n=t.size,i=bP.getEncodedBits(e,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(n-15+a,8,o,!0),a<8?t.set(8,n-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(n-8,8,1,!0)}function jP(t,e){const r=t.size;let n=-1,i=r-1,a=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let u=!1;o<e.length&&(u=(e[o]>>>a&1)===1),t.set(i,l-c,u),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function NP(t,e,r){const n=new fP;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),yP.getCharCountIndicator(c.mode,t)),c.write(n)});const i=pf.getSymbolTotalCodewords(t),a=j0.getTotalCodewordsCount(t,e),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return CP(n,t,e)}function CP(t,e,r){const n=pf.getSymbolTotalCodewords(e),i=j0.getTotalCodewordsCount(e,r),a=n-i,o=j0.getBlocksCount(e,r),l=n%o,c=o-l,u=Math.floor(n/o),d=Math.floor(a/o),g=d+1,m=u-d,f=new vP(m);let x=0;const j=new Array(o),_=new Array(o);let b=0;const N=new Uint8Array(t.buffer);for(let V=0;V<o;V++){const T=V<c?d:g;j[V]=N.slice(x,x+T),_[V]=f.encode(j[V]),x+=T,b=Math.max(b,T)}const S=new Uint8Array(n);let C=0,B,Y;for(B=0;B<b;B++)for(Y=0;Y<o;Y++)B<j[Y].length&&(S[C++]=j[Y][B]);for(B=0;B<m;B++)for(Y=0;Y<o;Y++)S[C++]=_[Y][B];return S}function LP(t,e,r,n){let i;if(Array.isArray(t))i=Zg.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=Zg.rawSplit(t);u=Oh.getBestVersionForData(d,r)}i=Zg.fromString(t,u||40)}else throw new Error("Invalid data");const a=Oh.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=NP(e,r,i),l=pf.getSymbolSize(e),c=new gP(l);return xP(c,e),_P(c),wP(c,e),ep(c,r,0),e>=7&&SP(c,e),jP(c,o),isNaN(n)&&(n=S0.getBestMask(c,ep.bind(null,c,r))),S0.applyMask(n,c),ep(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}M_.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Xg.M,i,a;return typeof r<"u"&&(n=Xg.from(r.errorCorrectionLevel,Xg.M),i=Oh.from(r.version),a=S0.from(r.maskPattern),r.toSJISFunc&&pf.setToSJISFunction(r.toSJISFunc)),LP(e,i,n,a)};var X_={},Im={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const a=t.getScale(n,i);return Math.floor((n+i.margin*2)*a)},t.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),u=Math.floor((o+a.margin*2)*c),d=a.margin*c,g=[a.color.light,a.color.dark];for(let m=0;m<u;m++)for(let f=0;f<u;f++){let x=(m*u+f)*4,j=a.color.light;if(m>=d&&f>=d&&m<u-d&&f<u-d){const _=Math.floor((m-d)/c),b=Math.floor((f-d)/c);j=g[l[_*o+b]?1:0]}n[x++]=j.r,n[x++]=j.g,n[x++]=j.b,n[x]=j.a}}})(Im);(function(t){const e=Im;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=e.getOptions(c);const d=e.getImageWidth(a.modules.size,c),g=u.getContext("2d"),m=g.createImageData(d,d);return e.qrToImageData(m.data,a,c),r(g,u,d),g.putImageData(m,0,0),u},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(a,o,c),d=c.type||"image/png",g=c.rendererOpts||{};return u.toDataURL(d,g.quality)}})(X_);var Z_={};const AP=Im;function Bb(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function tp(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function kP(t,e,r){let n="",i=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!a&&(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=a?tp("M",c+r,.5+u+r):tp("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(n+=tp("h",o),o=0)):i++}return n}Z_.render=function(e,r,n){const i=AP.getOptions(r),a=e.modules.size,o=e.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+Bb(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Bb(i.color.dark,"stroke")+' d="'+kP(o,a,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};const PP=Hk,N0=M_,ew=X_,EP=Z_;function Rm(t,e,r,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!PP())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,u){try{const d=N0.create(r,n);c(t(d,e,n))}catch(d){u(d)}})}try{const c=N0.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}ui.create=N0.create;ui.toCanvas=Rm.bind(null,ew.render);ui.toDataURL=Rm.bind(null,ew.renderToDataURL);ui.toString=Rm.bind(null,function(t,e,r){return EP.render(t,r)});const Om=Object.freeze(Object.defineProperty({__proto__:null,default:ui},Symbol.toStringTag,{value:"Module"})),un=t=>{if(!t)return"";let e=String(t);for(let r=0;r<5;r++)e=e.replace(/%%%/g,"").replace(/%\s+%%%/g,"").replace(/%\s{1,}%%%/g,"").replace(/%%\s+%/g,"").replace(/%\s{1,}%\s{1,}%/g,"").replace(/\s*%\s*%\s*%\s*/g,"").replace(/\s*%\s{1,}%\s{1,}%\s*/g,"").replace(/%+/g,"").replace(/%/g,"");return e=e.replace(/[^\w\s\-\.]/g,"").replace(/\s+/g," ").trim(),e},Ct=t=>{if(!t)return"";let e=String(t);return e.includes("%")&&(console.log(" SANITIZE DEBUG - Original text with %:",e),console.log(" Character codes:",e.split("").map(r=>`${r}(${r.charCodeAt(0)})`).join(" "))),e=e.replace(/%%%/g,"").replace(/%\s+%%%/g,"").replace(/%\s{1,}%%%/g,"").replace(/%%\s+%/g,"").replace(/%\s{1,}%\s{1,}%/g,"").replace(/\s*%\s*%\s*%\s*/g,"").replace(/\s*%\s{1,}%\s{1,}%\s*/g,"").replace(/%+/g,"").replace(/%.*?%/g,"").replace(/\b%/g,"").replace(/%\b/g,"").replace(/\s*%\s*/g," ").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/[^\w\s]%[^\w\s]/g,""),e=e.replace(/=U/g,"").replace(/<a/g,"").replace(/=Ud/g,"").replace(/-/g,"").replace(/-d/g,"").replace(/<a/g,"").replace(/</g,"").replace(//g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/[^\w\s\-\.]/g,""),e=e.replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(/ /g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,""),e=e.replace(/\s+/g," ").trim(),e=e.replace(/%/g,""),String(t).includes("%")&&(console.log(" SANITIZE DEBUG - Final cleaned text:",e),console.log(" Still contains %?",e.includes("%"))),e},C0=(t,e="Export Data",r=[],n={})=>{const i=new At(n.orientation||"portrait","mm",n.pageSize||"a4");i.setFontSize(18),i.setTextColor(40,40,40);const a=un(n.federationName||"Algerian Judo Federation");i.text(a,14,15),i.setFontSize(16),i.setTextColor(40,40,40);const o=un(e);i.text(o,14,30),i.setFontSize(10);const l=new Date().toLocaleString();if(i.text(`Generated: ${l}`,14,37),n.logoUrl)try{i.addImage(n.logoUrl,"PNG",170,10,25,25)}catch(f){console.error("Error adding logo to PDF:",f)}let c=45;if(n.includePhotos&&n.photoField){const f=n.photoField||"photos_url",x=n.photoWidth||30,j=n.photoHeight||20,_=n.photosPerRow||5,b=n.photoSpacing||5,N=t.filter(S=>S[f]);if(N.length>0){const S=Math.ceil(N.length/_);let C=0,B=0;N.forEach((Y,V)=>{try{const T=14+B*(x+b),$=50+C*(j+b+10);if(i.addImage(Y[f],"PNG",T,$,x,j),Y.first_name&&Y.last_name?(i.setFontSize(8),i.text(`${Y.first_name} ${Y.last_name}`,T,$+j+5,{maxWidth:x})):(Y.first_name||Y.last_name)&&(i.setFontSize(8),i.text(`${Y.first_name||""} ${Y.last_name||""}`.trim(),T,$+j+5,{maxWidth:x})),Y.hasOwnProperty("confirmation")){i.setFontSize(6),Y.confirmation?i.setTextColor(0,128,0):i.setTextColor(255,0,0);const Z=Y.confirmation?"":"";i.text(Z,T+x-5,$+5),i.setTextColor(0,0,0)}B++,B>=_&&(B=0,C++)}catch(T){console.error(`Error adding photo for item ${V}:`,T)}}),S>0&&(c=30+S*(j+b+15))}}const u=r.length>0?r.map(f=>({header:f.header,dataKey:f.dataKey})):Object.keys(t[0]||{}).map(f=>({header:f.charAt(0).toUpperCase()+f.slice(1).replace(/_/g," "),dataKey:f})),d=(f,x)=>{if(x)return x.split(".").reduce((j,_)=>j==null?void 0:j[_],f)},g=t.map(f=>{const x={};return u.forEach(j=>{let _=d(f,j.dataKey)||f[j.dataKey];typeof _=="string"&&(_=un(_)),x[j.dataKey]=_}),x});yr(i,{startY:c,head:[u.map(f=>f.header)],body:g.map(f=>u.map(x=>f[x.dataKey])),theme:n.theme||"striped",headStyles:{fillColor:n.headerColor||[40,40,40]},margin:{top:30},styles:{overflow:"linebreak"},columnStyles:n.columnStyles||{}});const m=i.lastAutoTable.finalY||200;if(i.setFontSize(12),i.setTextColor(0,0,0),i.text("Medical certificate",14,m+20),i.setDrawColor(0),i.line(14,m+40,80,m+40),t.length>0){i.setFontSize(10);const f=t.some(j=>j.club_id),x=t.some(j=>j.league_id);if(f){const j=t.find(_=>_.club_id);if(j){const _=j.club_id,b=n.clubNames&&n.clubNames[_]?n.clubNames[_]:`ID: ${_}`;i.text(`Club: ${Ct(b)}`,14,m+60),i.text("Club Visa: _________________",14,m+70)}}if(x){const j=t.find(_=>_.league_id);if(j){const _=j.league_id,b=n.leagueNames&&n.leagueNames[_]?n.leagueNames[_]:`ID: ${_}`;i.text(`League: ${Ct(b)}`,120,m+60),i.text("League Visa: _________________",120,m+70)}}}i.save(`${n.filename||e.toLowerCase().replace(/ /g,"_")}.pdf`)},Tn=async()=>{try{const{data:t,error:e}=await ae.from("nameclub").select("id, name_club");if(e)throw e;const r={};return t.forEach(n=>{r[n.id]=n.name_club}),r}catch(t){return console.error("Error fetching club names:",t),{}}},Xn=async()=>{try{const{data:t,error:e}=await ae.from("nameleague").select("id, name_league");if(e)throw e;const r={};return t.forEach(n=>{r[n.id]=n.name_league}),r}catch(t){return console.error("Error fetching league names:",t),{}}},FP=(t,e="export",r=[])=>{const n=r.length>0?r.map(d=>d.field):Object.keys(t[0]||{}),i=r.length>0?r.map(d=>d.header||d.field).join(","):n.join(","),a=t.map(d=>n.map(g=>{const m=d[g];if(m==null)return"";const f=String(m);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(",")),o=[i,...a].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(l),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download",`${e}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)};var tw={exports:{}};(function(t){(function(e){var r=e.URL||e.webkitURL;function n(u){return r?r.createObjectURL(u):!1}function i(u){return r?r.revokeObjectURL(u):!1}function a(u,d){u&&u.slice(0,5)==="blob:"&&!(d&&d.noRevoke)&&i(u)}function o(u,d,g,m){if(!e.FileReader)return!1;var f=new FileReader;f.onload=function(){d.call(f,this.result)},g&&(f.onabort=f.onerror=function(){g.call(f,this.error)});var x=f[m||"readAsDataURL"];if(x)return x.call(f,u),f}function l(u,d){return Object.prototype.toString.call(d)==="[object "+u+"]"}function c(u,d,g){function m(f,x){var j=document.createElement("img"),_;function b(S,C){if(f===x){f&&f(S,C);return}else if(S instanceof Error){x(S);return}C=C||{},C.image=S,f(C)}function N(S,C){C&&e.console&&console.log(C),S&&l("Blob",S)?(u=S,_=n(u)):(_=u,g&&g.crossOrigin&&(j.crossOrigin=g.crossOrigin)),j.src=_}if(j.onerror=function(S){a(_,g),x&&x.call(j,S)},j.onload=function(){a(_,g);var S={originalWidth:j.naturalWidth||j.width,originalHeight:j.naturalHeight||j.height};try{c.transform(j,g,b,u,S)}catch(C){x&&x(C)}},typeof u=="string")return c.requiresMetaData(g)?c.fetchBlob(u,N,g):N(),j;if(l("Blob",u)||l("File",u))return _=n(u),_?(j.src=_,j):o(u,function(S){j.src=S},x)}return e.Promise&&typeof d!="function"?(g=d,new Promise(m)):m(d,d)}c.requiresMetaData=function(u){return u&&u.meta},c.fetchBlob=function(u,d){d()},c.transform=function(u,d,g,m,f){g(u,f)},c.global=e,c.readFile=o,c.isInstanceOf=l,c.createObjectURL=n,c.revokeObjectURL=i,t.exports?t.exports=c:e.loadImage=c})(typeof window<"u"&&window||Mi)})(tw);var gs=tw.exports,rw={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.transform;e.createCanvas=function(n,i,a){if(a&&e.global.OffscreenCanvas)return new OffscreenCanvas(n,i);var o=document.createElement("canvas");return o.width=n,o.height=i,o},e.transform=function(n,i,a,o,l){r.call(e,e.scale(n,i,l),i,a,o,l)},e.transformCoordinates=function(){},e.getTransformedOptions=function(n,i){var a=i.aspectRatio,o,l,c,u;if(!a)return i;o={};for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=i[l]);return o.crop=!0,c=n.naturalWidth||n.width,u=n.naturalHeight||n.height,c/u>a?(o.maxWidth=u*a,o.maxHeight=u):(o.maxWidth=c,o.maxHeight=c/a),o},e.drawImage=function(n,i,a,o,l,c,u,d,g){var m=i.getContext("2d");return g.imageSmoothingEnabled===!1?(m.msImageSmoothingEnabled=!1,m.imageSmoothingEnabled=!1):g.imageSmoothingQuality&&(m.imageSmoothingQuality=g.imageSmoothingQuality),m.drawImage(n,a,o,l,c,0,0,u,d),m},e.requiresCanvas=function(n){return n.canvas||n.crop||!!n.aspectRatio},e.scale=function(n,i,a){i=i||{},a=a||{};var o=n.getContext||e.requiresCanvas(i)&&!!e.global.HTMLCanvasElement,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=l,d=c,g,m,f,x,j,_,b,N,S,C,B,Y;function V(){var $=Math.max((f||u)/u,(x||d)/d);$>1&&(u*=$,d*=$)}function T(){var $=Math.min((g||u)/u,(m||d)/d);$<1&&(u*=$,d*=$)}if(o&&(i=e.getTransformedOptions(n,i,a),b=i.left||0,N=i.top||0,i.sourceWidth?(j=i.sourceWidth,i.right!==void 0&&i.left===void 0&&(b=l-j-i.right)):j=l-b-(i.right||0),i.sourceHeight?(_=i.sourceHeight,i.bottom!==void 0&&i.top===void 0&&(N=c-_-i.bottom)):_=c-N-(i.bottom||0),u=j,d=_),g=i.maxWidth,m=i.maxHeight,f=i.minWidth,x=i.minHeight,o&&g&&m&&i.crop?(u=g,d=m,B=j/_-g/m,B<0?(_=m*j/g,i.top===void 0&&i.bottom===void 0&&(N=(c-_)/2)):B>0&&(j=g*_/m,i.left===void 0&&i.right===void 0&&(b=(l-j)/2))):((i.contain||i.cover)&&(f=g=g||f,x=m=m||x),i.cover?(T(),V()):(V(),T())),o){if(S=i.pixelRatio,S>1&&!(n.style.width&&Math.floor(parseFloat(n.style.width,10))===Math.floor(l/S))&&(u*=S,d*=S),e.orientationCropBug&&!n.getContext&&(b||N||j!==l||_!==c)&&(B=n,n=e.createCanvas(l,c,!0),e.drawImage(B,n,0,0,l,c,l,c,i)),C=i.downsamplingRatio,C>0&&C<1&&u<j&&d<_)for(;j*C>u;)Y=e.createCanvas(j*C,_*C,!0),e.drawImage(n,Y,b,N,j,_,Y.width,Y.height,i),b=0,N=0,j=Y.width,_=Y.height,n=Y;return Y=e.createCanvas(u,d),e.transformCoordinates(Y,i,a),S>1&&(Y.style.width=Y.width/S+"px"),e.drawImage(n,Y,b,N,j,_,u,d,i).setTransform(1,0,0,1,0,0),Y}return n.width=u,n.height=d,n}})})(rw);var DP=rw.exports,nw={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.global,n=e.transform,i=r.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a=r.ArrayBuffer&&ArrayBuffer.prototype.slice||function(d,g){g=g||this.byteLength-d;var m=new Uint8Array(this,d,g),f=new Uint8Array(g);return f.set(m),f.buffer},o={jpeg:{65505:[],65517:[]}};function l(d,g,m,f){var x=this;function j(_,b){if(!(r.DataView&&i&&d&&d.size>=12&&d.type==="image/jpeg"))return _(f);var N=m.maxMetaDataSize||262144;e.readFile(i.call(d,0,N),function(S){var C=new DataView(S);if(C.getUint16(0)!==65496)return b(new Error("Invalid JPEG file: Missing JPEG marker."));for(var B=2,Y=C.byteLength-4,V=B,T,$,Z,I;B<Y&&(T=C.getUint16(B),T>=65504&&T<=65519||T===65534);){if($=C.getUint16(B+2)+2,B+$>C.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if(Z=o.jpeg[T],Z&&!m.disableMetaDataParsers)for(I=0;I<Z.length;I+=1)Z[I].call(x,C,B,$,f,m);B+=$,V=B}!m.disableImageHead&&V>6&&(f.imageHead=a.call(S,0,V)),_(f)},b,"readAsArrayBuffer")||_(f)}return m=m||{},r.Promise&&typeof g!="function"?(m=g||{},f=m,new Promise(j)):(f=f||{},j(g,g))}function c(d,g,m){return!d||!g||!m?null:new Blob([m,i.call(d,g.byteLength)],{type:"image/jpeg"})}function u(d,g,m){var f={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!m&&r.Promise)return l(d,f).then(function(x){return c(d,x.imageHead,g)});l(d,function(x){m(c(d,x.imageHead,g))},f)}e.transform=function(d,g,m,f,x){e.requiresMetaData(g)?(x=x||{},l(f,function(j){j!==x&&(r.console&&console.log(j),j=x),n.call(e,d,g,m,f,j)},g,x)):n.apply(e,arguments)},e.blobSlice=i,e.bufferSlice=a,e.replaceHead=u,e.parseMetaData=l,e.metaDataParsers=o})})(nw);var Bm=nw.exports,TP={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.global;r.fetch&&r.Request&&r.Response&&r.Response.prototype.blob?e.fetchBlob=function(n,i,a){function o(l){return l.blob()}if(r.Promise&&typeof i!="function")return fetch(new Request(n,i)).then(o);fetch(new Request(n,a)).then(o).then(i).catch(function(l){i(null,l)})}:r.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(e.fetchBlob=function(n,i,a){function o(l,c){a=a||{};var u=new XMLHttpRequest;u.open(a.method||"GET",n),a.headers&&Object.keys(a.headers).forEach(function(d){u.setRequestHeader(d,a.headers[d])}),u.withCredentials=a.credentials==="include",u.responseType="blob",u.onload=function(){l(u.response)},u.onerror=u.onabort=u.ontimeout=function(d){l===c?c(null,d):c(d)},u.send(a.body)}return r.Promise&&typeof i!="function"?(a=i,new Promise(o)):o(i,i)})})})(TP);var iw={exports:{}};(function(t){(function(e){t.exports?e(gs,Bm):e(window.loadImage)})(function(e){function r(u){u&&(Object.defineProperty(this,"map",{value:this.ifds[u].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[u]||{}}))}r.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},r.prototype.ifds={ifd1:{name:"Thumbnail",map:r.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},r.prototype.get=function(u){return this[u]||this[this.map[u]]};function n(u,d,g){if(g){if(d+g>u.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return new Blob([e.bufferSlice.call(u.buffer,d,d+g)],{type:"image/jpeg"})}}var i={1:{getValue:function(u,d){return u.getUint8(d)},size:1},2:{getValue:function(u,d){return String.fromCharCode(u.getUint8(d))},size:1,ascii:!0},3:{getValue:function(u,d,g){return u.getUint16(d,g)},size:2},4:{getValue:function(u,d,g){return u.getUint32(d,g)},size:4},5:{getValue:function(u,d,g){return u.getUint32(d,g)/u.getUint32(d+4,g)},size:8},9:{getValue:function(u,d,g){return u.getInt32(d,g)},size:4},10:{getValue:function(u,d,g){return u.getInt32(d,g)/u.getInt32(d+4,g)},size:8}};i[7]=i[1];function a(u,d,g,m,f,x){var j=i[m],_,b,N,S,C,B;if(!j){console.log("Invalid Exif data: Invalid tag type.");return}if(_=j.size*f,b=_>4?d+u.getUint32(g+8,x):g+8,b+_>u.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(f===1)return j.getValue(u,b,x);for(N=[],S=0;S<f;S+=1)N[S]=j.getValue(u,b+S*j.size,x);if(j.ascii){for(C="",S=0;S<N.length&&(B=N[S],B!=="\0");S+=1)C+=B;return C}return N}function o(u,d,g){return(!u||u[g])&&(!d||d[g]!==!0)}function l(u,d,g,m,f,x,j,_){var b,N,S,C,B,Y;if(g+6>u.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}if(b=u.getUint16(g,m),N=g+2+12*b,N+4>u.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(S=0;S<b;S+=1)C=g+2+12*S,B=u.getUint16(C,m),o(j,_,B)&&(Y=a(u,d,C,u.getUint16(C+2,m),u.getUint32(C+4,m),m),f[B]=Y,x&&(x[B]=C));return u.getUint32(N,m)}function c(u,d,g,m,f,x,j){var _=u.exif[d];_&&(u.exif[d]=new r(d),u.exifOffsets&&(u.exifOffsets[d]=new r(d)),l(g,m,m+_,f,u.exif[d],u.exifOffsets&&u.exifOffsets[d],x&&x[d],j&&j[d]))}e.parseExifData=function(u,d,g,m,f){if(!f.disableExif){var x=f.includeExifTags,j=f.excludeExifTags||{34665:{37500:!0}},_=d+10,b,N,S;if(u.getUint32(d+4)===1165519206){if(_+8>u.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(u.getUint16(d+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(u.getUint16(_)){case 18761:b=!0;break;case 19789:b=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(u.getUint16(_+2,b)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}N=u.getUint32(_+4,b),m.exif=new r,f.disableExifOffsets||(m.exifOffsets=new r,m.exifTiffOffset=_,m.exifLittleEndian=b),N=l(u,_,_+N,b,m.exif,m.exifOffsets,x,j),N&&o(x,j,"ifd1")&&(m.exif.ifd1=N,m.exifOffsets&&(m.exifOffsets.ifd1=_+N)),Object.keys(m.exif.ifds).forEach(function(C){c(m,C,u,_,b,x,j)}),S=m.exif.ifd1,S&&S[513]&&(S[513]=n(u,_+S[513],S[514]))}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(u,d,g){var m=d.exifOffsets[274];if(!m)return u;var f=new DataView(u,m+8,2);return f.setUint16(0,g,d.exifLittleEndian),u}},e.writeExifData=function(u,d,g,m){return e.exifWriters[d.exif.map[g]](u,d,m)},e.ExifMap=r})})(iw);var IP=iw.exports,RP={exports:{}};(function(t){(function(e){t.exports?e(gs,IP):e(window.loadImage)})(function(e){var r=e.ExifMap.prototype;r.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},r.tags.ifd1=r.tags,r.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180 CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90 CW",6:"Rotate 90 CW",7:"Horizontal flip + Rotate 90 CW",8:"Rotate 90 CCW"}},r.getText=function(n){var i=this.get(n);switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[n][i];case"ExifVersion":case"FlashpixVersion":return i?String.fromCharCode(i[0],i[1],i[2],i[3]):void 0;case"ComponentsConfiguration":return i?this.stringValues[n][i[0]]+this.stringValues[n][i[1]]+this.stringValues[n][i[2]]+this.stringValues[n][i[3]]:void 0;case"GPSVersionID":return i?i[0]+"."+i[1]+"."+i[2]+"."+i[3]:void 0}return String(i)},r.getAll=function(){var n={},i,a,o;for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&(a=this[i],a&&a.getAll?n[this.ifds[i].name]=a.getAll():(o=this.tags[i],o&&(n[o]=this.getText(o))));return n},r.getName=function(n){var i=this.tags[n];return typeof i=="object"?this.ifds[n].name:i},function(){var n=r.tags,i,a,o;for(i in n)if(Object.prototype.hasOwnProperty.call(n,i))if(a=r.ifds[i],a){o=n[i];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a.map[o[i]]=Number(i))}else r.map[n[i]]=Number(i)}()})})(RP);var aw={exports:{}};(function(t){(function(e){t.exports?e(gs,Bm):e(window.loadImage)})(function(e){function r(){}r.prototype.map={ObjectName:5},r.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},r.prototype.get=function(u){return this[u]||this[this.map[u]]};function n(u,d,g){for(var m="",f=d+g,x=d;x<f;x+=1)m+=String.fromCharCode(u.getUint8(x));return m}function i(u,d,g,m,f){return d.types[u]==="binary"?new Blob([g.buffer.slice(m,m+f)]):d.types[u]==="Uint16"?g.getUint16(m):n(g,m,f)}function a(u,d){return u===void 0?d:u instanceof Array?(u.push(d),u):[u,d]}function o(u,d,g,m,f,x){for(var j,_,b,N=d+g,S=d;S<N;)u.getUint8(S)===28&&u.getUint8(S+1)===2&&(b=u.getUint8(S+2),(!f||f[b])&&(!x||!x[b])&&(_=u.getInt16(S+3),j=i(b,m.iptc,u,S+5,_),m.iptc[b]=a(m.iptc[b],j),m.iptcOffsets&&(m.iptcOffsets[b]=S))),S+=1}function l(u,d){return u.getUint32(d)===943868237&&u.getUint16(d+4)===1028}function c(u,d){var g=u.getUint8(d+7);return g%2!==0&&(g+=1),g===0&&(g=4),g}e.parseIptcData=function(u,d,g,m,f){if(!f.disableIptc)for(var x=d+g;d+8<x;){if(l(u,d)){var j=c(u,d),_=d+8+j;if(_>x){console.log("Invalid IPTC data: Invalid segment offset.");break}var b=u.getUint16(d+6+j);if(d+b>x){console.log("Invalid IPTC data: Invalid segment size.");break}m.iptc=new r,f.disableIptcOffsets||(m.iptcOffsets=new r),o(u,_,b,m,f.includeIptcTags,f.excludeIptcTags||{202:!0});return}d+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=r})})(aw);var OP=aw.exports,BP={exports:{}};(function(t){(function(e){t.exports?e(gs,OP):e(window.loadImage)})(function(e){var r=e.IptcMap.prototype;r.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},r.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},r.getText=function(n){var i=this.get(n),a=this.map[n],o=this.stringValues[a];return o?o[i]:String(i)},r.getAll=function(){var n={},i,a;for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&(a=this.tags[i],a&&(n[a]=this.getText(a)));return n},r.getName=function(n){return this.tags[n]},function(){var n=r.tags,i=r.map||{},a;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[n[a]]=Number(a))}()})})(BP);var MP={exports:{}};(function(t){(function(e){t.exports?e(gs,DP,Bm):e(window.loadImage)})(function(e){var r=e.transform,n=e.requiresCanvas,i=e.requiresMetaData,a=e.transformCoordinates,o=e.getTransformedOptions;(function(d){if(d.global.document){var g="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=",m=document.createElement("img");m.onload=function(){if(d.orientation=m.width===2&&m.height===3,d.orientation){var f=d.createCanvas(1,1,!0),x=f.getContext("2d");x.drawImage(m,1,1,1,1,0,0,1,1),d.orientationCropBug=x.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},m.src=g}})(e);function l(d,g){var m=d&&d.orientation;return m===!0&&!e.orientation||m===1&&e.orientation||(!g||e.orientation)&&m>1&&m<9}function c(d,g){return d!==g&&(d===1&&g>1&&g<9||d>1&&d<9)}function u(d,g){if(g>1&&g<9)switch(d){case 2:case 4:return g>4;case 5:case 7:return g%2===0;case 6:case 8:return g===2||g===4||g===5||g===7}return!1}e.requiresCanvas=function(d){return l(d)||n.call(e,d)},e.requiresMetaData=function(d){return l(d,!0)||i.call(e,d)},e.transform=function(d,g,m,f,x){r.call(e,d,g,function(j,_){if(_){var b=e.orientation&&_.exif&&_.exif.get("Orientation");if(b>4&&b<9){var N=_.originalWidth,S=_.originalHeight;_.originalWidth=S,_.originalHeight=N}}m(j,_)},f,x)},e.getTransformedOptions=function(d,g,m){var f=o.call(e,d,g),x=m.exif&&m.exif.get("Orientation"),j=f.orientation,_=e.orientation&&x;if(j===!0&&(j=x),!c(j,_))return f;var b=f.top,N=f.right,S=f.bottom,C=f.left,B={};for(var Y in f)Object.prototype.hasOwnProperty.call(f,Y)&&(B[Y]=f[Y]);if(B.orientation=j,(j>4&&!(_>4)||j<5&&_>4)&&(B.maxWidth=f.maxHeight,B.maxHeight=f.maxWidth,B.minWidth=f.minHeight,B.minHeight=f.minWidth,B.sourceWidth=f.sourceHeight,B.sourceHeight=f.sourceWidth),_>1){switch(_){case 2:N=f.left,C=f.right;break;case 3:b=f.bottom,N=f.left,S=f.top,C=f.right;break;case 4:b=f.bottom,S=f.top;break;case 5:b=f.left,N=f.bottom,S=f.right,C=f.top;break;case 6:b=f.left,N=f.top,S=f.right,C=f.bottom;break;case 7:b=f.right,N=f.top,S=f.left,C=f.bottom;break;case 8:b=f.right,N=f.bottom,S=f.left,C=f.top;break}if(u(j,_)){var V=b,T=N;b=S,N=C,S=V,C=T}}switch(B.top=b,B.right=N,B.bottom=S,B.left=C,j){case 2:B.right=C,B.left=N;break;case 3:B.top=S,B.right=C,B.bottom=b,B.left=N;break;case 4:B.top=S,B.bottom=b;break;case 5:B.top=C,B.right=S,B.bottom=N,B.left=b;break;case 6:B.top=N,B.right=S,B.bottom=C,B.left=b;break;case 7:B.top=N,B.right=b,B.bottom=C,B.left=S;break;case 8:B.top=C,B.right=b,B.bottom=N,B.left=S;break}return B},e.transformCoordinates=function(d,g,m){a.call(e,d,g,m);var f=g.orientation,x=e.orientation&&m.exif&&m.exif.get("Orientation");if(c(f,x)){var j=d.getContext("2d"),_=d.width,b=d.height,N=_,S=b;switch((f>4&&!(x>4)||f<5&&x>4)&&(d.width=b,d.height=_),f>4&&(N=b,S=_),x){case 2:j.translate(N,0),j.scale(-1,1);break;case 3:j.translate(N,S),j.rotate(Math.PI);break;case 4:j.translate(0,S),j.scale(1,-1);break;case 5:j.rotate(-.5*Math.PI),j.scale(-1,1);break;case 6:j.rotate(-.5*Math.PI),j.translate(-N,0);break;case 7:j.rotate(-.5*Math.PI),j.translate(-N,S),j.scale(1,-1);break;case 8:j.rotate(.5*Math.PI),j.translate(0,-S);break}switch(u(f,x)&&(j.translate(N,S),j.rotate(Math.PI)),f){case 2:j.translate(_,0),j.scale(-1,1);break;case 3:j.translate(_,b),j.rotate(Math.PI);break;case 4:j.translate(0,b),j.scale(1,-1);break;case 5:j.rotate(.5*Math.PI),j.scale(1,-1);break;case 6:j.rotate(.5*Math.PI),j.translate(0,-b);break;case 7:j.rotate(.5*Math.PI),j.translate(_,-b),j.scale(-1,1);break;case 8:j.rotate(-.5*Math.PI),j.translate(-_,0);break}}}})})(MP);var UP=gs;const Ua=Mb(UP),Zn=()=>{const t=v.useRef(null),e=v.useRef(!1),r=v.useRef(0),n=v.useRef(0),i=v.useRef(0),a=v.useRef(0),o=g=>{if(!t.current)return;const m=g.target;m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.tagName==="SELECT"||m.tagName==="BUTTON"||m.closest("input")||m.closest("textarea")||m.closest("select")||m.closest("button")||(e.current=!0,r.current=g.pageX-t.current.offsetLeft,n.current=g.pageY-t.current.offsetTop,i.current=t.current.scrollLeft,a.current=t.current.scrollTop,t.current.style.cursor="grabbing",t.current.style.userSelect="none")},l=g=>{if(!e.current||!t.current)return;const m=g.target;m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.tagName==="SELECT"||m.tagName==="BUTTON"||m.closest("input")||m.closest("textarea")||m.closest("select")||m.closest("button")||g.preventDefault();const f=g.pageX-t.current.offsetLeft,x=g.pageY-t.current.offsetTop,j=(f-r.current)*2,_=(x-n.current)*2;t.current.scrollLeft=i.current-j,t.current.scrollTop=a.current-_},c=()=>{t.current&&(e.current&&(t.current.style.userSelect=""),e.current=!1,t.current.style.cursor="grab")},u=()=>{t.current&&(e.current&&(t.current.style.userSelect=""),e.current=!1,t.current.style.cursor="grab")};return g=>{g?(t.current=g,g.addEventListener("mousedown",o),g.addEventListener("mousemove",l),g.addEventListener("mouseup",c),g.addEventListener("mouseleave",u),g.style.cursor="grab"):t.current&&(t.current.removeEventListener("mousedown",o),t.current.removeEventListener("mousemove",l),t.current.removeEventListener("mouseup",c),t.current.removeEventListener("mouseleave",u))}},ta=({message:t="Loading..."})=>(console.log("CircleLoading component is rendering"),v.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(2px)"},children:s.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #22c55e",borderRadius:"20px",padding:"40px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",gap:"25px",minWidth:"300px"},children:[s.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid rgba(34, 197, 94, 0.2)",borderTop:"6px solid #22c55e",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:"#22c55e",fontWeight:"600",fontSize:"16px",textAlign:"center",animation:"pulse 2s ease-in-out infinite"},children:t})]})}));function qP(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState([]),[i,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,g]=v.useState(""),[m,f]=v.useState(null),[x,j]=v.useState(null),[_,b]=v.useState(""),[N,S]=v.useState(null),[C,B]=v.useState(""),Y="Algerian Judo Federation",V="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[T,$]=v.useState(null),[Z,I]=v.useState([]),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(""),[Re,oe]=v.useState(""),[E,U]=v.useState(""),[Q,ce]=v.useState(""),[_e,Ce]=v.useState(""),[Be,ke]=v.useState(""),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(null),[kt,Pt]=v.useState(""),[We,Me]=v.useState(""),[ht,lt]=v.useState(""),[_t,Lt]=v.useState([]),[Ot,nt]=v.useState([]),[yt,Bt]=v.useState([]),[gt,Nt]=v.useState((t==null?void 0:t.club_id)??""),[St,Ft]=v.useState((t==null?void 0:t.league_id)??""),[wt,Qt]=v.useState((t==null?void 0:t.club_id)||""),[Pe,me]=v.useState((t==null?void 0:t.league_id)||""),[De,ut]=v.useState(null),[$e,ze]=v.useState({}),[Jt,Ut]=v.useState(null),[qt,Mt]=v.useState(""),Fe=Zn(),[z,Ee]=v.useState(!1),[st,tt]=v.useState(!1),bt=F=>F?F.startsWith("http")?F:`${V}${F}`:null;function tr(F){return new Promise((se,k)=>{Ua(F,K=>{if(K.type==="error")console.warn("EXIF processing failed, using original image:",F),se(F);else try{const ue=K.toDataURL("image/png");se(ue)}catch(ue){console.warn("Canvas conversion failed, using original image:",ue),se(F)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Gt=async()=>{try{a(!0),u(null);const{data:F}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(F!=null&&F.length&&f(bt(F[0].logo_url)),St){const{data:ue}=await ae.from("nameleague").select("name_league").eq("id",St).single();ue&&b(ue.name_league);const{data:xe}=await ae.from("league_members").select("logo_url").eq("league_id",St).order("id",{ascending:!1}).limit(1);xe!=null&&xe.length&&j(bt(xe[0].logo_url))}if(gt){const{data:ue}=await ae.from("nameclub").select("name_club, id").eq("id",gt).single();ue&&B(ue.name_club);const{data:xe}=await ae.from("club_members").select("logo_url").eq("club_id",gt).order("id",{ascending:!1}).limit(1);xe!=null&&xe.length&&S(bt(xe[0].logo_url))}if(t!=null&&t.member_id){const{data:ue}=await ae.from("club_members").select("*").eq("id",t.member_id).single();ue&&$(ue)}if(gt&&St){const{data:ue}=await ae.from("athletes").select("*").eq("club_id",gt).eq("league_id",St).order("id",{ascending:!0});n(ue||[])}else n([]);const[{data:se},{data:k},{data:K}]=await Promise.all([ae.from("nameclub").select("id, name_club"),ae.from("nameleague").select("id, name_league"),ae.from("clubrole").select("*")]);se&&nt(se),k&&Bt(k),K&&I(K)}catch(F){console.error("fetchData error",F),u(F)}finally{a(!1)}};v.useEffect(()=>{t!=null&&t.club_id&&Nt(t.club_id),t!=null&&t.league_id&&Ft(t.league_id),Gt()},[t,gt,St]),v.useEffect(()=>{let F=!0;return(async()=>{try{const k=gt||wt||(T==null?void 0:T.club_id);if(!k){F&&Ee(!1);return}const{data:K,error:ue}=await ae.from("club_members").select("id, role, confirmation, year").eq("club_id",k).ilike("role","%president of the club%").limit(1);if(ue){console.error("deriveDisabled error",ue),F&&Ee(!1);return}const xe=Array.isArray(K)?K[0]:null,Se=xe?String(xe.confirmation).trim().toLowerCase()!=="true":!1,Te=new Date().getFullYear(),Ze=`${Te}/${Te+1}`,pt=xe?String(xe.year||"").trim()!==Ze:!1;F&&(Ee(Se||pt),tt(pt))}catch(k){console.error("deriveDisabled exception",k),F&&Ee(!1)}})(),()=>{F=!1}},[gt,wt,T,Z]),v.useEffect(()=>{(async()=>{if(!(!kt||!We))try{const{data:se,error:k}=await ae.from("categories").select("weight").eq("genres",kt).eq("categories",We);k?console.error("Erreur rcupration poids:",k.message):Lt(se.map(K=>K.weight))}catch(se){console.error("Erreur inconnue:",se)}})()},[kt,We]),v.useEffect(()=>{(async()=>{if(!(!$e.genres||!$e.categories))try{const{data:se,error:k}=await ae.from("categories").select("weight").eq("genres",$e.genres).eq("categories",$e.categories);k?console.error("Erreur rcupration poids:",k.message):Lt(se.map(K=>K.weight))}catch(se){console.error("Erreur inconnue:",se)}})()},[$e.genres,$e.categories]);const vr=async(F,se)=>{const{data:k}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",F).eq("year",se);if(k&&k.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:K}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",F);return(K||0)+1},te=async()=>{if(!Oe)return null;const F=Oe.name.split(".").pop(),se=`athlete-${Date.now()}.${F}`,{error:k}=await ae.storage.from("logos").upload(se,Oe);if(k)return console.error("upload error",k),null;const{data:K}=ae.storage.from("logos").getPublicUrl(se);return(K==null?void 0:K.publicUrl)??null};v.useEffect(()=>{ti()},[]);const ee=async F=>{if(F.preventDefault(),u(""),g(""),l(!0),!M||!G){u("First name and Last name are required."),l(!1);return}if(!/^\d{18}$/.test(Q)){u("National ID (NID) must be exactly 18 digits."),l(!1);return}if(_e!==Be){u("Passwords do not match."),l(!1);return}if(!Pe&&!St){u("League must be selected or provided in state."),l(!1);return}if(!wt&&!gt){u("Club must be selected or provided in state."),l(!1);return}const se=It(ve,We);if(!se.isValid){u(se.message),l(!1);return}if(G&&_e){const{data:ue}=await ae.from("athletes").select("*").eq("password",_e);if(ue&&ue.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}const k=new Date().getFullYear(),K=`${k}/${k+1}`;try{const{data:ue,error:xe}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",Q).eq("year",K);if(xe)throw xe;if(ue&&ue.length>0){u("An athlete with this National ID is already registered for this season."),l(!1);return}}catch(ue){u(ue.message||String(ue)),l(!1);return}try{const ue=await te(),xe=new Date().getFullYear(),Se=`${xe}/${xe+1}`;let Te;try{Te=await vr(Q,Se)}catch(Et){u(Et.message),setSubmitLoading(!1);return}const Ze={last_name:G,first_name:M,date_of_birth:ve,place_of_birth:ne,role:Re,blood_type:E,national_id_number:Q,password:_e,license_number:`ATH-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:ue,nationality:He,grade:ot,renewal:Te,confirmation:!1,genres:kt,categories:We,weight:ht,league_id:St,club_id:gt,year:Se},{error:pt}=await ae.from("athletes").insert([Ze]);if(pt)throw pt;g("Athlete added successfully."),de(""),H(""),Le(""),ye(""),oe(""),U(""),ce(""),Ce(""),ke(""),le(null),Ke(""),Ge(""),Pt(""),Me(""),lt(""),await Gt()}catch(ue){console.error("handleSubmit error",ue),u((ue==null?void 0:ue.message)||String(ue))}finally{l(!1)}},we=F=>{ut(F.id),ze({...F})},Je=()=>{ut(null),ze({})},It=(F,se)=>{if(!F||!se)return{isValid:!1,message:"Date of birth and category are required."};const k=new Date(F),K=new Date,ue=K.getFullYear()-k.getFullYear()-(K.getMonth()<k.getMonth()||K.getMonth()===k.getMonth()&&K.getDate()<k.getDate()?1:0),Se={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[se];return Se?ue<Se.min||ue>Se.max?se==="Veterans"?{isValid:!1,message:`For ${se} category, athlete must be more than 35 years old. Current age: ${ue}`}:{isValid:!1,message:`For ${se} category, athlete must be between ${Se.min} and ${Se.max} years old. Current age: ${ue}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${se}`}},Rt=async()=>{l(!0);const F=It($e.date_of_birth,$e.categories);if(!F.isValid){l(!1),u(F.message);return}const{error:se}=await ae.from("athletes").update({last_name:$e.last_name,first_name:$e.first_name,date_of_birth:$e.date_of_birth,place_of_birth:$e.place_of_birth,role:$e.role,blood_type:$e.blood_type,nationality:$e.nationality,grade:$e.grade,categories:$e.categories,weight:$e.weight,genres:$e.genres}).eq("id",De);se?(l(!1),u("Update failed: "+se.message)):(await Gt(),Je(),l(!1),g("Athlete updated successfully!"))},Xe=async F=>{F&&typeof F.preventDefault=="function"&&F.preventDefault();try{await Rt()}catch(se){u((se==null?void 0:se.message)||String(se))}},ir=async F=>{try{const{data:se,error:k}=await ae.from("athletes").select("id, registration_date, confirmation").eq("id",F).single();if(k)throw k;const K=new Date().toISOString().split("T")[0];if(!(se!=null&&se.registration_date)||se.registration_date!==K){u("Deletion allowed only on the same day of registration.");return}if(se!=null&&se.confirmation){u("You cannot delete on the same day if the athlete is confirmed.");return}if(!window.confirm("Delete this athlete?"))return;const{error:ue}=await ae.from("athletes").delete().eq("id",F);if(ue)throw ue;g("Athlete deleted successfully."),typeof Gt=="function"&&await Gt()}catch(se){console.error("deleteAthlete error",se),u((se==null?void 0:se.message)||"Error deleting athlete")}},L=F=>{if(!F||Object.keys(F).length===0){alert("No data available to export");return}A(F)},A=async F=>{let se=null,k=null;try{if(F.club_id){const Tt=(await Tn()).find(Zt=>Zt.id===F.club_id);se=Tt==null?void 0:Tt.name_club}if(F.league_id){const Tt=(await Xn()).find(Zt=>Zt.id===F.league_id);k=Tt==null?void 0:Tt.name_league}}catch(rt){console.error("Error fetching names:",rt)}const K=new At("portrait","mm","a4");K.setFontSize(18),K.setTextColor(40,40,40),K.text("Algerian Judo Federation",14,15);const ue=`Athlete Information - ${F.first_name} ${F.last_name}`;K.setFontSize(16),K.setTextColor(40,40,40),K.text(ue,14,30),K.setFontSize(10);const xe=new Date().toLocaleString();if(K.text(`Generated: ${xe}`,14,37),m)try{K.addImage(m,"PNG",170,10,25,25)}catch(rt){console.error("Error adding logo to PDF:",rt)}let Se=70;if(F.photos_url)try{const rt=await tr(F.photos_url),Tt=rt.startsWith("data:")?"PNG":"JPEG";K.addImage(rt,Tt,14,45,25,20),Se=70}catch(rt){console.error("Error adding photo to PDF:",rt);try{K.addImage(F.photos_url,"JPEG",14,45,25,20)}catch(Tt){console.error("Fallback image addition also failed:",Tt)}Se=70}K.setFontSize(12),F.confirmation?K.setTextColor(0,128,0):K.setTextColor(255,0,0);const Te=F.confirmation?"CONFIRMED ":"NOT CONFIRMED ";K.text(Te,160,50);const Ze=["last_name","first_name","date_of_birth","place_of_birth","role","blood_type","national_id_number","nationality","grade","genres","categories","weight","license_number","registration_date","year","renewal"],pt={last_name:"Last Name",first_name:"First Name",date_of_birth:"Date of Birth",place_of_birth:"Place of Birth",national_id_number:"National ID",license_number:"License Number",registration_date:"Registration Date"},Et=Ze.map(rt=>[pt[rt]||rt.charAt(0).toUpperCase()+rt.slice(1).replace(/_/g," "),F[rt]||""]);yr(K,{startY:Se,head:[["Field","Value"]],body:Et,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Qe=K.lastAutoTable.finalY||200;if(K.setFontSize(12),K.setTextColor(0,0,0),K.text("Medical certificate",14,Qe+20),K.setDrawColor(0),K.line(14,Qe+40,80,Qe+40),K.setFontSize(10),F.club_id||C){const rt=C||se||`ID: ${F.club_id}`;K.text(`Club: ${rt}`,14,Qe+60),K.text("Club Visa: _________________",14,Qe+70)}if(F.league_id||_){const rt=_||k||`ID: ${F.league_id}`;K.text(`League: ${rt}`,120,Qe+60),K.text("League Visa: _________________",120,Qe+70)}try{const rt=JSON.stringify({id:F.id,name:`${F.first_name||""} ${F.last_name||""}`.trim(),license:F.license_number||"",club_id:F.club_id||"",league_id:F.league_id||"",confirmation:F.confirmation||"Unconfirmed"}),Tt=await ui.toDataURL(rt,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});K.addImage(Tt,"PNG",180,Qe+75,15,15)}catch(rt){console.error("Error generating QR code:",rt)}const ft=`athlete_${F.first_name}_${F.last_name}_${F.id||"record"}.pdf`;K.save(ft)},J=async()=>{if(!pe||pe.length===0){alert("No athletes data available to export");return}const F=new At("landscape","mm","a4"),se=F.internal.pageSize.getWidth(),k=new Date().getFullYear(),K=new Date().toLocaleDateString();let ue={},xe={};try{ue=await Tn(),xe=await Xn()}catch(Qe){console.error("Error fetching club/league names:",Qe)}const Se=()=>{if(F.setFontSize(10),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`Date: ${K}`,14,15),F.setFontSize(16),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text("Algerian Judo Federation",se/2,15,{align:"center"}),m)try{F.addImage(m,"PNG",se-40,5,25,25)}catch(Qe){console.error("Error adding logo to PDF:",Qe)}F.setFontSize(14),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`League: ${_||"Unknown League"}`,se/2,30,{align:"center"}),F.setFontSize(14),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`Club: ${C||"Unknown Club"}`,se/2,37,{align:"center"}),F.setFontSize(14),F.setFont("helvetica","bold"),F.setTextColor(220,53,69),F.text("Athletes Members - Category Situation",se/2,47,{align:"center"})},Te=Qe=>Qe.sort((rt,Tt)=>{const Zt=new Date(rt.date_of_birth||"1900-01-01"),er=new Date(Tt.date_of_birth||"1900-01-01");return Zt-er}).map(rt=>[ie(rt.last_name||""),ie(rt.first_name||""),ie(rt.date_of_birth||""),ie(rt.place_of_birth||""),ie(rt.blood_type||""),ie(rt.nationality||""),ie(rt.grade||""),ie(rt.genres||""),ie(rt.categories||""),ie(rt.weight||""),ie(rt.national_id_number||""),rt.confirmation?"Yes":"No",ie(rt.license_number||"")]),Ze={};pe.forEach(Qe=>{const ft=Qe.year||"Unknown Year",rt=Qe.club_id,Tt=rt?ue[rt]||`Club ID: ${rt}`:"Unknown Club",Zt=Qe.categories||"Uncategorized",er=Qe.genres||"Unspecified",gr=Qe.weight||"Unspecified";Ze[ft]||(Ze[ft]={}),Ze[ft][Tt]||(Ze[ft][Tt]={}),Ze[ft][Tt][Zt]||(Ze[ft][Tt][Zt]={}),Ze[ft][Tt][Zt][er]||(Ze[ft][Tt][Zt][er]={}),Ze[ft][Tt][Zt][er][gr]||(Ze[ft][Tt][Zt][er][gr]=[]),Ze[ft][Tt][Zt][er][gr].push(Qe)}),Se();let pt=50,Et=!0;for(const[Qe,ft]of Object.entries(Ze)){pt>180&&!Et&&(F.addPage(),Se(),pt=50),F.setFontSize(13),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`Year: ${Qe}`,14,pt),pt+=15;for(const[rt,Tt]of Object.entries(ft))for(const[Zt,er]of Object.entries(Tt)){pt>210&&(F.addPage(),Se(),pt=50,F.setFontSize(13),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`Year: ${Qe}`,14,pt),pt+=15,F.setFontSize(12),F.text(`  Club: ${rt}`,20,pt),pt+=12),F.setFontSize(11),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`    Club: ${rt} - Category: ${Zt}`,26,pt),pt+=10;for(const[gr,ar]of Object.entries(er)){pt>220&&(F.addPage(),Se(),pt=50,F.setFontSize(13),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`Year: ${Qe}`,14,pt),pt+=15,F.setFontSize(11),F.text(`    Club: ${rt} - Category: ${Zt}`,26,pt),pt+=10);for(const[nn,jr]of Object.entries(ar)){pt>230&&(F.addPage(),Se(),pt=50,F.setFontSize(13),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`Year: ${Qe}`,14,pt),pt+=15,F.setFontSize(11),F.text(`    Club: ${rt} - Category: ${Zt}`,26,pt),pt+=10),F.setFontSize(10),F.setTextColor(0,0,0),F.setFont(void 0,"bold"),F.text(`      Gender: ${gr} - Weight: ${nn}`,32,pt),pt+=8;const dr=Te(jr);yr(F,{startY:pt,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:dr,theme:"grid",headStyles:{fillColor:[40,167,69],textColor:[255,255,255],fontSize:6},styles:{fontSize:5,overflow:"linebreak"},margin:{left:44},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}}}),pt=F.lastAutoTable.finalY+8,Et=!1}pt+=3}pt+=5}pt+=12}F.save(`athletes_hierarchical_${k}.pdf`)},ie=F=>F?String(F).replace(/=U/g,"").replace(/<a/g,"").replace(/=Ud/g,"").replace(/-/g,"").replace(/-d/g,"").replace(/<a/g,"").replace(/</g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(/ /g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").trim():"",Ne=(F,se,k,K)=>{const ue=F.internal.pageSize.getWidth();if(m)try{F.addImage(m,"PNG",ue-40,15,25,25)}catch(Te){console.warn("Could not add federation logo:",Te)}const xe=new Date().toLocaleDateString();F.setFontSize(10),F.setFont("helvetica","normal"),F.text(`Print Date: ${xe}`,15,20),F.setFontSize(16),F.setFont("helvetica","bold"),F.text(ie(se),ue/2,25,{align:"center"});let Se=40;return k&&(F.setFontSize(12),F.setFont("helvetica","normal"),F.text(`League: ${ie(k)}`,ue/2,Se,{align:"center"}),Se+=15),K&&(F.setFontSize(12),F.setFont("helvetica","normal"),F.text(`Club: ${ie(K)}`,ue/2,Se,{align:"center"}),Se+=15),Se+2},et=async()=>{if(!wt&&!Pe){u("No club or league selected");return}try{let F=[];if(wt){const{data:Te,error:Ze}=await ae.from("athletes").select("*").eq("club_id",wt);if(Ze)throw Ze;F=Te||[]}else if(Pe){const{data:Te,error:Ze}=await ae.from("athletes").select("*").eq("league_id",Pe);if(Ze)throw Ze;F=Te||[]}if(!F||F.length===0){u("No athletes found");return}const se=new At("landscape");let k=Ne(se,Y,_,C);se.setFontSize(14),se.setFont("helvetica","bold"),se.setTextColor(255,0,0),se.text("Athletes - General Situation",se.internal.pageSize.getWidth()/2,k,{align:"center"}),se.setTextColor(0,0,0),k+=20;const K={};F.forEach(Te=>{const Ze=Te.year||"Unknown Year";K[Ze]||(K[Ze]=[]),K[Ze].push(Te)});const ue=Object.keys(K).sort();for(const Te of ue){const pt=K[Te].sort((Qe,ft)=>{const rt=new Date(Qe.date_of_birth||"1900-01-01"),Tt=new Date(ft.date_of_birth||"1900-01-01");return rt-Tt});se.setFontSize(14),se.setFont("helvetica","bold"),se.setTextColor(0,0,0),se.text(`Year: ${Te}`,20,k),k+=15;const Et=pt.map(Qe=>[ie(Qe.last_name||""),ie(Qe.first_name||""),ie(Qe.date_of_birth||""),ie(Qe.place_of_birth||""),ie(Qe.blood_type||""),ie(Qe.nationality||""),ie(Qe.grade||""),ie(Qe.genres||""),ie(Qe.categories||""),ie(Qe.weight||""),ie(Qe.national_id_number||""),Qe.confirmation?"Yes":"No",ie(Qe.license_number||"")]);yr(se,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:Et,startY:k,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(Qe){Qe.pageNumber>1&&Ne(se,Y,_,C)}}),k=se.lastAutoTable.finalY+20,k>se.internal.pageSize.getHeight()-50&&(se.addPage(),k=Ne(se,Y,_,C))}const xe=new Date().getFullYear(),Se=_||C||"athletes";se.save(`${ie(Se)}_general_athletes_${xe}.pdf`)}catch(F){console.error("Error exporting general PDF:",F),u("Error exporting PDF. Please try again.")}},D=async()=>{if(!wt&&!Pe){u("No club or league selected");return}try{let F=[];if(wt){const{data:Te,error:Ze}=await ae.from("athletes").select("*").eq("club_id",wt);if(Ze)throw Ze;F=Te||[]}else if(Pe){const{data:Te,error:Ze}=await ae.from("athletes").select("*").eq("league_id",Pe);if(Ze)throw Ze;F=Te||[]}if(!F||F.length===0){u("No athletes found");return}const se=new At("landscape");let k=Ne(se,Y,_,C);se.setFontSize(14),se.setFont("helvetica","bold"),se.setTextColor(255,0,0),se.text("Athletes - Grade and Role Situation",se.internal.pageSize.getWidth()/2,k,{align:"center"}),se.setTextColor(0,0,0),k+=20,se.setFontSize(12),se.setFont("helvetica","bold"),se.text("SECTION GRADE",20,k),k+=15;const K={};F.forEach(Te=>{const Ze=Te.year||"Unknown Year",pt=Te.grade||"Unknown Grade";K[Ze]||(K[Ze]={}),K[Ze][pt]||(K[Ze][pt]=[]),K[Ze][pt].push(Te)});const ue=Object.keys(K).sort();for(const Te of ue){const Ze=K[Te];se.setFontSize(14),se.setFont("helvetica","bold"),se.setTextColor(0,0,0),se.text(`Year: ${Te}`,20,k),k+=15;const pt=Object.keys(Ze).sort();for(const Et of pt){const ft=Ze[Et].sort((Tt,Zt)=>{const er=new Date(Tt.date_of_birth||"1900-01-01"),gr=new Date(Zt.date_of_birth||"1900-01-01");return er-gr});se.setFontSize(12),se.setFont("helvetica","bold"),se.text(`Grade: ${Et}`,30,k),k+=10;const rt=ft.map(Tt=>[ie(Tt.last_name||""),ie(Tt.first_name||""),ie(Tt.date_of_birth||""),ie(Tt.place_of_birth||""),ie(Tt.blood_type||""),ie(Tt.nationality||""),ie(Tt.genres||""),ie(Tt.categories||""),ie(Tt.weight||""),ie(Tt.national_id_number||""),Tt.confirmation?"Yes":"No",ie(Tt.license_number||"")]);yr(se,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Gender","Category","Weight","NID","Confirmation","License #"]],body:rt,startY:k,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(Tt){Tt.pageNumber>1&&Ne(se,Y,_,C)}}),k=se.lastAutoTable.finalY+15,k>se.internal.pageSize.getHeight()-80&&(se.addPage(),k=Ne(se,Y,_,C),k+=20)}k+=10}const xe=new Date().getFullYear(),Se=_||C||"athletes";se.save(`${ie(Se)}_grade_role_athletes_${xe}.pdf`)}catch(F){console.error("Error exporting grade role PDF:",F),u("Error exporting PDF. Please try again.")}},be=["Algerian","Tunisian"],pe=r.filter(F=>{var k,K;const se=qt.toLowerCase();return(((k=F.first_name)==null?void 0:k.toLowerCase())??"").includes(se)||(((K=F.last_name)==null?void 0:K.toLowerCase())??"").includes(se)||(F.national_id_number??"").includes(se)});return v.useEffect(()=>{const F=setTimeout(()=>{},300);return()=>clearTimeout(F)},[qt]),v.useEffect(()=>{const F=setTimeout(()=>{},300);return()=>clearTimeout(F)},[qt]),s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m?s.jsx("img",{src:m,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:Y})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[x?s.jsx("img",{src:x,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:_||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N?s.jsx("img",{src:N,alt:"Club Logo",className:"member-logo"}):s.jsx("p",{children:"No club logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:C||"Club Name"})]})]})}),s.jsx("section",{className:"app-container",children:s.jsxs("div",{className:"form-table-wrapper",children:[s.jsx("h2",{children:"Club Member"}),T?s.jsxs("p",{children:[T.first_name," ",T.last_name," "," ",s.jsx("strong",{children:(()=>{var k;const F=Z.find(K=>K.id===parseInt(T.role_id)),se=typeof T.club_role=="object"?(k=T.club_role)==null?void 0:k.club_role:T.club_role;return(F==null?void 0:F.club_role)||se||T.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"1",onClick:F=>{br(F.target),gt&&T?e("/club-member-listC",{state:{club_id:gt,club_name:C,league_id:St,member_id:T==null?void 0:T.id,first_name:T==null?void 0:T.first_name,last_name:T==null?void 0:T.last_name,role:T==null?void 0:T.role_id}}):alert("Club or member not loaded yet.")},children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"2",onClick:F=>{br(F.target),gt&&T?(console.log(" Navigating to /AthletePage with state:",{club_id:gt,club_name:C,league_id:St,member_id:T.id,first_name:T.first_name,last_name:T.last_name,role:T.role_id,club_logo:N}),e("/AthletePage",{state:{club_id:gt,club_name:C,league_id:St,member_id:T.id,first_name:T.first_name,last_name:T.last_name,role:T.role_id,club_logo:N}})):alert("Club or member not loaded yet.")},children:"List of Athletes"})]}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),s.jsxs("form",{onSubmit:ee,className:"form-grid",children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:G,onChange:F=>de(F.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:M,onChange:F=>H(F.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:ve,onChange:F=>Le(F.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:ne,onChange:F=>ye(F.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:He,onChange:F=>Ke(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),be.map((F,se)=>s.jsx("option",{value:F,children:F},se))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:ot,onChange:F=>Ge(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"yellow belt"}),s.jsx("option",{children:"orange belt"}),s.jsx("option",{children:"green belt"}),s.jsx("option",{children:"blue belt"})]}),s.jsx("small",{style:{color:"#666"},children:"Temporary: select brown or black belt until the DB constraint is updated."})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:kt,onChange:F=>Pt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:We,onChange:F=>Me(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"}),s.jsx("option",{value:"Cadets By Team",children:"Cadets By Team"}),s.jsx("option",{value:"Juniors By Team",children:"Juniors By Team"}),s.jsx("option",{value:"Seniors By Team",children:"Seniors By Team"}),s.jsx("option",{value:"Cadets By Mixed Team",children:"Cadets By Mixed Team"}),s.jsx("option",{value:"Juniors By Mixed Team",children:"Juniors By Mixed Team"}),s.jsx("option",{value:"Seniors By Mixed Team",children:"Seniors By Mixed Team"})]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:ht,onChange:F=>lt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),_t.map((F,se)=>s.jsx("option",{value:F,children:F},se))]})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:Q,onChange:F=>ce(F.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:E,onChange:F=>U(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_e,onChange:F=>Ce(F.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Be,onChange:F=>ke(F.target.value),required:!0})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:wt,onChange:F=>Qt(F.target.value),required:!0,disabled:!!(t!=null&&t.club_id),children:[s.jsx("option",{value:"",children:"Select Club"}),Ot.map(F=>s.jsx("option",{value:F.id,children:F.name_club},F.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:Pe,onChange:F=>me(F.target.value),required:!0,disabled:!!(t!=null&&t.league_id),children:[s.jsx("option",{value:"",children:"Select League"}),yt.map(F=>s.jsx("option",{value:F.id,children:F.name_league},F.id))]})]}),s.jsxs("label",{children:["Upload Athlete Photo *",s.jsx("input",{type:"file",onChange:F=>{var se;return le(((se=F.target.files)==null?void 0:se[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",disabled:z,children:"Save Athlete"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsxs("h2",{className:"form-title",children:["Athletes of ",C," (",_,")"]}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"Search Athlete"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:qt,onChange:F=>Mt(F.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Fe,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"})," ",s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"})," ",s.jsx("th",{children:"Year"})," ",s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"})," ",s.jsx("th",{children:"Registration"})," ",s.jsx("th",{children:"Photos"})," ",s.jsx("th",{children:"Confirmation"})," ",s.jsx("th",{children:"conf_Request"})," ",s.jsx("th",{children:"Club ID"})," ",s.jsx("th",{children:"League ID"})," ",s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:pe.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found for this club/league."})}):pe.map(F=>s.jsxs("tr",{onDoubleClick:()=>L(F),style:{cursor:"pointer"},children:[s.jsx("td",{children:De===F.id?s.jsx("input",{value:$e.last_name||"",onChange:se=>ze({...$e,last_name:se.target.value})}):F.last_name}),s.jsx("td",{children:De===F.id?s.jsx("input",{value:$e.first_name||"",onChange:se=>ze({...$e,first_name:se.target.value})}):F.first_name}),s.jsx("td",{children:De===F.id?s.jsx("input",{type:"date",value:$e.date_of_birth||"",onChange:se=>ze({...$e,date_of_birth:se.target.value})}):F.date_of_birth}),s.jsx("td",{children:De===F.id?s.jsx("input",{value:$e.place_of_birth||"",onChange:se=>ze({...$e,place_of_birth:se.target.value})}):F.place_of_birth}),s.jsx("td",{children:F.role}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.blood_type||"",onChange:se=>ze({...$e,blood_type:se.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):F.blood_type}),s.jsx("td",{children:F.national_id_number}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.nationality||"",onChange:se=>ze({...$e,nationality:se.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),be.map((se,k)=>s.jsx("option",{value:se,children:se},k))]}):F.nationality}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.grade||"",onChange:se=>ze({...$e,grade:se.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"yellow belt",children:"yellow belt"}),s.jsx("option",{value:"orange belt",children:"orange belt"}),s.jsx("option",{value:"green belt",children:"green belt"}),s.jsx("option",{value:"blue belt",children:"blue belt"})]}):F.grade}),s.jsx("td",{children:F.renewal}),s.jsx("td",{children:F.year}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.genres||"",onChange:se=>{const k=se.target.value;ze({...$e,genres:k,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]}):F.genres}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.categories||"",onChange:se=>{const k=se.target.value;ze({...$e,categories:k,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"})]}):F.categories}),s.jsx("td",{children:De===F.id?s.jsxs("select",{value:$e.weight||"",onChange:se=>ze({...$e,weight:se.target.value}),disabled:!$e.genres||!$e.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),_t.map((se,k)=>s.jsx("option",{value:se,children:se},k))]}):F.weight}),s.jsx("td",{children:F.license_number}),s.jsx("td",{children:F.registration_date}),s.jsx("td",{children:F.photos_url?s.jsx("img",{src:F.photos_url,alt:`${F.first_name} ${F.last_name}`,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"}}):"No Photo"}),s.jsx("td",{children:F.confirmation?"":""}),s.jsx("td",{children:F.confirmation_request?"conf_Request":"conf_Not_request"}),s.jsx("td",{children:F.club_id}),s.jsx("td",{children:F.league_id}),s.jsx("td",{children:De===F.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"primary-S",onClick:Xe,disabled:z,children:"Save"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:Je,disabled:z,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"primary-M",onClick:()=>we(F),disabled:z,children:"Modify"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>ir(F.id),disabled:z,children:"Delete"}),s.jsx("button",{type:"button",className:F.confirmation_request?"cancel-btn":"confirm-btn",disabled:z,onClick:()=>{if(z)return;const se=F.confirmation_request?"Cancel confirmation request for this athlete?":"Request confirmation for this athlete?";window.confirm(se)&&(async()=>{try{const{data:k,error:K}=await ae.from("athletes").select("confirmation, confirmation_request").eq("id",F.id).single();if(K)throw K;const ue=!(k!=null&&k.confirmation_request),{error:xe}=await ae.from("athletes").update({confirmation_request:ue}).eq("id",F.id);if(xe)throw xe;n(Se=>Se.map(Te=>Te.id===F.id?{...Te,confirmation_request:ue}:Te)),await Gt(),g(ue?" Confirmation requested.":" Confirmation request canceled."),setTimeout(()=>g(""),2e3)}catch(k){u(k.message||"Failed to update confirmation request")}})()},children:F.confirmation_request?"Cancel Request Confirmation":"Request Confirmation"}),s.jsx("button",{type:"button",className:"primary-M",disabled:z,onClick:async()=>{try{const se=new Date().getFullYear(),k=`${se}/${se+1}`,{data:K,error:ue}=await ae.from("athletes").select("id").eq("national_id_number",F.national_id_number).eq("year",k);if(ue)throw ue;if(K&&K.length>0){u("we can not add this athlete because is ready existe");return}const{count:xe,error:Se}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",F.national_id_number);if(Se)throw Se;const Te=(xe||0)+1,Ze={last_name:F.last_name,first_name:F.first_name,date_of_birth:F.date_of_birth,place_of_birth:F.place_of_birth,role:F.role,blood_type:F.blood_type,nationality:F.nationality,grade:F.grade,categories:F.categories,weight:F.weight,genres:F.genres,national_id_number:F.national_id_number,password:F.password,license_number:`ATH-${se}-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:F.photos_url,league_id:F.league_id,club_id:F.club_id,year:k,renewal:Te,confirmation:!1,confirmation_request:!1},{error:pt}=await ae.from("athletes").insert([Ze]);if(pt)throw pt;g("Renewal created successfully."),typeof Gt=="function"&&await Gt()}catch(se){u((se==null?void 0:se.message)||String(se))}},children:"renewal"})]})})]},F.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:et,disabled:z,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:J,disabled:z,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:D,disabled:z,children:"Export by Grade PDF"})]})}),c&&s.jsx(Pn,{error:c,onClose:()=>u(null)}),d&&s.jsx(Rn,{success:d,onClose:()=>g("")}),o&&s.jsx(ta,{message:"Processing athlete data..."}),s.jsx(pn,{}),s.jsx("footer",{className:"footer bg-red-600 text-white p-4 mt-6",children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function $P(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState(null),[i,a]=v.useState("Algerian Judo Federation"),[o,l]=v.useState(""),[c,u]=v.useState(null),[d,g]=v.useState(""),[m,f]=v.useState(null),[x,j]=v.useState(null),[_,b]=v.useState(null),[N,S]=v.useState([]),[C,B]=v.useState(!1),[Y,V]=v.useState(!1),[T,$]=v.useState(!1),[Z,I]=v.useState(""),[G,de]=v.useState("");return v.useEffect(()=>{(async()=>{const{data:H,error:ve}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!ve&&H&&H.length>0&&n(H[0].logo_url)})()},[]),v.useEffect(()=>{if(!(t!=null&&t.league_id))return;(async()=>{const{data:H}=await ae.from("nameleague").select("name_league").eq("id",t.league_id).single();H&&l(H.name_league);const{data:ve}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);ve&&ve.length>0&&ve[0].logo_url&&u(ve[0].logo_url)})()},[t==null?void 0:t.league_id]),v.useEffect(()=>{if(!(t!=null&&t.club_id))return;(async()=>{const{data:H}=await ae.from("nameclub").select("name_club").eq("id",t.club_id).single();H&&g(H.name_club);const{data:ve}=await ae.from("club_members").select("logo_url").eq("club_id",t.club_id).order("id",{ascending:!1}).limit(1);ve&&ve.length>0&&ve[0].logo_url&&f(ve[0].logo_url);const{data:Le}=await ae.from("nameclub").select("*").eq("id",t.club_id).single();Le&&b(Le)})()},[t==null?void 0:t.club_id]),v.useEffect(()=>{if(!(t!=null&&t.club_id)||!(t!=null&&t.league_id)||!(t!=null&&t.first_name)||!(t!=null&&t.last_name)||!(t!=null&&t.password))return;(async()=>{const{data:H,error:ve}=await ae.from("club_members").select("*").eq("club_id",t.club_id).eq("league_id",t.league_id).eq("first_name",t.first_name).eq("last_name",t.last_name).eq("password",t.password).single();!ve&&H&&j(H)})()},[t]),v.useEffect(()=>{(async()=>{const{data:H,error:ve}=await ae.from("clubrole").select("*");ve&&console.error("Error fetching roles:",ve.message),H&&S(H)})()},[]),t?s.jsxs("div",{className:"app-container",children:[C&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[r?s.jsx("img",{src:r,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:i})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c?s.jsx("img",{src:c,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:o||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m&&s.jsx("img",{src:m,alt:"Club Logo",className:"member-logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:d||"Club Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Club Member"}),x?s.jsxs("p",{children:[x.first_name," ",x.last_name," "," ",s.jsx("strong",{children:(()=>{const M=N.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{_&&x?(console.log(" Navigating to /club-member-listC with state:",{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=N.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}),setTimeout(()=>{e("/club-member-listC",{state:{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=N.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}})},1500)):console.log("No club or member found, cannot navigate.")},disabled:Y,children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{_&&x?($(!0),console.log(" Navigating to /AthletePage with state:",{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=N.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}),setTimeout(()=>{e("/AthletePage",{state:{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=N.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}})},1500)):console.log("No club or member found, cannot navigate.")},disabled:T,children:"List of Athletes"})]})]}),Y&&s.jsx("div",{children:"Loading..."}),T&&s.jsx("div",{children:"Loading..."}),Z&&s.jsx(Pn,{error:Z,onClose:()=>I("")}),G&&s.jsx(Rn,{success:G,onClose:()=>de("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}const zP="/assets/certificat-de-judo2-CzQTdYUm.png";function WP(){const t=Ur(),e=fi(),[r,n]=v.useState(!1),[i,a]=v.useState(""),[o,l]=v.useState("Algeria Federation"),[c,u]=v.useState(null),[d,g]=v.useState(""),[m,f]=v.useState([]),[x,j]=v.useState(!1),[_,b]=v.useState([]),[N,S]=v.useState(!1),[C,B]=v.useState(""),[Y,V]=v.useState(""),[T,$]=v.useState("");v.useEffect(()=>{e.state?(console.log(" Athlete data received:",e.state),console.log(" Photo URL field (photos_url):",e.state.photos_url),console.log(" Photo URL field (photo_url):",e.state.photo_url),console.log(" All available fields:",Object.keys(e.state)),u(e.state)):(console.log(" No athlete data found in navigation state"),t("/"))},[e.state,t]),v.useEffect(()=>{(async()=>{if(!(!(c!=null&&c.club_id)&&!(c!=null&&c.league_id)))try{if(c.club_id){const ve=(await Tn())[c.club_id];B(ve||`Club ID: ${c.club_id}`)}if(c.league_id){const ve=(await Xn())[c.league_id];V(ve||`League ID: ${c.league_id}`)}}catch(H){console.error("Error fetching club/league names:",H),c.club_id&&B(`Club ID: ${c.club_id}`),c.league_id&&V(`League ID: ${c.league_id}`)}})()},[c]),v.useEffect(()=>{c&&(async()=>{try{const H=JSON.stringify({id:c.id,name:`${c.first_name||""} ${c.last_name||""}`.trim(),license:c.license_number||"",club_id:c.club_id||"",league_id:c.league_id||"",confirmation:c.confirmation||"Unconfirmed"}),ve=await ui.toDataURL(H,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});g(ve)}catch(H){console.error("Error generating QR code:",H)}})()},[c]),v.useEffect(()=>{if(c&&c.grade==="black belt"){const M={first_name:c.first_name||"",last_name:c.last_name||"",date_of_birth:c.date_of_birth||"",place_of_birth:c.place_of_birth||""};ui.toDataURL(JSON.stringify(M),{width:240,margin:1}).then(H=>$(H)).catch(H=>console.error("Error generating certificate QR:",H))}else $("")},[c]),v.useEffect(()=>{(async()=>{try{const{data:H,error:ve}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!ve&&H&&H.length>0&&a(H[0].logo_url)}catch(H){console.error("Error fetching federation logo:",H)}})()},[]),v.useEffect(()=>{(async()=>{S(!0);try{const{data:H,error:ve}=await ae.from("athletes").select("*").order("id",{ascending:!1});!ve&&H?(b(H),console.log(" All athletes fetched:",H.length,"athletes")):console.error("Error fetching all athletes:",ve)}catch(H){console.error("Error fetching all athletes:",H)}finally{S(!1)}})()},[]),v.useEffect(()=>{(async()=>{if(c!=null&&c.national_id_number){j(!0);try{const H=c.national_id_number,{data:ve,error:Le}=await ae.from("athletes").select("*").eq("national_id_number",H),{data:ne,error:ye}=await ae.from("league_members").select("*").eq("national_id_number",H),{data:Re,error:oe}=await ae.from("club_members").select("*").eq("national_id_number",H),E=[];ve&&!Le&&ve.forEach(U=>{E.push({...U,source:"Athletes",table_type:"athletes"})}),ne&&!ye&&ne.forEach(U=>{E.push({...U,source:"League Members",table_type:"league_members"})}),Re&&!oe&&Re.forEach(U=>{E.push({...U,source:"Club Members",table_type:"club_members"})}),f(E),console.log(" Related athletes found:",E)}catch(H){console.error("Error fetching related athletes:",H)}finally{j(!1)}}})()},[c]);const Z=async M=>{try{n(!0);const H=new At("landscape","pt","a4"),ve=H.internal.pageSize.getWidth(),Le=H.internal.pageSize.getHeight(),ne=`${M.first_name||""} ${M.last_name||""}`.trim();try{H.addImage(zP,"PNG",0,0,ve,Le),H.setTextColor(0,0,0),H.setFontSize(14),H.setFont("times","normal"),H.text("The Ministry of Youth and Sports",ve/2+80,105,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("Algerian judo federation",ve/2+80,130,{align:"center"}),H.setFontSize(24),H.setFont("times","bold"),H.text("Judo Certificate",ve/2+80,200,{align:"center"}),H.setFontSize(16),H.setFont("times","normal"),H.text(`Mr. ${ne} belt Black is hereby awarded`,ve/2+80,240,{align:"center"}),H.text("this certificate, in recognition of his progress, his sporting qualities,",ve/2+80,280,{align:"center"}),H.text("his loyalty to his school, and to the spirit of Judo.",ve/2+80,320,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("The President:",260,400),H.text("The Instructor:",600,400)}catch(Re){console.warn("Failed to load background image, using fallback design:",Re),H.setLineWidth(4),H.setDrawColor(0,0,0),H.rect(20,20,ve-40,Le-40),H.setLineWidth(1),H.rect(40,40,ve-80,Le-80),H.setTextColor(0,0,0),H.setFontSize(14),H.setFont("times","normal"),H.text("The Ministry of Youth and Sports",ve/2+80,105,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("Algerian judo federation",ve/2+80,130,{align:"center"}),H.setFontSize(24),H.setFont("times","bold"),H.text("Judo Certificate",ve/2+80,200,{align:"center"}),H.setFontSize(16),H.setFont("times","normal"),H.text(`Mr. ${ne} belt Black is hereby awarded`,ve/2+80,240,{align:"center"}),H.text("this certificate, in recognition of his progress, his sporting qualities,",ve/2+80,280,{align:"center"}),H.text("his loyalty to his school, and to the spirit of Judo.",ve/2+80,320,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("The President:",260,400),H.text("The Instructor:",600,400)}try{if(T){const oe=ve-32-60,E=Le-32-80;H.addImage(T,"PNG",oe,E,32,32),H.setFontSize(7),H.setFont("times","normal"),H.text("Scan to verify certificate",oe+32/2,E+32+10,{align:"center"})}}catch(Re){console.warn("Failed to add certificate QR to PDF:",Re)}const ye=`Judo_Certificate_${ne.replace(/\s+/g,"_")}_${new Date().getFullYear()}.pdf`;H.save(ye),setSuccessMessage("Judo Certificate generated successfully!"),setShowSuccess(!0)}catch(H){console.error("Error generating Judo Certificate:",H),setErrorMessage("Failed to generate Judo Certificate. Please try again."),setShowError(!0)}finally{n(!1)}};function I(M){return new Promise((H,ve)=>{Ua(M,Le=>{if(Le.type==="error")console.warn("EXIF processing failed, using original image:",M),H(M);else try{const ne=Le.toDataURL("image/png");H(ne)}catch(ne){console.warn("Canvas conversion failed, using original image:",ne),H(M)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const G=M=>{if(console.log(" handleExportPDF called with data:",M),console.log(" Data type:",typeof M),console.log(" Data keys:",M?Object.keys(M):"No data"),console.log(" national_id_number in data:",M==null?void 0:M.national_id_number),!M||Object.keys(M).length===0){console.error(" No data available to export"),alert("No data available to export");return}console.log(" Data validation passed, calling exportPDFWithAutoOrientation..."),de(M)},de=async M=>{if(console.log(" PDF Generation - Starting with data:",M),!M||!M.primary_id&&!M.national_id_number){console.error(" No data or primary_id/national_id_number provided for PDF generation"),alert("No valid data available for PDF generation");return}try{const ve=M.table_source||"athletes",Le="id",ne=M.primary_id||M.id;console.log(" Fetching complete athlete data from database..."),console.log(" Table source:",ve),console.log(" ID field:",Le),console.log(" ID value:",ne);const{data:ye,error:Re}=await ae.from(ve).select("*").eq(Le,ne).single();if(Re||!ye){console.error(" Error fetching athlete data:",Re),console.log(" Falling back to national_id_number query...");const{data:Ge,error:Oe}=await ae.from("athletes").select("*").eq("national_id_number",M.national_id_number).single();if(Oe||!Ge){console.error(" Fallback query also failed:",Oe),alert("Error fetching complete athlete data from database");return}console.log(" Fallback athlete data fetched:",Ge);var H=Ge}else{console.log(" Complete athlete data fetched:",ye);var H=ye}console.log(" Using complete athlete data for PDF:",H);let oe=null,E=null;try{if(console.log(" Fetching club and league names..."),H.club_id){console.log(" Fetching club name for ID:",H.club_id);const Ge=await Tn();console.log(" Club names object:",Ge),oe=Ge[H.club_id],console.log(" Fetched club name:",oe)}else console.log(" No club_id found in athlete data");if(H.league_id){console.log(" Fetching league name for ID:",H.league_id);const Ge=await Xn();console.log(" League names object:",Ge),E=Ge[H.league_id],console.log(" Fetched league name:",E)}else console.log(" No league_id found in athlete data")}catch(Ge){console.error(" Error fetching names:",Ge)}const U=new At("portrait","mm","a4");U.setFontSize(18),U.setTextColor(40,40,40),U.text("Algerian Judo Federation",14,15);const Q=`Athlete Information - ${H.first_name} ${H.last_name}`;U.setFontSize(16),U.setTextColor(40,40,40),U.text(Q,14,30),U.setFontSize(10);const ce=new Date().toLocaleString();if(U.text(`Generated: ${ce}`,14,37),i)try{U.addImage(i,"PNG",170,10,25,25)}catch(Ge){console.error("Error adding logo to PDF:",Ge)}let _e=70;if(M.photos_url)try{const Ge=await I(M.photos_url),Oe=Ge.startsWith("data:")?"PNG":"JPEG";U.addImage(Ge,Oe,14,45,25,20),_e=70}catch(Ge){console.error("Error adding photo to PDF:",Ge);try{U.addImage(M.photos_url,"JPEG",14,45,25,20)}catch(Oe){console.error("Fallback image addition also failed:",Oe)}_e=70}U.setFontSize(12),H.confirmation?U.setTextColor(0,128,0):U.setTextColor(255,0,0);const Ce=H.confirmation?"CONFIRMED ":"NOT CONFIRMED ";U.text(Ce,160,50);const Be={last_name:"Last Name",first_name:"First Name",date_of_birth:"Date of Birth",place_of_birth:"Place of Birth",role:"Role",blood_type:"Blood Type",national_id_number:"National ID",nationality:"Nationality",grade:"Grade",genres:"Gender",categories:"Category",weight:"Weight",license_number:"License Number",registration_date:"Registration Date",year:"Year",renewal:"Renewal",confirmation:"Confirmation Status"},ke=Object.keys(Be).filter(Ge=>H[Ge]!==null&&H[Ge]!==void 0&&H[Ge]!==""&&H[Ge]!=="null");console.log("PDF Generation - All data fields:",Object.keys(H)),console.log("PDF Generation - Available fields with data:",ke),console.log("PDF Generation - Fields with no data:",Object.keys(Be).filter(Ge=>!ke.includes(Ge)));const He=ke.map(Ge=>[Be[Ge]||Ge.charAt(0).toUpperCase()+Ge.slice(1).replace(/_/g," "),H[Ge]]);yr(U,{startY:_e,head:[["Field","Value"]],body:He,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Ke=U.lastAutoTable.finalY||200;if(U.setFontSize(12),U.setTextColor(0,0,0),U.text("Medical certificate",14,Ke+20),U.setDrawColor(0),U.line(14,Ke+40,80,Ke+40),U.setFontSize(10),H.club_id){const Ge=oe||`Club ID: ${H.club_id}`;U.text(`Club: ${Ge}`,14,Ke+60),U.text("Club Visa: _________________",14,Ke+70)}if(H.league_id){const Ge=E||`League ID: ${H.league_id}`;U.text(`League: ${Ge}`,120,Ke+60),U.text("League Visa: _________________",120,Ke+70)}try{const Ge=JSON.stringify({id:H.id,name:`${H.first_name||""} ${H.last_name||""}`.trim(),license:H.license_number||"",club_id:H.club_id||"",league_id:H.league_id||"",confirmation:H.confirmation||"Unconfirmed"}),Oe=await ui.toDataURL(Ge,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});U.addImage(Oe,"PNG",180,Ke+75,15,15)}catch(Ge){console.error("Error generating QR code:",Ge)}const ot=`athlete_${H.first_name}_${H.last_name}_${H.id||"record"}.pdf`;console.log("Saving PDF with filename:",ot),U.save(ot),console.log("PDF generation completed successfully")}catch(ve){console.error("Error in PDF generation:",ve),alert(`Error generating PDF: ${ve.message}`)}};return c?s.jsxs("div",{className:"page-container",children:[r&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsxs("div",{className:"federation-header",children:[i?s.jsx("img",{src:i,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:o})]})}),s.jsx(Er,{}),s.jsxs("div",{className:"athlete-profile",children:[s.jsx("h2",{className:"form-title",children:"Athlete Profile"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[c.photos_url||c.photo_url?s.jsx("img",{src:c.photos_url||c.photo_url,alt:`${c.first_name} ${c.last_name}`,className:"athlete-photo"}):s.jsx("div",{className:"photo-placeholder",children:s.jsx(gv,{})}),s.jsxs("h3",{children:[c.first_name," ",c.last_name]}),s.jsx("p",{children:c.role||"Athlete"}),c.confirmation&&s.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm mt-2",children:" Confirmed"})]}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(gv,{className:"w-5 h-5"}),"Personal Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"First Name:"}),s.jsx("span",{className:"info-value",children:c.first_name||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Last Name:"}),s.jsx("span",{className:"info-value",children:c.last_name||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Date of Birth:"}),s.jsx("span",{className:"info-value",children:c.date_of_birth||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Place of Birth:"}),s.jsx("span",{className:"info-value",children:c.place_of_birth||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Nationality:"}),s.jsx("span",{className:"info-value",children:c.nationality||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(Ng,{className:"w-5 h-5"}),"Athletic Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Grade:"}),s.jsx("span",{className:"info-value",children:c.grade||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Category:"}),s.jsx("span",{className:"info-value",children:c.categories||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Weight:"}),s.jsx("span",{className:"info-value",children:c.weight||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Gender:"}),s.jsx("span",{className:"info-value",children:c.genres||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"License Number:"}),s.jsx("span",{className:"info-value",children:c.license_number||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(eL,{className:"w-5 h-5"}),"Medical Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Blood Type:"}),s.jsx("span",{className:"info-value",children:c.blood_type||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"National ID:"}),s.jsx("span",{className:"info-value",children:c.national_id_number||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(WC,{className:"w-5 h-5"}),"Registration Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Registration Date:"}),s.jsx("span",{className:"info-value",children:c.registration_date||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Year:"}),s.jsx("span",{className:"info-value",children:c.year||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Renewal:"}),s.jsx("span",{className:"info-value",children:c.renewal||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Club:"}),s.jsx("span",{className:"info-value",children:C||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"League:"}),s.jsx("span",{className:"info-value",children:Y||"N/A"})]})]})]})]}),c.description&&s.jsxs("div",{className:"athlete-description",children:[s.jsx("h3",{children:"Description:"}),s.jsx("p",{children:c.description})]}),s.jsxs("div",{className:"qr-code-section",children:[s.jsxs("h3",{children:[s.jsx(fv,{className:"w-5 h-5"}),"Athlete QR Code"]}),s.jsx("p",{children:"Scan to access athlete information"}),s.jsx("div",{className:"qr-code-container",children:d?s.jsx("img",{src:d,alt:"Athlete QR Code",className:"qr-code-centered"}):s.jsxs("div",{className:"qr-code-loading",children:[s.jsx(fv,{className:"w-16 h-16 text-gray-400"}),s.jsx("p",{children:"Generating QR Code..."})]})}),d&&s.jsx("div",{className:"qr-code-status",children:s.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:" QR Code Ready"})})]})]}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[s.jsx("h3",{children:"Related Licenses"}),s.jsx("p",{children:"All athlete licenses with the same National ID Number"}),s.jsxs("div",{className:"related-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.length}),s.jsx("span",{className:"stat-label",children:"Total Licenses"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="athletes").length}),s.jsx("span",{className:"stat-label",children:"Athletes"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="league_members").length}),s.jsx("span",{className:"stat-label",children:"League Members"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="club_members").length}),s.jsx("span",{className:"stat-label",children:"Club Members"})]})]})]}),s.jsx("div",{className:"info-grid",children:s.jsxs("div",{className:"info-card",children:[s.jsx("h4",{children:"Athlete Licenses Table"}),s.jsx("p",{children:"Double-click any row to generate PDF for that athlete"}),x?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading related athletes..."})]}):m.length>0?s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"athletes-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Source"}),s.jsx("th",{children:"Full Name"}),s.jsx("th",{children:"License Number"}),s.jsx("th",{children:"National ID"}),s.jsx("th",{children:"Club/League ID"}),s.jsx("th",{children:"Status"})]})}),s.jsxs("tbody",{children:[console.log(" Rendering table with relatedAthletes:",m),m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No related athlete licenses found"})}):m.map((M,H)=>s.jsxs("tr",{onDoubleClick:()=>{console.log(" Double-click fired on athlete:",M),console.log(" Available fields:",Object.keys(M)),console.log(" Table type:",M.table_type),console.log(" Original national_id_number:",M.national_id_number),console.log(" Fallback athlete_nid:",M.athlete_nid),console.log(" Fallback nid:",M.nid);const ve={...M,national_id_number:M.national_id_number||M.athlete_nid||M.nid,primary_id:M.id,table_source:M.table_type};console.log(" Safe data created with normalized national_id_number:",ve.national_id_number),console.log(" Complete safe data object:",ve),console.log(" About to call handleExportPDF...");try{G(ve),console.log(" handleExportPDF called successfully")}catch(Le){console.error(" Error calling handleExportPDF:",Le)}},className:"clickable-row",style:{cursor:"pointer"},title:"Double-click to generate PDF",children:[s.jsx("td",{children:s.jsx("span",{className:`source-badge ${M.table_type}`,children:M.source})}),s.jsx("td",{className:"name-cell",children:M.first_name&&M.last_name?`${M.first_name} ${M.last_name}`:M.full_name||"N/A"}),s.jsx("td",{className:"license-cell",children:M.license_number||M.athlete_license_number||"N/A"}),s.jsx("td",{className:"id-cell",children:M.national_id_number}),s.jsx("td",{className:"club-cell",children:M.club_id||M.league_id||"N/A"}),s.jsx("td",{children:s.jsx("span",{className:`status-badge ${M.status||"active"}`,children:M.status||"Active"})})]},`${M.table_type}-${M.id||H}`))]})]})}):s.jsx("div",{className:"no-data",children:s.jsx("p",{children:"No related athlete licenses found with the same National ID Number."})})]})})]}),c&&c.grade==="black belt"&&s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[s.jsx("h3",{children:"Judo Certificate"}),s.jsx("p",{children:"Generate official Judo certificate for black belt athletes"}),s.jsxs("div",{className:"certificate-preview",children:[s.jsxs("div",{className:"certificate-badge",children:[s.jsx(Ng,{className:"certificate-icon"}),s.jsx("span",{children:"Black Belt Certificate"})]}),s.jsxs("div",{className:"certificate-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Athlete:"})," ",c.first_name," ",c.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Grade:"})," ",c.grade]}),s.jsxs("p",{children:[s.jsx("strong",{children:"License:"})," ",c.license_number]})]}),s.jsxs("div",{className:"certificate-qr",style:{marginTop:"10px"},children:[s.jsx("h5",{style:{margin:0},children:"Certificate QR"}),T?s.jsx("img",{src:T,alt:"Certificate QR Code",style:{width:"32px",height:"32px",border:"1px solid #eee",borderRadius:"4px"}}):s.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"QR appears when data is complete."})]})]})]}),s.jsx("div",{className:"info-grid",children:s.jsxs("div",{className:"info-card",children:[s.jsx("h4",{children:"Certificate Generation"}),s.jsx("p",{children:"Click the button below to generate the official Judo certificate"}),s.jsx("div",{className:"certificate-actions",children:s.jsxs("button",{className:"primary-button certificate-btn",onClick:()=>Z(c),disabled:r,children:[s.jsx(Ng,{size:20}),r?"Generating...":"Generate Judo Certificate"]})}),s.jsxs("div",{className:"certificate-requirements",children:[s.jsx("h5",{children:"Certificate Requirements:"}),s.jsxs("ul",{children:[s.jsx("li",{children:" Black Belt Grade"}),s.jsx("li",{children:" Valid License Number"}),s.jsx("li",{children:" Complete Athlete Information"})]})]})]})})]}),s.jsx(pn,{})]})]}):s.jsxs("div",{className:"page-container",children:[s.jsx(rn,{}),s.jsx("div",{className:"content-box",children:s.jsx("div",{className:"text-center p-8",children:s.jsx("p",{children:"Loading athlete information..."})})})]})}function HP(){const[t,e]=v.useState(null),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,g]=v.useState(""),m=Ur(),f="https://example.com/federation-logo.png",x="Algerian Judo Federation",[j,_]=v.useState(""),[b,N]=v.useState(null),S=async(T,$)=>{if(!r||!i){l("Please enter both Name and Key before continuing.");return}let Z="",I="",G="";$==="federation"?(Z="members",I="last_name",G="password"):$==="league"?(Z="league_members",I="last_name",G="password"):$==="club"&&(Z="club_members",I="last_name",G="password");const{data:de,error:M}=await ae.from(Z).select("*").eq(I,r).eq(G,i).single();if(M||!de){l(" Invalid Name or Key. Please try again.");return}l("");let H={};$==="federation"?H={federationLogo:f,federationName:x}:$==="league"?H={league_id:de.league_id,logo_url:de.logo_url}:$==="club"&&(H={club_id:de.club_id,league_id:de.league_id,logo_url:de.logo_url}),m(T,{state:{...de,...H}})},C=T=>{m(T)},B=T=>{g(T),u(!0),e(T),l(""),n(""),a("")},Y=()=>{u(!1),g(""),e(null),l(""),n(""),a("")},V=(T,$,Z,I="secondary-btn")=>s.jsx("div",{className:"login-box",children:s.jsx("button",{className:I,onClick:()=>B(T),children:$})});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"gorgeous-buttons-layout horizontal-buttons-container",children:[s.jsx("div",{className:"gorgeous-button-wrapper",children:V("federation","Federation Account","/AddMemberPage","gorgeous-green-btn")}),s.jsx("div",{className:"gorgeous-button-wrapper",children:V("league","League Account","/AddMemberLeague","gorgeous-green-btn")}),s.jsx("div",{className:"gorgeous-button-wrapper",children:V("club","Amateur Sports Club","/AddMemberClub","gorgeous-green-btn")})]}),c&&s.jsx("div",{className:"modal-overlay",onClick:Y,children:s.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:Y,children:""}),s.jsxs("div",{className:"login-box",children:[s.jsx("h3",{style:{marginBottom:"1rem",color:"#15803d",textAlign:"center"},children:d==="federation"?"Federation Account Login":d==="league"?"League Account Login":"Amateur Sports Club Login"}),s.jsx("input",{type:"text",placeholder:"Enter Name",value:r,onChange:T=>n(T.target.value),className:"input-field mb-2"}),s.jsx("input",{type:"password",placeholder:"Enter Key",value:i,onChange:T=>a(T.target.value),className:"input-field mb-2"}),o&&s.jsx("p",{className:"error-text",children:o}),s.jsxs("div",{className:"btn-row mt-2 flex gap-2",children:[s.jsx("button",{className:"primary-btn",onClick:()=>S(`/${d==="federation"?"FederationPage":d==="league"?"LeaguePage":"AmateurSportsClubPage"}`,d),children:"Login"}),s.jsx("button",{className:"secondary-btn",onClick:()=>C(d==="federation"?"/AddMemberPage":d==="league"?"/AddMemberLeague":"/AddMemberClub"),children:" Add Member"}),s.jsx("button",{className:"secondary-btn",onClick:Y,children:"Cancel"})]})]})]})})]})}const GP=({announcements:t=[]})=>t.length===0?null:s.jsx("div",{className:"green-tape-banner relative overflow-hidden",children:s.jsx("div",{className:"text-white py-20 shadow-2xl relative",children:s.jsxs("div",{className:"relative z-20",children:[s.jsx("h2",{className:"header-text-massive font-bold text-center mb-8 tracking-wider",children:"OFFICIAL ANNOUNCEMENTS - JUDO ALGERIA"}),s.jsx("div",{className:"overflow-hidden whitespace-nowrap",children:s.jsx("div",{className:"animate-marquee",children:t.map((e,r)=>s.jsxs("span",{className:"announcement-text-huge mx-8 text-white font-bold tracking-wider whitespace-nowrap",children:[" ",e," "]},r))})})]})})}),YP=({id:t,image:e,title:r,description:n,link:i,type:a="website",onClick:o})=>{const l=()=>{if(o)o();else if(i)if(a==="pdf"){const c=document.createElement("a");c.href=i,c.download=r||"document.pdf",document.body.appendChild(c),c.click(),document.body.removeChild(c)}else window.open(i,"_blank","noopener,noreferrer")};return s.jsxs("div",{className:"circle-button-container",children:[s.jsx("div",{className:"circle-button",onClick:l,role:"button",tabIndex:0,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),l())},children:s.jsxs("div",{className:"circle-button-inner",children:[s.jsx("div",{className:"circle-image-container",children:e?s.jsx("img",{src:e,alt:r||"Button",className:"circle-image"}):s.jsx("div",{className:"circle-placeholder",children:a==="pdf"?s.jsx(dv,{className:"w-8 h-8 text-white"}):s.jsx(hv,{className:"w-8 h-8 text-white"})})}),s.jsx("div",{className:"circle-overlay",children:a==="pdf"?s.jsx(dv,{className:"w-6 h-6 text-white"}):s.jsx(hv,{className:"w-6 h-6 text-white"})})]})}),(r||n)&&s.jsxs("div",{className:"circle-button-info",children:[r&&s.jsx("h3",{className:"circle-button-title",children:r}),n&&s.jsx("p",{className:"circle-button-description",children:n})]})]})};function VP(){const[t,e]=v.useState(null),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,g]=v.useState(""),m=Ur(),[f,x]=v.useState(""),[j,_]=v.useState(null),b=async(B,Y)=>{if(!r||!i){l("Please enter both Name and Key before continuing.");return}let V="",T="",$="";Y==="Athlete"&&(V="athletes",T="last_name",$="password");const{data:Z,error:I}=await ae.from(V).select("*").eq(T,r).eq($,i).single();if(console.log("Authentication attempt:",{tableName:V,nameColumn:T,keyColumn:$,name:r,key:i}),console.log("Database response:",{data:Z,supaError:I}),I||!Z){console.log("Authentication failed:",(I==null?void 0:I.message)||"No data returned"),l(" Invalid Name or Key. Please try again.");return}l("");let G={};Y==="Athlete"&&(G={club_id:Z.club_id,league_id:Z.league_id}),console.log(" AthleteB.jsx - Raw database data:",Z),console.log(" AthleteB.jsx - Extra data being added:",G),console.log(" AthleteB.jsx - Final state being passed:",{...Z,...G}),console.log(" AthleteB.jsx - Navigating to:",B,"with state:",{...Z,...G}),m(B,{state:{...Z,...G}})},N=B=>{g(B),u(!0),e(B),l(""),n(""),a("")},S=()=>{u(!1),g(""),e(null),l(""),n(""),a("")},C=(B,Y,V,T="secondary-btn")=>s.jsx("div",{className:"login-box",children:s.jsx("button",{className:T,onClick:()=>N(B),children:Y})});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"gorgeous-buttons-layout horizontal-buttons-container",children:s.jsx("div",{className:"gorgeous-button-wrapper",children:C("Athlete","Athletes Account Login","/Athlete","gorgeous-green-btn")})}),c&&s.jsx("div",{className:"modal-overlay",onClick:S,children:s.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:S,children:""}),s.jsxs("div",{className:"login-box",children:[s.jsx("h3",{style:{marginBottom:"1rem",color:"#15803d",textAlign:"center"},children:d==="Athlete"?"Athletes Account Login":"Login"}),s.jsx("input",{type:"text",placeholder:"Enter Name",value:r,onChange:B=>n(B.target.value),className:"input-field mb-2"}),s.jsx("input",{type:"password",placeholder:"Enter Key",value:i,onChange:B=>a(B.target.value),className:"input-field mb-2"}),o&&s.jsx("p",{className:"error-text",children:o}),s.jsxs("div",{className:"btn-row mt-2 flex gap-2",children:[s.jsx("button",{className:"primary-btn",onClick:()=>b(`/${d==="Athlete"?"Athlete":""}`,d),children:"Login"}),s.jsx("button",{className:"secondary-btn",onClick:S,children:"Cancel"})]})]})]})})]})}const sw="home/circle_buttons.json",ow="publications",lw="algerian_judo_circle_buttons";async function cw(){try{const{data:t,error:e}=await ae.storage.from(ow).download(sw);if(e)throw e;const r=await t.text(),n=JSON.parse(r);return Array.isArray(n)?n:[]}catch{try{const e=localStorage.getItem(lw);return e?JSON.parse(e):[]}catch{return[]}}}async function JP(t){try{localStorage.setItem(lw,JSON.stringify(t))}catch{}try{const e=new Blob([JSON.stringify(t)],{type:"application/json"}),{error:r}=await ae.storage.from(ow).upload(sw,e,{upsert:!0});if(r)throw r;return!0}catch(e){return console.warn("Failed to save circle buttons to Supabase, kept local copy:",(e==null?void 0:e.message)||e),!1}}function KP(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState(!1),[m,f]=v.useState([]),[x,j]=v.useState(0),[_,b]=v.useState(null),[N,S]=v.useState("Algerian Judo Federation"),[C,B]=v.useState(!0),[Y,V]=v.useState([]),[T,$]=v.useState([]),[Z,I]=v.useState([]),[G,de]=v.useState([]);v.useRef(null);const M=v.useRef(null);Ur();const[H,ve]=v.useState(""),[Le,ne]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!U&&E&&f(E)})()},[]),v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!U&&E.length>0&&b(E[0].logo_url)})()},[]),v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("pub").select("photo_url").order("created_at",{ascending:!1});!U&&E&&V(E)})()},[]),v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publica").select("title, description, photo_url").order("created_at",{ascending:!1});!U&&E&&$(E)})()},[]),v.useEffect(()=>{try{const oe=localStorage.getItem("algerian_judo_banner_announcements");if(oe){const E=JSON.parse(oe);I(E)}}catch(oe){console.error("Erreur lors du chargement des annonces:",oe)}},[]),v.useEffect(()=>{(async()=>{try{const oe=await cw();oe&&oe.length>0?de(oe):de([{id:1,title:"Official Website",description:"Visit our main website",image:"",link:"https://example.com",type:"website"},{id:2,title:"Rules PDF",description:"Download competition rules",image:"",link:"",type:"pdf"},{id:3,title:"Training Center",description:"Find training locations",image:"",link:"https://maps.google.com",type:"website"},{id:4,title:"Registration Form",description:"Download registration form",image:"",link:"",type:"pdf"},{id:5,title:"Contact Us",description:"Get in touch with us",image:"",link:"mailto:contact@judoalgeria.com",type:"website"}])}catch(oe){console.error("Erreur lors du chargement des boutons:",oe)}})()},[]),v.useEffect(()=>{const oe=E=>{if(E.key==="algerian_judo_circle_buttons")try{const U=E.newValue?JSON.parse(E.newValue):[];de(U||[])}catch(U){console.error("Error parsing circle buttons from storage event:",U)}if(E.key==="algerian_judo_banner_announcements")try{const U=E.newValue?JSON.parse(E.newValue):[];I(U||[])}catch(U){console.error("Error parsing announcements from storage event:",U)}};return window.addEventListener("storage",oe),()=>window.removeEventListener("storage",oe)},[]),v.useEffect(()=>{if(m.length>0){const oe=setInterval(()=>{j(E=>(E+1)%m.length)},5e3);return()=>clearInterval(oe)}},[m]);const ye=()=>{j(oe=>(oe+1)%m.length)},Re=()=>{j(oe=>(oe-1+m.length)%m.length)};return v.useEffect(()=>{const oe=E=>{(E.key==="Escape"||E.code==="Space")&&Le&&ne(null)};return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[Le]),s.jsxs("div",{className:"app-container",children:[d&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[_?s.jsx("img",{src:_,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:N||"Algerian Judo Federation"})]})})}),s.jsx("div",{style:{height:"08rem"}}),s.jsxs("section",{id:"showcase",style:{backgroundImage:Y.length>0?`linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(${Y[0].photo_url})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:"white",padding:"6rem 0",textAlign:"center",height:"200px",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.6), 0 8px 15px rgba(0, 0, 0, 0.3)",transform:"perspective(1000px) rotateX(2deg) rotateY(-2deg)",transition:"transform 0.5s ease, box-shadow 0.5s ease"},onMouseMove:oe=>{const E=oe.currentTarget,U=E.getBoundingClientRect(),Q=oe.clientX-U.left,ce=oe.clientY-U.top,_e=U.width/2,Ce=U.height/2,Be=(ce-Ce)/Ce*5,ke=(Q-_e)/_e*-5;E.style.transform=`perspective(1000px) rotateX(${Be}deg) rotateY(${ke}deg)`},onMouseLeave:oe=>{oe.currentTarget.style.transform="perspective(1000px) rotateX(2deg) rotateY(-2deg)"},children:[s.jsx("h1",{children:"Welcome to the Federation"}),s.jsx("p",{children:"Promoting Judo Excellence in Algeria"})]}),s.jsx("div",{style:{height:"03rem"}}),s.jsx("section",{children:s.jsx("div",{className:"circle-buttons-container",children:G.map(oe=>s.jsx(YP,{title:oe.title,description:oe.description,image:oe.image,link:oe.link,type:oe.type},oe.id))})}),s.jsx("div",{style:{height:"6rem"}}),Z.length>0&&s.jsx(GP,{announcements:Z}),s.jsx("div",{style:{height:"6rem"}}),s.jsxs("section",{className:"carousel-section",style:{backgroundImage:H?`url(${H})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onMouseMove:oe=>{if(!M.current)return;const E=M.current.getBoundingClientRect(),U=oe.clientX-E.left,Q=oe.clientY-E.top,ce=E.width/2,_e=E.height/2,Ce=(Q-_e)/10,Be=(ce-U)/10;M.current.style.transform=`perspective(1000px) rotateX(${Ce}deg) rotateY(${Be}deg)`},onMouseLeave:()=>{M.current&&(M.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg)")},onMouseDown:oe=>window.dragStart=oe.clientX,onMouseUp:oe=>{if(!window.dragStart)return;const E=oe.clientX-window.dragStart;E>50&&Re(),E<-50&&ye(),window.dragStart=null},onTouchStart:oe=>window.touchStart=oe.touches[0].clientX,onTouchEnd:oe=>{if(!window.touchStart)return;const E=oe.changedTouches[0].clientX-window.touchStart;E>50&&Re(),E<-50&&ye(),window.touchStart=null},children:[s.jsx("button",{className:"carousel-button left",onClick:Re,children:""}),s.jsx("div",{className:"carousel-track",children:m.map((oe,E)=>{const U=(E-x+m.length)%m.length;let Q="";return U===0?Q="active":U===1?Q="next":U===m.length-1?Q="prev":Q="hidden",s.jsxs("div",{className:`carousel-slide ${Q}`,onClick:()=>{Q==="active"&&ne({photo:oe.photo_url,title:oe.title,description:oe.description})},children:[s.jsx("img",{src:oe.photo_url,alt:oe.title,className:"carousel-image"}),s.jsxs("div",{className:"carousel-caption",children:[s.jsx("h3",{children:oe.title}),s.jsx("p",{children:oe.description})]})]},oe.id)})}),s.jsx("button",{className:"carousel-button right",onClick:ye,children:""}),Le&&s.jsx("div",{className:"fullscreen-overlay",onClick:()=>ne(null),children:s.jsxs("div",{className:"fullscreen-content",onClick:oe=>oe.stopPropagation(),children:[s.jsx("button",{className:"close-button",onClick:()=>ne(null),children:""}),s.jsx("img",{src:Le.photo,alt:Le.title,className:"fullscreen-image"}),s.jsxs("div",{className:"fullscreen-text",children:[s.jsx("h2",{children:Le.title}),s.jsx("p",{children:Le.description})]})]})})]}),s.jsx("div",{style:{height:"50rem"}}),s.jsx(VP,{}),s.jsx("div",{style:{height:"8rem"}}),s.jsx("div",{className:"moving-image-container",children:s.jsx("div",{className:"moving-image-track",children:T.length>0?T.map((oe,E)=>s.jsxs("div",{className:"moving-image-card",children:[s.jsx("img",{src:oe.photo_url,alt:oe.title,onError:U=>{U.currentTarget.src=Zi}}),s.jsxs("div",{className:"moving-image-overlay",children:[s.jsx("h3",{children:oe.title}),s.jsx("p",{children:oe.description})]})]},E)):s.jsxs("div",{className:"moving-image-card",children:[s.jsx("img",{src:Zi,alt:"Judo athletes"}),s.jsxs("div",{className:"moving-image-overlay",children:[s.jsx("h3",{children:"Welcome to the Federation"}),s.jsx("p",{children:"Promoting Judo Excellence in Algeria"})]})]})})}),s.jsx("div",{style:{height:"5rem"}}),s.jsx(HP,{}),o&&s.jsx(Pn,{error:o,onClose:()=>l("")}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function QP(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState(""),[i,a]=v.useState(null),[o,l]=v.useState("Algerian Judo Federation"),[c,u]=v.useState(null),[d,g]=v.useState([]),[m,f]=v.useState(null),[x,j]=v.useState(null),[_,b]=v.useState(!1),[N,S]=v.useState(""),[C,B]=v.useState(""),Y=Zi;return v.useEffect(()=>{ti()},[]),v.useEffect(()=>{(async()=>{const{data:T,error:$}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!$&&T.length>0&&a(T[0].logo_url)})()},[]),v.useEffect(()=>{if(!(t!=null&&t.league_id))return;j(t),(async()=>{const{data:T,error:$}=await ae.from("nameleague").select("*").eq("id",t.league_id).single();!$&&T&&(n(T.name_league),u(T));const{data:Z,error:I}=await ae.from("club_members").select("club_id").eq("league_id",t.league_id).limit(1).single();if(!I&&Z){const{data:M,error:H}=await ae.from("nameclub").select("*").eq("id",Z.club_id).single();!H&&M&&f(M)}const{data:G,error:de}=await ae.from("nameclub").select("*").eq("league_id",t.league_id);!de&&G?g(G):console.error("Error fetching clubs:",de)})()},[t]),v.useEffect(()=>{ti()},[]),t?s.jsxs("div",{className:"app-container",children:[_&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i?s.jsx("img",{src:i,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Y,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:o||"Algerian Judo Federation"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:r||"League Name"})]})]})}),s.jsxs("section",{className:"content",children:[s.jsxs("h2",{children:["Welcome ",t.first_name," ",t.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",t.role]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(br(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/member-list-l",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(br(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(br(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The Athlete List Add"})]}),N&&s.jsx(Pn,{error:N,onClose:()=>S("")}),C&&s.jsx(Rn,{success:C,onClose:()=>B("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}function Mm({data:t=[],title:e="Exported Data",columns:r=[],pdfOptions:n={},filename:i="export",buttonText:a="Export",className:o=""}){const[l,c]=v.useState({}),[u,d]=v.useState({});v.useEffect(()=>{(async()=>{const b=await Tn(),N=await Xn();c(b),d(N)})()},[]);const[g,m]=v.useState(!1),f=()=>{if(!t||t.length===0){alert("No data available to export");return}x()},x=()=>{C0(t,e,r,{...n,filename:i,clubNames:l,leagueNames:u}),m(!1)},j=()=>{if(!t||t.length===0){alert("No data available to export");return}FP(t,i,r),m(!1)};return s.jsxs("div",{className:"export-container relative",children:[s.jsx("button",{onClick:()=>m(!g),className:`export-button bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded ${o}`,children:a}),g&&s.jsxs("div",{className:"export-options absolute right-0 mt-2 bg-white border border-gray-300 rounded shadow-lg z-10",children:[s.jsx("button",{onClick:f,className:"primary-b block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Export as PDF"}),s.jsx("button",{onClick:j,className:"primary-b block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Export as CSV"})]})]})}function XP({data:t={},title:e="Member Information",fields:r=[],labels:n={},buttonText:i="Export",className:a="",logoUrl:o=null,includePhoto:l=!0,clubName:c=null,leagueName:u=null}){const[d,g]=v.useState(null),[m,f]=v.useState(null);v.useEffect(()=>{(async()=>{if(t.club_id){const b=await Tn();b[t.club_id]&&g(b[t.club_id])}if(t.league_id){const b=await Xn();b[t.league_id]&&f(b[t.league_id])}})()},[t.club_id,t.league_id]);const x=()=>{if(!t||Object.keys(t).length===0){alert("No data available to export");return}j()},j=async()=>{const _=new At("portrait","mm","a4");_.setFontSize(18),_.setTextColor(40,40,40),_.text("Algerian Judo Federation",14,15),_.setFontSize(16),_.setTextColor(40,40,40),_.text(e,14,30),_.setFontSize(10);const b=new Date().toLocaleString();if(_.text(`Generated: ${b}`,14,37),o)try{_.addImage(o,"PNG",170,10,25,25)}catch(T){console.error("Error adding logo to PDF:",T)}let N=45;if(l&&t.photos_url)try{_.addImage(t.photos_url,"PNG",14,45,25,20),N=70}catch(T){console.error("Error adding person photo to PDF:",T),N=45}_.setFontSize(12),t.confirmation?_.setTextColor(0,128,0):_.setTextColor(255,0,0);const S=t.confirmation?"CONFIRMED ":"NOT CONFIRMED ";_.text(S,160,50);const B=(r.length>0?r:Object.keys(t)).map(T=>[n[T]||T.charAt(0).toUpperCase()+T.slice(1).replace(/_/g," "),t[T]||""]);yr(_,{startY:N,head:[["Field","Value"]],body:B,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Y=_.lastAutoTable.finalY||200;if(_.setFontSize(12),_.setTextColor(0,0,0),_.text("Medical certificate",14,Y+20),_.setDrawColor(0),_.line(14,Y+40,80,Y+40),_.setFontSize(10),t.club_id||c){const T=c||d||(t.club_name?t.club_name:`ID: ${t.club_id}`);_.text(`Club: ${T}`,14,Y+60),_.text("Club Visa: _________________",14,Y+70)}if(t.league_id||u){const T=u||m||(t.league_name?t.league_name:`ID: ${t.league_id}`);_.text(`League: ${T}`,120,Y+60),_.text("League Visa: _________________",120,Y+70)}try{const T=JSON.stringify({id:t.id,name:`${t.first_name||""} ${t.last_name||""}`.trim(),license:t.license_number||"",club_id:t.club_id||"",league_id:t.league_id||""}),$=await ui.toDataURL(T,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});_.addImage($,"PNG",180,Y+75,15,15)}catch(T){console.error("Error generating QR code:",T)}const V=`${e.toLowerCase().replace(/ /g,"_")}_${t.id||"record"}.pdf`;_.save(V)};return s.jsx("button",{onClick:x,className:`export-row-button bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-2 rounded text-sm ${a}`,title:"Export this record as PDF",children:i})}function ZP(){const[t,e]=v.useState([]),[r,n]=v.useState([]),[i,a]=v.useState(null),[o,l]=v.useState({}),[c,u]=v.useState(!0),[d,g]=v.useState(null),[m,f]=v.useState(!1),[x,j]=v.useState(""),[_,b]=v.useState(""),[N,S]=v.useState([]),[C,B]=v.useState(0),[Y,V]=v.useState(null),[T,$]=v.useState("Algerian Judo Federation"),[Z,I]=v.useState(!0);Ur();const G=Zn(),de=Zi;v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!U&&E&&S(E)})()},[]),v.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!U&&E.length>0&&V(E[0].logo_url)})()},[]);const M=async()=>{try{u(!0);const{data:oe,error:E}=await ae.from("members").select("*");E?g(E):e(oe||[])}catch(oe){g(oe)}finally{u(!1)}};v.useEffect(()=>{M()},[]),v.useEffect(()=>{(async()=>{try{const{data:E,error:U}=await ae.from("federationrole").select("*");U?console.error("Error fetching roles:",U):n(E||[])}catch(E){console.error("Error fetching roles:",E)}})()},[]);const H=async oe=>{if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:E}=await ae.from("members").delete().eq("id",oe);E?console.error("Error deleting member:",E):e(t.filter(U=>U.id!==oe))},ve=oe=>{a(oe.id),l({...oe})},Le=async oe=>{const{error:E}=await ae.from("members").update({last_name:o.last_name,first_name:o.first_name,date_of_birth:o.date_of_birth,place_of_birth:o.place_of_birth,role_id:o.role_id,blood_type:o.blood_type,national_id_number:o.national_id_number}).eq("id",oe);E?console.error("Error updating member:",E):(e(t.map(U=>U.id===oe?o:U)),a(null))},ne=(oe,E)=>{l({...o,[E]:oe.target.value})},ye=[{header:"Role",field:"role_name"},{header:"Blood Type",field:"blood_type"},{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"National ID Number",field:"national_id_number"},{header:"License Number",field:"license_number"},{header:"Registration Date",field:"registration_date"}],Re=()=>t.map(oe=>{const E=r.find(U=>U.id===oe.role_id);return{...oe,role_name:E?E.federation_role:oe.role_id||"N/A"}});return d?s.jsxs("p",{children:["Error fetching members: ",d.message]}):s.jsxs("div",{className:"app-container",children:[c&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Y?s.jsx("img",{src:Y,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:T||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Member List"}),s.jsx("div",{className:"table-container",ref:G,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood Type"}),s.jsx("th",{children:"Last Name"}),s.jsx("th",{children:"First Name"}),s.jsx("th",{children:"Date of Birth"}),s.jsx("th",{children:"Place of Birth"}),s.jsx("th",{children:"National ID Number"}),s.jsx("th",{children:"License Number"}),s.jsx("th",{children:"Registration Date"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:t.map(oe=>s.jsxs("tr",{children:[s.jsx("td",{children:i===oe.id?s.jsxs("select",{value:o.role_id||"",onChange:E=>l({...o,role_id:E.target.value}),children:[s.jsx("option",{value:"",children:"Select Role"}),r.map(E=>s.jsx("option",{value:E.id,children:E.federation_role},E.id))]}):(()=>{const E=r.find(U=>U.id===oe.role_id);return E?E.federation_role:oe.role_id||"N/A"})()}),s.jsx("td",{children:i===oe.id?s.jsx("input",{value:o.blood_type||"",onChange:E=>ne(E,"blood_type")}):oe.blood_type}),s.jsx("td",{children:i===oe.id?s.jsx("input",{value:o.last_name||"",onChange:E=>ne(E,"last_name")}):oe.last_name}),s.jsx("td",{children:i===oe.id?s.jsx("input",{value:o.first_name||"",onChange:E=>ne(E,"first_name")}):oe.first_name}),s.jsx("td",{children:i===oe.id?s.jsx("input",{type:"date",value:o.date_of_birth||"",onChange:E=>ne(E,"date_of_birth")}):oe.date_of_birth}),s.jsx("td",{children:i===oe.id?s.jsx("input",{value:o.place_of_birth||"",onChange:E=>ne(E,"place_of_birth")}):oe.place_of_birth}),s.jsx("td",{children:oe.national_id_number}),s.jsx("td",{children:oe.license_number}),s.jsx("td",{children:oe.registration_date}),s.jsx("td",{children:i===oe.id?s.jsx("button",{className:"primary-b",onClick:()=>Le(oe.id),children:"Save"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>ve(oe),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>H(oe.id),children:"Delete"}),s.jsx(XP,{data:oe,title:`Member - ${oe.first_name} ${oe.last_name}`,buttonText:s.jsx(KC,{size:16}),className:"ml-1",logoUrl:Y||de})]})})]},oe.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Er,{}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(Mm,{data:Re(),title:`${T} - Member List`,columns:ye,filename:"federation_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:Y||de}})})]})]}),d&&s.jsx(Pn,{message:d,onClose:()=>g(null)}),c&&s.jsx("div",{children:"Loading..."}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function e8(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState(""),[m,f]=v.useState(""),[x,j]=v.useState(""),[_,b]=v.useState(""),[N,S]=v.useState([]),[C,B]=v.useState(""),[Y,V]=v.useState(""),[T,$]=v.useState(""),[Z,I]=v.useState(null),[G,de]=v.useState("Algerian Judo Federation"),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(!1),[Re,oe]=v.useState(!1);Ur(),v.useEffect(()=>{(async()=>{const{data:ce,error:_e}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!_e&&ce.length>0&&I(ce[0].logo_url)})()},[]),v.useEffect(()=>{(async()=>{const{data:ce,error:_e}=await ae.from("federationrole").select("federation_role").order("federation_role",{ascending:!0});!_e&&ce&&S(ce)})()},[]);const E=async()=>{if(!photoFile||photoFile.size===0)return"";const Q=photoFile.name.split(".").pop(),ce=`photo-${Date.now()}.${Q}`,{error:_e}=await ae.storage.from("logos").upload(ce,photoFile);if(_e)return H(`Photo upload failed: ${_e.message}`),"";const{data:Ce}=ae.storage.from("logos").getPublicUrl(ce);return(Ce==null?void 0:Ce.publicUrl)??""},U=async Q=>{if(Q.preventDefault(),H(""),Le(""),oe(!0),!_||!c||!t||!r||!i||!o||!d||!m||!x||!C||!Y||!T){H("All fields are required."),oe(!1);return}if(d.length!==18){H("National Identity Number must be exactly 18 digits."),oe(!1);return}if(m!==x){H("Passwords do not match."),oe(!1);return}try{const ce=await E(),_e=new Date().getFullYear(),Ce=`${_e}/${_e+1}`;if(roleName!=="League President"){H("Only members with the role 'League President' can be submitted."),oe(!1);return}const Be={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:_,blood_type:c,national_id_number:d,password:m,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],nationality:C,holder_of:Y,grade:T,photo_url:ce,confirmation:!1,year:Ce},{error:ke}=await ae.from("members").insert([Be]);ke?H(` Failed to add member: ${ke.message}`):(Le(` Member "${r} ${t}" added successfully!`),e(""),n(""),a(""),l(""),g(""),f(""),j(""),b(""),u(""),B(""),V(""),$(""),setPhotoFile(null))}catch(ce){H(` An unexpected error occurred: ${ce.message}`)}finally{oe(!1)}};return s.jsxs("div",{className:"page-container",children:[ne&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Z?s.jsx("img",{src:Z,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:G||"Algerian Judo Federation"})]})})}),s.jsx("h2",{className:"form-title",children:"Add a New Member"}),s.jsxs("form",{onSubmit:U,className:"form-grid",children:[s.jsxs("label",{children:["Federation Role *",s.jsxs("select",{value:_,onChange:Q=>b(Q.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Federation Role"}),N.map(Q=>s.jsx("option",{value:Q.federation_role,children:Q.federation_role},Q.federation_role))]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:Q=>e(Q.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:Q=>n(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:Q=>a(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:Q=>l(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:c,onChange:Q=>u(Q.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:d,onChange:Q=>g(Q.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:m,onChange:Q=>f(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:x,onChange:Q=>j(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsx("input",{type:"text",value:C,onChange:Q=>B(Q.target.value),required:!0})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Y,onChange:Q=>V(Q.target.value),placeholder:"Licenses, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:T,onChange:Q=>$(Q.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:Q=>{var ce;return setPhotoFile(((ce=Q.target.files)==null?void 0:ce[0])??null)}})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),M&&s.jsx(Pn,{error:M,onClose:()=>H("")}),ve&&s.jsx(Rn,{success:ve,onClose:()=>Le("")}),Re&&s.jsx(ta,{message:"Adding member..."}),s.jsx(pn,{})]})]})}function t8(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState([]),[m,f]=v.useState(""),[x,j]=v.useState(""),[_,b]=v.useState(""),[N,S]=v.useState(""),[C,B]=v.useState(""),[Y,V]=v.useState([]),[T,$]=v.useState(null),[Z,I]=v.useState(null),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(""),[Re,oe]=v.useState(""),[E,U]=v.useState(!1),[Q,ce]=v.useState(!1),[_e,Ce]=v.useState(null),[Be,ke]=v.useState("Algerian Judo Federation"),[He,Ke]=v.useState([]),[ot,Ge]=v.useState(null),[Oe,le]=v.useState(""),[kt,Pt]=v.useState(""),We=Ur(),{state:Me}=fi(),ht=nt=>nt?nt.startsWith("http")?nt:`https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/${nt}`:null;v.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("leaguerole").select("id, league_role");!Bt&&yt&&g(yt)})()},[]),v.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("nameleague").select("id, name_league");!Bt&&yt&&V(yt)})()},[]),v.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!Bt&&yt.length>0&&Ce(yt[0].logo_url)})()},[]);const lt=async()=>{if(!T)return null;const nt=T.name.split(".").pop(),Bt=`${Date.now()}.${nt}`,{error:gt}=await ae.storage.from("logos").upload(Bt,T);if(gt)return ye(`Upload failed: ${gt.message}`),null;const{data:Nt}=ae.storage.from("logos").getPublicUrl(Bt);return(Nt==null?void 0:Nt.publicUrl)??null},_t=async()=>{if(!Z||Z.size===0)return"";const nt=Z.name.split(".").pop(),yt=`photo-${Date.now()}.${nt}`,{error:Bt}=await ae.storage.from("logos").upload(yt,Z);if(Bt)return ye(`Photo upload failed: ${Bt.message}`),"";const{data:gt}=ae.storage.from("logos").getPublicUrl(yt);return(gt==null?void 0:gt.publicUrl)??""},Lt=async(nt,yt,Bt,gt)=>{const{data:Nt}=await ae.from("league_members").select("*").eq("national_id_number",nt).eq("league_id",yt).eq("role",Bt).eq("year",gt);if(Nt&&Nt.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:St}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",nt).eq("league_id",yt).eq("role",Bt);return(St||0)+1},Ot=async nt=>{var Qt;if(nt.preventDefault(),ye(""),oe(""),ce(!0),!r||!t||!i||!o||!c||!C||!_||!N||!Z||!T){const Pe=[];r||Pe.push("First Name"),t||Pe.push("Last Name"),i||Pe.push("Date of Birth"),o||Pe.push("Place of Birth"),c||Pe.push("League Role"),C||Pe.push("League (in the table is league_id)"),_||Pe.push("Password"),N||Pe.push("Confirm Password"),Z||Pe.push("Member Photo"),T||Pe.push("League Logo"),ye(`Please fill in the following required fields: ${Pe.join(", ")}`),ce(!1);return}const yt=Number(C);if(!yt||isNaN(yt)){ye("Please select a valid league."),ce(!1);return}if(x.length!==18){ye("National ID must be exactly 18 digits."),ce(!1);return}if(_!==N){ye("Passwords do not match."),ce(!1);return}const Bt=new Date(i),gt=new Date,Nt=gt.getFullYear()-Bt.getFullYear(),St=gt.getMonth()-Bt.getMonth(),Ft=gt.getDate()-Bt.getDate();if((St<0||St===0&&Ft<0?Nt-1:Nt)<=21){ye("Member must be more than 21 years old to register."),ce(!1);return}try{const{data:Pe,error:me}=await ae.from("league_members").select("id, last_name, password").eq("last_name",t).eq("password",_);if(me){ye(`Failed to validate member data: ${me.message}`),ce(!1);return}if(Pe&&Pe.length>0){ye(`A member with the last name "${t}" and this password already exists. Please change the password.`),ce(!1);return}}catch(Pe){ye(`Validation error: ${Pe.message}`),ce(!1);return}try{const Pe=await _t(),me=await lt(),De=new Date().getFullYear(),ut=`${De}/${De+1}`,$e=((Qt=d.find(qt=>qt.id===parseInt(c)))==null?void 0:Qt.league_role)||"";if($e!=="League President"){ye("Only members with the role 'League President' can be submitted."),ce(!1);return}const ze=await Lt(x,C,$e,ut),Jt={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:$e,blood_type:m,national_id_number:x,password:_,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:me,league_id:yt,photo_url:Pe,renewal:ze,year:ut,nationality:G,holder_of:M,grade:ve,confirmation:!1},{error:Ut}=await ae.from("league_members").insert([Jt]);if(Ut){ye(`Failed to save member: ${Ut.message}`),ce(!1);return}if(me&&C&&await ae.from("nameleague").update({logo_url:me}).eq("id",C),oe(`Member "${r} ${t}" has been successfully added to the League!`),e(""),n(""),a(""),l(""),j(""),b(""),S(""),u(""),f(""),B(""),I(null),$(null),de(""),H(""),Le(""),C){const{data:qt}=await ae.from("league_members").select("*").eq("league_id",Number(C));Ke(qt||[]);const{data:Mt}=await ae.from("nameleague").select("logo_url").eq("id",C).single();Mt!=null&&Mt.logo_url&&Ge(ht(Mt.logo_url))}ce(!1)}catch(Pe){ye(`Unexpected error: ${Pe.message}`),ce(!1)}};return s.jsxs("div",{className:"page-container",children:[E&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[_e?s.jsx("img",{src:_e,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Be||"Algerian Judo Federation"})]})})}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:Ot,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:c,onChange:nt=>u(nt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),d.map(nt=>s.jsx("option",{value:nt.id,children:nt.league_role},nt.id))]})]}),s.jsxs("label",{children:["League *",s.jsx("select",{value:C,onChange:nt=>{B(nt.target.value),le(nt.target.value)},required:!0,disabled:!!(Me!=null&&Me.league_id),children:Me!=null&&Me.league_id?s.jsx("option",{value:Me.league_id,children:kt||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Y.map(nt=>s.jsx("option",{value:nt.id,children:nt.name_league},nt.id))]})})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:nt=>f(nt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:nt=>e(nt.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:nt=>n(nt.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:nt=>a(nt.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:nt=>l(nt.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:nt=>j(nt.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:nt=>b(nt.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:N,onChange:nt=>S(nt.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:G,onChange:nt=>de(nt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:M,onChange:nt=>H(nt.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:ve,onChange:nt=>Le(nt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:nt=>{var yt;return I(((yt=nt.target.files)==null?void 0:yt[0])??null)}})]}),s.jsxs("label",{children:["Upload League Logo *",s.jsx("input",{type:"file",required:!0,onChange:nt=>{var yt;return $(((yt=nt.target.files)==null?void 0:yt[0])??null)}})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>We("/member-list"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),ne&&s.jsx(Pn,{error:ne,onClose:()=>ye(null)}),Re&&s.jsx(Rn,{success:Re,onClose:()=>oe("")}),E&&s.jsx("div",{children:"Loading..."}),s.jsx(pn,{})]})]})}function r8(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState([]),[m,f]=v.useState(""),[x,j]=v.useState(""),[_,b]=v.useState(""),[N,S]=v.useState(""),[C,B]=v.useState([]),[Y,V]=v.useState([]),[T,$]=v.useState(null),[Z,I]=v.useState(null),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(""),[Re,oe]=v.useState(""),[E,U]=v.useState(!1),[Q,ce]=v.useState(!1),[_e,Ce]=v.useState(null),Be="Algerian Judo Federation",[ke,He]=v.useState(""),[Ke,ot]=v.useState(""),Ge=Ur();v.useEffect(()=>{(async()=>{const{data:Me,error:ht}=await ae.from("clubrole").select("id, club_role");ht&&console.error("Error fetching roles:",ht.message),Me&&g(Me)})()},[]),v.useEffect(()=>{(async()=>{const{data:Me,error:ht}=await ae.from("nameleague").select("id, name_league");ht&&console.error("Error fetching leagues:",ht.message),Me&&V(Me)})()},[]),v.useEffect(()=>{if(!ke){B([]);return}(async()=>{const{data:Me,error:ht}=await ae.from("nameclub").select("id, name_club").eq("league_i",ke);ht?console.error("Error fetching clubs:",ht.message):B(Me||[])})()},[ke]),v.useEffect(()=>{(async()=>{const{data:Me,error:ht}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);ht&&console.error("Error fetching logo:",ht.message),Me!=null&&Me.length&&Ce(Me[0].logo_url)})()},[]);const Oe=async We=>{if(!We)return null;try{const Me=We.name.split(".").pop(),ht=`${Date.now()}-${Math.random()}.${Me}`;console.log(`Uploading logo file: ${ht}`);const{error:lt}=await ae.storage.from("logos").upload(ht,We);if(lt)throw console.error("Logo upload error:",lt),new Error(`Logo upload failed: ${lt.message}`);const{data:_t}=ae.storage.from("logos").getPublicUrl(ht),Lt=_t==null?void 0:_t.publicUrl;if(!Lt)throw new Error("Failed to get public URL for uploaded logo");return console.log(`Logo uploaded successfully: ${Lt}`),Lt}catch(Me){throw console.error("uploadFile error:",Me),Me}},le=async()=>{if(!Z)return null;try{const We=Z.name.split(".").pop(),Me=`club_member-${Date.now()}.${We}`;console.log(`Uploading photo file: ${Me}`);const{error:ht}=await ae.storage.from("logos").upload(Me,Z);if(ht)throw console.error("Photo upload error:",ht),new Error(`Photo upload failed: ${ht.message}`);const{data:lt}=ae.storage.from("logos").getPublicUrl(Me),_t=lt==null?void 0:lt.publicUrl;if(!_t)throw new Error("Failed to get public URL for uploaded photo");return console.log(`Photo uploaded successfully: ${_t}`),_t}catch(We){throw console.error("handlePhotoUpload error:",We),We}},kt=async(We,Me,ht,lt)=>{console.log("getNextRenewal called with:",{nidVal:We,clubIdVal:Me,roleVal:ht,currentSeasonYear:lt});const{data:_t,error:Lt}=await ae.from("club_members").select("*").eq("national_id_number",We).eq("club_id",Me).eq("role",ht).eq("year",lt);if(console.log("Query result:",{existingInCurrentYear:_t,queryError:Lt}),_t&&_t.length>0)throw console.log("Found existing member, throwing error"),new Error("This member is already registered for the current season with the same role and club.");const{count:Ot}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",We).eq("club_id",Me).eq("role",ht);return(Ot||0)+1},Pt=async We=>{var Ft;if(We.preventDefault(),ye(""),oe(""),console.log("Setting submitLoading to true"),ce(!0),await new Promise(wt=>setTimeout(wt,100)),!r||!t||!i||!o||!c||!Ke||!ke||!_||!N){const wt=[];r||wt.push("First Name"),t||wt.push("Last Name"),i||wt.push("Date of Birth"),o||wt.push("Place of Birth"),c||wt.push("Role"),Ke||wt.push("Club"),ke||wt.push("League"),_||wt.push("Password"),N||wt.push("Confirm Password"),ye(`Please fill in the following required fields: ${wt.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),ce(!1);return}const Me=Number(Ke),ht=Number(ke);if(!Me||isNaN(Me)){ye("Please select a valid club."),ce(!1);return}if(!ht||isNaN(ht)){ye("Please select a valid league."),ce(!1);return}if(x.length!==18){ye("National ID must be exactly 18 digits."),ce(!1);return}if(_!==N){ye("Passwords do not match."),ce(!1);return}const lt=new Date(i),_t=new Date,Lt=_t.getFullYear()-lt.getFullYear(),Ot=_t.getMonth()-lt.getMonth(),nt=_t.getDate()-lt.getDate();if((Ot<0||Ot===0&&nt<0?Lt-1:Lt)<=21){ye("Member must be more than 21 years old to register."),ce(!1);return}if(t&&_){const{data:wt}=await ae.from("club_members").select("*").eq("last_name",t).eq("password",_);if(wt&&wt.length>0){ye("Change your Password for this name because is already exist"),ce(!1);return}}const Bt=((Ft=d.find(wt=>wt.id===parseInt(c)))==null?void 0:Ft.club_role)||"",gt=new Date().getFullYear(),Nt=`${gt}/${gt+1}`;let St;try{St=await kt(x,Me,Bt,Nt)}catch(wt){ye(wt.message),ce(!1);return}try{console.log("Starting file uploads...");const wt=await le(),Qt=await Oe(T);if(console.log("File uploads completed:",{photoUrl:wt,uploadedClubLogo:Qt}),Bt!=="president of the club"){ye("Only members with the role 'president of the club' can be submitted."),ce(!1);return}const Pe={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:Bt,blood_type:m,national_id_number:x,password:_,photo_url:wt,logo_url:Qt,nationality:G,grade:M,holder_of:ve,club_id:Me,league_id:ht,license_number:`LIC-${Date.now()}`,renewal:St,year:Nt,confirmation:!1},{error:me}=await ae.from("club_members").insert([Pe]);me?(console.error("insert club member error",me),ye("Error saving club member: "+me.message),ce(!1)):(oe(`Member "${r} ${t}" has been successfully added to the club!`),e(""),n(""),a(""),l(""),u(""),f(""),j(""),b(""),S(""),de(""),H(""),Le(""),I(null),$(null),ce(!1))}catch(wt){console.error("handleSubmit error",wt),ye("Unexpected error: "+wt.message),ce(!1)}};return s.jsxs("div",{className:"page-container",children:[E&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsxs("div",{className:"federation-header",children:[_e?s.jsx("img",{src:_e,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Be})]})}),s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:Pt,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:c,onChange:We=>u(We.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),d.map(We=>s.jsx("option",{value:We.id,children:We.club_role},We.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:ke,onChange:We=>{He(We.target.value),ot("")},required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),Y.map(We=>s.jsx("option",{value:We.id,children:We.name_league},We.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:Ke,onChange:We=>ot(We.target.value),disabled:!ke,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),C.map(We=>s.jsx("option",{value:We.id,children:We.name_club},We.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:G,onChange:We=>de(We.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:M,onChange:We=>H(We.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:ve,onChange:We=>Le(We.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:We=>f(We.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:We=>e(We.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:We=>n(We.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:We=>a(We.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:We=>l(We.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:We=>j(We.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:We=>b(We.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:N,onChange:We=>S(We.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:We=>{var Me;return $(((Me=We.target.files)==null?void 0:Me[0])??null)},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:We=>{var Me;return I(((Me=We.target.files)==null?void 0:Me[0])??null)},required:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>Ge("/club-member-list"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),Q&&s.jsx(ta,{message:"Adding member..."}),ne&&s.jsx(Pn,{error:ne,onClose:()=>ye("")}),Re&&s.jsx(Rn,{success:Re,onClose:()=>oe("")}),s.jsx(pn,{})]})]})}function n8(){v.useEffect(()=>{ti()},[]);const{state:t}=fi(),[e,r]=v.useState(null),[n,i]=v.useState(null),[a,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState([]),[g,m]=v.useState(null),[f,x]=v.useState(null),[j,_]=v.useState(null),[b,N]=v.useState(""),[S,C]=v.useState(""),[B,Y]=v.useState(""),[V,T]=v.useState(""),[$,Z]=v.useState(""),[I,G]=v.useState(""),[de,M]=v.useState([]),[H,ve]=v.useState(!0),[Le,ne]=v.useState("");v.useEffect(()=>{console.log(" Loading state changed to:",H),console.log(H?" BarLoading should be visible now":" BarLoading should be hidden now")},[H]);const[ye,Re]=v.useState(0),oe=Zn(),E=Zn(),U=Zn(),Q=Zn(),[ce,_e]=v.useState(null),[Ce]=v.useState("Algerian Judo Federation"),[Be]=v.useState(!0),ke=Ur(),[He,Ke]=v.useState(""),[ot,Ge]=v.useState([]),[Oe,le]=v.useState(null),[kt,Pt]=v.useState(""),[We,Me]=v.useState([{id:1,title:"Official Website",description:"Visit our main website",image:"",link:"https://example.com",type:"website"},{id:2,title:"Rules PDF",description:"Download competition rules",image:"",link:"",type:"pdf"},{id:3,title:"Training Center",description:"Find training locations",image:"",link:"https://maps.google.com",type:"website"},{id:4,title:"Registration Form",description:"Download registration form",image:"",link:"",type:"pdf"},{id:5,title:"Contact Us",description:"Get in touch with us",image:"",link:"mailto:contact@judoalgeria.com",type:"website"}]),[ht,lt]=v.useState(null),[_t,Lt]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:z,error:Ee}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!Ee&&z&&c(z)})()},[]),v.useEffect(()=>{(async()=>{const{data:z,error:Ee}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!Ee&&z.length>0&&_e(z[0].logo_url)})()},[]),v.useEffect(()=>{try{const Fe=localStorage.getItem("algerian_judo_banner_announcements");if(Fe){const z=JSON.parse(Fe);Ge(z)}}catch(Fe){console.error("Erreur lors du chargement des annonces:",Fe)}},[]);const Ot=async()=>{const{data:Fe,error:z}=await ae.from("pub").select("*").order("created_at",{ascending:!1});z||o(Fe)},nt=async Fe=>{const{error:z}=await ae.from("pub").delete().eq("id",Fe);z||Ot()},yt=async()=>{const{data:Fe,error:z}=await ae.from("publications").select("*").order("created_at",{ascending:!1});z||c(Fe)},Bt=async()=>{const{data:Fe,error:z}=await ae.from("publica").select("*").order("created_at",{ascending:!1});z||d(Fe)},gt=async()=>{const{data:Fe,error:z}=await ae.from("logo").select("*").order("id",{ascending:!1});z||M(Fe)},Nt=async()=>{if(!e){alert("Please select a logo first.");return}ve(!0);const Fe=`logo-${Date.now()}-${e.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,e,{upsert:!0});if(z){alert("Upload failed: "+z.message),ve(!1);return}const{data:Ee}=ae.storage.from("publications").getPublicUrl(Fe),{error:st}=await ae.from("logo").insert([{logo_url:Ee.publicUrl}]);if(st){alert("Failed to save to DB: "+st.message),ve(!1);return}r(null),gt(),ve(!1)},St=async Fe=>{const{error:z}=await ae.from("logo").delete().eq("id",Fe);z?alert("Error deleting logo: "+z.message):gt()};v.useEffect(()=>{(async()=>{console.log(" Starting to load initial data...");const z=Date.now();try{console.log(" Fetching all data..."),await Promise.all([gt(),Ot(),yt(),Bt()]);const Ee=Date.now();console.log(` All data loaded successfully in ${Ee-z}ms`)}catch(Ee){console.error(" Error loading data:",Ee),ne("Failed to load data. Please try again.")}finally{console.log(" Setting loading to false"),ve(!1)}})()},[]);const Ft=async()=>{if(!f){alert("Please choose an image for publication.");return}ve(!0);const Fe=`publication-${Date.now()}-${f.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,f,{upsert:!0});if(z){alert("Publication upload failed: "+z.message);return}const{data:Ee}=ae.storage.from("publications").getPublicUrl(Fe),{error:st}=await ae.from("publications").insert([{title:$,description:I,photo_url:Ee.publicUrl}]);if(st){alert("Insert failed: "+st.message),ve(!1);return}x(null),N(""),C(""),yt(),ve(!1)},wt=async()=>{if(!j){alert("Please choose an image for publica.");return}ve(!0);const Fe=`publica-${Date.now()}-${j.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,j,{upsert:!0});if(z){alert("Publica upload failed: "+z.message),ve(!1);return}const{data:Ee}=ae.storage.from("publications").getPublicUrl(Fe),{error:st}=await ae.from("publica").insert([{title:B,description:V,photo_url:Ee.publicUrl}]);if(st){alert("Insert failed: "+st.message),ve(!1);return}_(null),Y(""),T(""),Bt(),ve(!1)},Qt=async Fe=>{const{error:z}=await ae.from("publications").delete().eq("id",Fe);z||yt()},Pe=async Fe=>{const{error:z}=await ae.from("publica").delete().eq("id",Fe);z||Bt()},me=Fe=>{Ge(Fe)},De=()=>{if(He.trim()){const Fe=[...ot,He.trim()];me(Fe);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(Fe))}catch(z){console.error("Erreur lors de la sauvegarde des annonces:",z)}Ke("")}},ut=Fe=>{const z=ot.filter((Ee,st)=>st!==Fe);me(z);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(z))}catch(Ee){console.error("Erreur lors de la sauvegarde des annonces:",Ee)}},$e=Fe=>{le(Fe),Pt(ot[Fe])},ze=()=>{if(Oe!==null&&kt.trim()){const Fe=[...ot];Fe[Oe]=kt.trim(),me(Fe);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(Fe))}catch(z){console.error("Erreur lors de la sauvegarde des annonces:",z)}le(null),Pt("")}},Jt=()=>{le(null),Pt("")},Ut=(Fe,z,Ee)=>{const st=[...We];st[Fe][z]=Ee,Me(st);try{localStorage.setItem("algerian_judo_circle_buttons",JSON.stringify(st))}catch(tt){console.error("Erreur lors de la sauvegarde des boutons:",tt)}JP(st)},qt=async(Fe,z)=>{if(z)try{const Ee=z.name.split(".").pop(),tt=`circle-buttons/${`circle-button-${Fe}-${Date.now()}.${Ee}`}`,{data:bt,error:tr}=await ae.storage.from("publications").upload(tt,z);if(tr)throw tr;const{data:{publicUrl:Gt}}=ae.storage.from("publications").getPublicUrl(tt);Ut(Fe,"image",Gt)}catch(Ee){console.error("Erreur lors du tlchargement de l'image:",Ee),alert("Erreur lors du tlchargement de l'image: "+Ee.message)}},Mt=async(Fe,z)=>{if(z)try{const Ee=z.name.split(".").pop(),tt=`pdfs/${`circle-button-pdf-${Fe}-${Date.now()}.${Ee}`}`,{data:bt,error:tr}=await ae.storage.from("publications").upload(tt,z);if(tr)throw tr;const{data:{publicUrl:Gt}}=ae.storage.from("publications").getPublicUrl(tt);Ut(Fe,"link",Gt)}catch(Ee){console.error("Erreur lors du tlchargement du PDF:",Ee),alert("Erreur lors du tlchargement du PDF: "+Ee.message)}};return v.useEffect(()=>{(async()=>{try{const Fe=await cw();Fe&&Fe.length>0&&Me(Fe)}catch(Fe){console.error("Erreur lors du chargement des boutons:",Fe)}})()},[]),s.jsxs(s.Fragment,{children:[H&&s.jsx(rn,{}),s.jsxs("section",{className:"app-container",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[ce?s.jsx("img",{src:ce,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Ce||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1",onLoadingStart:()=>ve(!0)}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:Fe=>{br(Fe.currentTarget),ke("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:Fe=>{br(Fe.currentTarget),ke("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:Fe=>{br(Fe.currentTarget),ke("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:Fe=>{br(Fe.currentTarget),ke("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("div",{className:"table-container",ref:oe,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Logo"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:de.length>0?de.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.logo_url?s.jsx("img",{src:Fe.logo_url,alt:"Logo",width:"80"}):"No logo"}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>St(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"2",children:"No logos found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",onChange:Fe=>r(Fe.target.files[0])}),s.jsx("button",{className:"primary-b",onClick:Nt,children:"Upload Logo"})]}),s.jsx("h2",{children:"Update Federation Publication"}),s.jsx("div",{className:"table-container",ref:U,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:l.length>0?l.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:Fe.title,width:"80"}):"No photo"}),s.jsx("td",{children:Fe.title}),s.jsx("td",{children:Fe.description}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>Qt(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",children:"No publications found."})})})]})}),s.jsxs("div",{className:"form-grid",style:{marginTop:"1rem"},children:[s.jsx("input",{type:"file",onChange:Fe=>x(Fe.target.files[0])}),s.jsx("input",{type:"text",placeholder:"Title",value:$,onChange:Fe=>Z(Fe.target.value)}),s.jsx("input",{type:"text",placeholder:"Description",value:I,onChange:Fe=>G(Fe.target.value)}),s.jsx("button",{className:"primary-b",onClick:Ft,children:"Save Publication"})]}),s.jsx("h2",{children:"Federation Photos"}),s.jsx("div",{className:"table-container",ref:E,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:a.length>0?a.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:"photo",width:"80"}):"No photo"}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>nt(Fe.id,Fe.photo_url),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"3",children:"No photos found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Fe=>{Fe.target.files&&Fe.target.files.length>0&&(m(Fe.target.files[0]),console.log(" File selected:",Fe.target.files[0].name))}}),s.jsx("button",{className:"primary-b",onClick:async()=>{if(!g){alert(" Please select a photo first.");return}console.log(" Uploading file:",g.name);const Fe=`photos/pub-${Date.now()}-${g.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,g,{upsert:!0});if(z){alert("Upload failed: "+z.message);return}const{data:Ee}=ae.storage.from("publications").getPublicUrl(Fe),{error:st}=await ae.from("pub").insert([{photo_url:Ee.publicUrl}]);if(st){alert("Failed to save to DB: "+st.message);return}alert("Photo uploaded successfully!"),m(null),Ot()},children:"Save Photo"})]}),s.jsx("h2",{children:"PUBLICA UPLOAD (Add New Publication)"}),s.jsx("div",{className:"table-container",ref:Q,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:u.length>0?u.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:Fe.title,width:"80"}):"No photo"}),s.jsx("td",{children:Fe.title}),s.jsx("td",{children:Fe.description}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>Pe(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",children:"No publica entries found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",onChange:Fe=>_(Fe.target.files[0])}),s.jsx("input",{type:"text",placeholder:"Title",value:B,onChange:Fe=>Y(Fe.target.value)}),s.jsx("input",{type:"text",placeholder:"Description",value:V,onChange:Fe=>T(Fe.target.value)}),s.jsx("button",{className:"primary-b",onClick:wt,children:"Save Publica"})]})]}),s.jsx("div",{className:"form-grid",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(iL,{className:"w-6 h-6 text-purple-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gestion des Annonces Publicitaires"})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouvelle annonce"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:He,onChange:Fe=>Ke(Fe.target.value),className:"w-full px-24 py-6 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-xl font-medium shadow-lg",placeholder:" Your ad here announcement...",style:{minWidth:"600px",width:"100%"}}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{className:"primary-b px-8 py-4 text-lg font-semibold rounded-xl shadow-lg",onClick:De,children:[s.jsx(sL,{className:"w-6 h-6 mr-2"}),"Ajouter l'annonce"]})})]})]})}),s.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Annonces actuelles :"}),ot.map((Fe,z)=>s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border",children:Oe===z?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:kt,onChange:Ee=>Pt(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"primary-S",onClick:ze,children:[s.jsx(cL,{className:"w-3 h-3"}),"Sauvegarder"]}),s.jsxs("button",{className:"secondary-btn",onClick:Jt,children:[s.jsx($C,{className:"w-3 h-3"}),"Annuler"]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm flex-1 mr-3",children:Fe}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{className:"primary-S",onClick:()=>$e(z),children:s.jsx(hL,{className:"w-3 h-3"})}),s.jsx("button",{className:"secondary-btn",onClick:()=>ut(z),children:s.jsx(gL,{className:"w-3 h-3"})})]})]})},z))]})]})}),s.jsx("div",{className:"form-grid",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(GC,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gestion des Boutons Circulaires 3D"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:We.map((Fe,z)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),s.jsx("input",{type:"text",value:Fe.title,onChange:Ee=>Ut(z,"title",Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Titre du bouton"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:Fe.description,onChange:Ee=>Ut(z,"description",Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Description du bouton"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:Fe.type,onChange:Ee=>Ut(z,"type",Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"website",children:"Site Web"}),s.jsx("option",{value:"pdf",children:"Fichier PDF"})]})]}),Fe.type==="website"?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(rL,{className:"w-4 h-4 inline mr-1"}),"Lien du site web"]}),s.jsx("input",{type:"url",value:Fe.link,onChange:Ee=>Ut(z,"link",Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com"})]}):s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(XC,{className:"w-4 h-4 inline mr-1"}),"Fichier PDF"]}),s.jsx("input",{type:"file",accept:".pdf",onChange:Ee=>{const st=Ee.target.files[0];st&&Mt(z,st)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Fe.link&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"PDF tlcharg avec succs"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(vL,{className:"w-4 h-4 inline mr-1"}),"Image du bouton"]}),s.jsx("input",{type:"file",accept:"image/*",onChange:Ee=>{const st=Ee.target.files[0];st&&qt(z,st)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Fe.image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:Fe.image,alt:Fe.title,className:"w-16 h-16 object-cover rounded-full border-2 border-gray-300"})})]})]})},Fe.id))})]})})]}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function i8(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState([]),[d,g]=v.useState(null),[m,f]=v.useState("Algerian Judo Federation"),[x,j]=v.useState([]);Ur();const _=Zn();v.useEffect(()=>{(async()=>{const{data:T,error:$}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!$&&T&&u(T)})()},[]),v.useEffect(()=>{(async()=>{const{data:T,error:$}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!$&&T.length>0&&g(T[0].logo_url)})()},[]);const b=async()=>{try{n(!0);const{data:V,error:T}=await ae.from("league_members").select(`
          *,
          nameleague!league_id(
            name_league
          )
        `);if(T)a(T);else{const $=(V||[]).map(Z=>{var I;return{...Z,league_name:((I=Z.nameleague)==null?void 0:I.name_league)||"Unknown League"}});e($)}}catch(V){a(V)}finally{n(!1)}};v.useEffect(()=>{b()},[]),v.useEffect(()=>{(async()=>{try{const{data:T,error:$}=await ae.from("leaguerole").select("*");$?console.error("Error fetching roles:",$):j(T||[])}catch(T){console.error("Error fetching roles:",T)}})()},[]);const N=V=>V?V.startsWith("http")?V:`${ae.storageUrl}/object/public/logos/${V}`:null,S=t,C=[{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"Role",field:"role"},{header:"Blood Type",field:"blood_type"},{header:"Nationality",field:"nationality"},{header:"Grade",field:"grade"},{header:"Holder Of",field:"holder_of"},{header:"National ID",field:"national_id_number"},{header:"Renewal",field:"renewal"},{header:"Year",field:"year"},{header:"License Number",field:"license_number"},{header:"Registration Date",field:"registration_date"},{header:"Confirmation",field:"confirmation"},{header:"League ID",field:"league_id"}],B=()=>t.map(V=>({...V,confirmation:V.confirmation?"Yes":"No"})),Y=V=>{if(!V||Object.keys(V).length===0){a("No member data available to export");return}console.log("Exporting PDF for member:",V),l(`PDF export initiated for ${V.first_name} ${V.last_name}`)};return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"League Member List"}),s.jsx("div",{className:"table-container",ref:_,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League Name"})]})}),s.jsx("tbody",{children:S.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:17,children:"No members found."})}):S.map(V=>s.jsxs("tr",{onDoubleClick:()=>Y(V),style:{cursor:"pointer"},children:[s.jsx("td",{children:V.last_name}),s.jsx("td",{children:V.first_name}),s.jsx("td",{children:V.date_of_birth}),s.jsx("td",{children:V.place_of_birth}),s.jsx("td",{children:V.role||"No Role"}),s.jsx("td",{children:V.blood_type}),s.jsx("td",{children:V.nationality}),s.jsx("td",{children:V.grade}),s.jsx("td",{children:V.holder_of}),s.jsx("td",{children:V.national_id_number}),s.jsx("td",{children:V.renewal}),s.jsx("td",{children:V.year}),s.jsx("td",{children:V.license_number}),s.jsx("td",{children:V.registration_date}),s.jsx("td",{children:V.photo_url?s.jsx("img",{src:N(V.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:V.confirmation?"":""}),s.jsx("td",{children:V.league_name||"Unknown League"})]},V.id))})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx(Mm,{className:"primary-b",data:B(),title:`${m} - League Members List`,columns:C,filename:"league_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:d||Zi}})]})})]}),i&&s.jsx(Pn,{error:i.message||i,onClose:()=>a(null)}),o&&s.jsx(Rn,{success:o,onClose:()=>l("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function a8(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[i,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState([]),[d,g]=v.useState(null),[m,f]=v.useState("Algerian Judo Federation");Ur();const x=Zn(),j=async()=>{try{n(!0);const{data:S,error:C}=await ae.from("club_members").select(`
          *,
          nameleague!league_id(name_league)
        `);C?a(C):e(S||[])}catch(S){a(S)}finally{n(!1)}},_=async()=>{const{data:S,error:C}=await ae.from("logo").select("logo_url").order("id",{ascending:!1}).limit(1);C&&console.error("Error fetching logo:",C.message),S!=null&&S.length&&g(S[0].logo_url)};v.useEffect(()=>{j(),_()},[]),v.useEffect(()=>{(async()=>{const{data:C,error:B}=await ae.from("clubrole").select("id, club_role");B&&console.error("Error fetching roles:",B.message),C&&u(C)})()},[]);const b=[{header:"Role",field:"role_name"},{header:"Blood Type",field:"blood_type"},{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"League Name",field:"league_name"}],N=()=>t.map(S=>{var B;const C=c.find(Y=>Y.id===S.role_id);return{...S,role_name:(C==null?void 0:C.club_role)||"No Role",league_name:((B=S.nameleague)==null?void 0:B.name_league)||S.league_id||"No League"}});return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Club Member List"}),s.jsx("div",{className:"table-container",ref:x,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):t.map(S=>{var C;return s.jsxs("tr",{children:[s.jsx("td",{children:S.last_name}),s.jsx("td",{children:S.first_name}),s.jsx("td",{children:S.date_of_birth}),s.jsx("td",{children:S.place_of_birth}),s.jsx("td",{children:S.role||"No Role"}),s.jsx("td",{children:S.blood_type}),s.jsx("td",{children:S.nationality}),s.jsx("td",{children:S.grade}),s.jsx("td",{children:S.holder_of}),s.jsx("td",{children:S.national_id_number}),s.jsx("td",{children:S.renewal}),s.jsx("td",{children:S.year}),s.jsx("td",{children:S.license_number}),s.jsx("td",{children:S.registration_date}),s.jsx("td",{children:S.photo_url?s.jsx("img",{src:S.photo_url,alt:"Photo",style:{width:"50px",height:"50px"}}):"No Photo"}),s.jsx("td",{children:S.confirmation?"":""}),s.jsx("td",{children:S.club_id}),s.jsx("td",{children:((C=S.nameleague)==null?void 0:C.name_league)||S.league_id})]},S.id)})})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx(Mm,{className:"primary-b",data:N(),title:`${m} - Club Members List`,columns:b,filename:"club_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:d||Zi}})]})})]}),i&&s.jsx(Pn,{error:i.message||i,onClose:()=>a(null)}),o&&s.jsx(Rn,{success:o,onClose:()=>l("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function s8(){v.useEffect(()=>{ti()},[]);const{state:t}=fi(),[e,r]=v.useState([]),[n,i]=v.useState(""),[a,o]=v.useState(null),[l,c]=v.useState({}),[u,d]=v.useState(!0),[g,m]=v.useState(null),[f,x]=v.useState(""),[j,_]=v.useState(""),[b,N]=v.useState(""),[S,C]=v.useState([]),[B,Y]=v.useState(""),[V,T]=v.useState(""),[$,Z]=v.useState(""),[I,G]=v.useState(""),[de,M]=v.useState(""),[H,ve]=v.useState(""),[Le,ne]=v.useState(""),[ye,Re]=v.useState(""),[oe,E]=v.useState(""),[U,Q]=v.useState(""),[ce,_e]=v.useState(""),[Ce,Be]=v.useState(null),[ke,He]=v.useState(!1),[Ke,ot]=v.useState([]),[Ge,Oe]=v.useState(null),[le,kt]=v.useState("Algerian Judo Federation"),[Pt,We]=v.useState(!0),Me=Ur(),ht=Zn();v.useEffect(()=>{(async()=>{const{data:De,error:ut}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!ut&&De&&ot(De)})()},[]),v.useEffect(()=>{(async()=>{const{data:De,error:ut}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!ut&&De.length>0&&Oe(De[0].logo_url)})()},[]);const lt=async()=>{try{d(!0);const{data:me,error:De}=await ae.from("members").select("*").order("created_at",{ascending:!1});De?(console.error("Error fetching members:",De),m(De)):r(me||[])}catch(me){console.error("Exception in fetchMembers:",me),m(me)}finally{d(!1)}};v.useEffect(()=>{lt()},[]);const _t=async()=>{if(!Ce||Ce.size===0)return"";const me=Ce.name.split(".").pop(),De=`photo-${Date.now()}.${me}`,{error:ut}=await ae.storage.from("logos").upload(De,Ce);if(ut)return m(`Photo upload failed: ${ut.message}`),"";const{data:$e}=ae.storage.from("logos").getPublicUrl(De);return($e==null?void 0:$e.publicUrl)??""},Lt=async me=>{if(me.preventDefault(),m(""),x(""),He(!0),!b||!B||!V||!$||!I||!de||!H||!Le||!ye||!oe||!U||!ce){m("All fields are required."),He(!1);return}if(H.length!==18){m("National Identity Number must be exactly 18 digits."),He(!1);return}if(Le!==ye){m("Passwords do not match."),He(!1);return}try{const De=await _t(),ut=new Date().getFullYear(),$e=`${ut}/${ut+1}`;if(j!=="League President"){m("Only members with the role 'League President' can be submitted."),He(!1);return}const ze={last_name:V,first_name:$,date_of_birth:I,place_of_birth:de,role:b,blood_type:B,national_id_number:H,password:Le,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],nationality:oe,holder_of:U,grade:ce,photo_url:De,confirmation:!1,year:$e},{error:Jt}=await ae.from("members").insert([ze]);Jt?m(` Failed to add member: ${Jt.message}`):(x(` Member "${$} ${V}" added successfully!`),T(""),Z(""),G(""),M(""),ve(""),ne(""),Re(""),N(""),Y(""),E(""),Q(""),_e(""),Be(null))}catch(De){m(` An unexpected error occurred: ${De.message}`)}finally{He(!1)}},Ot=e.filter(me=>{if(!n)return!0;const De=n.toLowerCase();return me.first_name&&me.first_name.toLowerCase().includes(De)||me.last_name&&me.last_name.toLowerCase().includes(De)||me.national_id_number&&String(me.national_id_number).toLowerCase().includes(De)||me.role&&me.role.toLowerCase().includes(De)||me.blood_type&&me.blood_type.toLowerCase().includes(De)||me.place_of_birth&&me.place_of_birth.toLowerCase().includes(De)||me.license_number&&String(me.license_number).toLowerCase().includes(De)||me.registration_date&&String(me.registration_date).toLowerCase().includes(De)||me.date_of_birth&&String(me.date_of_birth).toLowerCase().includes(De)}),nt=async me=>{if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:De}=await ae.from("members").delete().eq("id",me);De?console.error("Error deleting member:",De):r(e.filter(ut=>ut.id!==me))},yt=me=>{o(me.id),c({...me})},Bt=async me=>{const{error:De}=await ae.from("members").update({last_name:l.last_name,first_name:l.first_name,date_of_birth:l.date_of_birth,place_of_birth:l.place_of_birth,role:l.role,blood_type:l.blood_type}).eq("id",me);De?console.error("Error updating member:",De):(r(e.map(ut=>ut.id===me?l:ut)),o(null))},gt=(me,De)=>{c({...l,[De]:me.target.value})},Nt=async()=>{const me=[{header:"Role",dataKey:"role"},{header:"Blood Type",dataKey:"blood_type"},{header:"Last Name",dataKey:"last_name"},{header:"First Name",dataKey:"first_name"},{header:"Date of Birth",dataKey:"date_of_birth"},{header:"Place of Birth",dataKey:"place_of_birth"},{header:"National ID",dataKey:"national_id_number"},{header:"License Number",dataKey:"license_number"},{header:"Registration Date",dataKey:"registration_date"}],De={includePhotos:!1,federationName:le};try{const{data:ut,error:$e}=await ae.from("members").select("*").order("created_at",{ascending:!1});if($e){console.error("Error fetching members for PDF:",$e),m($e);return}C0(ut||[],"Members List",me,De)}catch(ut){console.error("Exception exporting members PDF:",ut),m(ut)}};function St(me){return new Promise(De=>{Ua(me,ut=>{if(ut.type==="error")console.warn("EXIF processing failed, using original image:",me),De(me);else try{const $e=ut.toDataURL("image/png");De($e)}catch($e){console.warn("Canvas conversion failed, using original image:",$e),De(me)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Ft=async me=>{if(!me||Object.keys(me).length===0){alert("No data available to export");return}let De=null,ut=null;try{me.club_id&&(De=(await Tn())[me.club_id]),me.league_id&&(ut=(await Xn())[me.league_id])}catch(z){console.error("Error fetching names:",z)}const $e=new At("portrait","mm","a4");$e.setFontSize(18),$e.setTextColor(40,40,40),$e.text("Algerian Judo Federation",14,15);const ze=`Member Information - ${me.first_name||""} ${me.last_name||""}`.trim();$e.setFontSize(16),$e.setTextColor(40,40,40),$e.text(ze,14,30),$e.setFontSize(10);const Jt=new Date().toLocaleString();if($e.text(`Generated: ${Jt}`,14,37),Ge)try{$e.addImage(Ge,"PNG",170,10,25,25)}catch(z){console.error("Error adding logo to PDF:",z)}let Ut=70;if(me.photo_url)try{const z=await St(me.photo_url),Ee=z.startsWith("data:")?"PNG":"JPEG";$e.addImage(z,Ee,14,45,25,20),Ut=70}catch(z){console.error("Error adding photo to PDF:",z);try{$e.addImage(me.photo_url,"JPEG",14,45,25,20)}catch(Ee){console.error("Fallback image addition also failed:",Ee)}Ut=70}$e.setFontSize(12),me.confirmation?$e.setTextColor(0,128,0):$e.setTextColor(255,0,0);const qt=me.confirmation?"CONFIRMED ":"NOT CONFIRMED ";$e.text(qt,160,50),$e.setTextColor(0,0,0);const Mt=[["First Name",me.first_name||""],["Last Name",me.last_name||""],["Date of Birth",me.date_of_birth||""],["Place of Birth",me.place_of_birth||""],["National ID",me.national_id_number||""],["Nationality",me.nationality||""],["Blood Type",me.blood_type||""],["Grade",me.grade||""],["Role",me.role||""],["Holder Of",me.holder_of||""],["License Number",me.license_number||""],["Registration Date",me.registration_date||""],["Year",me.year||""],["Renewal",me.renewal||""]];yr($e,{head:[["Field","Value"]],body:Mt,startY:Ut,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Fe=$e.lastAutoTable.finalY||200;$e.setFontSize(12),$e.setTextColor(0,0,0),$e.text("Medical certificate",14,Fe+20),$e.setDrawColor(0),$e.line(14,Fe+40,80,Fe+40),$e.text("Federation Visa: _________________",120,Fe+70);try{const z=JSON.stringify({id:me.id,name:`${me.first_name||""} ${me.last_name||""}`.trim(),license:me.license_number||"",club_id:me.club_id||"",league_id:me.league_id||"",confirmation:me.confirmation||"Unconfirmed"}),Ee=await ui.toDataURL(z,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});$e.addImage(Ee,"PNG",175,Fe+75,15,15)}catch(z){console.error("Error generating QR code:",z)}$e.save(`member_${me.first_name||""}_${me.last_name||""}.pdf`)},wt=me=>{if(!me||Object.keys(me).length===0){alert("No data available to export");return}Ft(me)},Qt=async()=>{const me=[{header:"Role",dataKey:"role"},{header:"Last Name",dataKey:"last_name"},{header:"First Name",dataKey:"first_name"},{header:"National ID",dataKey:"national_id_number"}],De={includePhotos:!1,federationName:le};try{const{data:ut,error:$e}=await ae.from("members").select("*").order("role",{ascending:!0});if($e){console.error("Error fetching members for role export:",$e),m($e);return}C0(ut||[],"Role-focused Members Export",me,De)}catch(ut){console.error("Exception exporting role-focused PDF:",ut),m(ut)}},Pe=async(me,De)=>{try{const{data:ut,error:$e}=await ae.from("members").update({confirmation:!De}).eq("id",me).select();if($e){console.error("Error updating confirmation:",$e),m($e);return}r(ze=>ze.map(Jt=>Jt.id===me?{...Jt,confirmation:!De}:Jt)),x(De?"Confirmation unset":"Confirmation set")}catch(ut){console.error("Exception in toggleConfirmation:",ut),m(ut)}};return g?s.jsxs("p",{children:["Error fetching members: ",g.message]}):s.jsxs("div",{className:"app-container",children:[u&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Ge?s.jsx("img",{src:Ge,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:le||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:me=>{br(me.currentTarget),Me("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:me=>{br(me.currentTarget),Me("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:me=>{br(me.currentTarget),Me("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:me=>{br(me.currentTarget),Me("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add a New Member"}),s.jsxs("form",{onSubmit:Lt,className:"form-grid",children:[s.jsxs("label",{children:["Federation Role *",s.jsxs("select",{value:b,onChange:me=>N(me.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Federation Role"}),S.map(me=>s.jsx("option",{value:me.federation_role,children:me.federation_role},me.federation_role))]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:V,onChange:me=>T(me.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:$,onChange:me=>Z(me.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:I,onChange:me=>G(me.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:de,onChange:me=>M(me.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:B,onChange:me=>Y(me.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:H,onChange:me=>ve(me.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:Le,onChange:me=>ne(me.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:ye,onChange:me=>Re(me.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsx("input",{type:"text",value:oe,onChange:me=>E(me.target.value),required:!0})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:U,onChange:me=>Q(me.target.value),placeholder:"Licenses, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:ce,onChange:me=>_e(me.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:me=>{var De;return Be(((De=me.target.files)==null?void 0:De[0])??null)}})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>Me("/MemberListPage"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"Federation Member List"}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:n,onChange:me=>i(me.target.value)})})]}),s.jsx("div",{className:"table-container",ref:ht,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Ot.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:17,children:"No members found."})}):Ot.map(me=>s.jsxs("tr",{onDoubleClick:()=>wt(me),style:{cursor:"pointer"},children:[s.jsx("td",{children:a===me.id?s.jsx("input",{value:l.last_name||"",onChange:De=>gt(De,"last_name")}):me.last_name}),s.jsx("td",{children:a===me.id?s.jsx("input",{value:l.first_name||"",onChange:De=>gt(De,"first_name")}):me.first_name}),s.jsx("td",{children:a===me.id?s.jsx("input",{type:"date",value:l.date_of_birth||"",onChange:De=>gt(De,"date_of_birth")}):me.date_of_birth}),s.jsx("td",{children:a===me.id?s.jsx("input",{value:l.place_of_birth||"",onChange:De=>gt(De,"place_of_birth")}):me.place_of_birth}),s.jsx("td",{children:a===me.id?s.jsx("input",{value:l.role||"",onChange:De=>gt(De,"role")}):me.role}),s.jsx("td",{children:a===me.id?s.jsx("input",{value:l.blood_type||"",onChange:De=>gt(De,"blood_type")}):me.blood_type}),s.jsx("td",{children:me.nationality||""}),s.jsx("td",{children:me.grade||""}),s.jsx("td",{children:me.holder_of||""}),s.jsx("td",{children:me.national_id_number}),s.jsx("td",{children:me.renewal||""}),s.jsx("td",{children:me.year||""}),s.jsx("td",{children:me.license_number}),s.jsx("td",{children:me.registration_date}),s.jsx("td",{children:me.photo_url?s.jsx("img",{src:me.photo_url,alt:"Member",style:{width:40,height:40,objectFit:"cover",borderRadius:4}}):""}),s.jsx("td",{children:me.confirmation?"Confirmed":"Pending"}),s.jsx("td",{children:a===me.id?s.jsx("button",{className:"primary-b",onClick:()=>Bt(me.id),children:"Save"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>yt(me),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>nt(me.id),children:"Delete"}),s.jsx("button",{className:"primary-b",onClick:()=>Pe(me.id,!!me.confirmation),children:me.confirmation?"Unset Confirm":"Set Confirm"})]})})]},me.id))})]})}),s.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"12px"},children:[s.jsx("button",{className:"primary-btn",onClick:Nt,children:"Export General PDF"}),s.jsx("button",{className:"primary-btn",onClick:Qt,children:"Export Grade/Role PDF"})]}),s.jsx(Er,{})]}),g&&s.jsx(Pn,{error:g.message||g,onClose:()=>m(null)}),f&&s.jsx(Rn,{success:f,onClose:()=>x("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function o8(){const[t,e]=v.useState([]),[r,n]=v.useState(null),[i,a]=v.useState({}),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[d,g]=v.useState(!1),[m,f]=v.useState(null),[x,j]=v.useState(""),[_,b]=v.useState([]),[N,S]=v.useState(null),[C]=v.useState("Algerian Judo Federation"),[B,Y]=v.useState(""),[V,T]=v.useState(null),[$,Z]=v.useState(""),[I,G]=v.useState(""),[de,M]=v.useState(""),[H,ve]=v.useState(""),[Le,ne]=v.useState(""),[ye,Re]=v.useState([]),[oe,E]=v.useState(""),[U,Q]=v.useState(""),[ce,_e]=v.useState(""),[Ce,Be]=v.useState(""),[ke,He]=v.useState(null),[Ke,ot]=v.useState(""),[Ge,Oe]=v.useState(""),[le,kt]=v.useState(""),[Pt,We]=v.useState(""),[Me,ht]=v.useState([]),[lt,_t]=v.useState(null),[Lt,Ot]=v.useState(""),[nt,yt]=v.useState(""),Bt=Zn(),[gt,Nt]=v.useState([]),[St,Ft]=v.useState(""),[wt,Qt]=v.useState(""),[Pe,me]=v.useState(null),[De,ut]=v.useState(null),$e=Ur(),{state:ze}=fi();function Jt(L){return L??""}function Ut(L){return new Promise((A,J)=>{Ua(L,ie=>{if(ie.type==="error")console.warn("EXIF processing failed, using original image:",L),A(L);else try{const Ne=ie.toDataURL("image/png");A(Ne)}catch(Ne){console.warn("Canvas conversion failed, using original image:",Ne),A(L)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}function qt(){n(null),a({})}v.useEffect(()=>{(async()=>{const{data:A,error:J}=await ae.from("leaguerole").select("*");J?console.error(J):Re(A)})()},[]),v.useEffect(()=>{ti()},[]),v.useEffect(()=>{(async()=>{const{data:A,error:J}=await ae.from("nameleague").select("id, name_league");J?console.error("Error fetching leagues:",J):ht(A||[])})()},[]),v.useEffect(()=>{ze!=null&&ze.league_id&&(We(ze.league_id.toString()),Ot(ze.league_id.toString()))},[ze==null?void 0:ze.league_id]);const Mt=async L=>{const A=typeof L=="object"?L.id:L;if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:J}=await ae.from("league_members").delete().eq("id",A);J||e(ie=>ie.filter(Ne=>Ne.id!==A))},Fe=async()=>{try{l(!0),f(null);const{data:L}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(L!=null&&L.length&&S(Jt(L[0].logo_url)),ze!=null&&ze.league_id){const{data:A}=await ae.from("nameleague").select("*").eq("id",ze.league_id).single();A&&(me(A),Y(A.name_league));const{data:J}=await ae.from("league_members").select("logo_url").eq("league_id",ze.league_id).order("id",{ascending:!1}).limit(1);J!=null&&J.length&&T(Jt(J[0].logo_url))}if(ze!=null&&ze.member_id){const{data:A}=await ae.from("league_members").select("*").eq("id",ze.member_id).single();A&&ut(A)}if(ze!=null&&ze.league_id){const{data:A}=await ae.from("league_members").select("*").eq("league_id",ze.league_id);e(A||[])}}catch(L){f(L.message),console.error("Error fetching data:",L.message)}finally{l(!1)}};v.useEffect(()=>{Fe()},[wt,Pt]),v.useEffect(()=>{ze!=null&&ze.league_id&&We(ze.league_id.toString())},[ze==null?void 0:ze.league_id]),v.useEffect(()=>{(async()=>{const A=(ze==null?void 0:ze.league_id)||Pt;if(!A)return;const{data:J,error:ie}=await ae.from("nameclub").select("id, name_club, league_i").eq("league_i",A);ie?console.error("Error fetching clubs:",ie):Nt(J||[])})()},[ze==null?void 0:ze.league_id,Pt]),v.useEffect(()=>{Fe()},[ze==null?void 0:ze.league_id]);const z=async()=>{if(!ke||ke.size===0)return"";const L=ke.name.split(".").pop(),A=`photo-${Date.now()}.${L}`,{error:J}=await ae.storage.from("logos").upload(A,ke);if(J)return f(`Photo upload failed: ${J.message}`),"";const{data:ie}=ae.storage.from("logos").getPublicUrl(A);return(ie==null?void 0:ie.publicUrl)??""},Ee=async()=>{if(!lt)return null;const L=lt.name.split(".").pop(),J=`${Date.now()}.${L}`,{error:ie}=await ae.storage.from("logos").upload(J,lt);if(ie)return f(`Upload failed: ${ie.message}`),null;const{data:Ne}=ae.storage.from("logos").getPublicUrl(J);return(Ne==null?void 0:Ne.publicUrl)??null},st=async(L,A,J,ie)=>{const{data:Ne}=await ae.from("league_members").select("*").eq("national_id_number",L).eq("league_id",A).eq("role",J).eq("year",ie);if(Ne&&Ne.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:et}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",L).eq("league_id",A).eq("role",J);return(et||0)+1},tt=async L=>{var pe;if(L.preventDefault(),f(""),j(""),u(!0),!I||!$||!de||!H||!Le||!Pt||!ce||!Ce||!ke){const F=[];I||F.push("First Name"),$||F.push("Last Name"),de||F.push("Date of Birth"),H||F.push("Place of Birth"),Le||F.push("League Role"),Pt||F.push("League (in the table is league_id)"),ce||F.push("Password"),Ce||F.push("Confirm Password"),ke||F.push("Member Photo"),f(`Please fill in the following required fields: ${F.join(", ")}`),u(!1);return}const A=Number(Pt);if(!A||isNaN(A)){f("Please select a valid league."),u(!1);return}if(U.length!==18){f("National ID must be exactly 18 digits."),u(!1);return}if(ce!==Ce){f("Passwords do not match."),u(!1);return}const J=new Date(de),ie=new Date,Ne=ie.getFullYear()-J.getFullYear(),et=ie.getMonth()-J.getMonth(),D=ie.getDate()-J.getDate();if((et<0||et===0&&D<0?Ne-1:Ne)<=21){f("Member must be more than 21 years old to register."),u(!1);return}try{const{data:F,error:se}=await ae.from("league_members").select("id, last_name, password").eq("last_name",$).eq("password",ce);if(se){f(`Failed to validate member data: ${se.message}`),u(!1);return}if(F&&F.length>0){f(`A member with the last name "${$}" and this password already exists. Please change the password.`),u(!1);return}}catch(F){f(`Validation error: ${F.message}`),u(!1);return}try{const F=await z(),se=await Ee(),k=new Date().getFullYear(),K=`${k}/${k+1}`,ue=((pe=ye.find(Ze=>Ze.id===parseInt(Le)))==null?void 0:pe.league_role)||"",xe=await st(U,Pt,ue,K),Se={last_name:$,first_name:I,date_of_birth:de,place_of_birth:H,role:ue,blood_type:oe,national_id_number:U,password:ce,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:ze.logo_url||"",league_id:A,photo_url:F,renewal:xe,year:K,nationality:Ke,holder_of:Ge,grade:le,confirmation:!1},{error:Te}=await ae.from("league_members").insert([Se]);if(Te){f(`Failed to save member: ${Te.message}`),u(!1);return}if(se&&Pt&&await ae.from("nameleague").update({logo_url:se}).eq("id",Pt),j(`Member "${I} ${$}" has been successfully added to the League!`),Z(""),G(""),M(""),ve(""),Q(""),_e(""),Be(""),ne(""),E(""),We(""),He(null),ot(""),Oe(""),kt(""),Pt){const{data:Ze}=await ae.from("league_members").select("*").eq("league_id",Number(Pt));e(Ze||[]);const{data:pt}=await ae.from("nameleague").select("logo_url").eq("id",Pt).single();pt!=null&&pt.logo_url&&T(Jt(pt.logo_url))}u(!1)}catch(F){f(`Unexpected error: ${F.message}`),u(!1)}},bt=L=>{n(L.id),a({...L})},tr=async L=>{if(g(!0),f(""),j(""),!i.first_name||!i.last_name||!i.date_of_birth||!i.place_of_birth){const A=[];i.first_name||A.push("First Name"),i.last_name||A.push("Last Name"),i.date_of_birth||A.push("Date of Birth"),i.place_of_birth||A.push("Place of Birth"),f(`Please fill in the following required fields: ${A.join(", ")}`),g(!1);return}if(i.national_id_number&&i.national_id_number.length!==18){f("National ID must be exactly 18 digits."),g(!1);return}if(i.date_of_birth){const A=new Date(i.date_of_birth),J=new Date,ie=J.getFullYear()-A.getFullYear(),Ne=J.getMonth()-A.getMonth(),et=J.getDate()-A.getDate();if((Ne<0||Ne===0&&et<0?ie-1:ie)<=21){f("Member must be more than 21 years old."),g(!1);return}}try{const A=new Date().getFullYear(),J=`${A}/${A+1}`,ie=await st(i.national_id_number,i.league_id||Pt,i.role,J),{role_id:Ne,...et}=i,D={...et,renewal:ie,year:J},{error:be}=await ae.from("league_members").update(D).eq("id",L);if(be){f(`Failed to save member: ${be.message}`),g(!1);return}e(pe=>pe.map(F=>F.id===L?{...F,...D}:F)),n(null),j(`Member "${D.first_name} ${D.last_name}" has been successfully updated!`),g(!1)}catch(A){f(`Unexpected error: ${A.message}`),g(!1)}},Gt=(L,A)=>{a({...i,[A]:L.target.value})},vr=t.filter(L=>{const A=(nt||"").toLowerCase();return A?(L.first_name||"").toLowerCase().includes(A)||(L.last_name||"").toLowerCase().includes(A)||(L.national_id_number||"").includes(A):!0}),te=(L,A,J)=>{const ie=L.internal.pageSize.width;if(N)try{L.addImage(N,"PNG",ie-50,10,30,30)}catch(D){console.warn("Could not add federation logo to PDF:",D)}const Ne=new Date().toLocaleDateString();L.setFontSize(10),L.setFont("helvetica","normal"),L.text(`Print Date: ${Ne}`,20,20),L.setFontSize(16),L.setFont("helvetica","bold"),L.text("Algerian Judo Federation",ie/2,20,{align:"center"}),L.setFontSize(14),L.setFont("helvetica","normal"),L.text(`League: ${J||"League Name"}`,ie/2,35,{align:"center"});const et=L.internal.getNumberOfPages();return L.text(`Page ${et}`,ie/2,L.internal.pageSize.height-10,{align:"center"}),50},ee=(L,A,J,ie=null)=>{const Ne=L.internal.pageSize.width,et=L.internal.pageSize.height;if(N)try{L.addImage(N,"PNG",Ne-50,10,30,30)}catch(pe){console.warn("Could not add federation logo to PDF:",pe)}const D=new Date().toLocaleDateString();L.setFontSize(10),L.setFont("helvetica","normal"),L.text(`Print Date: ${D}`,20,20),L.setFontSize(16),L.setFont("helvetica","bold"),L.text(A||"Federation Name",Ne/2,20,{align:"center"}),L.setFontSize(14),L.text(J||"League Name",Ne/2,30,{align:"center"}),ie&&(L.setFontSize(12),L.text(ie,Ne/2,40,{align:"center"}));const be=L.internal.getCurrentPageInfo().pageNumber;return L.setFontSize(10),L.setFont("helvetica","normal"),L.text(`Page ${be}`,Ne-20,et-10,{align:"right"}),ie?50:40},we=L=>L?String(L).replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim():"",Je=L=>[we(L.last_name||""),we(L.first_name||""),we(L.date_of_birth||""),we(L.place_of_birth||""),we(L.blood_type||""),we(L.nationality||""),we(L.grade||""),we(L.role||""),we(L.holder_of||""),we(L.national_id_number||""),we(L.renewal||""),L.confirmation?"Yes":"No",we(L.license_number||""),we(L.club_name||"")],It=async()=>{if(!(ze!=null&&ze.league_id)){alert("No league selected");return}try{const{data:L,error:A}=await ae.from("league_members").select("*").eq("league_id",ze.league_id);if(A)throw A;if(!L||L.length===0){alert("No members found in this league");return}const J=new At("landscape");let ie=te(J,C,B);J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(255,0,0),J.text("League Members - General Situation",J.internal.pageSize.getWidth()/2,ie,{align:"center"}),J.setTextColor(0,0,0),ie+=20;const Ne={};L.forEach(be=>{const pe=be.year||"Unknown Year";Ne[pe]||(Ne[pe]=[]),Ne[pe].push(be)});const et=Object.keys(Ne).sort();for(const be of et){const F=Ne[be].sort((k,K)=>{const ue=new Date(k.registration_date||"1900-01-01"),xe=new Date(K.registration_date||"1900-01-01");return ue-xe});J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(0,0,0),J.text(`Year: ${be}`,20,ie),ie+=15;const se=F.map(k=>[we(k.last_name||""),we(k.first_name||""),we(k.date_of_birth||""),we(k.place_of_birth||""),we(k.blood_type||""),we(k.nationality||""),we(k.grade||""),we(k.holder_of||""),we(k.national_id_number||""),we(k.password||""),we(k.renewal||""),k.confirmation?"Yes":"No",we(k.license_number||"")]);yr(J,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:se,startY:ie,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(k){k.pageNumber>1&&te(J,C,B)}}),ie=J.lastAutoTable.finalY+20,ie>J.internal.pageSize.getHeight()-50&&(J.addPage(),ie=te(J,C,B))}const D=new Date().getFullYear();J.save(`league_${we(B)}_general_members_${D}.pdf`)}catch(L){console.error("Error exporting general PDF:",L),alert("Error exporting PDF. Please try again.")}},Rt=async()=>{if(!(ze!=null&&ze.league_id)){alert("No league selected");return}try{const{data:L,error:A}=await ae.from("league_members").select("*").eq("league_id",ze.league_id);if(A)throw A;if(!L||L.length===0){alert("No members found in this league");return}const J=new At("landscape");let Ne=ee(J,C,B);J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(255,0,0),J.text("League Members - Grade and Role Situation",J.internal.pageSize.getWidth()/2,Ne,{align:"center"}),J.setTextColor(0,0,0),Ne+=20;const et={};L.forEach(be=>{const pe=be.year||"Unknown Year",F=be.club_name||"No Club";et[pe]||(et[pe]={}),et[pe][F]||(et[pe][F]=[]),et[pe][F].push(be)}),J.setFontSize(16),J.setFont("helvetica","bold"),J.setTextColor(0,0,0),J.text("SECTION ROLE",20,Ne),Ne+=25;for(const[be,pe]of Object.entries(et)){if(Object.keys(pe).length===0)continue;J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(0,0,0),J.text(`Year: ${be}`,20,Ne),Ne+=15;const F=[];for(const[k,K]of Object.entries(pe))F.push(...K);const se={};F.forEach(k=>{const K=k.role||"No Role";se[K]||(se[K]=[]),se[K].push(k)});for(const[k,K]of Object.entries(se)){if(K.length===0)continue;J.setFontSize(12),J.setFont("helvetica","bold"),J.text(`Role: ${we(k)}`,30,Ne),Ne+=8;const ue=K.map(xe=>Je(xe));yr(J,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #"]],body:ue,startY:Ne,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:20,right:10}}),Ne=J.lastAutoTable.finalY+15,Ne>160&&(J.addPage(),Ne=ee(J,C,B)+5)}Ne+=10}J.setFontSize(16),J.setFont("helvetica","bold"),J.setTextColor(0,0,0),J.text("SECTION GRADE",20,Ne),Ne+=25;for(const[be,pe]of Object.entries(et)){if(Object.keys(pe).length===0)continue;J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(0,0,0),J.text(`Year: ${be}`,20,Ne),Ne+=15;const F=[];for(const[k,K]of Object.entries(pe))F.push(...K);const se={};F.forEach(k=>{const K=k.grade||"No Grade";se[K]||(se[K]=[]),se[K].push(k)});for(const[k,K]of Object.entries(se)){if(K.length===0)continue;J.setFontSize(12),J.setFont("helvetica","bold"),J.text(`Grade: ${we(k)}`,30,Ne),Ne+=8;const ue=K.map(xe=>Je(xe));yr(J,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #"]],body:ue,startY:Ne,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:20,right:10}}),Ne=J.lastAutoTable.finalY+15,Ne>160&&(J.addPage(),Ne=ee(J,C,B)+5)}Ne+=10}const D=new Date().getFullYear();J.save(`league_${we(B)}_grade_role_members_${D}.pdf`)}catch(L){console.error("Error exporting grade role PDF:",L),alert("Error exporting PDF. Please try again.")}},Xe=L=>{if(!L||Object.keys(L).length===0){alert("No data available to export");return}ir(L)},ir=async L=>{let A=null,J=null;try{L.club_id&&(A=(await Tn())[L.club_id]),L.league_id&&(J=(await Xn())[L.league_id])}catch(se){console.error("Error fetching names:",se)}const ie=new At("portrait","mm","a4");ie.setFontSize(18),ie.setTextColor(40,40,40),ie.text("Algerian Judo Federation",14,15);const Ne=`League Member Information - ${L.first_name} ${L.last_name}`;ie.setFontSize(16),ie.setTextColor(40,40,40),ie.text(Ne,14,30),ie.setFontSize(10);const et=new Date().toLocaleString();if(ie.text(`Generated: ${et}`,14,37),N)try{ie.addImage(N,"PNG",170,10,25,25)}catch(se){console.error("Error adding logo to PDF:",se)}let D=70;if(L.photo_url)try{const se=await Ut(L.photo_url),k=se.startsWith("data:")?"PNG":"JPEG";ie.addImage(se,k,14,45,25,20),D=70}catch(se){console.error("Error adding photo to PDF:",se);try{ie.addImage(L.photo_url,"JPEG",14,45,25,20)}catch(k){console.error("Fallback image addition also failed:",k)}D=70}ie.setFontSize(12),L.confirmation?ie.setTextColor(0,128,0):ie.setTextColor(255,0,0);const be=L.confirmation?"CONFIRMED ":"NOT CONFIRMED ";ie.text(be,160,50);const pe=[["First Name",L.first_name||""],["Last Name",L.last_name||""],["Date of Birth",L.date_of_birth||""],["Place of Birth",L.place_of_birth||""],["National ID",L.national_id_number||""],["Nationality",L.nationality||""],["Blood Type",L.blood_type||""],["Grade",L.grade||""],["Role",L.role||""],["License Number",L.license_number||""],["Registration Date",L.registration_date||""],["Year",L.year||""],["Renewal",L.renewal||""]];yr(ie,{head:[["Field","Value"]],body:pe,startY:D,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const F=ie.lastAutoTable.finalY||200;if(ie.setFontSize(12),ie.setTextColor(0,0,0),ie.text("Medical certificate",14,F+20),ie.setDrawColor(0),ie.line(14,F+40,80,F+40),ie.setFontSize(10),L.league_id||J){const se=J||`ID: ${L.league_id}`;ie.text(`League: ${se}`,120,F+60),ie.text("League Visa: _________________",120,F+70)}try{const se=JSON.stringify({id:L.id,name:`${L.first_name||""} ${L.last_name||""}`.trim(),license:L.license_number||"",club_id:L.club_id||"",league_id:L.league_id||"",confirmation:L.confirmation||"Unconfirmed"}),k=await ui.toDataURL(se,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});ie.addImage(k,"PNG",175,F+75,15,15)}catch(se){console.error("Error generating QR code:",se)}ie.save(`member_${L.first_name}_${L.last_name}.pdf`)};return ze?s.jsxs("div",{className:"app-container",children:[o&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("img",{src:N||Zi,alt:"Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:C})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[ze.logo_url?s.jsx("img",{src:ze.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:B||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",ze.first_name," ",ze.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",ze.role]}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async L=>{if(br(L.currentTarget),!Pe){alert("League data not loaded yet.");return}$e("/member-list-l",{state:{...ze,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async L=>{if(br(L.currentTarget),!Pe){alert("League data not loaded yet.");return}$e("/TheClubListAddFed-League",{state:{...ze,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async L=>{if(br(L.currentTarget),!Pe){alert("League data not loaded yet.");return}$e("/TheAthleteListAdd-League",{state:{...ze,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:tt,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:Le,onChange:L=>ne(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),ye.map(L=>s.jsx("option",{value:L.id,children:L.league_role},L.id))]})]}),s.jsxs("label",{children:["League *",s.jsx("select",{value:Pt,onChange:L=>{We(L.target.value),Ot(L.target.value)},required:!0,disabled:!!(ze!=null&&ze.league_id),children:ze!=null&&ze.league_id?s.jsx("option",{value:ze.league_id,children:B||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Me.map(L=>s.jsx("option",{value:L.id,children:L.name_league},L.id))]})})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:oe,onChange:L=>E(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:$,onChange:L=>Z(L.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:I,onChange:L=>G(L.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:de,onChange:L=>M(L.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:H,onChange:L=>ve(L.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:U,onChange:L=>Q(L.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:ce,onChange:L=>_e(L.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ce,onChange:L=>Be(L.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Ke,onChange:L=>ot(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Ge,onChange:L=>Oe(L.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:le,onChange:L=>kt(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:L=>{var A;return He(((A=L.target.files)==null?void 0:A[0])??null)}})]}),s.jsxs("label",{children:["League Logo",s.jsx("input",{type:"text",value:ze.logo_url||"",disabled:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",disabled:c,children:c?"Adding...":"Add Member"}),c&&s.jsx(ta,{message:"Adding member..."})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),m&&s.jsx(Pn,{error:m,onClose:()=>f(null)}),x&&s.jsx(Rn,{success:x,onClose:()=>j("")}),s.jsx("h2",{className:"form-title",children:"List Of League Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsx("select",{value:Pt,onChange:L=>{We(L.target.value),Ot(L.target.value)},required:!0,disabled:!!(ze!=null&&ze.league_id),children:ze!=null&&ze.league_id?s.jsx("option",{value:ze.league_id,children:B||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Me.map(L=>s.jsx("option",{value:L.id,children:L.name_league},L.id))]})})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:nt,onChange:L=>yt(L.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Bt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:vr.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):vr.map(L=>s.jsxs("tr",{onDoubleClick:()=>Xe(L),style:{cursor:"pointer"},children:[s.jsx("td",{children:r===L.id?s.jsx("input",{value:i.last_name||"",onChange:A=>Gt(A,"last_name")}):L.last_name}),s.jsx("td",{children:r===L.id?s.jsx("input",{value:i.first_name||"",onChange:A=>Gt(A,"first_name")}):L.first_name}),s.jsx("td",{children:r===L.id?s.jsx("input",{type:"date",value:i.date_of_birth||"",onChange:A=>Gt(A,"date_of_birth")}):L.date_of_birth}),s.jsx("td",{children:r===L.id?s.jsx("input",{value:i.place_of_birth||"",onChange:A=>Gt(A,"place_of_birth")}):L.place_of_birth}),s.jsx("td",{children:r===L.id?s.jsxs("select",{value:i.role||"",onChange:A=>Gt(A,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),ye.map(A=>s.jsx("option",{value:A.league_role??A.name??"",children:A.league_role??A.name??""},A.id))]}):L.role||"No Role"}),s.jsx("td",{children:r===L.id?s.jsxs("select",{value:i.blood_type||"",onChange:A=>Gt(A,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):L.blood_type}),s.jsx("td",{children:r===L.id?s.jsxs("select",{value:i.nationality||"",onChange:A=>Gt(A,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):L.nationality}),s.jsx("td",{children:r===L.id?s.jsxs("select",{value:i.grade||"",onChange:A=>Gt(A,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):L.grade}),s.jsx("td",{children:r===L.id?s.jsx("input",{value:i.holder_of||"",onChange:A=>Gt(A,"holder_of")}):L.holder_of}),s.jsx("td",{children:L.national_id_number}),s.jsx("td",{children:L.renewal}),s.jsx("td",{children:L.year}),s.jsx("td",{children:L.license_number}),s.jsx("td",{children:L.registration_date}),s.jsx("td",{children:L.photo_url?s.jsx("img",{src:Jt(L.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:L.confirmation?"":""}),s.jsx("td",{children:L.league_id}),s.jsx("td",{children:r===L.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>tr(L.id),disabled:d,children:d?"Saving...":"Save"}),s.jsx("button",{className:"secondary-btn",onClick:qt,disabled:d,children:"Cancel"}),d&&s.jsx(ta,{message:"Saving changes..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>bt(L),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Mt(L),children:"Delete"})]})})]},L.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:It,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Rt,children:"Export Grade Role PDF"})]})]}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}function l8(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState([]),[i,a]=v.useState(!0),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,g]=v.useState(null),[m,f]=v.useState(null),[x,j]=v.useState(null),[_,b]=v.useState({}),[N,S]=v.useState(null),[C,B]=v.useState(""),[Y,V]=v.useState(""),[T,$]=v.useState(null),[Z,I]=v.useState(""),[G,de]=v.useState((t==null?void 0:t.club_id)||""),[M,H]=v.useState((t==null?void 0:t.league_id)||""),ve="Algerian Judo Federation",Le="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[ne,ye]=v.useState([]),[Re,oe]=v.useState([]),[E,U]=v.useState([]),[Q,ce]=v.useState({}),[_e,Ce]=v.useState({}),[Be,ke]=v.useState(""),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(""),[kt,Pt]=v.useState(""),[We,Me]=v.useState(""),[ht,lt]=v.useState(""),[_t,Lt]=v.useState(""),[Ot,nt]=v.useState(""),[yt,Bt]=v.useState(null),[gt,Nt]=v.useState(null),[St,Ft]=v.useState(""),[wt,Qt]=v.useState(""),[Pe,me]=v.useState(""),[De,ut]=v.useState(""),[$e,ze]=v.useState(!1),[Jt,Ut]=v.useState(!1),qt=Zn(),Mt=A=>A?A.startsWith("http")?A:`${Le}${A}`:null;function Fe(A){return new Promise((J,ie)=>{Ua(A,Ne=>{if(Ne.type==="error")console.warn("EXIF processing failed, using original image:",A),J(A);else try{const et=Ne.toDataURL("image/png");J(et)}catch(et){console.warn("Canvas conversion failed, using original image:",et),J(A)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const z=async()=>{try{a(!0),l(null);const{data:A}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(A!=null&&A.length&&S(Mt(A[0].logo_url)),t!=null&&t.league_id){const{data:J}=await ae.from("nameleague").select("name_league").eq("id",t.league_id).single();J&&V(J.name_league);const{data:ie}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);ie!=null&&ie.length&&B(Mt(ie[0].logo_url))}if(t!=null&&t.club_id){const{data:J}=await ae.from("nameclub").select("name_club, id").eq("id",t.club_id).single();J&&(I(J.name_club),g(J));const{data:ie,error:Ne}=await ae.from("club_members").select("logo_url").eq("club_id",t.club_id).not("logo_url","is",null).order("id",{ascending:!1}).limit(1);Ne?console.error("Error fetching club logo:",Ne.message):ie!=null&&ie.length&&ie[0].logo_url&&$(Mt(ie[0].logo_url))}if(t!=null&&t.member_id){const{data:J}=await ae.from("club_members").select("*").eq("id",t.member_id).single();J&&f(J)}if(t!=null&&t.club_id){const{data:J}=await ae.from("club_members").select("*").eq("club_id",t.club_id);n(J||[])}}catch(A){l(A),console.error("Error fetching data:",A.message)}finally{a(!1)}};v.useEffect(()=>{z()},[t]),v.useEffect(()=>{(async()=>{const{data:J}=await ae.from("clubrole").select("id, club_role");J&&ye(J)})()},[]),v.useEffect(()=>{(async()=>{const{data:J}=await ae.from("nameclub").select("id, name_club");J&&oe(J)})()},[]),v.useEffect(()=>{(async()=>{const{data:J}=await ae.from("nameleague").select("id, name_league");J&&U(J)})()},[]),v.useEffect(()=>{(async()=>{const J=G||(t==null?void 0:t.club_id);if(!J){$(null),I("");return}try{const{data:ie}=await ae.from("nameclub").select("name_club, id").eq("id",Number(J)).single();ie&&I(ie.name_club);const{data:Ne,error:et}=await ae.from("club_members").select("logo_url").eq("club_id",Number(J)).not("logo_url","is",null).order("id",{ascending:!1}).limit(1);et?(console.error("Error fetching club logo:",et.message),$(null)):Ne!=null&&Ne.length&&Ne[0].logo_url?$(Mt(Ne[0].logo_url)):$(null)}catch(ie){console.error("Error loading club header:",ie),$(null),I("")}})()},[G,t==null?void 0:t.club_id]);const Ee=async A=>{if(!A)return null;const J=A.name.split(".").pop(),ie=`${Date.now()}-${Math.random()}.${J}`,{error:Ne}=await ae.storage.from("logos").upload(ie,A);if(Ne)return l(`Upload failed: ${Ne.message}`),null;const{data:et}=ae.storage.from("logos").getPublicUrl(ie);return(et==null?void 0:et.publicUrl)??null},st=async(A,J,ie,Ne)=>{const{data:et}=await ae.from("club_members").select("*").eq("national_id_number",A).eq("club_id",J).eq("role",ie).eq("year",Ne);if(et&&et.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:D}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",A).eq("club_id",J).eq("role",ie);return(D||0)+1};v.useEffect(()=>{ti()},[]);const tt=async A=>{var xe,Se;if(A.preventDefault(),l(""),u(""),console.log("Setting submitLoading to true"),ze(!0),await new Promise(Te=>setTimeout(Te,100)),!He||!Be||!ot||!Oe||!kt||!G||!M||!_t||!Ot){const Te=[];He||Te.push("First Name"),Be||Te.push("Last Name"),ot||Te.push("Date of Birth"),Oe||Te.push("Place of Birth"),kt||Te.push("Role"),G||Te.push("Club"),M||Te.push("League"),_t||Te.push("Password"),Ot||Te.push("Confirm Password"),l(`Please fill in the following required fields: ${Te.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),ze(!1);return}const J=Number(G),ie=Number(M);if(!J||isNaN(J)){l("Please select a valid club."),ze(!1);return}if(!ie||isNaN(ie)){l("Please select a valid league."),ze(!1);return}const Ne=new Date(ot),et=new Date,D=et.getFullYear()-Ne.getFullYear(),be=et.getMonth()-Ne.getMonth(),pe=et.getDate()-Ne.getDate();if((be<0||be===0&&pe<0?D-1:D)<=21){l("Member must be more than 21 years old to register."),ze(!1);return}if(ht.length!==18){l("National ID must be exactly 18 digits."),ze(!1);return}if(_t!==Ot){l("Passwords do not match."),ze(!1);return}if(Be&&_t){const{data:Te}=await ae.from("club_members").select("*").eq("last_name",Be).eq("password",_t);if(Te&&Te.length>0){l("Change your Password for this name because is already exist"),ze(!1);return}}const se=((xe=ne.find(Te=>Te.id===parseInt(kt)))==null?void 0:xe.club_role)||"",k=new Date().getFullYear(),K=`${k}/${k+1}`;let ue;try{ue=await st(ht,J,se,K)}catch(Te){l(Te.message),ze(!1);return}try{const Te=await Ee(gt),Ze=((Se=ne.find(rt=>rt.id===parseInt(kt)))==null?void 0:Se.club_role)||"",pt=await st(ht,G,Ze),Et=`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,Qe={last_name:Be,first_name:He,date_of_birth:ot,place_of_birth:Oe,role:Ze,blood_type:We,nationality:St,grade:wt,holder_of:Pe,national_id_number:ht,password:_t,photo_url:Te,logo_url:T,renewal:pt,year:Et,confirmation:!1,club_id:G,league_id:M,license_number:`LIC-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0]},{error:ft}=await ae.from("club_members").insert([Qe]);if(ft)throw ft;u(`Member ${He} ${Be} added successfully!`),z(),ke(""),Ke(""),Ge(""),le(""),Pt(""),Me(""),lt(""),Lt(""),nt(""),de(""),H(""),Bt(null),Nt(null),Ft(""),Qt(""),me(""),console.log("Setting submitLoading to false - success"),ze(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(Te){l(Te.message),console.log("Setting submitLoading to false - error"),ze(!1)}},bt=A=>{j(A.id),b(A)},tr=()=>{j(null),b({})},Gt=(A,J)=>{b({..._,[J]:A.target.value})},vr=async A=>{if(l(""),u(""),Ut(!0),!_.first_name||!_.last_name||!_.date_of_birth||!_.place_of_birth||!_.role){const pe=[];_.first_name||pe.push("First Name"),_.last_name||pe.push("Last Name"),_.date_of_birth||pe.push("Date of Birth"),_.place_of_birth||pe.push("Place of Birth"),_.role||pe.push("Role"),l(`Please fill in the following required fields: ${pe.join(", ")}`),Ut(!1);return}const J=new Date(_.date_of_birth),ie=new Date,Ne=ie.getFullYear()-J.getFullYear(),et=ie.getMonth()-J.getMonth(),D=ie.getDate()-J.getDate();if((et<0||et===0&&D<0?Ne-1:Ne)<=21){l("Member must be more than 21 years old to register."),Ut(!1);return}try{const{error:pe}=await ae.from("club_members").update(_).eq("id",A);if(pe)throw pe;u(`Member ${_.first_name} ${_.last_name} updated successfully!`),tr(),z(),Ut(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(pe){l(pe.message),Ut(!1)}},te=async A=>{try{const J=new Date(A.registration_date).toISOString().split("T")[0],ie=new Date().toISOString().split("T")[0];if(J!==ie){alert("You can only delete members on the same day of registration.");return}const{error:Ne}=await ae.from("club_members").delete().eq("id",A.id);if(Ne)throw Ne;n(et=>et.filter(D=>D.id!==A.id))}catch(J){l(J.message)}},ee=r.filter(A=>{var ie,Ne;const J=De.toLowerCase();return(((ie=A.first_name)==null?void 0:ie.toLowerCase())??"").includes(J)||(((Ne=A.last_name)==null?void 0:Ne.toLowerCase())??"").includes(J)||(A.national_id_number??"").includes(J)}),we=A=>A?String(A).replace(/=U/g,"").replace(/<a/g,"").replace(/=Ud/g,"").replace(/-/g,"").replace(/-d/g,"").replace(/<a/g,"").replace(/</g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(/ /g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").trim():"",Je=A=>{console.log(" handleMemberDoubleClick called with member:",A),It(A)},It=A=>{if(console.log(" generateIndividualMemberPDF called with member:",A),!A||Object.keys(A).length===0){l("No member data available to export");return}Rt(A)},Rt=async A=>{try{console.log(" exportPDFWithAutoOrientation called with member:",A);const J=new At,ie=J.internal.pageSize.width,Ne=J.internal.pageSize.height;let et=Z;if(console.log("Initial clubName:",Z,"member.club_id:",A.club_id),A.club_id)try{const xe=await Tn();console.log("Fetched clubNames:",xe),xe[A.club_id]?(et=xe[A.club_id],console.log("Found memberClubName:",et)):console.log("Club ID not found in clubNames:",A.club_id)}catch(xe){console.error("Error fetching club name:",xe)}J.setFontSize(18),J.setTextColor(40,40,40),J.text(we(ve),14,15),J.setFontSize(16),J.setTextColor(40,40,40),J.text(`Club Member Information - ${we(A.first_name)} ${we(A.last_name)}`,14,30),J.setFontSize(10);const D=new Date().toLocaleString();if(J.text(`Generated: ${D}`,14,37),N)try{J.addImage(N,"PNG",170,10,25,25)}catch(xe){console.error("Error adding federation logo to PDF:",xe)}let be=70;if(A.photos_url||A.photo_url)try{const xe=A.photos_url||A.photo_url,Se=await Fe(xe),Te=Se.startsWith("data:")?"PNG":"JPEG";J.addImage(Se,Te,14,45,25,20),be=70}catch(xe){console.error("Error adding photo to PDF:",xe);try{const Se=A.photos_url||A.photo_url;J.addImage(Se,"JPEG",14,45,25,20),be=70}catch(Se){console.error("Fallback image addition also failed:",Se),be=70}}J.setFontSize(12),A.confirmation?J.setTextColor(0,128,0):J.setTextColor(255,0,0);const pe=A.confirmation?"CONFIRMED ":"NOT CONFIRMED ";J.text(pe,160,50),J.setTextColor(0,0,0);const F=ne.find(xe=>xe.id===parseInt(A.role_id)),se=(F==null?void 0:F.club_role)||A.role||"No Role",k=[["Last Name",we(A.last_name)||""],["First Name",we(A.first_name)||""],["Date of Birth",we(A.date_of_birth)||""],["Place of Birth",we(A.place_of_birth)||""],["Role",we(se)],["Blood type",we(A.blood_type)||""],["National ID",we(A.national_id_number)||""],["Nationality",we(A.nationality)||""],["Grade",we(A.grade)||""],["License Number",we(A.license_number)||""],["Registration Date",we(A.registration_date)||""],["Year",we(A.year)||""],["Renewal",we(A.renewal)||""]];yr(J,{startY:be,head:[["Field","Value"]],body:k,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const K=J.lastAutoTable.finalY||200;J.setFontSize(12),J.setTextColor(0,0,0),J.text("Medical certificate",14,K+20),J.setDrawColor(0),J.line(14,K+40,80,K+40),J.setFontSize(10),console.log("memberClubName:",et,"finalY:",K),et?(J.text(`Club: ${we(et)}`,14,K+60),J.text("Club Visa: _________________",14,K+70)):console.log("No memberClubName found, member.club_id:",A.club_id),Y&&(J.text(`League: ${we(Y)}`,120,K+60),J.text("League Visa: _________________",120,K+70));try{const xe=JSON.stringify({id:A.id,name:`${A.first_name||""} ${A.last_name||""}`.trim(),license:A.license_number||"",club_id:A.club_id||"",league_id:A.league_id||""}),Te=await(await ma(async()=>{const{default:Ze}=await Promise.resolve().then(()=>Om);return{default:Ze}},void 0)).default.toDataURL(xe,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});J.addImage(Te,"PNG",180,K+75,15,15)}catch(xe){console.error("Error generating QR code:",xe)}const ue=`athlete_${we(A.first_name)}_${we(A.last_name)}_${A.id||"record"}.pdf`;console.log(" About to save PDF with filename:",ue),J.save(ue),console.log(" PDF save completed")}catch(J){console.error(" Error in exportPDFWithAutoOrientation:",J),l(`Error generating PDF: ${J.message}`)}},Xe=(A,J=1,ie="",Ne="")=>{const et=A.internal.pageSize.getWidth(),D=A.internal.pageSize.getHeight();if(N)try{A.addImage(N,"PNG",et-40,15,25,25)}catch(pe){console.warn("Could not add federation logo:",pe)}const be=new Date().toLocaleDateString();return A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Print Date: ${be}`,15,20),A.setFontSize(16),A.setFont("helvetica","bold"),A.text("Algerian Judo Federation",et/2,25,{align:"center"}),A.setFontSize(12),A.setFont("helvetica","normal"),A.text(`League: ${Ne}`,et/2,35,{align:"center"}),A.text(`Club: ${ie}`,et/2,45,{align:"center"}),A.setFontSize(10),A.text(`Page ${J}`,et-20,D-10,{align:"right"}),55},ir=async()=>{try{if(!ee||ee.length===0){l("No members found to export");return}const A=new At("landscape");let ie=Xe(A,1,Z||"Unknown Club",Y||"");A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(255,0,0),A.text("Club Members - General Situation",A.internal.pageSize.getWidth()/2,ie,{align:"center"}),A.setTextColor(0,0,0),ie+=20;const Ne={};ee.forEach(be=>{const pe=be.year||"Unknown Year";Ne[pe]||(Ne[pe]=[]),Ne[pe].push(be)});const et=Object.keys(Ne).sort();for(const be of et){const F=Ne[be].sort((k,K)=>{const ue=new Date(k.registration_date||"1900-01-01"),xe=new Date(K.registration_date||"1900-01-01");return ue-xe});A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text(`Year: ${be}`,20,ie),ie+=12;const se=F.map(k=>{var ue;const K=((ue=ne.find(xe=>xe.id===parseInt(k.role_id)))==null?void 0:ue.club_role)||k.role||"No Role";return[we(k.last_name),we(k.first_name),we(k.date_of_birth),we(k.place_of_birth),we(k.blood_type),we(k.nationality),we(K),we(k.grade),we(k.holder_of),we(k.national_id_number),we(k.password),we(k.renewal),k.confirmation?"Yes":"No",we(k.license_number)]});yr(A,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:se,startY:ie,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ie=A.lastAutoTable.finalY+15,ie>180&&be!==et[et.length-1]&&(A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||"")+10)}const D=new Date().getFullYear();A.save(`club_members_general_${D}.pdf`)}catch(A){console.error("Error generating PDF:",A),l("Error generating PDF: "+A.message)}},L=async()=>{try{if(!ee||ee.length===0){l("No members found to export");return}const A=new At("landscape");let ie=Xe(A,1,Z||"Unknown Club",Y||"");A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(255,0,0),A.text("Club Members - Grade & Role Report",A.internal.pageSize.getWidth()/2,ie,{align:"center"}),A.setTextColor(0,0,0),ie+=20,A.setFontSize(12),A.setFont("helvetica","bold"),A.text(we("ROLES SECTION"),20,ie),ie+=15;const Ne={};ee.forEach(pe=>{const F=pe.year||"No Year",se=ne.find(K=>K.id===parseInt(pe.role_id)),k=(se==null?void 0:se.club_role)||pe.role||"No Role";Ne[F]||(Ne[F]={}),Ne[F][k]||(Ne[F][k]=[]),Ne[F][k].push(pe)});const et=Object.keys(Ne).sort();for(const pe of et){A.setFontSize(12),A.setFont("helvetica","bold"),A.text(`Year: ${we(pe)}`,20,ie),ie+=10;for(const[F,se]of Object.entries(Ne[pe])){if(se.length===0)continue;A.setFontSize(11),A.setFont("helvetica","bold"),A.text(`Role: ${we(F)}`,30,ie),ie+=8;const K=se.sort((ue,xe)=>new Date(ue.registration_date)-new Date(xe.registration_date)).map(ue=>{var Se;const xe=((Se=ne.find(Te=>Te.id===parseInt(ue.role_id)))==null?void 0:Se.club_role)||ue.role||"No Role";return[we(ue.last_name),we(ue.first_name),we(ue.date_of_birth),we(ue.place_of_birth),we(ue.blood_type),we(ue.nationality),we(xe),we(ue.grade),we(ue.holder_of),we(ue.national_id_number),we(ue.password),we(ue.renewal),ue.confirmation?"Yes":"No",we(ue.license_number)]});yr(A,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:K,startY:ie,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ie=A.lastAutoTable.finalY+8,ie>180&&(A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||"")+5)}ie+=10,ie>170&&pe!==et[et.length-1]&&(A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||"")+10)}A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||""),A.setFontSize(12),A.setFont("helvetica","bold"),A.text(we("GRADES SECTION"),20,ie),ie+=15;const D={};ee.forEach(pe=>{const F=pe.year||"No Year",se=pe.grade||"No Grade";D[F]||(D[F]={}),D[F][se]||(D[F][se]=[]),D[F][se].push(pe)});for(const pe of et){A.setFontSize(12),A.setFont("helvetica","bold"),A.text(`Year: ${we(pe)}`,20,ie),ie+=10;for(const[F,se]of Object.entries(D[pe]||{})){if(se.length===0)continue;A.setFontSize(11),A.setFont("helvetica","bold"),A.text(`Grade: ${we(F)}`,30,ie),ie+=8;const K=se.sort((ue,xe)=>new Date(ue.registration_date)-new Date(xe.registration_date)).map(ue=>{const xe=ne.find(Te=>Te.id===parseInt(ue.role_id)),Se=(xe==null?void 0:xe.club_role)||ue.role||"No Role";return[we(ue.last_name),we(ue.first_name),we(ue.date_of_birth),we(ue.place_of_birth),we(ue.blood_type),we(ue.nationality),we(Se),we(ue.grade),we(ue.holder_of),we(ue.national_id_number),we(ue.password),we(ue.renewal),ue.confirmation?"Yes":"No",we(ue.license_number)]});yr(A,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:K,startY:ie,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ie=A.lastAutoTable.finalY+8,ie>180&&(A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||"")+5)}ie+=10,ie>170&&pe!==et[et.length-1]&&(A.addPage(),ie=Xe(A,A.internal.getNumberOfPages(),Z||"Unknown Club",Y||"")+10)}const be=new Date().getFullYear();A.save(`club_members_grade_role_${be}.pdf`)}catch(A){console.error("Error exporting complete club report PDF:",A),l("Error exporting PDF: "+A.message)}};return s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N?s.jsx("img",{src:N,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:ve})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[C?s.jsx("img",{src:C,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:Y||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T?s.jsx("img",{src:T,alt:"Club Logo",className:"member-logo"}):s.jsx("p",{children:"No club logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:Z||"Club Name"})]})]})}),s.jsx("section",{className:"app-container",children:s.jsxs("div",{className:"form-table-wrapper",children:[s.jsx("h2",{children:"Club Member"}),m?s.jsxs("p",{children:[m.first_name," ",m.last_name," "," ",s.jsx("strong",{children:(()=>{const A=ne.find(J=>J.id===parseInt(m.role_id));return(A==null?void 0:A.club_role)||m.club_role||m.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"1",onClick:A=>{br(A.target),d&&m?(console.log(" Navigating to /club-member-listC with state:",{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:T}),e("/club-member-listC",{state:{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:T}})):console.log(" No club or member found, cannot navigate.")},children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"2",onClick:A=>{br(A.target),d&&m?e("/AthletePage",{state:{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:T,...t,club:d,member:m}}):console.log(" No club or member found, cannot navigate.")},children:"List of Athletes"})]}),s.jsxs("section",{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:tt,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:kt,onChange:A=>Pt(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),ne.map(A=>s.jsx("option",{value:A.id,children:A.club_role},A.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:G,onChange:A=>de(A.target.value),required:!0,disabled:!!(t!=null&&t.club_id),children:[s.jsx("option",{value:"",children:"Select Club"}),Re.map(A=>s.jsx("option",{value:A.id,children:A.name_club},A.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:M,onChange:A=>H(A.target.value),required:!0,disabled:!!(t!=null&&t.league_id),children:[s.jsx("option",{value:"",children:"Select League"}),E.map(A=>s.jsx("option",{value:A.id,children:A.name_league},A.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:St,onChange:A=>Ft(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:wt,onChange:A=>Qt(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Pe,onChange:A=>me(A.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:We,onChange:A=>Me(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Be,onChange:A=>ke(A.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:He,onChange:A=>Ke(A.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:ot,onChange:A=>Ge(A.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Oe,onChange:A=>le(A.target.value),required:!0})]}),s.jsxs("label",{children:["National ID *",s.jsx("input",{value:ht,onChange:A=>lt(A.target.value),maxLength:"18",required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_t,onChange:A=>Lt(A.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ot,onChange:A=>nt(A.target.value),required:!0})]}),s.jsxs("label",{children:["Club Logo *",s.jsx("input",{type:"text",value:T||"",disabled:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:A=>{var J;return Nt(((J=A.target.files)==null?void 0:J[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",disabled:$e,children:$e?"Saving...":"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsx("h2",{className:"form-title",children:"List of Members Club"}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"Search Members Club"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:De,onChange:A=>ut(A.target.value)})})]}),s.jsx("div",{className:"table-container",ref:qt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:ee.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):ee.map(A=>s.jsxs("tr",{onDoubleClick:()=>Je(A),style:{cursor:"pointer"},children:[s.jsx("td",{children:x===A.id?s.jsx("input",{value:_.last_name||"",onChange:J=>Gt(J,"last_name")}):A.last_name}),s.jsx("td",{children:x===A.id?s.jsx("input",{value:_.first_name||"",onChange:J=>Gt(J,"first_name")}):A.first_name}),s.jsx("td",{children:x===A.id?s.jsx("input",{type:"date",value:_.date_of_birth||"",onChange:J=>Gt(J,"date_of_birth")}):A.date_of_birth}),s.jsx("td",{children:x===A.id?s.jsx("input",{value:_.place_of_birth||"",onChange:J=>Gt(J,"place_of_birth")}):A.place_of_birth}),s.jsx("td",{children:x===A.id?s.jsxs("select",{value:_.role||"",onChange:J=>Gt(J,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),ne.map(J=>s.jsx("option",{value:J.club_role,children:J.club_role},J.id))]}):A.role||"No Role"}),s.jsx("td",{children:x===A.id?s.jsxs("select",{value:_.blood_type||"",onChange:J=>Gt(J,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):A.blood_type}),s.jsx("td",{children:x===A.id?s.jsxs("select",{value:_.nationality||"",onChange:J=>Gt(J,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):A.nationality}),s.jsx("td",{children:x===A.id?s.jsxs("select",{value:_.grade||"",onChange:J=>Gt(J,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):A.grade}),s.jsx("td",{children:x===A.id?s.jsx("input",{value:_.holder_of||"",onChange:J=>Gt(J,"holder_of")}):A.holder_of}),s.jsx("td",{children:A.national_id_number}),s.jsx("td",{children:A.renewal}),s.jsx("td",{children:A.year}),s.jsx("td",{children:A.license_number}),s.jsx("td",{children:A.registration_date}),s.jsx("td",{children:A.photo_url?s.jsx("img",{src:A.photo_url,alt:"Photo",style:{width:"50px",height:"50px"}}):"No Photo"}),s.jsx("td",{children:A.confirmation?"Yes":"No"}),s.jsx("td",{children:A.club_id}),s.jsx("td",{children:A.league_id}),s.jsx("td",{children:x===A.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>vr(A.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:tr,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>bt(A),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>te(A),children:"Delete"})]})})]},A.id))})]})}),s.jsxs("div",{children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:ir,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:L,children:"Export Grade & Role PDF"})]})]})]})}),o&&s.jsx(Pn,{error:o,onClose:()=>l(null)}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),i&&s.jsx("div",{children:"Loading..."}),$e&&s.jsx(ta,{message:"Adding member..."}),Jt&&s.jsx(ta,{message:"Saving changes..."}),s.jsx(pn,{}),s.jsx("footer",{className:"footer bg-red-600 text-white p-4 mt-6",children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function c8(){v.useEffect(()=>{ti()},[]),v.useEffect(()=>{ti()},[]);const t=Ur(),r=fi().state||{},[n,i]=v.useState(null),[a]=v.useState("Algerian Judo Federation"),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,g]=v.useState([]),[m,f]=v.useState([]),[x,j]=v.useState((r==null?void 0:r.league_id)||""),[_,b]=v.useState((r==null?void 0:r.club_id)||""),[N,S]=v.useState(""),[C,B]=v.useState(""),[Y,V]=v.useState(""),[T,$]=v.useState(""),[Z,I]=v.useState(""),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(""),[Re,oe]=v.useState(""),[E,U]=v.useState(""),[Q,ce]=v.useState(""),[_e,Ce]=v.useState(null),[Be,ke]=v.useState(null),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(""),[kt,Pt]=v.useState(null),[We,Me]=v.useState({}),[ht,lt]=v.useState(!0),[_t,Lt]=v.useState(""),[Ot,nt]=v.useState(""),[yt,Bt]=v.useState([]),[gt,Nt]=v.useState([]),St="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",Ft=Zn(),wt=te=>te?te.startsWith("http")?te:`${St}${te}`:null;function Qt(te){return new Promise((ee,we)=>{Ua(te,Je=>{if(Je.type==="error")console.warn("EXIF processing failed, using original image:",te),ee(te);else try{const It=Je.toDataURL("image/png");ee(It)}catch(It){console.warn("Canvas conversion failed, using original image:",It),ee(te)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Pe=async te=>{try{if(!te||Object.keys(te).length===0){alert("No data available to export");return}let ee=null,we=null;try{te.club_id&&(ee=(await Tn())[te.club_id]),te.league_id&&(we=(await Xn())[te.league_id])}catch(Ne){console.error("Error fetching names:",Ne)}const Je=new At;Je.setFontSize(18),Je.setTextColor(40,40,40),Je.text(a,14,15),Je.setFontSize(16),Je.setTextColor(40,40,40),Je.text(`Club Member Information - ${un(te.first_name)} ${un(te.last_name)}`,14,30),Je.setFontSize(10);const It=new Date().toLocaleString();if(Je.text(`Generated: ${It}`,14,37),n)try{Je.addImage(n,"PNG",170,10,25,25)}catch(Ne){console.error("Error adding federation logo to PDF:",Ne)}let Rt=45;const Xe=te.photos_url||te.photo_url;if(Xe)try{const Ne=await Qt(Xe),et=Ne.startsWith("data:")?"PNG":"JPEG";Je.addImage(Ne,et,14,45,25,20),Rt=70}catch(Ne){console.error("Error adding normalized photo, attempting original:",Ne);try{Je.addImage(Xe,"JPEG",14,45,25,20),Rt=70}catch(et){console.error("Fallback image addition also failed:",et),Rt=45}}Je.setFontSize(12),te.confirmation?Je.setTextColor(0,128,0):Je.setTextColor(255,0,0);const ir=te.confirmation?"CONFIRMED ":"NOT CONFIRMED ";Je.text(ir,160,50),Je.setTextColor(0,0,0);const L=o.find(Ne=>Ne.id===te.role_id),A=[["Last Name",un(te.last_name)||""],["First Name",un(te.first_name)||""],["Date of Birth",un(te.date_of_birth)||""],["Place of Birth",un(te.place_of_birth)||""],["Role",un(L==null?void 0:L.club_role)||"No Role"],["Blood type",un(te.blood_type)||""],["National ID",un(te.national_id_number)||""],["Nationality",un(te.nationality)||""],["Grade",un(te.grade)||""],["License Number",un(te.license_number)||""],["Registration Date",un(te.registration_date)||""],["Year",un(te.year)||""],["Renewal",un(te.renewal)||""]];yr(Je,{startY:Rt,head:[["Field","Value"]],body:A,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const J=Je.lastAutoTable.finalY||200;if(Je.setFontSize(12),Je.setTextColor(0,0,0),Je.text("Medical certificate",14,J+20),Je.setDrawColor(0),Je.line(14,J+40,80,J+40),Je.setFontSize(10),te.club_id||ee){const Ne=ee||`ID: ${te.club_id}`;Je.text(`${Ne}`,14,J+60),Je.text("Club Visa: _________________",14,J+70)}if(te.league_id||we){const Ne=we||`ID: ${te.league_id}`;Je.text(`${Ne}`,120,J+60),Je.text("League Visa: _________________",120,J+70)}try{const Ne=JSON.stringify({id:te.id,name:`${te.first_name||""} ${te.last_name||""}`.trim(),license:te.license_number||"",club_id:te.club_id||"",league_id:te.league_id||""}),D=await(await ma(async()=>{const{default:be}=await Promise.resolve().then(()=>Om);return{default:be}},void 0)).default.toDataURL(Ne,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Je.addImage(D,"PNG",180,J+75,15,15)}catch(Ne){console.error("Error generating QR code:",Ne)}const ie=`athlete_${te.first_name}_${te.last_name}_${te.id||"record"}.pdf`;Je.save(ie)}catch(ee){console.error(" Error in exportPDFWithAutoOrientation:",ee),alert(`Error exporting PDF: ${ee.message}`)}},me=async()=>{try{console.log("Force refreshing all data..."),typeof Storage<"u"&&(localStorage.clear(),sessionStorage.clear()),"caches"in window&&caches.keys().then(Rt=>{Rt.forEach(Xe=>{caches.delete(Xe)})});const te=Date.now();console.log(" Cache cleared at:",te);const{data:ee,error:we}=await ae.from("nameleague").select("id, name_league");!we&&ee&&(console.log(" RAW DATABASE LEAGUES:",ee),ee.forEach(Rt=>{var Xe;(Xe=Rt.name_league)!=null&&Xe.includes("%")&&(console.log(" DATABASE CORRUPTION FOUND - League:",Rt.name_league),console.log(" Character codes:",Rt.name_league.split("").map(ir=>`${ir}(${ir.charCodeAt(0)})`).join(" ")))}),ee.forEach(Rt=>{Rt.name_league&&(Rt.name_league=Ct(Rt.name_league))}),g(ee));const{data:Je,error:It}=await ae.from("nameclub").select("id, name_club, league_i");!It&&Je&&(console.log(" RAW DATABASE CLUBS:",Je),Je.forEach(Rt=>{var Xe;(Xe=Rt.name_club)!=null&&Xe.includes("%")&&(console.log(" DATABASE CORRUPTION FOUND - Club:",Rt.name_club),console.log(" Character codes:",Rt.name_club.split("").map(ir=>`${ir}(${ir.charCodeAt(0)})`).join(" ")))}),Je.forEach(Rt=>{Rt.name_club&&(Rt.name_club=Ct(Rt.name_club))}),u(Je)),console.log("Data refresh completed")}catch(te){console.error("Error refreshing data:",te)}};v.useEffect(()=>{(async()=>{try{const{data:ee,error:we}=await ae.from("clubrole").select("*");if(we)throw we;l(ee||[]);const{data:Je,error:It}=await ae.from("nameleague").select("id, name_league");if(It)throw It;g(Je||[]);const{data:Rt,error:Xe}=await ae.from("nameclub").select("id, name_club, league_i");if(Xe)throw Xe;u(Rt||[])}catch(ee){console.error("Error fetching initial data:",ee.message)}finally{lt(!1)}})()},[]),v.useEffect(()=>{(async()=>{if(!x){u([]),b("");return}try{const{data:ee,error:we}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(x));if(we)throw we;u(ee||[]),b("")}catch(ee){console.error("Error fetching clubs:",ee.message),u([])}})()},[x]),v.useEffect(()=>{(async()=>{if(!_){Lt("");return}try{console.log("Fetching club name for selectedClub:",_);const{data:ee,error:we}=await ae.from("nameclub").select("name_club").eq("id",Number(_)).single();if(we)throw we;console.log("Club data retrieved:",ee),Lt((ee==null?void 0:ee.name_club)||""),console.log("Club name set to:",(ee==null?void 0:ee.name_club)||"")}catch(ee){console.error("Error fetching club name:",ee.message),Lt("")}})()},[_]),v.useEffect(()=>{(async()=>{if(!x){nt("");return}try{console.log("Fetching league name for selectedLeague:",x);const{data:ee,error:we}=await ae.from("nameleague").select("name_league").eq("id",Number(x)).single();if(we)throw we;console.log("League data retrieved:",ee),nt((ee==null?void 0:ee.name_league)||""),console.log("League name set to:",(ee==null?void 0:ee.name_league)||"")}catch(ee){console.error("Error fetching league name:",ee.message),nt("")}})()},[x]),v.useEffect(()=>{(async()=>{const{data:ee}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);ee!=null&&ee.length&&i(ee[0].logo_url)})()},[]);const De=async()=>{const{data:te}=await ae.from("club_members").select("*");f(te||[])};v.useEffect(()=>{De()},[]);const ut=async te=>{if(!te)return null;const ee=te.name.split(".").pop(),we=`${Date.now()}-${Math.random()}.${ee}`,{error:Je}=await ae.storage.from("logos").upload(we,te);if(Je)return Ge(`Upload failed: ${Je.message}`),null;const{data:It}=ae.storage.from("logos").getPublicUrl(we);return(It==null?void 0:It.publicUrl)??null},$e=async(te,ee,we)=>{const{count:Je}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",te).eq("club_id",ee).eq("role",we);return(Je||0)+1},ze=async te=>{var ee;if(te.preventDefault(),Ge(""),le(""),!C||!N||!Y||!T||!Z||!_||!x||!ve||!ne){Ge("Please fill in all required fields.");return}if(M.length!==18){Ge("National ID must be exactly 18 digits.");return}if(ve!==ne){Ge("Passwords do not match.");return}try{const we=await ut(Be),Je=await ut(_e),It=((ee=o.find(J=>J.id===parseInt(Z)))==null?void 0:ee.club_role)||"",Rt=await $e(M,_,It),Xe=new Date().getFullYear(),ir=`${Xe}/${Xe+1}`,L={last_name:N,first_name:C,date_of_birth:Y,place_of_birth:T,role:It,blood_type:G,national_id_number:M,password:ve,nationality:Re,grade:E,holder_of:Q,photo_url:Je,renewal:Rt,year:ir,confirmation:!1,logo_url:we,club_id:_,league_id:x,license_number:`LIC-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0]},{error:A}=await ae.from("club_members").insert([L]);if(A){Ge(`Failed to save member: ${A.message}`);return}le(`Member "${C} ${N}" added successfully!`),S(""),B(""),V(""),$(""),I(""),de(""),H(""),Le(""),ye(""),b(""),j(""),ke(null),Ce(null),oe(""),U(""),ce("")}catch(we){Ge(`Unexpected error: ${we.message}`)}},Jt=te=>{Pt(te.id),Me(te)},Ut=()=>{Pt(null),Me({})},qt=(te,ee)=>{Me({...We,[ee]:te.target.value})},Mt=async te=>{try{const{error:ee}=await ae.from("club_members").update(We).eq("id",te);if(ee)throw ee;Ut(),De()}catch(ee){Ge(ee.message)}},Fe=async te=>{try{const ee=new Date(te.registration_date).toISOString().split("T")[0],we=new Date().toISOString().split("T")[0];if(ee!==we){alert("You can only delete members on the same day of registration.");return}const{error:Je}=await ae.from("club_members").delete().eq("id",te.id);if(Je)throw Je;f(It=>It.filter(Rt=>Rt.id!==te.id))}catch(ee){Ge(ee.message)}},z=async(te,ee)=>{try{const{error:we}=await ae.from("club_members").update({confirmation:!ee}).eq("id",te);if(we)throw we;f(Je=>Je.map(It=>It.id===te?{...It,confirmation:!ee}:It))}catch(we){Ge(`Failed to update confirmation: ${we.message}`)}},Ee=m.filter(te=>{const ee=He.toLowerCase();return te.first_name.toLowerCase().includes(ee)||te.last_name.toLowerCase().includes(ee)||te.national_id_number.includes(ee)}),st=te=>{tt(te)},tt=te=>{if(!te||Object.keys(te).length===0){alert("No data available to export");return}Pe(te)},bt=(te,ee=1)=>{var L,A;const we=te.internal.pageSize.getWidth(),Je=te.internal.pageSize.getHeight();if(n)try{te.addImage(n,"PNG",we-40,15,25,25)}catch(J){console.warn("Could not add federation logo:",J)}te.setFontSize(10),te.setFont("helvetica","normal");const It=new Date().toLocaleDateString();te.text(`Print Date: ${It}`,15,20);const Rt=c.find(J=>J.id===_);if(Rt!=null&&Rt.logo_club)try{const J=Rt.logo_club.startsWith("http")?Rt.logo_club:`https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/${Rt.logo_club}`;te.addImage(J,"PNG",we-70,15,25,25)}catch(J){console.warn("Could not add club logo:",J)}te.setFontSize(16),te.setFont("helvetica","bold"),te.text(a,we/2,30,{align:"center"}),te.setFontSize(12),te.setFont("helvetica","normal");const Xe=((L=d.find(J=>J.id===x))==null?void 0:L.name_league)||"",ir=((A=c.find(J=>J.id===_))==null?void 0:A.name_club)||"";return te.text(`${Ct(Xe)}`,we/2,35,{align:"center"}),te.text(`${Ct(ir)}`,we/2,45,{align:"center"}),te.setFontSize(10),te.text(`Page ${ee}`,we-20,Je-10,{align:"right"}),45},tr=te=>te.map(ee=>{var It,Rt;const we=((It=c.find(Xe=>Xe.id===ee.club_id))==null?void 0:It.name_club)||"",Je=((Rt=d.find(Xe=>Xe.id===ee.league_id))==null?void 0:Rt.name_league)||"";return[Ct(ee.last_name)||"",Ct(ee.first_name)||"",Ct(ee.date_of_birth)||"",Ct(ee.place_of_birth)||"",Ct(ee.role_name)||"",Ct(ee.blood_type)||"",Ct(ee.nationality)||"",Ct(ee.national_id_number)||"",Ct(ee.license_number)||"",Ct(ee.registration_date)||"",Ct(we),Ct(Je),"",""]}),Gt=async()=>{try{if(console.log("Starting General PDF export..."),await me(),console.log("Filtered members count:",(Ee==null?void 0:Ee.length)||0),!Ee||Ee.length===0){alert("No member data available to export. Please ensure members are loaded.");return}const te=new At("landscape");let ee=bt(te);te.setFontSize(14),te.setFont("helvetica","bold"),te.text("Federation Club Members - General Report",te.internal.pageSize.getWidth()/2,ee+10,{align:"center"});const we=tr(Ee);console.log("Table data prepared, rows:",we.length),yr(te,{head:[["Last Name","First Name","DOB","POB","Role","Blood","Nationality","NID","License #","Registration","Club","League","Club Visa","League Visa"]],body:we,startY:ee+20,styles:{fontSize:7,cellPadding:1},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{10:{cellWidth:25},11:{cellWidth:25},12:{cellWidth:20},13:{cellWidth:20}},didDrawPage:Rt=>{Rt.pageNumber>1&&bt(te,Rt.pageNumber)}});const It=`federation_club_members_general_${new Date().getFullYear()}.pdf`;console.log("Saving PDF as:",It),te.save(It),console.log("General PDF export completed successfully")}catch(te){console.error("Error exporting General PDF:",te),console.error("Error details:",{message:te.message,stack:te.stack,name:te.name}),alert(`Error exporting General PDF: ${te.message}`)}},vr=async()=>{try{console.log("Starting Grade & Role PDF export..."),await me(),console.log("Fetching leagues...");const{data:te,error:ee}=await ae.from("nameleague").select("id, name_league");if(ee)throw console.error("Error fetching leagues:",ee),new Error(`Failed to fetch leagues: ${ee.message}`);if(console.log("Leagues fetched:",(te==null?void 0:te.length)||0),!te||te.length===0){alert("No leagues found");return}te.forEach(et=>{et.name_league&&(console.log("Original league name:",et.name_league),et.name_league=Ct(et.name_league),console.log("Sanitized league name:",et.name_league))}),console.log("Fetching clubs...");const{data:we,error:Je}=await ae.from("nameclub").select("id, name_club, league_i");if(Je)throw console.error("Error fetching clubs:",Je),new Error(`Failed to fetch clubs: ${Je.message}`);if(console.log("Clubs fetched:",(we==null?void 0:we.length)||0),!we||we.length===0){alert("No clubs found");return}we.forEach(et=>{et.name_club&&(console.log("Original club name:",et.name_club),et.name_club=Ct(et.name_club),console.log("Sanitized club name:",et.name_club))}),console.log("Fetching members...");const{data:It,error:Rt}=await ae.from("club_members").select("*");if(Rt)throw console.error("Error fetching members:",Rt),new Error(`Failed to fetch members: ${Rt.message}`);if(console.log("Members fetched:",(It==null?void 0:It.length)||0),!It||It.length===0){alert("No members found");return}const Xe=new At("landscape");let L=bt(Xe);const A={};console.log(" DEBUG: Starting member processing..."),It.forEach(et=>{var k,K;const D=we.find(ue=>ue.id===et.club_id),be=te.find(ue=>ue.id===(D==null?void 0:D.league_i));(k=be==null?void 0:be.name_league)!=null&&k.includes("%")&&console.log(" DEBUG: Raw league name contains %:",be.name_league),(K=D==null?void 0:D.name_club)!=null&&K.includes("%")&&console.log(" DEBUG: Raw club name contains %:",D.name_club);const pe=be?Ct(be.name_league):"Unknown League",F=D?Ct(D.name_club):"Unknown Club",se=et.year||"Unknown Year";A[se]||(A[se]={}),A[se][pe]||(A[se][pe]={}),A[se][pe][F]||(A[se][pe][F]=[]),A[se][pe][F].push(et)}),Xe.setFontSize(16),Xe.setFont("helvetica","bold"),Xe.text("Club Members - Grade & Role Report",Xe.internal.pageSize.getWidth()/2,L,{align:"center"}),L+=20,Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(Ct("ROLES SECTION"),20,L),L+=10;let J=!0;for(const[et,D]of Object.entries(A))if(Object.keys(D).length!==0){J||(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5),J=!1,Xe.setFontSize(11),Xe.setFont("helvetica","bold"),Xe.text(`Year: ${un(et)}`,20,L),L+=15;for(const[be,pe]of Object.entries(D))if(Object.keys(pe).length!==0){Xe.setFontSize(14),Xe.setFont("helvetica","bold"),Xe.text(`League: ${un(be)}`,35,L),L+=12;for(const[F,se]of Object.entries(pe)){if(se.length===0)continue;Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(`Club: ${un(F)}`,50,L),L+=10;const k={};se.forEach(K=>{const ue=o.find(Se=>Se.id===K.role_id),xe=(ue==null?void 0:ue.club_role)||"No Role";k[xe]||(k[xe]=[]),k[xe].push(K)});for(const[K,ue]of Object.entries(k)){if(ue.length===0)continue;Xe.setFontSize(10),Xe.setFont("helvetica","bold"),Xe.text(`Role: ${Ct(K)}`,65,L),L+=6;const xe=ue.map(Se=>[Ct(Se.last_name),Ct(Se.first_name),Ct(Se.date_of_birth),Ct(Se.place_of_birth),Ct(Se.blood_type),Ct(Se.nationality),Ct(Se.grade),Ct(Se.holder_of),Ct(Se.nid),Ct(Se.password),Ct(Se.renewal),Se.confirmation?"Yes":"No",Ct(Se.license_number)]);yr(Xe,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:xe,startY:L,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[52,152,219],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),L=Xe.lastAutoTable.finalY+8,L>180&&(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5)}L+=8,L>160&&(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5)}L+=10}L+=15}Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages()),Xe.setFontSize(16),Xe.setFont("helvetica","bold"),Xe.text("Federation Club Members - Grade & Role Report",Xe.internal.pageSize.getWidth()/2,L,{align:"center"}),L+=20,Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(Ct("GRADES SECTION"),20,L),L+=10;let ie=!0;for(const[et,D]of Object.entries(A))if(Object.keys(D).length!==0){ie||(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5),ie=!1,Xe.setFontSize(11),Xe.setFont("helvetica","bold"),Xe.text(`Year: ${Ct(et)}`,20,L),L+=15;for(const[be,pe]of Object.entries(D))if(Object.keys(pe).length!==0){Xe.setFontSize(14),Xe.setFont("helvetica","bold"),Xe.text(`League: ${Ct(be)}`,35,L),L+=12;for(const[F,se]of Object.entries(pe)){if(se.length===0)continue;Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(`Club: ${Ct(F)}`,50,L),L+=10;const k={};se.forEach(K=>{const ue=K.grade||"No Grade";k[ue]||(k[ue]=[]),k[ue].push(K)});for(const[K,ue]of Object.entries(k)){if(ue.length===0)continue;Xe.setFontSize(10),Xe.setFont("helvetica","bold"),Xe.text(`Grade: ${Ct(K)}`,65,L),L+=6;const xe=ue.map(Se=>{const Te=o.find(pt=>pt.id===Se.role_id),Ze=(Te==null?void 0:Te.club_role)||"No Role";return[Ct(Se.last_name),Ct(Se.first_name),Ct(Se.date_of_birth),Ct(Se.place_of_birth),Ct(Se.blood_type),Ct(Se.nationality),Ct(Ze),Ct(Se.holder_of),Ct(Se.nid),Ct(Se.password),Ct(Se.renewal),Se.confirmation?"Yes":"No",Ct(Se.license_number),Ct(F)]});yr(Xe,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Holder Of","NID","Password","Renewal","Confirmation","License #","Club"]],body:xe,startY:L,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[52,152,219],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),L=Xe.lastAutoTable.finalY+8,L>180&&(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5)}L+=8,L>160&&(Xe.addPage(),L=bt(Xe,Xe.internal.getNumberOfPages())+5)}L+=10}L+=15}const Ne=new Date().getFullYear();Xe.save(`federation_complete_league_club_report_${Ne}.pdf`)}catch(te){console.error("Error exporting complete federation report PDF:",te),console.error("Error details:",{message:te.message,stack:te.stack,name:te.name});let ee="Error exporting PDF: ";te.message.includes("Failed to fetch")?ee+="Network connection error. Please check your internet connection and try again.":te.message.includes("Failed to fetch leagues")?ee+="Unable to load league data from database.":te.message.includes("Failed to fetch clubs")?ee+="Unable to load club data from database.":te.message.includes("Failed to fetch members")?ee+="Unable to load member data from database.":ee+=te.message,alert(ee)}};return v.useEffect(()=>{const te=setTimeout(()=>{},300);return()=>clearTimeout(te)},[He]),v.useEffect(()=>{(async()=>{if(!x){u([]),b(""),f([]);return}try{lt(!0);const{data:ee,error:we}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(x));if(we)throw we;u(ee||[]),b("");const{data:Je,error:It}=await ae.from("club_members").select("*").eq("league_id",Number(x));if(It)throw It;f(Je||[])}catch(ee){console.error("Error fetching league data:",ee),u([]),f([])}finally{lt(!1)}})()},[x]),v.useEffect(()=>{(async()=>{if(!(!x||!_)){lt(!0);try{const{data:ee,error:we}=await ae.from("club_members").select("*").eq("league_id",Number(x)).eq("club_id",Number(_));if(we)throw we;f(ee||[])}catch(ee){console.error("Error fetching members by club:",ee),f([])}finally{lt(!1)}}})()},[_,x]),s.jsxs("div",{className:"app-container",children:[ht&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[n?s.jsx("img",{src:n,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:a||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:te=>{br(te.currentTarget),t("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:te=>{br(te.currentTarget),t("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:te=>{br(te.currentTarget),t("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:te=>{br(te.currentTarget),t("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:ze,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:Z,onChange:te=>I(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),o.map(te=>s.jsx("option",{value:te.id,children:te.club_role},te.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:x,onChange:te=>j(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select League"}),d.map(te=>s.jsx("option",{value:te.id,children:te.name_league},te.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:_,onChange:te=>b(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Club"}),c.map(te=>s.jsx("option",{value:te.id,children:te.name_club},te.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Re,onChange:te=>oe(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:E,onChange:te=>U(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{value:Q,onChange:te=>ce(te.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:G,onChange:te=>de(te.target.value),required:!0,children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:N,onChange:te=>S(te.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:C,onChange:te=>B(te.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:Y,onChange:te=>V(te.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:T,onChange:te=>$(te.target.value),required:!0})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:M,onChange:te=>H(te.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:ve,onChange:te=>Le(te.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:ne,onChange:te=>ye(te.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:te=>{var ee;return ke((ee=te.target.files)==null?void 0:ee[0])},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:te=>{var ee;return Ce((ee=te.target.files)==null?void 0:ee[0])},required:!0})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"List Of Clubs Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsxs("select",{value:x,onChange:te=>j(te.target.value),children:[s.jsx("option",{value:"",children:"-- All Leagues --"}),d.map(te=>s.jsx("option",{value:te.id,children:te.name_league},te.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:_,onChange:te=>b(te.target.value),disabled:!x,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),c.map(te=>s.jsx("option",{value:te.id,children:te.name_club},te.id))]})]}),s.jsx("p",{children:s.jsx("h2",{className:"form-title",children:"search Club Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:He,onChange:te=>Ke(te.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Ft,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Ee.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):Ee.map(te=>s.jsxs("tr",{onDoubleClick:ee=>{if(Date.now()-(window.lastDragEndTime||0)<200){console.log(" Preventing double-click after drag"),ee.preventDefault(),ee.stopPropagation();return}st(te)},style:{cursor:"pointer"},children:[s.jsx("td",{children:kt===te.id?s.jsx("input",{value:We.last_name||"",onChange:ee=>qt(ee,"last_name")}):te.last_name}),s.jsx("td",{children:kt===te.id?s.jsx("input",{value:We.first_name||"",onChange:ee=>qt(ee,"first_name")}):te.first_name}),s.jsx("td",{children:kt===te.id?s.jsx("input",{type:"date",value:We.date_of_birth||"",onChange:ee=>qt(ee,"date_of_birth")}):te.date_of_birth}),s.jsx("td",{children:kt===te.id?s.jsx("input",{value:We.place_of_birth||"",onChange:ee=>qt(ee,"place_of_birth")}):te.place_of_birth}),s.jsx("td",{children:kt===te.id?s.jsxs("select",{value:We.role_id||"",onChange:ee=>qt(ee,"role_id"),children:[s.jsx("option",{value:"",children:"-- Select --"}),o.map(ee=>s.jsx("option",{value:ee.id,children:ee.club_role},ee.id))]}):(()=>{const ee=o.find(we=>we.id===te.role_id);return(ee==null?void 0:ee.club_role)||"No Role"})()}),s.jsx("td",{children:kt===te.id?s.jsxs("select",{value:We.blood_type||"",onChange:ee=>qt(ee,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):te.blood_type}),s.jsx("td",{children:kt===te.id?s.jsxs("select",{value:We.nationality||"",onChange:ee=>qt(ee,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):te.nationality}),s.jsx("td",{children:kt===te.id?s.jsxs("select",{value:We.grade||"",onChange:ee=>qt(ee,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):te.grade}),s.jsx("td",{children:kt===te.id?s.jsx("input",{value:We.holder_of||"",onChange:ee=>qt(ee,"holder_of")}):te.holder_of}),s.jsx("td",{children:te.national_id_number}),s.jsx("td",{children:te.renewal}),s.jsx("td",{children:te.year}),s.jsx("td",{children:te.license_number}),s.jsx("td",{children:te.registration_date}),s.jsx("td",{children:te.photos_url||te.photo_url?s.jsx("img",{src:wt(te.photos_url||te.photo_url),alt:"Member",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:te.confirmation?"":""}),s.jsx("td",{children:te.club_id}),s.jsx("td",{children:te.league_id}),s.jsx("td",{children:kt===te.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>Mt(te.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Ut,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>Jt(te),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Fe(te),children:"Delete"}),s.jsx("button",{className:te.confirmation?"cancel-btn":"confirm-btn",onClick:()=>z(te.id,te.confirmation),children:te.confirmation?"Cancel Confirmation":"Confirm"})]})})]},te.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:Gt,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:vr,children:"Export Grade & Role PDF"})]})]}),ot&&s.jsx(Pn,{error:ot,onClose:()=>Ge("")}),Oe&&s.jsx(Rn,{success:Oe,onClose:()=>le("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function u8(){v.useEffect(()=>{ti()},[]);const{state:t}=fi(),e=Ur(),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState([]),[c,u]=v.useState(0),[d,g]=v.useState(null),[m,f]=v.useState("Algerian Judo Federation"),[x,j]=v.useState(!0),[_,b]=v.useState(!0),[N,S]=v.useState(!1),[C,B]=v.useState(null),[Y,V]=v.useState(""),[T,$]=v.useState(""),[Z,I]=v.useState(""),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(""),[ne,ye]=v.useState(""),[Re,oe]=v.useState(""),[E,U]=v.useState(""),[Q,ce]=v.useState(""),[_e,Ce]=v.useState(""),[Be,ke]=v.useState(null),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(""),[kt,Pt]=v.useState([]),[We,Me]=v.useState([]),[ht,lt]=v.useState([]),[_t,Lt]=v.useState([]),[Ot,nt]=v.useState((t==null?void 0:t.club_id)??""),[yt,Bt]=v.useState((t==null?void 0:t.league_id)??""),[gt,Nt]=v.useState(""),[St,Ft]=v.useState(""),[wt,Qt]=v.useState(null),[Pe,me]=v.useState({}),[De,ut]=v.useState(""),[$e,ze]=v.useState(""),[Jt,Ut]=v.useState([]),[qt,Mt]=v.useState(""),Fe=Zn();function z(D){return new Promise((be,pe)=>{Ua(D,F=>{if(F.type==="error")console.warn("EXIF processing failed, using original image:",D),be(D);else try{const se=F.toDataURL("image/png");be(se)}catch(se){console.warn("Canvas conversion failed, using original image:",se),be(D)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}v.useEffect(()=>{(async()=>{const{data:be,error:pe}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!pe&&be&&l(be)})()},[]),v.useEffect(()=>{(async()=>{const{data:be,error:pe}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!pe&&be.length>0&&g(be[0].logo_url)})()},[]),v.useEffect(()=>{(async()=>{try{const[{data:be,error:pe},{data:F,error:se}]=await Promise.all([ae.from("nameclub").select("id, name_club"),ae.from("nameleague").select("id, name_league")]);pe||se?console.error("Error fetching clubs/leagues:",pe||se):(console.log("Clubs:",be),console.log("Leagues:",F),lt(be),Lt(F))}catch(be){console.error("Unexpected error:",be)}finally{b(!1)}})()},[]),v.useEffect(()=>{(async()=>{if(!(!He||!ot))try{const{data:be,error:pe}=await ae.from("categories").select("weight").eq("genres",He).eq("categories",ot);pe?console.error("Erreur rcupration poids:",pe.message):Pt(be.map(F=>F.weight))}catch(be){console.error("Erreur inconnue:",be)}})()},[He,ot]),v.useEffect(()=>{(async()=>{if(!(!Pe.genres||!Pe.categories))try{const{data:be,error:pe}=await ae.from("categories").select("weight").eq("genres",Pe.genres).eq("categories",Pe.categories);pe?console.error("Erreur rcupration poids:",pe.message):Pt(be.map(F=>F.weight))}catch(be){console.error("Erreur inconnue:",be)}})()},[Pe.genres,Pe.categories]),v.useEffect(()=>{(async()=>{try{const{data:be,error:pe}=await ae.from("nameleague").select("id, name_league");if(pe)throw pe;Lt(be||[]);const{data:F,error:se}=await ae.from("athletes").select("*");if(se)throw se;Me(F||[]),Ut(F||[])}catch(be){console.error(be)}})()},[]),v.useEffect(()=>{(async()=>{if(!De){lt([]),ze(""),Me(Jt);return}try{const{data:be,error:pe}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(De));if(pe)throw pe;lt(be||[]),ze("");const F=Jt.filter(se=>se.league_id===Number(De));Me(F)}catch(be){console.error(be)}})()},[De]),v.useEffect(()=>{(async()=>{if(!De){Ft("");return}try{const{data:be,error:pe}=await ae.from("nameleague").select("name_league").eq("id",Number(De)).single();pe||Ft((be==null?void 0:be.name_league)||"")}catch(be){console.error("Error fetching league name:",be)}})()},[De]),v.useEffect(()=>{(async()=>{if(!$e){Nt("");return}try{const{data:be,error:pe}=await ae.from("nameclub").select("name_club").eq("id",Number($e)).single();pe||Nt((be==null?void 0:be.name_club)||"")}catch(be){console.error("Error fetching club name:",be)}})()},[$e]),v.useEffect(()=>{if(!De&&!$e){Me(Jt);return}let D=Jt;De&&(D=D.filter(be=>be.league_id===Number(De))),$e&&(D=D.filter(be=>be.club_id===Number($e))),Me(D)},[De,$e,Jt]);const Ee=async(D,be,pe)=>{try{const{count:F,error:se}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",D).eq("club_id",be).eq("league_id",pe);return se?(console.error("getNextRenewal count error",se),1):(F||0)+1}catch(F){return console.error("getNextRenewal unexpected",F),1}},st=async()=>{if(!Be)return null;const D=Be.name.split(".").pop(),be=`athlete-${Date.now()}.${D}`,{error:pe}=await ae.storage.from("logos").upload(be,Be);if(pe)return console.error("upload error",pe),null;const{data:F}=ae.storage.from("logos").getPublicUrl(be);return(F==null?void 0:F.publicUrl)??null},tt=(D,be)=>{if(!D||!be)return{isValid:!1,message:"Date of birth and category are required."};const pe=new Date(D),F=new Date,se=F.getFullYear()-pe.getFullYear()-(F.getMonth()<pe.getMonth()||F.getMonth()===pe.getMonth()&&F.getDate()<pe.getDate()?1:0),K={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[be];return K?se<K.min||se>K.max?be==="Veterans"?{isValid:!1,message:`For ${be} category, athlete must be more than 35 years old. Current age: ${se}`}:{isValid:!1,message:`For ${be} category, athlete must be between ${K.min} and ${K.max} years old. Current age: ${se}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${be}`}},bt=async()=>{try{b(!0);let D=ae.from("athletes").select("*");$e?D=D.eq("club_id",Number($e)):De&&(D=D.eq("league_id",Number(De)));const{data:be,error:pe}=await D.order("id",{ascending:!1});if(pe)throw pe;const F=Array.isArray(be)?be:[];Me(F),Ut(F)}catch(D){console.error("fetchData error",D),n(D.message||String(D))}finally{b(!1)}},tr=async D=>{if(D.preventDefault(),n(""),a(""),!T||!Y){n("First name and Last name are required.");return}if(!/^\d{18}$/.test(ne)){n("National ID (NID) must be exactly 18 digits.");return}if(Re!==E){n("Passwords do not match.");return}if(!De&&!yt){n("League must be selected or provided in state.");return}if(!$e&&!Ot){n("Club must be selected or provided in state.");return}const be=tt(Z,ot);if(!be.isValid){n(be.message);return}if(Y&&Re){const{data:se}=await ae.from("athletes").select("*").eq("password",Re);if(se&&se.length>0){n("Change your Password for this name because is already exist");return}}const pe=new Date().getFullYear(),F=`${pe}/${pe+1}`;try{const{data:se,error:k}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",ne).eq("year",F);if(k)throw k;if(se&&se.length>0){n("An athlete with this National ID is already registered for this season.");return}}catch(se){n(se.message||String(se));return}try{b(!0),S(!0);const se=await st(),k=await Ee(ne,Ot,yt),K={last_name:Y,first_name:T,date_of_birth:Z,place_of_birth:G,role:M,blood_type:ve,national_id_number:ne,password:Re,license_number:`ATH-${pe}-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:se,nationality:Q,grade:_e,renewal:k,confirmation:!1,genres:He,categories:ot,weight:Oe,league_id:De||yt,club_id:$e||Ot,year:F},{error:ue}=await ae.from("athletes").insert([K]);ue?(console.error("insert athlete error",ue),alert("Error saving athlete: "+ue.message)):(V(""),$(""),I(""),de(""),H(""),Le(""),ye(""),oe(""),U(""),ce(""),Ce(""),Ke(""),Ge(""),le(""),ke(null),window.location.reload())}catch(se){console.error("handleSubmit error",se),alert("Unexpected error: "+se.message)}finally{S(!1),b(!1)}},Gt=D=>{Qt(D.id),me({...D})},vr=()=>{Qt(null),me({})},te=async()=>{const D=tt(Pe.date_of_birth,Pe.categories);if(!D.isValid){alert(D.message);return}try{S(!0);const{error:be}=await ae.from("athletes").update({last_name:Pe.last_name,first_name:Pe.first_name,date_of_birth:Pe.date_of_birth,place_of_birth:Pe.place_of_birth,role:Pe.role,blood_type:Pe.blood_type,nationality:Pe.nationality,grade:Pe.grade,categories:Pe.categories,weight:Pe.weight,genres:Pe.genres}).eq("id",wt);be?alert("Update failed: "+be.message):(await bt(),vr())}catch(be){console.error("saveEdit error",be),alert("Unexpected error: "+be.message)}finally{S(!1)}},ee=async D=>{const be=new Date().toISOString().split("T")[0];if(D.registration_date!==be){alert("You can only delete athletes the same day they were added.");return}if(window.confirm("Delete this athlete?"))try{const{error:pe}=await ae.from("athletes").delete().eq("id",D.id);if(pe)throw pe;await bt()}catch(pe){console.error("deleteAthlete error",pe),alert("Error deleting athlete: "+pe.message)}},we=["Admin","Coach","Athlete"],Je=["Algerian","Tunisian"],It=["brown belt","black belt"],Rt=async(D,be)=>{try{const{error:pe}=await ae.from("athletes").update({confirmation:!be}).eq("id",D);if(pe)throw pe;Me(F=>F.map(se=>se.id===D?{...se,confirmation:!be}:se))}catch(pe){n(`Failed to update athlete confirmation: ${pe.message}`)}},Xe=We.filter(D=>{var pe,F;const be=(qt||"").toLowerCase();return(((pe=D.first_name)==null?void 0:pe.toLowerCase())??"").includes(be)||(((F=D.last_name)==null?void 0:F.toLowerCase())??"").includes(be)||(D.national_id_number??"").includes(be)}),ir=D=>{if(!D||Object.keys(D).length===0){alert("No data available to export");return}L(D)},L=async D=>{let be=null,pe=null;try{D.club_id&&(be=(await Tn())[D.club_id]),D.league_id&&(pe=(await Xn())[D.league_id])}catch(Te){console.error("Error fetching names:",Te)}const F=new At("portrait","mm","a4");F.setFontSize(18),F.setTextColor(40,40,40),F.text("Algerian Judo Federation",14,15);const se=`Athlete Information - ${D.first_name} ${D.last_name}`;F.setFontSize(16),F.setTextColor(40,40,40),F.text(se,14,30),F.setFontSize(10);const k=new Date().toLocaleString();if(F.text(`Generated: ${k}`,14,37),d)try{F.addImage(d,"PNG",170,10,25,25)}catch(Te){console.error("Error adding logo to PDF:",Te)}let K=70;if(D.photos_url)try{const Te=await z(D.photos_url),Ze=Te.startsWith("data:")?"PNG":"JPEG";F.addImage(Te,Ze,14,45,25,20),K=70}catch(Te){console.error("Error adding photo to PDF:",Te);try{F.addImage(D.photos_url,"JPEG",14,45,25,20)}catch(Ze){console.error("Fallback image addition also failed:",Ze)}K=70}F.setFontSize(12),D.confirmation?F.setTextColor(0,128,0):F.setTextColor(255,0,0);const ue=D.confirmation?"CONFIRMED ":"NOT CONFIRMED ";F.text(ue,160,50);const xe=[["First Name",D.first_name||""],["Last Name",D.last_name||""],["Date of Birth",D.date_of_birth||""],["Place of Birth",D.place_of_birth||""],["National ID",D.national_id_number||""],["Nationality",D.nationality||""],["Blood Type",D.blood_type||""],["Grade",D.grade||""],["Role",D.role||""],["Gender",D.genres||""],["Category",D.categories||""],["Weight",D.weight||""],["License Number",D.license_number||""],["Registration Date",D.registration_date||""],["Year",D.year||""],["Renewal",D.renewal||""],["Club",be||`Club ID: ${D.club_id}`],["League",pe||`League ID: ${D.league_id}`],["Confirmation",D.confirmation?"Confirmed":"Not Confirmed"]];yr(F,{head:[["Field","Value"]],body:xe,startY:K,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{fontSize:10},columnStyles:{0:{cellWidth:50},1:{cellWidth:120}}});const Se=F.lastAutoTable.finalY||200;if(F.setFontSize(12),F.setTextColor(0,0,0),F.text("Medical certificate",14,Se+10),F.setDrawColor(0),F.line(14,Se+25,80,Se+25),F.setFontSize(10),D.club_id||be){const Te=be||`ID: ${D.club_id}`;F.text(`Club: ${Te}`,14,Se+40),F.text("Club Visa: _________________",14,Se+50)}if(D.league_id||pe){const Te=pe||`ID: ${D.league_id}`;F.text(`League: ${Te}`,120,Se+40),F.text("League Visa: _________________",120,Se+50)}try{const Te=JSON.stringify({id:D.id,name:`${D.first_name||""} ${D.last_name||""}`.trim(),license:D.license_number||"",club_id:D.club_id||"",league_id:D.league_id||"",confirmation:D.confirmation||"Unconfirmed"}),Ze=await ui.toDataURL(Te,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});F.addImage(Ze,"PNG",170,Se+55,15,15)}catch(Te){console.error("Error generating QR code:",Te)}F.save(`athlete_${D.first_name}_${D.last_name}_${D.id||"record"}.pdf`)},A=async()=>{if(!Xe||Xe.length===0){alert("No athletes data available to export");return}const D=new At("landscape","mm","a4"),be=new Date().getFullYear(),pe=`${be}/${be+1}`;let F=Ne(D,m,St,gt);D.setFont("helvetica","bold"),D.setFontSize(14),D.setTextColor(220,53,69),D.text("Athletes - General Situation",D.internal.pageSize.getWidth()/2,F,{align:"center"}),D.setTextColor(0,0,0),F+=15,D.setFontSize(12),D.setFont("helvetica","bold"),D.text(`Year: ${pe}`,20,F),F+=10;const se=Xe.map(k=>[ie(k.last_name||""),ie(k.first_name||""),ie(k.date_of_birth||""),ie(k.place_of_birth||""),ie(k.blood_type||""),ie(k.nationality||""),ie(k.grade||""),ie(k.genres||""),ie(k.categories||""),ie(k.weight||""),ie(k.national_id_number||""),k.confirmation?"Yes":"No",ie(k.license_number||"")]);yr(D,{startY:F,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:se,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:[255,255,255],fontSize:6,fontStyle:"bold"},styles:{fontSize:5,overflow:"linebreak"},margin:{left:10,right:10},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}},didDrawPage:function(k){k.pageNumber>1&&Ne(D,m,St,gt)}}),D.save(`athletes_general_${pe}.pdf`)},J=async()=>{if(!Xe||Xe.length===0){alert("No athletes data available to export");return}const D=new At("landscape","mm","a4"),be=D.internal.pageSize.getWidth(),pe=new Date().getFullYear(),F=new Date().toLocaleDateString();let se={},k={};try{se=await Tn(),k=await Xn()}catch(Ze){console.error("Error fetching club/league names:",Ze)}const K=()=>{if(D.setFontSize(10),D.setFont("helvetica","normal"),D.setTextColor(40,40,40),D.text(`Date: ${F}`,14,15),D.setFontSize(16),D.setFont("helvetica","bold"),D.setTextColor(40,40,40),D.text("Algerian Judo Federation",be/2,15,{align:"center"}),d)try{D.addImage(d,"PNG",be-40,5,25,25)}catch(Ze){console.error("Error adding logo to PDF:",Ze)}D.setFontSize(14),D.setFont("helvetica","normal"),D.setTextColor(40,40,40),D.text(`League: ${St||"Unknown League"}`,be/2,30,{align:"center"}),D.setFontSize(14),D.setFont("helvetica","normal"),D.setTextColor(40,40,40),D.text(`Club: ${gt||"Unknown Club"}`,be/2,37,{align:"center"}),D.setFontSize(14),D.setFont("helvetica","bold"),D.setTextColor(220,53,69),D.text("Athletes Members - Category Situation",be/2,47,{align:"center"})},ue=Ze=>Ze.sort((Et,Qe)=>{const ft=new Date(Et.date_of_birth||"1900-01-01"),rt=new Date(Qe.date_of_birth||"1900-01-01");return ft-rt}).map(Et=>[ie(Et.last_name||""),ie(Et.first_name||""),ie(Et.date_of_birth||""),ie(Et.place_of_birth||""),ie(Et.blood_type||""),ie(Et.nationality||""),ie(Et.grade||""),ie(Et.genres||""),ie(Et.categories||""),ie(Et.weight||""),ie(Et.national_id_number||""),Et.confirmation?"Yes":"No",ie(Et.license_number||"")]),xe={};Xe.forEach(Ze=>{const pt=Ze.year||"Unknown Year",Et=Ze.club_id,Qe=Et?se[Et]||`Club ID: ${Et}`:"Unknown Club",ft=Ze.categories||"Uncategorized",rt=Ze.genres||"Unspecified",Tt=Ze.weight||"Unspecified";xe[pt]||(xe[pt]={}),xe[pt][Qe]||(xe[pt][Qe]={}),xe[pt][Qe][ft]||(xe[pt][Qe][ft]={}),xe[pt][Qe][ft][rt]||(xe[pt][Qe][ft][rt]={}),xe[pt][Qe][ft][rt][Tt]||(xe[pt][Qe][ft][rt][Tt]=[]),xe[pt][Qe][ft][rt][Tt].push(Ze)}),K();let Se=50,Te=!0;for(const[Ze,pt]of Object.entries(xe)){Se>180&&!Te&&(D.addPage(),K(),Se=50),D.setFontSize(13),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`Year: ${Ze}`,14,Se),Se+=15;for(const[Et,Qe]of Object.entries(pt))for(const[ft,rt]of Object.entries(Qe)){Se>210&&(D.addPage(),K(),Se=50,D.setFontSize(13),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`Year: ${Ze}`,14,Se),Se+=15,D.setFontSize(12),D.text(`  Club: ${Et}`,20,Se),Se+=12),D.setFontSize(11),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`    Club: ${Et} - Category: ${ft}`,26,Se),Se+=10;for(const[Tt,Zt]of Object.entries(rt)){Se>220&&(D.addPage(),K(),Se=50,D.setFontSize(13),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`Year: ${Ze}`,14,Se),Se+=15,D.setFontSize(11),D.text(`    Club: ${Et} - Category: ${ft}`,26,Se),Se+=10);for(const[er,gr]of Object.entries(Zt)){Se>230&&(D.addPage(),K(),Se=50,D.setFontSize(13),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`Year: ${Ze}`,14,Se),Se+=15,D.setFontSize(11),D.text(`    Club: ${Et} - Category: ${ft}`,26,Se),Se+=10),D.setFontSize(10),D.setTextColor(0,0,0),D.setFont(void 0,"bold"),D.text(`      Gender: ${Tt} - Weight: ${er}`,32,Se),Se+=8;const ar=ue(gr);yr(D,{startY:Se,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:ar,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:[255,255,255],fontSize:6},styles:{fontSize:5,overflow:"linebreak"},margin:{left:44},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}}}),Se=D.lastAutoTable.finalY+8,Te=!1}Se+=3}Se+=5}Se+=12}D.save(`athletes_hierarchical_${pe}.pdf`)};v.useEffect(()=>{const D=setTimeout(()=>{},300);return()=>clearTimeout(D)},[qt]);const ie=D=>D?String(D).replace(/=U/g,"").replace(/<a/g,"").replace(/=Ud/g,"").replace(/-/g,"").replace(/-d/g,"").replace(/<a/g,"").replace(/</g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(/ /g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").trim():"",Ne=(D,be,pe,F)=>{const se=D.internal.pageSize.getWidth();if(d)try{D.addImage(d,"PNG",se-40,15,25,25)}catch(ue){console.warn("Could not add federation logo:",ue)}const k=new Date().toLocaleDateString();D.setFontSize(10),D.setFont("helvetica","normal"),D.text(`Print Date: ${k}`,15,20),D.setFontSize(16),D.setFont("helvetica","bold"),D.text(ie(be||"Algerian Judo Federation"),se/2,25,{align:"center"});let K=40;return pe&&(D.setFontSize(12),D.setFont("helvetica","normal"),D.text(`League: ${ie(pe)}`,se/2,K,{align:"center"}),K+=15),F&&(D.setFontSize(12),D.setFont("helvetica","normal"),D.text(`Club: ${ie(F)}`,se/2,K,{align:"center"}),K+=15),K+2},et=async()=>{try{let D=[];if($e){const{data:ue,error:xe}=await ae.from("athletes").select("*").eq("club_id",Number($e));if(xe)throw xe;D=ue||[]}else if(De){const{data:ue,error:xe}=await ae.from("athletes").select("*").eq("league_id",Number(De));if(xe)throw xe;D=ue||[]}else if(D=Array.isArray(We)&&We.length?We:Array.isArray(Jt)?Jt:[],!D||D.length===0){const{data:ue,error:xe}=await ae.from("athletes").select("*");if(xe)throw xe;D=ue||[]}if(!D||D.length===0){alert("No athletes found");return}const be=new At("landscape");let pe=Ne(be,m,St,gt);be.setFontSize(14),be.setFont("helvetica","bold"),be.setTextColor(255,0,0),be.text("Athletes - Grade and Role Situation",be.internal.pageSize.getWidth()/2,pe,{align:"center"}),be.setTextColor(0,0,0),pe+=20,be.setFontSize(12),be.setFont("helvetica","bold"),be.text("SECTION GRADE",20,pe),pe+=15;const F={};D.forEach(ue=>{const xe=ue.year||"Unknown Year",Se=ue.grade||"Unknown Grade";F[xe]||(F[xe]={}),F[xe][Se]||(F[xe][Se]=[]),F[xe][Se].push(ue)});const se=Object.keys(F).sort();for(const ue of se){const xe=F[ue];be.setFontSize(14),be.setFont("helvetica","bold"),be.setTextColor(0,0,0),be.text(`Year: ${ue}`,20,pe),pe+=15;const Se=Object.keys(xe).sort();for(const Te of Se){const pt=xe[Te].sort((Qe,ft)=>{const rt=new Date(Qe.date_of_birth||"1900-01-01"),Tt=new Date(ft.date_of_birth||"1900-01-01");return rt-Tt});be.setFontSize(12),be.setFont("helvetica","bold"),be.text(`Grade: ${Te}`,30,pe),pe+=10;const Et=pt.map(Qe=>[ie(Qe.last_name||""),ie(Qe.first_name||""),ie(Qe.date_of_birth||""),ie(Qe.place_of_birth||""),ie(Qe.blood_type||""),ie(Qe.nationality||""),ie(Qe.genres||""),ie(Qe.categories||""),ie(Qe.weight||""),ie(Qe.national_id_number||""),Qe.confirmation?"Yes":"No",ie(Qe.license_number||"")]);yr(be,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Gender","Category","Weight","NID","Confirmation","License #"]],body:Et,startY:pe,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(Qe){Qe.pageNumber>1&&Ne(be,m,St,gt)}}),pe=be.lastAutoTable.finalY+15,pe>be.internal.pageSize.getHeight()-80&&(be.addPage(),pe=Ne(be,m,St,gt),pe+=20)}pe+=10}const k=new Date().getFullYear(),K=St||gt||"athletes";be.save(`${ie(K)}_grade_role_athletes_${k}.pdf`)}catch(D){console.error("Error exporting grade role PDF:",D),alert("Error exporting PDF. Please try again.")}};return v.useEffect(()=>{Ot&&yt&&bt()},[Ot,yt]),s.jsxs("div",{className:"app-container",children:[_&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:()=>e("/MemberListPageP"),children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:D=>{br(D.currentTarget),e("/TheLeagueList-Add",{state:{...t,league_id:(t==null?void 0:t.league_id)??De??"",league_name:(t==null?void 0:t.league_name)??"",league_logo:(t==null?void 0:t.league_logo)??""}})},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:D=>{br(D.currentTarget),e("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:D=>{br(D.currentTarget),e("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),s.jsxs("form",{onSubmit:tr,className:"form-grid",children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Y,onChange:D=>V(D.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:T,onChange:D=>$(D.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:Z,onChange:D=>I(D.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:G,onChange:D=>de(D.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Q,onChange:D=>ce(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Je.map((D,be)=>s.jsx("option",{value:D,children:D},be))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:_e,onChange:D=>Ce(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),It.map((D,be)=>s.jsx("option",{value:D,children:D},be))]})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:He,onChange:D=>Ke(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:ot,onChange:D=>Ge(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"}),s.jsx("option",{value:"Cadets By Team",children:"Cadets By Team"}),s.jsx("option",{value:"Juniors By Team",children:"Juniors By Team"}),s.jsx("option",{value:"Seniors By Team",children:"Seniors By Team"}),s.jsx("option",{value:"Cadets By Mixed Team",children:"Cadets By Mixed Team"}),s.jsx("option",{value:"Juniors By Mixed Team",children:"Juniors By Mixed Team"}),s.jsx("option",{value:"Seniors By Mixed Team",children:"Seniors By Mixed Team"})]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:Oe,onChange:D=>le(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),kt.map((D,be)=>s.jsx("option",{value:D,children:D},be))]})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:ne,onChange:D=>ye(D.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:ve,onChange:D=>Le(D.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:Re,onChange:D=>oe(D.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:E,onChange:D=>U(D.target.value),required:!0})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:De,onChange:D=>{ut(D.target.value),ze("")},required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),_t.map(D=>s.jsx("option",{value:D.id,children:D.name_league},D.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:$e,onChange:D=>ze(D.target.value),disabled:!De,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),ht.map(D=>s.jsx("option",{value:D.id,children:D.name_club},D.id))]})]}),s.jsxs("label",{children:["Upload Athlete Photo *",s.jsx("input",{type:"file",onChange:D=>{var be;return ke(((be=D.target.files)==null?void 0:be[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Athlete"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"List Of Athletes"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsxs("select",{value:De,onChange:D=>ut(D.target.value),children:[s.jsx("option",{value:"",children:"-- All Leagues --"}),_t.map(D=>s.jsx("option",{value:D.id,children:D.name_league},D.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:$e,onChange:D=>ze(D.target.value),disabled:!De,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),ht.map(D=>s.jsx("option",{value:D.id,children:D.name_club},D.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Athlete"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:qt,onChange:D=>Mt(D.target.value)})})]}),s.jsxs("div",{className:"table-container",ref:Fe,children:[s.jsxs("div",{style:{marginBottom:8,fontSize:14},children:[s.jsx("strong",{children:"Selected:"}),De?` League: ${St||"ID "+De}`:" All Leagues",De&&!$e?" | All Clubs in League":"",$e?` | Club: ${gt||"ID "+$e}`:""]}),s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{style:{backgroundColor:"#000",color:"#fff"},children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"conf_request"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Xe.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found for this club/league."})}):Xe.map(D=>s.jsxs("tr",{onDoubleClick:()=>ir(D),style:{cursor:"pointer"},children:[s.jsx("td",{children:wt===D.id?s.jsx("input",{value:Pe.last_name||"",onChange:be=>handleChange(be,"last_name")}):D.last_name}),s.jsx("td",{children:wt===D.id?s.jsx("input",{value:Pe.first_name||"",onChange:be=>me({...Pe,first_name:be.target.value})}):D.first_name}),s.jsx("td",{children:wt===D.id?s.jsx("input",{type:"date",value:Pe.date_of_birth||"",onChange:be=>me({...Pe,date_of_birth:be.target.value})}):D.date_of_birth}),s.jsx("td",{children:wt===D.id?s.jsx("input",{value:Pe.place_of_birth||"",onChange:be=>me({...Pe,place_of_birth:be.target.value})}):D.place_of_birth}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.role||"",onChange:be=>me({...Pe,role:be.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),we.map((be,pe)=>s.jsx("option",{value:typeof be=="object"?be.club_role??be.name??"":be,children:typeof be=="object"?be.club_role??be.name??"":be},pe))]}):D.role}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.blood_type||"",onChange:be=>me({...Pe,blood_type:be.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):D.blood_type}),s.jsx("td",{children:D.national_id_number}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.nationality||"",onChange:be=>me({...Pe,nationality:be.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),Je.map((be,pe)=>s.jsx("option",{value:be,children:be},pe))]}):D.nationality}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.grade||"",onChange:be=>me({...Pe,grade:be.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),It.map((be,pe)=>s.jsx("option",{value:be,children:be},pe))]}):D.grade}),s.jsx("td",{children:D.renewal}),s.jsx("td",{children:D.year}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.genres||"",onChange:be=>{me({...Pe,genres:be.target.value,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]}):D.genres}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.categories||"",onChange:be=>{me({...Pe,categories:be.target.value,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"})]}):D.categories}),s.jsx("td",{children:wt===D.id?s.jsxs("select",{value:Pe.weight||"",onChange:be=>me({...Pe,weight:be.target.value}),disabled:!Pe.genres||!Pe.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),kt.map((be,pe)=>s.jsx("option",{value:be,children:be},pe))]}):D.weight}),s.jsx("td",{children:D.license_number}),s.jsx("td",{children:D.registration_date}),s.jsx("td",{children:D.photos_url?s.jsx("img",{src:D.photos_url,alt:`${D.first_name} ${D.last_name}`,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"}}):"No Photo"}),s.jsx("td",{children:D.confirmation?"":""}),s.jsx("td",{children:D.confirmation_request?"conf_request":"conf_Not_request"}),s.jsx("td",{children:D.club_id}),s.jsx("td",{children:D.league_id}),s.jsx("td",{children:wt===D.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:te,children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:vr,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>Gt(D),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>ee(D),disabled:D.registration_date!==new Date().toISOString().split("T")[0],title:D.registration_date!==new Date().toISOString().split("T")[0]?"Delete allowed only on the day of registration":"Delete",children:"Delete"}),s.jsx("button",{className:D.confirmation?"cancel-btn":"confirm-btn",disabled:(D.confirmation_request?"conf_request":"conf_Not_request")!="conf_request",onClick:()=>{if((D.confirmation_request?"conf_request":"conf_Not_request")!="conf_request"){n("you not confirme because is not requested");return}Rt(D.id,D.confirmation)},children:D.confirmation?"Cancel Confirmation":"Confirm"})]})})]},D.id))})]})]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:A,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:J,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:et,children:"Export by Grade PDF"})]})]}),r&&s.jsx(Pn,{error:r.message||r,onClose:()=>n("")}),i&&s.jsx(Rn,{success:i,onClose:()=>a("")}),N&&s.jsx(ta,{message:"Processing athlete data..."}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function d8(){v.useEffect(()=>{ti()},[]);const[t,e]=v.useState([]),[r,n]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState(""),[m,f]=v.useState(""),[x,j]=v.useState(""),[_,b]=v.useState(""),[N,S]=v.useState(""),[C,B]=v.useState(null),[Y,V]=v.useState(null),[T,$]=v.useState(""),[Z,I]=v.useState(""),[G,de]=v.useState(""),[M,H]=v.useState(""),[ve,Le]=v.useState(!1),[ne,ye]=v.useState(!1),[Re,oe]=v.useState(null),[E,U]=v.useState({}),[Q,ce]=v.useState([]),[_e,Ce]=v.useState(null),[Be,ke]=v.useState(!0),[He,Ke]=v.useState(null),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(null),[kt,Pt]=v.useState("Algerian Judo Federation"),[We,Me]=v.useState([]),[ht,lt]=v.useState(""),_t=Ur(),Lt=Zn();v.useEffect(()=>{(async()=>{const{data:Ee,error:st}=await ae.from("nameleague").select("*");!st&&Ee&&ce(Ee),ke(!1)})()},[]),v.useEffect(()=>{(async()=>{const{data:Ee,error:st}=await ae.from("leaguerole").select("*");!st&&Ee&&Me(Ee)})()},[]),v.useEffect(()=>{(async()=>{if(!M){ke(!1);return}const{data:Ee,error:st}=await ae.from("league_members").select("*").eq("league_id",Number(M));st?Ke(`Error fetching members: ${st.message}`):e(Ee||[]),ke(!1)})()},[M]);const Ot=async()=>{try{ke(!0),Ke(null);const{data:z,error:Ee}=await ae.from("league_members").select("*").order("id",{ascending:!1});Ee?Ke(Ee):(e(z||[]),Ge(`Loaded ${(z==null?void 0:z.length)||0} league members`))}catch(z){Ke(z)}finally{ke(!1)}};v.useEffect(()=>{Ot()},[]),v.useEffect(()=>{(async()=>{const{data:Ee,error:st}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!st&&Ee&&Ee.length>0&&le(nt(Ee[0].logo_url)||Ee[0].logo_url)})()},[]);const nt=z=>z?z.startsWith("http")?z:`${ae.storageUrl}/object/public/logos/${z}`:null,yt=(Array.isArray(t)?t:[]).filter(z=>{if(M&&String(z.league_id)!==String(M))return!1;const Ee=(ht||"").trim().toLowerCase();return Ee?[z.first_name,z.last_name,z.national_id_number,z.club_name,z.role,z.grade].filter(tt=>tt!=null).some(tt=>String(tt).toLowerCase().includes(Ee)):!0}),Bt=z=>{const Ee=z.registration||z.registration_date||"";return[Ct(z.last_name||""),Ct(z.first_name||""),Ct(z.date_of_birth||""),Ct(z.place_of_birth||""),Ct(z.role||""),Ct(z.blood_type||""),Ct(z.nationality||""),Ct(z.grade||""),Ct(z.holder_of||""),Ct(z.national_id_number||""),Ct(z.renewal||""),Ct(z.license_number||""),Ct(Ee),z.confirmation?"Yes":"No",Ct(z.password||""),String(z.league_id||"")]},gt=z=>{const Ee=z.internal.pageSize.width;z.internal.pageSize.height;try{Oe?z.addImage(Oe,"PNG",Ee-50,10,30,30):Zi&&z.addImage(Zi,"PNG",Ee-50,10,30,30)}catch(tt){console.warn("Could not add logo to PDF header:",tt)}const st=new Date().toLocaleDateString();return z.setFontSize(10),z.setFont("helvetica","normal"),z.text(`Print Date: ${st}`,14,18),z.setFontSize(16),z.setFont("helvetica","bold"),z.text("Algerian Judo Federation",Ee/2,24,{align:"center"}),40},Nt=z=>[Ct(z.last_name||""),Ct(z.first_name||""),Ct(z.date_of_birth||""),Ct(z.place_of_birth||""),Ct(z.blood_type||""),Ct(z.nationality||""),Ct(z.grade||""),Ct(z.role||""),Ct(z.holder_of||""),Ct(z.national_id_number||""),Ct(z.renewal||""),z.confirmation?"Yes":"No",Ct(z.license_number||""),Ct(z.club_name||"")],St=async()=>{const z=Number(M);try{let Ee=Array.isArray(t)?t.slice():[];if(z&&!isNaN(z)&&(Ee=Ee.filter(ee=>String(ee.league_id)===String(z))),!Ee||Ee.length===0){alert("No members found");return}const st=new At("landscape"),tt=ee=>{const we=Q.find(Je=>String(Je.id)===String(ee));return Ct((we==null?void 0:we.name_league)||`League ${ee}`)},bt=["Last","First","DOB","POB","Role","Blood","Nationality","Grade","Holder Of","NID","Renewal","License #","Registration","Confirmation","Password","League ID"],tr={};Ee.forEach(ee=>{const we=ee.league_id||"Unknown League";tr[we]||(tr[we]=[]),tr[we].push(ee)});const Gt=Object.keys(tr);Gt.forEach((ee,we)=>{let Je=gt(st);st.setFontSize(14),st.setFont("helvetica","bold"),st.setTextColor(255,0,0),st.text("League Members - General Situation",st.internal.pageSize.getWidth()/2,Je,{align:"center"}),st.setTextColor(0,0,0),Je+=20;const It=tt(ee);st.setFontSize(12),st.setFont("helvetica","bold"),st.text(`${It}`,14,Je),Je+=8;const Rt=tr[ee],Xe={};Rt.forEach(L=>{const A=L.year?String(L.year):"Unknown Year";Xe[A]||(Xe[A]=[]),Xe[A].push(L)});const ir=Object.keys(Xe).sort();ir.forEach((L,A)=>{st.setFontSize(11),st.setFont("helvetica","bold"),st.text(`Year: ${L}`,14,Je),Je+=8;const J=Xe[L];yr(st,{head:[bt],body:J.map(Bt),startY:Je,styles:{fontSize:8},headStyles:{fillColor:[0,128,0],textColor:[255,255,255]},margin:{left:14,right:10}}),Je=st.lastAutoTable.finalY+10,Je>st.internal.pageSize.getHeight()-50&&A<ir.length-1&&(st.addPage(),Je=gt(st),st.setFontSize(14),st.setFont("helvetica","bold"),st.setTextColor(255,0,0),st.text("League Members - General Situation",st.internal.pageSize.getWidth()/2,Je,{align:"center"}),st.setTextColor(0,0,0),Je+=20,st.setFontSize(12),st.setFont("helvetica","bold"),st.text(`${It}`,14,Je),Je+=8)}),we<Gt.length-1&&st.addPage()});const vr=new Date().getFullYear(),te=!z||isNaN(z)?`league_all_general_members_${vr}.pdf`:`league_general_members_${vr}.pdf`;st.save(te)}catch(Ee){console.error("Error exporting general PDF:",Ee),alert("Error exporting PDF. Please try again.")}},Ft=async()=>{ke(!0),Ke(null);try{const{data:z,error:Ee}=await ae.from("league_members").select("*");if(Ee)throw Ee;if(!z||z.length===0){alert("No league members found"),ke(!1);return}const st={};z.forEach(te=>{const ee=te.league_id||"Unknown League";st[ee]||(st[ee]=[]),st[ee].push(te)});const tt=new At("landscape"),bt=te=>{const ee=Q.find(we=>String(we.id)===String(te));return Ct((ee==null?void 0:ee.name_league)||`League ${te}`)},tr=(te,ee)=>{const we=bt(te);let Je=gt(tt);tt.setFontSize(14),tt.setFont("helvetica","bold"),tt.setTextColor(255,0,0),tt.text("League Members - Grade and Role Situation",tt.internal.pageSize.getWidth()/2,Je,{align:"center"}),tt.setTextColor(0,0,0),Je+=20,tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${we}`,14,Je),Je+=12;const It={};ee.forEach(Xe=>{const ir=Xe.club_name||"No Club";It[ir]||(It[ir]=[]),It[ir].push(Xe)});const Rt=Object.keys(It).sort();Rt.forEach((Xe,ir)=>{const L=It[Xe],A={};L.forEach(ie=>{const Ne=ie.year||"Unknown Year";A[Ne]||(A[Ne]=[]),A[Ne].push(ie)}),Object.keys(A).sort().forEach((ie,Ne)=>{tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${Ct(Xe)}   Year ${Ct(ie)}`,14,Je),Je+=10;const et=A[ie],D={};et.forEach(pe=>{const F=pe.role||"No Role";D[F]||(D[F]=[]),D[F].push(pe)}),Object.entries(D).forEach(([pe,F])=>{F.length&&(tt.setFontSize(11),tt.setFont("helvetica","bold"),tt.text(`Role: ${Ct(pe)}`,18,Je),Je+=6,yr(tt,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #","Club"]],body:F.map(Nt),startY:Je,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:10}}),Je=tt.lastAutoTable.finalY+12,Je>160&&(tt.addPage(),Je=gt(tt),tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${we}`,14,Je),Je+=12,tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${Ct(Xe)}   Year ${Ct(ie)}`,14,Je),Je+=10))});const be={};et.forEach(pe=>{const F=pe.grade||"No Grade";be[F]||(be[F]=[]),be[F].push(pe)}),Object.entries(be).forEach(([pe,F])=>{F.length&&(tt.setFontSize(11),tt.setFont("helvetica","bold"),tt.text(`Grade: ${Ct(pe)}`,18,Je),Je+=6,yr(tt,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #","Club"]],body:F.map(Nt),startY:Je,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:10}}),Je=tt.lastAutoTable.finalY+12,Je>160&&(tt.addPage(),Je=gt(tt),tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${we}`,14,Je),Je+=12,tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${Ct(Xe)}   Year ${Ct(ie)}`,14,Je),Je+=10))}),Je+=8}),Je+=10,Je>160&&ir<Rt.length-1&&(tt.addPage(),Je=gt(tt),tt.setFontSize(12),tt.setFont("helvetica","bold"),tt.text(`${we}`,14,Je),Je+=12)})},Gt=Object.keys(st);if(Gt.length===0){alert("No league members found"),ke(!1);return}Gt.forEach((te,ee)=>{ee>0&&tt.addPage(),tr(te,st[te])});const vr=new Date().getFullYear();tt.save(`league_grade_role_all_leagues_${vr}.pdf`)}catch(z){Ke(`Error exporting grade role PDF: ${z.message}`)}finally{ke(!1)}},wt=z=>{if(!z||Object.keys(z).length===0){alert("No data available to export");return}Pe(z)};function Qt(z){return new Promise((Ee,st)=>{Ua(z,tt=>{if(tt.type==="error")console.warn("EXIF processing failed, using original image:",z),Ee(z);else try{const bt=tt.toDataURL("image/png");Ee(bt)}catch(bt){console.warn("Canvas conversion failed, using original image:",bt),Ee(z)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Pe=async z=>{let Ee=null,st=null;try{z.club_id&&(Ee=(await Tn())[z.club_id]),z.league_id&&(st=(await Xn())[z.league_id])}catch(we){console.error("Error fetching names:",we)}const tt=new At("portrait","mm","a4");tt.setFontSize(18),tt.setTextColor(40,40,40),tt.text("Algerian Judo Federation",14,15);const bt=`Member Information - ${z.first_name} ${z.last_name}`;tt.setFontSize(16),tt.setTextColor(40,40,40),tt.text(bt,14,30),tt.setFontSize(10);const tr=new Date().toLocaleString();if(tt.text(`Generated: ${tr}`,14,37),Oe)try{tt.addImage(Oe,"PNG",170,10,25,25)}catch(we){console.error("Error adding logo to PDF:",we)}let Gt=70;if(z.photo_url)try{const we=await Qt(z.photo_url),Je=we.startsWith("data:")?"PNG":"JPEG";tt.addImage(we,Je,14,45,25,20),Gt=70}catch(we){console.error("Error adding photo to PDF:",we);try{tt.addImage(z.photo_url,"JPEG",14,45,25,20)}catch(Je){console.error("Fallback image addition also failed:",Je)}Gt=70}tt.setFontSize(12),z.confirmation?tt.setTextColor(0,128,0):tt.setTextColor(255,0,0);const vr=z.confirmation?"CONFIRMED ":"NOT CONFIRMED ";tt.text(vr,160,50);const te=[["First Name",z.first_name||""],["Last Name",z.last_name||""],["Date of Birth",z.date_of_birth||""],["Place of Birth",z.place_of_birth||""],["National ID",z.national_id_number||""],["Nationality",z.nationality||""],["Blood Type",z.blood_type||""],["Grade",z.grade||""],["Role",z.role||""],["License Number",z.license_number||""],["Registration Date",z.registration_date||""],["Year",z.year||""],["Renewal",z.renewal||""]];yr(tt,{head:[["Field","Value"]],body:te,startY:Gt,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const ee=tt.lastAutoTable.finalY||200;if(tt.setFontSize(12),tt.setTextColor(0,0,0),tt.text("Medical certificate",14,ee+20),tt.setDrawColor(0),tt.line(14,ee+40,80,ee+40),tt.setFontSize(10),z.league_id||st){const we=st||`ID: ${z.league_id}`;tt.text(`League: ${we}`,120,ee+60),tt.text("League Visa: _________________",120,ee+70)}try{const we=JSON.stringify({id:z.id,name:`${z.first_name||""} ${z.last_name||""}`.trim(),license:z.license_number||"",club_id:z.club_id||"",league_id:z.league_id||"",confirmation:z.confirmation||"Unconfirmed"}),Je=await ui.toDataURL(we,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});tt.addImage(Je,"PNG",175,ee+75,15,15)}catch(we){console.error("Error generating QR code:",we)}tt.save(`member_${z.first_name}_${z.last_name}.pdf`)},me=async()=>{if(!C||C.size===0)return"";const z=C.name.split(".").pop(),Ee=`photo-${Date.now()}.${z}`,{error:st}=await ae.storage.from("logos").upload(Ee,C);if(st)return Ke(`Photo upload failed: ${st.message}`),"";const{data:tt}=ae.storage.from("logos").getPublicUrl(Ee);return(tt==null?void 0:tt.publicUrl)??""},De=async()=>{if(!Y)return null;const z=Y.name.split(".").pop(),st=`${Date.now()}.${z}`,{error:tt}=await ae.storage.from("logos").upload(st,Y);if(tt)return Ke(`Upload failed: ${tt.message}`),null;const{data:bt}=ae.storage.from("logos").getPublicUrl(st);return(bt==null?void 0:bt.publicUrl)??null},ut=async(z,Ee,st,tt)=>{const{data:bt}=await ae.from("league_members").select("*").eq("national_id_number",z).eq("league_id",Ee).eq("role",st).eq("year",tt);if(bt&&bt.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:tr}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",z).eq("league_id",Ee).eq("role",st);return(tr||0)+1},$e=async z=>{var te;if(z.preventDefault(),Ke(""),Ge(""),Le(!0),!i||!r||!o||!c||!d||!M||!_||!N||!C){const ee=[];i||ee.push("First Name"),r||ee.push("Last Name"),o||ee.push("Date of Birth"),c||ee.push("Place of Birth"),d||ee.push("League Role"),M||ee.push("League (in the table is league_id)"),_||ee.push("Password"),N||ee.push("Confirm Password"),C||ee.push("Member Photo"),Ke(`Please fill in the following required fields: ${ee.join(", ")}`),Le(!1);return}const Ee=Number(M);if(!Ee||isNaN(Ee)){Ke("Please select a valid league."),Le(!1);return}if(x.length!==18){Ke("National ID must be exactly 18 digits."),Le(!1);return}if(_!==N){Ke("Passwords do not match."),Le(!1);return}const st=new Date(o),tt=new Date,bt=tt.getFullYear()-st.getFullYear(),tr=tt.getMonth()-st.getMonth(),Gt=tt.getDate()-st.getDate();if((tr<0||tr===0&&Gt<0?bt-1:bt)<=21){Ke("Member must be more than 21 years old to register."),Le(!1);return}try{const{data:ee,error:we}=await ae.from("league_members").select("id, last_name, password").eq("last_name",r).eq("password",_);if(we){Ke(`Failed to validate member data: ${we.message}`),Le(!1);return}if(ee&&ee.length>0){Ke(`A member with the last name "${r}" and this password already exists. Please change the password.`),Le(!1);return}}catch(ee){Ke(`Validation error: ${ee.message}`),Le(!1);return}try{const ee=await me(),we=await De(),Je=new Date().getFullYear(),It=`${Je}/${Je+1}`,Rt=((te=We.find(A=>A.id===parseInt(d)))==null?void 0:te.league_role)||"",Xe=await ut(x,M,Rt,It),ir={last_name:r,first_name:i,date_of_birth:o,place_of_birth:c,role:Rt,blood_type:m,national_id_number:x,password:_,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:we,league_id:Ee,photo_url:ee,renewal:Xe,year:It,nationality:T,holder_of:Z,grade:G,confirmation:!1},{error:L}=await ae.from("league_members").insert([ir]);if(L){Ke(`Failed to save member: ${L.message}`),Le(!1);return}if(we&&M&&await ae.from("nameleague").update({logo_url:we}).eq("id",M),Ge(`Member "${i} ${r}" has been successfully added to the League!`),n(""),a(""),l(""),u(""),j(""),b(""),S(""),g(""),f(""),H(""),B(null),$(""),I(""),de(""),M){const{data:A}=await ae.from("league_members").select("*").eq("league_id",Number(M));e(A||[]);const{data:J}=await ae.from("nameleague").select("logo_url").eq("id",M).single();J!=null&&J.logo_url&&Ce(nt(J.logo_url))}Le(!1)}catch(ee){Ke(`Unexpected error: ${ee.message}`),Le(!1)}},ze=z=>{oe(z.id),U({...z})},Jt=()=>{oe(null),U({})},Ut=(z,Ee)=>{U({...E,[Ee]:z.target.value})},qt=async z=>{try{ye(!0),e(t.map(Ee=>Ee.id===z?{...Ee,...E}:Ee)),Ge("Member updated."),Jt()}catch(Ee){Ke(Ee.message||String(Ee))}finally{ye(!1)}},Mt=async z=>{try{e(t.filter(Ee=>Ee.id!==z.id)),Ge("Member removed.")}catch(Ee){Ke(Ee.message||String(Ee))}};async function Fe(z,Ee){try{const{error:st}=await ae.from("league_members").update({confirmation:!Ee}).eq("id",z);if(st){console.error("toggleConfirmation error:",st);return}e(tt=>tt.map(bt=>bt.id===z?{...bt,confirmation:!Ee}:bt))}catch(st){console.error(st)}}return s.jsxs("div",{className:"app-container",children:[Be&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Oe?s.jsx("img",{src:Oe,alt:"Logo Fdration",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:kt})]})})}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:z=>{br(z.currentTarget),_t("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:z=>{br(z.currentTarget),_t("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:z=>{br(z.currentTarget),_t("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:z=>{br(z.currentTarget),_t("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:$e,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:d,onChange:z=>g(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),We.map(z=>s.jsx("option",{value:z.id,children:z.league_role},z.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:M,onChange:z=>H(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select League"}),Q.map(z=>s.jsx("option",{value:z.id,children:z.name_league},z.id))]})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:z=>f(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:r,onChange:z=>n(z.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:i,onChange:z=>a(z.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:o,onChange:z=>l(z.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:z=>j(z.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:z=>b(z.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:N,onChange:z=>S(z.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:T,onChange:z=>$(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Z,onChange:z=>I(z.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:G,onChange:z=>de(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:z=>{var Ee;return B(((Ee=z.target.files)==null?void 0:Ee[0])??null)}})]}),s.jsxs("label",{children:["Upload League Logo *",s.jsx("input",{type:"file",onChange:z=>{var Ee;return V(((Ee=z.target.files)==null?void 0:Ee[0])??null)},required:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",disabled:ve,children:ve?"Adding...":"Add Member"}),ve&&s.jsx(ta,{message:"Adding member..."})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{className:"form-title",children:"League Member List"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsxs("select",{value:M,onChange:z=>H(z.target.value),children:[s.jsx("option",{value:"",children:"Select League"}),Q.map(z=>s.jsx("option",{value:z.id,children:z.name_league},z.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:ht,onChange:z=>lt(z.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Lt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:yt.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):yt.map(z=>s.jsxs("tr",{onDoubleClick:()=>wt(z),style:{cursor:"pointer"},children:[s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.last_name||"",onChange:Ee=>Ut(Ee,"last_name")}):z.last_name}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.first_name||"",onChange:Ee=>Ut(Ee,"first_name")}):z.first_name}),s.jsx("td",{children:Re===z.id?s.jsx("input",{type:"date",value:E.date_of_birth||"",onChange:Ee=>Ut(Ee,"date_of_birth")}):z.date_of_birth}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.place_of_birth||"",onChange:Ee=>Ut(Ee,"place_of_birth")}):z.place_of_birth}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.role||"",onChange:Ee=>Ut(Ee,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),We.map(Ee=>s.jsx("option",{value:Ee.league_role??Ee.name??"",children:Ee.league_role??Ee.name??""},Ee.id))]}):z.role||"No Role"}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.blood_type||"",onChange:Ee=>Ut(Ee,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):z.blood_type}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.nationality||"",onChange:Ee=>Ut(Ee,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):z.nationality}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.grade||"",onChange:Ee=>Ut(Ee,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):z.grade}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.holder_of||"",onChange:Ee=>Ut(Ee,"holder_of")}):z.holder_of}),s.jsx("td",{children:z.national_id_number}),s.jsx("td",{children:z.renewal}),s.jsx("td",{children:z.year}),s.jsx("td",{children:z.license_number}),s.jsx("td",{children:z.registration_date}),s.jsx("td",{children:z.photo_url?s.jsx("img",{src:nt(z.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:z.confirmation?"":""}),s.jsx("td",{children:z.league_id}),s.jsx("td",{children:Re===z.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>qt(z.id),disabled:ne,children:ne?"Saving...":"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Jt,disabled:ne,children:"Cancel"}),ne&&s.jsx(ta,{message:"Saving changes..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>ze(z),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Mt(z),children:"Delete"}),s.jsx("button",{className:z.confirmation?"cancel-btn":"confirm-btn",onClick:()=>Fe(z.id,z.confirmation),children:z.confirmation?"Cancel Confirmation":"Confirm"})]})})]},z.id))})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:St,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Ft,children:"Export Grade Role PDF"})]})})]})]}),He&&s.jsx(Pn,{error:He.message||He,onClose:()=>Ke(null)}),ot&&s.jsx(Rn,{success:ot,onClose:()=>Ge("")}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function h8(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState([]),[i,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,g]=v.useState(null),[m,f]=v.useState(null),[x,j]=v.useState(null),[_,b]=v.useState(null),[N,S]=v.useState(null),[C,B]=v.useState({}),[Y,V]=v.useState(null),[T,$]=v.useState(null),[Z,I]=v.useState(""),[G,de]=v.useState(null),[M,H]=v.useState(""),[ve,Le]=v.useState((t==null?void 0:t.club_id)||""),[ne,ye]=v.useState((t==null?void 0:t.league_id)||""),Re="Algerian Judo Federation",oe="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[E,U]=v.useState([]),[Q,ce]=v.useState([]),[_e,Ce]=v.useState([]),[Be,ke]=v.useState(""),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(""),[kt,Pt]=v.useState(""),[We,Me]=v.useState(""),[ht,lt]=v.useState(""),[_t,Lt]=v.useState(""),[Ot,nt]=v.useState(""),[yt,Bt]=v.useState(null),[gt,Nt]=v.useState(null),[St,Ft]=v.useState(""),[wt,Qt]=v.useState(""),[Pe,me]=v.useState(""),[De,ut]=v.useState(""),$e=Zn(),ze=L=>L?L.startsWith("http")?L:`${oe}${L}`:null;v.useEffect(()=>{ti()},[]);function Jt(L){return new Promise((A,J)=>{Ua(L,ie=>{if(ie.type==="error")console.warn("EXIF processing failed, using original image:",L),A(L);else try{const Ne=ie.toDataURL("image/png");A(Ne)}catch(Ne){console.warn("Canvas conversion failed, using original image:",Ne),A(L)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Ut=L=>{u(L),g(null)};v.useEffect(()=>{(async()=>{const{data:A,error:J}=await ae.from("clubrole").select("id, club_role");J&&console.error("Error fetching roles:",J.message),A&&U(A)})()},[]);const qt=async()=>{try{a(!0),u(null);const{data:L}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(L!=null&&L.length&&V(ze(L[0].logo_url)),t!=null&&t.league_id){const{data:J}=await ae.from("nameleague").select("*").eq("id",t.league_id).single();J&&(j(J),I(J.name_league));const{data:ie}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);ie!=null&&ie.length&&$(ze(ie[0].logo_url))}let A=t==null?void 0:t.club_id;if(!A&&(t!=null&&t.league_id)){const{data:J}=await ae.from("nameclub").select("id").eq("league_id",t.league_id);if(J!=null&&J.length){const{data:ie}=await ae.from("club_members").select("club_id").in("club_id",J.map(Ne=>Ne.id));if(ie!=null&&ie.length){const Ne=new Set(ie.map(D=>D.club_id)),et=J.find(D=>Ne.has(D.id));et&&(A=et.id)}}}if(A){const{data:J}=await ae.from("nameclub").select("name_club, id").eq("id",A).single();J&&(H(J.name_club),f(J));const{data:ie}=await ae.from("club_members").select("logo_url").eq("club_id",A).order("id",{ascending:!1}).limit(1);ie!=null&&ie.length&&de(ze(ie[0].logo_url))}if(t!=null&&t.member_id){const{data:J}=await ae.from("club_members").select("*").eq("id",t.member_id).single();J&&b(J)}if(t!=null&&t.league_id){let J=ae.from("club_members").select("*, nameclub!inner(league_i)").eq("nameclub.league_i",t.league_id);ve&&(J=J.eq("club_id",ve));const{data:ie,error:Ne}=await J;if(Ne)throw Ne;n(ie||[])}}catch(L){Ut(`Error fetching data: ${L.message}`),console.error("Error fetching data:",L.message)}finally{a(!1)}};v.useEffect(()=>{(async()=>{if(console.log("fetchClubs called with state?.league_id:",t==null?void 0:t.league_id,"selectedLeagueId:",ne),!(t!=null&&t.league_id)&&!ne){console.log("No league_id available, returning early");return}const A=(t==null?void 0:t.league_id)||ne;console.log("Using league_id:",A);const{data:J,error:ie}=await ae.from("nameclub").select("id, name_club, league_i").eq("league_i",A);ie?console.error("Error fetching clubs:",ie):(console.log("Fetched clubs:",J),ce(J||[]))})()},[t==null?void 0:t.league_id,ne]),v.useEffect(()=>{qt()},[ve,ne]),v.useEffect(()=>()=>{u(""),g("")},[]);const Mt=L=>{S(L.id),B({...L})},Fe=()=>{S(null),B({})},z=(L,A)=>{B({...C,[A]:L.target.value})},Ee=async L=>{var be;if(u(""),g(""),l(!0),!C.first_name||!C.last_name||!C.date_of_birth||!C.place_of_birth||!C.role_id){const pe=[];C.first_name||pe.push("First Name"),C.last_name||pe.push("Last Name"),C.date_of_birth||pe.push("Date of Birth"),C.place_of_birth||pe.push("Place of Birth"),C.role_id||pe.push("Role"),u(`Please fill in the following required fields: ${pe.join(", ")}`),l(!1);return}const A=new Date(C.date_of_birth),J=new Date,ie=J.getFullYear()-A.getFullYear(),Ne=J.getMonth()-A.getMonth(),et=J.getDate()-A.getDate();if((Ne<0||Ne===0&&et<0?ie-1:ie)<=21){u("Member must be more than 21 years old to register."),l(!1);return}if(C.last_name&&C.password){const{data:pe}=await ae.from("club_members").select("*").eq("last_name",C.last_name).eq("password",C.password).neq("id",L);if(pe&&pe.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}try{const pe=((be=E.find(k=>k.id===parseInt(C.role_id)))==null?void 0:be.club_role)||"",F={...C,role:pe};delete F.role_id;const{error:se}=await ae.from("club_members").update(F).eq("id",L);if(se)throw se;g(`Member "${C.first_name} ${C.last_name}" has been successfully updated!`),Fe(),qt(),l(!1)}catch(pe){u(`Failed to update member: ${pe.message}`),l(!1)}},st=async L=>{try{const A=new Date(L.registration_date).toISOString().split("T")[0],J=new Date().toISOString().split("T")[0];if(A!==J){u("You can only delete members on the same day of registration.");return}const{error:ie}=await ae.from("club_members").delete().eq("id",L.id);if(ie)throw ie;await qt()}catch(A){u(A.message)}},tt=async(L,A)=>{try{const{error:J}=await ae.from("club_members").update({confirmation:!A}).eq("id",L);if(J)throw J;n(ie=>ie.map(Ne=>Ne.id===L?{...Ne,confirmation:!A}:Ne))}catch(J){Ut(`Failed to update member confirmation: ${J.message}`)}},bt=r.filter(L=>{const A=De.toLowerCase();return L.first_name.toLowerCase().includes(A)||L.last_name.toLowerCase().includes(A)||L.national_id_number.includes(A)}),tr=L=>{console.log(" handleMemberDoubleClick called with member:",L),Gt(L)},Gt=L=>{if(console.log(" generateIndividualMemberPDF called with member:",L),!L||Object.keys(L).length===0){u("No member data available to export");return}vr(L)},vr=async L=>{try{console.log(" exportPDFWithAutoOrientation called with member:",L);const A=new At,J=A.internal.pageSize.width,ie=A.internal.pageSize.height;let Ne=M;if(console.log("Initial clubName:",M,"member.club_id:",L.club_id),L.club_id)try{const ue=await Tn();console.log("Fetched clubNames:",ue),ue[L.club_id]?(Ne=ue[L.club_id],console.log("Found memberClubName:",Ne)):console.log("Club ID not found in clubNames:",L.club_id)}catch(ue){console.error("Error fetching club name:",ue)}A.setFontSize(18),A.setTextColor(40,40,40),A.text(ee(Re),14,15),A.setFontSize(16),A.setTextColor(40,40,40),A.text(`Club Member Information - ${ee(L.first_name)} ${ee(L.last_name)}`,14,30),A.setFontSize(10);const et=new Date().toLocaleString();if(A.text(`Generated: ${et}`,14,37),Y)try{A.addImage(Y,"PNG",170,10,25,25)}catch(ue){console.error("Error adding federation logo to PDF:",ue)}let D=70;if(L.photos_url||L.photo_url)try{const ue=L.photos_url||L.photo_url,xe=await Jt(ue),Se=xe.startsWith("data:")?"PNG":"JPEG";A.addImage(xe,Se,14,45,25,20),D=70}catch(ue){console.error("Error adding photo to PDF:",ue);try{const xe=L.photos_url||L.photo_url;A.addImage(xe,"JPEG",14,45,25,20),D=70}catch(xe){console.error("Fallback image addition also failed:",xe),D=70}}A.setFontSize(12),L.confirmation?A.setTextColor(0,128,0):A.setTextColor(255,0,0);const be=L.confirmation?"CONFIRMED":"NOT CONFIRMED";A.text(be,160,50),A.setTextColor(0,0,0);const pe=E.find(ue=>ue.id===L.role_id),F=(pe==null?void 0:pe.club_role)||"No Role",se=[["Last Name",ee(L.last_name)||""],["First Name",ee(L.first_name)||""],["Date of Birth",ee(L.date_of_birth)||""],["Place of Birth",ee(L.place_of_birth)||""],["Role",ee(F)],["Blood type",ee(L.blood_type)||""],["National ID",ee(L.national_id_number)||""],["Nationality",ee(L.nationality)||""],["Grade",ee(L.grade)||""],["License Number",ee(L.license_number)||""],["Registration Date",ee(L.registration_date)||""],["Year",ee(L.year)||""],["Renewal",ee(L.renewal)||""]];yr(A,{startY:D,head:[["Field","Value"]],body:se,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const k=A.lastAutoTable.finalY||200;A.setFontSize(12),A.setTextColor(0,0,0),A.text("Medical certificate",14,k+20),A.setDrawColor(0),A.line(14,k+40,80,k+40),A.setFontSize(10),console.log("memberClubName:",Ne,"finalY:",k),Ne?(A.text(`Club: ${ee(Ne)}`,14,k+60),A.text("Club Visa: _________________",14,k+70)):console.log("No memberClubName found, member.club_id:",L.club_id),Z&&(A.text(`League: ${ee(Z)}`,120,k+60),A.text("League Visa: _________________",120,k+70));try{const ue=JSON.stringify({id:L.id,name:`${L.first_name||""} ${L.last_name||""}`.trim(),license:L.license_number||"",club_id:L.club_id||"",league_id:L.league_id||""}),Se=await(await ma(async()=>{const{default:Te}=await Promise.resolve().then(()=>Om);return{default:Te}},void 0)).default.toDataURL(ue,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});A.addImage(Se,"PNG",180,k+75,15,15)}catch(ue){console.error("Error generating QR code:",ue)}const K=`athlete_${ee(L.first_name)}_${ee(L.last_name)}_${L.id||"record"}.pdf`;console.log(" About to save PDF with filename:",K),A.save(K),console.log(" PDF save completed")}catch(A){console.error(" Error in exportPDFWithAutoOrientation:",A),u(`Error generating PDF: ${A.message}`)}},te=(L,A=1,J="",ie="")=>{const Ne=L.internal.pageSize.getWidth(),et=L.internal.pageSize.getHeight();if(Y)try{L.addImage(Y,"PNG",Ne-40,15,25,25)}catch(be){console.warn("Could not add federation logo:",be)}const D=new Date().toLocaleDateString();return L.setFontSize(10),L.setFont("helvetica","normal"),L.text(`Print Date: ${D}`,15,20),L.setFontSize(16),L.setFont("helvetica","bold"),L.text(ee("Algerian Judo Federation"),Ne/2,25,{align:"center"}),ie&&(L.setFontSize(12),L.setFont("helvetica","normal"),L.text(`League: ${ee(ie)}`,Ne/2,40,{align:"center"})),J&&(L.setFontSize(12),L.setFont("helvetica","normal"),L.text(`Club: ${ee(J)}`,Ne/2,53,{align:"center"})),L.setFontSize(10),L.text(`Page ${A}`,Ne-20,et-10,{align:"right"}),J?70:ie?57:40},ee=L=>L?String(L).replace(/=U/g,"").replace(/<a/g,"").replace(/=Ud/g,"").replace(/-/g,"").replace(/-d/g,"").replace(/<a/g,"").replace(/</g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(/ /g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").replace(//g,"").trim():"",we=async()=>{const L=(t==null?void 0:t.league_id)||ne;if(!L){Ut("No league selected");return}try{const{data:A,error:J}=await ae.from("nameclub").select("id, name_club").eq("league_i",L);if(J)throw J;if(!A||A.length===0){Ut("No clubs found in this league");return}const ie=A.map(K=>K.id),{data:Ne,error:et}=await ae.from("club_members").select("*").in("club_id",ie);if(et)throw et;if(!Ne||Ne.length===0){Ut("No members found in any clubs of this league");return}const D=new At("landscape");let pe=te(D,1,"",Z||"Unknown League");D.setFontSize(14),D.setFont("helvetica","bold"),D.setTextColor(255,0,0),D.text("Club Members - General Situation",D.internal.pageSize.getWidth()/2,pe,{align:"center"}),D.setTextColor(0,0,0),pe+=20;const F={};Ne.forEach(K=>{const ue=K.year||"Unknown Year";F[ue]||(F[ue]={});const xe=A.find(Te=>Te.id===K.club_id),Se=xe?ee(xe.name_club):"Unknown Club";F[ue][Se]||(F[ue][Se]=[]),F[ue][Se].push(K)});const se={};Ne.forEach(K=>{const ue=A.find(Se=>Se.id===K.club_id),xe=ue?ee(ue.name_club):"Unknown Club";se[xe]||(se[xe]=[]),se[xe].push(K)});for(const[K,ue]of Object.entries(se)){if(ue.length===0)continue;const xe=ue.sort((Te,Ze)=>{const pt=new Date(Te.registration_date||"1900-01-01"),Et=new Date(Ze.registration_date||"1900-01-01");return pt-Et});D.setFontSize(14),D.setFont("helvetica","bold"),D.text(`${ee(K)}`,20,pe),pe+=12;const Se=xe.map(Te=>[ee(Te.last_name),ee(Te.first_name),ee(Te.date_of_birth),ee(Te.place_of_birth),ee(Te.blood_type),ee(Te.nationality),ee(Te.grade),ee(Te.holder_of),ee(Te.national_id_number),ee(Te.password),ee(Te.renewal),Te.confirmation?"Yes":"No",ee(Te.license_number)]);yr(D,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Se,startY:pe,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),pe=D.lastAutoTable.finalY+8,pe>180&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z||"Unknown League")+5),pe+=8,pe>160&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z)+5)}const k=new Date().getFullYear();D.save(`federation_league_club_members_general_${k}.pdf`)}catch(A){console.error("Error generating PDF:",A),u("Error generating PDF: "+A.message)}},Je=async()=>{const L=(t==null?void 0:t.league_id)||ne;if(!L){Ut("No league selected");return}try{const{data:A,error:J}=await ae.from("nameclub").select("id, name_club").eq("league_i",L);if(J)throw J;if(!A||A.length===0){Ut("No clubs found in this league");return}const ie=A.map(ue=>ue.id),{data:Ne,error:et}=await ae.from("club_members").select("*").in("club_id",ie);if(et)throw et;if(!Ne||Ne.length===0){Ut("No members found in any clubs of this league");return}const D=new At("landscape");let pe=te(D,1,"",Z);const F={};Ne.forEach(ue=>{const xe=A.find(Ze=>Ze.id===ue.club_id),Se=xe?ee(xe.name_club):"Unknown Club",Te=ue.year||"Unknown Year";F[Te]||(F[Te]={}),F[Te][Se]||(F[Te][Se]=[]),F[Te][Se].push(ue)}),D.setFontSize(14),D.setFont("helvetica","bold"),D.setTextColor(255,0,0),D.text("Club Members - Grade & Role Report",D.internal.pageSize.getWidth()/2,pe,{align:"center"}),D.setTextColor(0,0,0),pe+=20;let se=!0;for(const[ue,xe]of Object.entries(F)){se||(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z||"Unknown League")+5),se=!1,D.setFontSize(12),D.setFont("helvetica","bold"),D.text(ee(`ROLES SECTION - ${ue}`),20,pe),pe+=15;for(const[Se,Te]of Object.entries(xe)){if(Te.length===0)continue;D.setFontSize(12),D.setFont("helvetica","bold"),D.text(`Club: ${ee(Se)}`,35,pe),pe+=10;const Ze={};Te.forEach(pt=>{const Et=E.find(ft=>ft.id===pt.role_id),Qe=(Et==null?void 0:Et.club_role)||"No Role";Ze[Qe]||(Ze[Qe]=[]),Ze[Qe].push(pt)});for(const[pt,Et]of Object.entries(Ze)){if(Et.length===0)continue;D.setFontSize(11),D.setFont("helvetica","bold"),D.text(`Role: ${ee(pt)}`,30,pe),pe+=8;const Qe=Et.map(ft=>[ee(ft.last_name),ee(ft.first_name),ee(ft.date_of_birth),ee(ft.place_of_birth),ee(ft.blood_type),ee(ft.nationality),ee(ft.grade),ee(ft.holder_of),ee(ft.national_id_number),ee(ft.password),ee(ft.renewal),ft.confirmation?"Yes":"No",ee(ft.license_number)]);yr(D,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Qe,startY:pe,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),pe=D.lastAutoTable.finalY+8,pe>180&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z||"Unknown League")+5)}pe+=8,pe>160&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z||"Unknown League")+5)}pe+=10}D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z),D.setFontSize(14),D.setFont("helvetica","bold"),D.setTextColor(255,0,0),D.text("Club Members - Grade & Role Report",D.internal.pageSize.getWidth()/2,pe,{align:"center"}),D.setTextColor(0,0,0),pe+=20;let k=!0;for(const[ue,xe]of Object.entries(F)){k||(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z)+5),k=!1,D.setFontSize(12),D.setFont("helvetica","bold"),D.text(ee(`GRADES SECTION - ${ue}`),20,pe),pe+=15;for(const[Se,Te]of Object.entries(xe)){if(Te.length===0)continue;D.setFontSize(12),D.setFont("helvetica","bold"),D.text(`Club: ${ee(Se)}`,35,pe),pe+=10;const Ze={};Te.forEach(pt=>{const Et=pt.grade||"No Grade";Ze[Et]||(Ze[Et]=[]),Ze[Et].push(pt)});for(const[pt,Et]of Object.entries(Ze)){if(Et.length===0)continue;D.setFontSize(11),D.setFont("helvetica","bold"),D.text(`Grade: ${ee(pt)}`,30,pe),pe+=8;const Qe=Et.map(ft=>{const rt=E.find(Zt=>Zt.id===ft.role_id),Tt=(rt==null?void 0:rt.club_role)||"No Role";return[ee(ft.last_name),ee(ft.first_name),ee(ft.date_of_birth),ee(ft.place_of_birth),ee(ft.blood_type),ee(ft.nationality),ee(Tt),ee(ft.holder_of),ee(ft.national_id_number),ee(ft.password),ee(ft.renewal),ft.confirmation?"Yes":"No",ee(ft.license_number)]});yr(D,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Qe,startY:pe,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),pe=D.lastAutoTable.finalY+8,pe>180&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z)+5)}pe+=8,pe>160&&(D.addPage(),pe=te(D,D.internal.getNumberOfPages(),"",Z)+5)}pe+=10}const K=new Date().getFullYear();D.save(`league_${ee(Z)}_complete_report_${K}.pdf`)}catch(A){console.error("Error exporting complete league report PDF:",A),u("Error exporting PDF: "+A.message)}};v.useEffect(()=>{const L=setTimeout(()=>{},300);return()=>clearTimeout(L)},[De]),v.useEffect(()=>{qt()},[ve,ne]);const It=async L=>{if(!L)return null;const A=L.name.split(".").pop(),J=`${Date.now()}-${Math.random()}.${A}`,{error:ie}=await ae.storage.from("logos").upload(J,L);if(ie)return u(`Upload failed: ${ie.message}`),null;const{data:Ne}=ae.storage.from("logos").getPublicUrl(J);return(Ne==null?void 0:Ne.publicUrl)??null},Rt=async()=>{if(!yt)return null;const L=yt.name.split(".").pop(),A=`club_member-${Date.now()}.${L}`,{error:J}=await ae.storage.from("logos").upload(A,yt);if(J)return console.error("upload error",J),null;const{data:ie}=ae.storage.from("logos").getPublicUrl(A);return(ie==null?void 0:ie.publicUrl)??null},Xe=async(L,A,J,ie)=>{const{data:Ne}=await ae.from("club_members").select("*").eq("national_id_number",L).eq("club_id",A).eq("role",J).eq("year",ie);if(Ne&&Ne.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:et}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",L).eq("club_id",A).eq("role",J);return(et||0)+1},ir=async L=>{var ue;if(L.preventDefault(),u(""),g(""),console.log("Setting submitLoading to true"),l(!0),await new Promise(xe=>setTimeout(xe,100)),!He||!Be||!ot||!Oe||!kt||!ve||!ne||!_t||!Ot){const xe=[];He||xe.push("First Name"),Be||xe.push("Last Name"),ot||xe.push("Date of Birth"),Oe||xe.push("Place of Birth"),kt||xe.push("Role"),ve||xe.push("Club"),ne||xe.push("League"),_t||xe.push("Password"),Ot||xe.push("Confirm Password"),u(`Please fill in the following required fields: ${xe.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),l(!1);return}const A=Number(ve),J=Number(ne);if(!A||isNaN(A)){u("Please select a valid club."),l(!1);return}if(!J||isNaN(J)){u("Please select a valid league."),l(!1);return}if(ht.length!==18){u("National ID must be exactly 18 digits."),l(!1);return}if(_t!==Ot){u("Passwords do not match."),l(!1);return}const ie=new Date(ot),Ne=new Date,et=Ne.getFullYear()-ie.getFullYear(),D=Ne.getMonth()-ie.getMonth(),be=Ne.getDate()-ie.getDate();if((D<0||D===0&&be<0?et-1:et)<=21){u("Member must be more than 21 years old to register."),l(!1);return}if(Be&&_t){const{data:xe}=await ae.from("club_members").select("*").eq("last_name",Be).eq("password",_t);if(xe&&xe.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}const F=((ue=E.find(xe=>xe.id===parseInt(kt)))==null?void 0:ue.club_role)||"",se=new Date().getFullYear(),k=`${se}/${se+1}`;let K;try{K=await Xe(ht,A,F,k)}catch(xe){u(xe.message),l(!1);return}try{const xe=await Rt(),Se=await It(gt),Te={last_name:Be,first_name:He,date_of_birth:ot,place_of_birth:Oe,role:F,blood_type:We,national_id_number:ht,password:_t,photo_url:xe,logo_url:Se,nationality:St,grade:wt,holder_of:Pe,club_id:A,league_id:J,license_number:`LIC-${Date.now()}`,renewal:K,year:k},{error:Ze}=await ae.from("club_members").insert([Te]);Ze?(console.error("insert club member error",Ze),u("Error saving club member: "+Ze.message),l(!1)):(g(`Member "${He} ${Be}" has been successfully added to the club!`),ke(""),Ke(""),Ge(""),le(""),Pt(""),Me(""),lt(""),Lt(""),nt(""),Ft(""),Qt(""),me(""),Bt(null),Nt(null),await qt(),l(!1))}catch(xe){console.error("handleSubmit error",xe),u("Unexpected error: "+xe.message),l(!1)}};return s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),o&&s.jsx(ta,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Y?s.jsx("img",{src:Y,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Zi,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:Re})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:Z||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",t.first_name," ",t.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",t.role]}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async L=>{if(br(L.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/member-list-l",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async L=>{if(br(L.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async L=>{if(br(L.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The Athlete List Add"})]}),s.jsxs("section",{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:ir,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:kt,onChange:L=>Pt(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),E.map(L=>s.jsx("option",{value:L.id,children:L.club_role},L.id))]})]}),s.jsxs("label",{children:["League: *",s.jsx("select",{value:ne,onChange:L=>{ye(L.target.value),Le("")},disabled:!!(t!=null&&t.league_id),required:!0,children:t!=null&&t.league_id?s.jsx("option",{value:t.league_id,children:Z}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- Select League --"}),_e.map(L=>s.jsx("option",{value:L.id,children:L.name_league},L.id))]})})]}),s.jsxs("label",{children:["Club: *",s.jsxs("select",{value:ve,onChange:L=>Le(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),Q.map(L=>s.jsx("option",{value:L.id,children:L.name_club},L.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:St,onChange:L=>Ft(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:wt,onChange:L=>Qt(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Pe,onChange:L=>me(L.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:We,onChange:L=>Me(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Be,onChange:L=>ke(L.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:He,onChange:L=>Ke(L.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:ot,onChange:L=>Ge(L.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Oe,onChange:L=>le(L.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{value:ht,onChange:L=>lt(L.target.value),maxLength:"18",required:!0}),s.jsx("small",{children:"18 digits required  must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_t,onChange:L=>Lt(L.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ot,onChange:L=>nt(L.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:L=>{var A;return Nt(((A=L.target.files)==null?void 0:A[0])??null)},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:L=>{var A;return Bt(((A=L.target.files)==null?void 0:A[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",disabled:o,children:o?"Saving...":"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsx("h2",{className:"form-title",children:"List Of Club Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsx("select",{value:ne,onChange:L=>{ye(L.target.value),Le("")},disabled:!!(t!=null&&t.league_id),children:t!=null&&t.league_id?s.jsx("option",{value:t.league_id,children:Z}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- Select League --"}),_e.map(L=>s.jsx("option",{value:L.id,children:L.name_league},L.id))]})})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:ve,onChange:L=>Le(L.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),Q.map(L=>s.jsx("option",{value:L.id,children:L.name_club},L.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:De,onChange:L=>ut(L.target.value)})})]}),s.jsx("div",{className:"table-container",ref:$e,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):bt.map(L=>s.jsxs("tr",{onDoubleClick:()=>tr(L),style:{cursor:"pointer"},children:[s.jsx("td",{children:N===L.id?s.jsx("input",{value:C.last_name||"",onChange:A=>z(A,"last_name")}):L.last_name}),s.jsx("td",{children:N===L.id?s.jsx("input",{value:C.first_name||"",onChange:A=>z(A,"first_name")}):L.first_name}),s.jsx("td",{children:N===L.id?s.jsx("input",{type:"date",value:C.date_of_birth||"",onChange:A=>z(A,"date_of_birth")}):L.date_of_birth}),s.jsx("td",{children:N===L.id?s.jsx("input",{value:C.place_of_birth||"",onChange:A=>z(A,"place_of_birth")}):L.place_of_birth}),s.jsx("td",{children:N===L.id?s.jsxs("select",{value:C.role_id||"",onChange:A=>z(A,"role_id"),children:[s.jsx("option",{value:"",children:"-- Select --"}),E.map(A=>s.jsx("option",{value:A.id,children:A.club_role},A.id))]}):L.role||"No Role"}),s.jsx("td",{children:N===L.id?s.jsxs("select",{value:C.blood_type||"",onChange:A=>z(A,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):L.blood_type}),s.jsx("td",{children:N===L.id?s.jsxs("select",{value:C.nationality||"",onChange:A=>z(A,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):L.nationality}),s.jsx("td",{children:N===L.id?s.jsxs("select",{value:C.grade||"",onChange:A=>z(A,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):L.grade}),s.jsx("td",{children:N===L.id?s.jsx("input",{value:C.holder_of||"",onChange:A=>z(A,"holder_of")}):L.holder_of}),s.jsx("td",{children:L.national_id_number}),s.jsx("td",{children:L.renewal}),s.jsx("td",{children:L.year}),s.jsx("td",{children:L.license_number}),s.jsx("td",{children:L.registration_date}),s.jsx("td",{children:L.photos_url||L.photo_url?s.jsx("img",{src:ze(L.photos_url||L.photo_url),alt:"Member",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:L.confirmation?"":""}),s.jsx("td",{children:L.club_id}),s.jsx("td",{children:L.league_id}),s.jsx("td",{children:N===L.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>Ee(L.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Fe,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>Mt(L),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>st(L),children:"Delete"}),s.jsx("button",{className:L.confirmation?"cancel-btn":"confirm-btn",onClick:()=>tt(L.id,L.confirmation),children:L.confirmation?"Cancel Confirmation":"Confirm"})]})})]},L.id))})]})})]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:we,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Je,children:"Export Grade Role PDF"})]})]}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})}),c&&s.jsx(Pn,{error:c,onClose:()=>u(null)}),d&&s.jsx(Rn,{success:d,onClose:()=>g("")}),s.jsx("style",{jsx:!0,children:`
        @keyframes fadeInScale {
          from {
            opacity: 0;
            transform: scale(0.8);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        
        @keyframes bounceIn {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function f8(){const{state:t}=fi(),e=Ur(),[r,n]=v.useState(!0),[i,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState(null),[m,f]=v.useState(null),[x,j]=v.useState(""),[_,b]=v.useState(null),[N,S]=v.useState(""),[C,B]=v.useState((t==null?void 0:t.club_id)??""),[Y,V]=v.useState((t==null?void 0:t.league_id)??""),[T,$]=v.useState((t==null?void 0:t.league_id)??""),[Z,I]=v.useState((t==null?void 0:t.club_id)??""),[G,de]=v.useState([]),[M,H]=v.useState([]),[ve,Le]=v.useState([]),[ne,ye]=v.useState([]),[Re,oe]=v.useState([]),[E,U]=v.useState(""),[Q,ce]=v.useState(""),[_e,Ce]=v.useState(""),[Be,ke]=v.useState(""),[He,Ke]=v.useState(""),[ot,Ge]=v.useState(""),[Oe,le]=v.useState(""),[kt,Pt]=v.useState(""),[We,Me]=v.useState(""),[ht,lt]=v.useState(null),[_t,Lt]=v.useState(""),[Ot,nt]=v.useState(""),[yt,Bt]=v.useState(""),[gt,Nt]=v.useState(""),[St,Ft]=v.useState(""),[wt,Qt]=v.useState(1),[Pe,me]=v.useState(null),[De,ut]=v.useState({}),[$e,ze]=v.useState(""),Jt=Zn(),Ut="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",qt="Algerian Judo Federation",Mt=["Admin","Coach","Athlete"],Fe=["Algerian","Tunisian"],z=["brown belt","black belt"],Ee=["Poussins","Benjamins","Minimes","Cadets","Juniors","Hopefuls","Seniors","Veterans"],st=["Men","Women"],[tt,bt]=v.useState([]),tr=k=>k?k.startsWith("http")?k:`${Ut}${k}`:null,Gt=async()=>{if(!ht)return null;try{const k=ht.name.split(".").pop(),K=`athlete-${Date.now()}.${k}`,{error:ue}=await ae.storage.from("logos").upload(K,ht);if(ue)return console.error("upload error",ue),null;const{data:xe}=ae.storage.from("logos").getPublicUrl(K);return(xe==null?void 0:xe.publicUrl)??null}catch(k){return console.error("handlePhotoUpload error",k),null}};function vr(k){return new Promise((K,ue)=>{Ua(k,xe=>{if(xe.type==="error")console.warn("EXIF processing failed, using original image:",k),K(k);else try{const Se=xe.toDataURL("image/png");K(Se)}catch(Se){console.warn("Canvas conversion failed, using original image:",Se),K(k)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const te=async(k,K)=>{const{data:ue}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",k).eq("year",K);if(ue&&ue.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:xe}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",k);return(xe||0)+1},ee=async()=>{var k;try{l("");const[K,ue,xe,Se,Te]=await Promise.all([ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1),ae.from("nameleague").select("id, name_league"),ae.from("roles").select("id, name"),T?ae.from("nameclub").select("id, name_club").eq("league_i",T):ae.from("nameclub").select("id, name_club"),ae.from("athletes").select("*").order("id",{ascending:!1}).limit(1e3)]);if((k=K.data)!=null&&k.length&&g(tr(K.data[0].logo_url)),Le(ue.data||[]),xe.data?de(xe.data.map(Et=>Et.name)):de(Mt),H(Se.data||[]),Te.error)throw Te.error;const Ze=Te.data||[];oe(Ze);let pt=Ze;Z?pt=Ze.filter(Et=>String(Et.club_id)===String(Z)):T&&(pt=Ze.filter(Et=>String(Et.league_id)===String(T))),ye(pt),await Promise.all([t!=null&&t.league_id?we(t.league_id):Promise.resolve(),Z||C?Je(Z||C):Promise.resolve()])}catch(K){console.error("fetchData error",K),l((K==null?void 0:K.message)||String(K))}finally{n(!1),a(!1)}};v.useEffect(()=>{ti()},[]);const we=async k=>{var K;try{const[ue,xe]=await Promise.all([ae.from("nameleague").select("*").eq("id",k).single(),ae.from("league_members").select("logo_url").eq("league_id",k).order("id",{ascending:!1}).limit(1)]);ue.data&&j(ue.data.name_league||""),(K=xe.data)!=null&&K.length&&f(tr(xe.data[0].logo_url))}catch(ue){console.error("loadLeagueDetails error",ue)}},Je=async k=>{var K;try{const[ue,xe]=await Promise.all([ae.from("nameclub").select("name_club, i").eq("id",k).single(),ae.from("club_members").select("logo_url").eq("club_id",k).order("id",{ascending:!1}).limit(1)]);ue.data&&S(ue.data.name_club),(K=xe.data)!=null&&K.length&&b(tr(xe.data[0].logo_url))}catch(ue){console.error("loadClubDetails error",ue)}};v.useEffect(()=>{ee()},[]),v.useEffect(()=>{ti()},[]);const It=v.useMemo(()=>{let k=Re;return Z?k=Re.filter(K=>String(K.club_id)===String(Z)):T&&(k=Re.filter(K=>String(K.league_id)===String(T))),k},[Re,Z,T]);v.useEffect(()=>{ye(It)},[It]),v.useEffect(()=>{T&&(async()=>{try{const{data:K}=await ae.from("nameclub").select("id, name_club").eq("league_i",T);H(K||[])}catch(K){console.error("Error fetching clubs:",K)}})()},[T]);const Rt=v.useCallback(async(k,K)=>{if(!(!k||!K))try{const{data:ue,error:xe}=await ae.from("categories").select("weight").eq("genres",k).eq("categories",K);xe?console.error("Erreur rcupration poids:",xe.message):bt(ue.map(Se=>Se.weight))}catch(ue){console.error("Erreur inconnue:",ue)}},[]);v.useEffect(()=>{const k=De.genres||yt,K=De.categories||gt;Rt(k,K)},[yt,gt,De.genres,De.categories,Rt]);const Xe=(k,K)=>{if(!k||!K)return{isValid:!1,message:"Date of birth and category are required."};const ue=new Date(k),xe=new Date,Se=xe.getFullYear()-ue.getFullYear()-(xe.getMonth()<ue.getMonth()||xe.getMonth()===ue.getMonth()&&xe.getDate()<ue.getDate()?1:0),Ze={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[K];return Ze?Se<Ze.min||Se>Ze.max?K==="Veterans"?{isValid:!1,message:`For ${K} category, athlete must be more than 35 years old. Current age: ${Se}`}:{isValid:!1,message:`For ${K} category, athlete must be between ${Ze.min} and ${Ze.max} years old. Current age: ${Se}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${K}`}},ir=async k=>{if(k.preventDefault(),l(""),u(""),a(!0),!Q||!E){l("First name and Last name are required."),a(!1);return}if(!/^\d{18}$/.test(Oe)){l("National ID (NID) must be exactly 18 digits."),a(!1);return}if(kt!==We){l("Passwords do not match."),a(!1);return}if(!T&&!Y){l("League must be selected or provided in state."),a(!1);return}if(!Z&&!C){l("Club must be selected or provided in state."),a(!1);return}const K=Xe(_e,gt);if(!K.isValid){l(K.message),a(!1);return}if(E&&kt){const{data:Se}=await ae.from("athletes").select("*").eq("password",kt);if(Se&&Se.length>0){l("Change your Password for this name because is already exist"),a(!1);return}}const ue=new Date().getFullYear(),xe=`${ue}/${ue+1}`;try{const{data:Se,error:Te}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",Oe).eq("year",xe);if(Te)throw Te;if(Se&&Se.length>0){l("An athlete with this National ID is already registered for this season."),a(!1);return}}catch(Se){l(Se.message||String(Se)),a(!1);return}try{const Se=await Gt(),Te=new Date().getFullYear(),Ze=`${Te}/${Te+1}`;let pt;try{pt=await te(Oe,Ze)}catch(ft){l(ft.message),setSubmitLoading(!1);return}const Et={last_name:E,first_name:Q,date_of_birth:_e,place_of_birth:Be,role:He,blood_type:ot,national_id_number:Oe,password:kt,license_number:`ATH-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:Se,nationality:_t,grade:Ot,renewal:pt,confirmation:!1,genres:yt,categories:gt,weight:St,league_id:T||Y,club_id:Z||C,year:Ze},{error:Qe}=await ae.from("athletes").insert([Et]);if(Qe)throw Qe;u("Athlete added successfully."),U(""),ce(""),Ce(""),ke(""),Ke(""),Ge(""),le(""),Pt(""),Me(""),lt(null),Lt(""),nt(""),Bt(""),Nt(""),Ft(""),await ee()}catch(Se){console.error("handleSubmit error",Se),l((Se==null?void 0:Se.message)||String(Se))}finally{n(!1)}},L=k=>{me(k.id),ut({...k})},A=()=>{me(null),ut({})},J=async()=>{a(!0);const k=Xe(De.date_of_birth,De.categories);if(!k.isValid){a(!1),l(k.message);return}const{error:K}=await ae.from("athletes").update({last_name:De.last_name,first_name:De.first_name,date_of_birth:De.date_of_birth,place_of_birth:De.place_of_birth,role:De.role,blood_type:De.blood_type,nationality:De.nationality,grade:De.grade,categories:De.categories,weight:De.weight,genres:De.genres}).eq("id",Pe);K?(a(!1),l("Update failed: "+K.message)):(await ee(),A(),a(!1),u("Athlete updated successfully!"))},ie=async k=>{const K=new Date().toISOString().split("T")[0];if(k.registration_date!==K){l("You can only delete athletes the same day they were added.");return}if(window.confirm("Delete this athlete?"))try{const{error:ue}=await ae.from("athletes").delete().eq("id",k.id);if(ue)throw ue;await ee()}catch(ue){console.error("deleteAthlete error",ue),l("Error deleting athlete: "+ue.message)}},Ne=async(k,K)=>{try{n(!0);const{error:ue}=await ae.from("athletes").update({confirmation:!K}).eq("id",k);if(ue)throw ue;ye(xe=>xe.map(Se=>Se.id===k?{...Se,confirmation:!K}:Se))}catch(ue){console.error("toggle confirmation error",ue),l((ue==null?void 0:ue.message)||String(ue))}finally{n(!1)}},et=ne.filter(k=>{const K=$e.trim().toLowerCase();return K?String(k.first_name||"").toLowerCase().includes(K)||String(k.last_name||"").toLowerCase().includes(K)||String(k.national_id_number||"").includes(K):!0}),D=k=>{if(!k||Object.keys(k).length===0){l("No data available to export");return}be(k)},be=async k=>{let K=null,ue=null;try{k.club_id&&(K=(await Tn())[k.club_id]),k.league_id&&(ue=(await Xn())[k.league_id])}catch(ft){console.error("Error fetching names:",ft)}const xe=new At("portrait","mm","a4");xe.setFontSize(18),xe.setTextColor(40,40,40),xe.text("Algerian Judo Federation",14,15);const Se=`Athlete Information - ${k.first_name} ${k.last_name}`;xe.setFontSize(16),xe.setTextColor(40,40,40),xe.text(Se,14,30),xe.setFontSize(10);const Te=new Date().toLocaleString();if(xe.text(`Generated: ${Te}`,14,37),d)try{xe.addImage(d,"PNG",170,10,25,25)}catch(ft){console.error("Error adding logo to PDF:",ft)}let Ze=70;if(k.photos_url)try{const ft=await vr(k.photos_url),rt=ft.startsWith("data:")?"PNG":"JPEG";xe.addImage(ft,rt,14,45,25,20),Ze=70}catch(ft){console.error("Error adding photo to PDF:",ft);try{xe.addImage(k.photos_url,"JPEG",14,45,25,20)}catch(rt){console.error("Fallback image addition also failed:",rt)}Ze=70}xe.setFontSize(12),k.confirmation?xe.setTextColor(0,128,0):xe.setTextColor(255,0,0);const pt=k.confirmation?"CONFIRMED ":"NOT CONFIRMED ";xe.text(pt,160,50);const Et=[["First Name",k.first_name||""],["Last Name",k.last_name||""],["Date of Birth",k.date_of_birth||""],["Place of Birth",k.place_of_birth||""],["National ID",k.national_id_number||""],["Nationality",k.nationality||""],["Blood Type",k.blood_type||""],["Grade",k.grade||""],["Role",k.role||""],["Gender",k.genres||""],["Category",k.categories||""],["Weight",k.weight||""],["License Number",k.license_number||""],["Registration Date",k.registration_date||""],["Year",k.year||""],["Renewal",k.renewal||""]];yr(xe,{head:[["Field","Value"]],body:Et,startY:Ze,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Qe=xe.lastAutoTable.finalY||200;if(xe.setFontSize(12),xe.setTextColor(0,0,0),xe.text("Medical certificate",14,Qe+20),xe.setDrawColor(0),xe.line(14,Qe+40,80,Qe+40),xe.setFontSize(10),k.club_id||K){const ft=K||`ID: ${k.club_id}`;xe.text(`Club: ${ft}`,14,Qe+60),xe.text("Club Visa: _________________",14,Qe+70)}if(k.league_id||ue){const ft=ue||`ID: ${k.league_id}`;xe.text(`League: ${ft}`,120,Qe+60),xe.text("League Visa: _________________",120,Qe+70)}try{const ft=JSON.stringify({id:k.id,name:`${k.first_name||""} ${k.last_name||""}`.trim(),license:k.license_number||"",club_id:k.club_id||"",league_id:k.league_id||"",confirmation:k.confirmation||"Unconfirmed"}),rt=await ui.toDataURL(ft,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});xe.addImage(rt,"PNG",175,Qe+75,15,15)}catch(ft){console.error("Error generating QR code:",ft)}xe.save(`athlete_${k.first_name}_${k.last_name}.pdf`)},pe=async()=>{if(!et||et.length===0){l("No athletes data available to export");return}const k=new At("landscape","mm","a4"),K=k.internal.pageSize.getWidth(),ue=new Date().getFullYear(),xe=new Date().toLocaleDateString();if(k.setFontSize(10),k.setFont("helvetica","normal"),k.setTextColor(40,40,40),k.text(`Date: ${xe}`,14,15),k.setFontSize(16),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text("Algerian Judo Federation",K/2,15,{align:"center"}),d)try{k.addImage(d,"PNG",K-40,5,25,25)}catch(Qe){console.error("Error adding logo to PDF:",Qe)}k.setFontSize(14),k.setFont("helvetica","normal"),k.setTextColor(40,40,40),k.text(`League: ${x||"Unknown League"}`,K/2,30,{align:"center"}),k.setFont("helvetica","bold"),k.setTextColor(255,0,0),k.text("Athletes Members - General Situation",K/2,40,{align:"center"});let Se={},Te={};try{Se=await Tn(),Te=await Xn()}catch(Qe){console.error("Error fetching club/league names:",Qe)}const Ze={};et.forEach(Qe=>{const ft=Qe.year||ue,rt=Qe.club_id;Ze[ft]||(Ze[ft]={}),Ze[ft][rt]||(Ze[ft][rt]=[]),Ze[ft][rt].push(Qe)});const pt=Object.keys(Ze).sort();let Et=55;pt.forEach((Qe,ft)=>{const rt=Ze[Qe];k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`Year ${Qe}`,14,Et),Et+=15,Object.keys(rt).sort((Zt,er)=>{const gr=Se[Zt]||`Club ${Zt}`,ar=Se[er]||`Club ${er}`;return gr.localeCompare(ar)}).forEach((Zt,er)=>{const gr=rt[Zt],ar=Se[Zt]||`Club ${Zt}`;k.setFontSize(12),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`Club ${er+1}: ${ar}`,14,Et),Et+=10;const jr=gr.sort((dr,_a)=>{const ra=dr.categories||"",Wo=_a.categories||"";if(ra!==Wo)return ra.localeCompare(Wo);const Ni=dr.genres||"",io=_a.genres||"";if(Ni!==io)return Ni.localeCompare(io);const Ho=parseFloat(dr.weight)||0,wa=parseFloat(_a.weight)||0;return Ho-wa}).map(dr=>[dr.last_name||"",dr.first_name||"",dr.date_of_birth||"",dr.place_of_birth||"",dr.role||"",dr.blood_type||"",dr.national_id_number||"",dr.nationality||"",dr.grade||"",dr.renewal||"",dr.year||"",dr.genres||"",dr.categories||"",dr.weight||"",dr.license_number||"",dr.registration_date||"",dr.confirmation?"Yes":"No",Se[dr.club_id]||`Club ID: ${dr.club_id}`,Te[dr.league_id]||`League ID: ${dr.league_id}`]);yr(k,{head:[["Last","First","DOB","POB","Role","Blood","NID","Nationality","Grade","Renewal","Year","Gender","Category","Weight","License #","Registration","Confirmed","Club","League"]],body:jr,startY:Et,theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{fontSize:8},didParseCell:function(dr){if(dr.section==="body"){const ra=jr[dr.row.index][11];ra&&ra.toLowerCase().includes("women")?dr.cell.styles.fillColor=[211,211,211]:dr.cell.styles.fillColor=[255,255,255]}},columnStyles:{0:{cellWidth:15},1:{cellWidth:15},2:{cellWidth:12},3:{cellWidth:15},4:{cellWidth:10},5:{cellWidth:8},6:{cellWidth:15},7:{cellWidth:12},8:{cellWidth:10},9:{cellWidth:12},10:{cellWidth:8},11:{cellWidth:10},12:{cellWidth:12},13:{cellWidth:10},14:{cellWidth:15},15:{cellWidth:15},16:{cellWidth:10},17:{cellWidth:20},18:{cellWidth:20}}}),Et=k.lastAutoTable.finalY+15,Et>160&&(k.addPage(),Et=20)}),Et+=10}),k.save(`athletes_members_general_situation_${ue}.pdf`)},F=async()=>{if(!et||et.length===0){l("No athletes data available to export");return}const k=new At("landscape","mm","a4"),K=k.internal.pageSize.getWidth(),ue=new Date().getFullYear(),xe=new Date().toLocaleDateString(),Se=()=>{if(k.setFontSize(10),k.setFont("helvetica","normal"),k.setTextColor(40,40,40),k.text(`Date: ${xe}`,14,15),k.setFontSize(16),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text("Algerian Judo Federation",K/2,15,{align:"center"}),d)try{k.addImage(d,"PNG",K-40,5,25,25)}catch(rt){console.error("Error adding logo to PDF:",rt)}k.setFontSize(14),k.setFont("helvetica","normal"),k.setTextColor(40,40,40),k.text(`League: ${x||"Unknown League"}`,K/2,30,{align:"center"}),k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(220,53,69),k.text("Athletes Members - Category Situation",K/2,40,{align:"center"})};Se();let Te={},Ze={};try{Te=await Tn(),Ze=await Xn()}catch(rt){console.error("Error fetching club/league names:",rt)}const pt=et.reduce((rt,Tt)=>{const Zt=Tt.year||"Unknown Year",er=Tt.club_id||"Unknown Club",gr=Te[er]||`Club ID: ${er}`,ar=Tt.categories||"Uncategorized",nn=Tt.genres||"Unspecified",jr=Tt.weight||"No Weight";return rt[Zt]||(rt[Zt]={}),rt[Zt][gr]||(rt[Zt][gr]={}),rt[Zt][gr][ar]||(rt[Zt][gr][ar]={}),rt[Zt][gr][ar][nn]||(rt[Zt][gr][ar][nn]={}),rt[Zt][gr][ar][nn][jr]||(rt[Zt][gr][ar][nn][jr]=[]),rt[Zt][gr][ar][nn][jr].push(Tt),rt},{}),Et=(rt,Tt)=>[...rt].sort((er,gr)=>{const ar=new Date(er.date_of_birth||"1900-01-01"),nn=new Date(gr.date_of_birth||"1900-01-01");return ar-nn}).map(er=>[er.last_name||"",er.first_name||"",er.date_of_birth||"",er.national_id_number||"",er.nationality||"",er.grade||"",er.license_number||"",er.confirmation?"Yes":"No",Te[er.club_id]||`Club ID: ${er.club_id}`]);let Qe=50,ft=!0;Object.entries(pt).sort().forEach(([rt,Tt])=>{ft||(k.addPage(),Se(),Qe=50),ft=!1,k.setFontSize(13),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`Year: ${rt}`,14,Qe),Qe+=15,Object.entries(Tt).sort().forEach(([Zt,er])=>{Object.entries(er).sort().forEach(([gr,ar])=>{Object.entries(ar).sort().forEach(([nn,jr])=>{Object.entries(jr).sort().forEach(([dr,_a])=>{Qe>200&&(k.addPage(),Se(),Qe=50),k.setFontSize(11),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`  Club: ${Zt} - Category: ${gr}`,20,Qe),Qe+=10,k.setFontSize(10),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`    Gender: ${nn} - Weight: ${dr}`,30,Qe),Qe+=8,Qe>220&&(k.addPage(),Se(),Qe=50,k.setFontSize(13),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`Year: ${rt} (continued)`,14,Qe),Qe+=12,k.setFontSize(11),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`  Club: ${Zt} - Category: ${gr} (continued)`,20,Qe),Qe+=10,k.setFontSize(10),k.setFont("helvetica","bold"),k.setTextColor(40,40,40),k.text(`    Gender: ${nn} - Weight: ${dr} (continued)`,30,Qe),Qe+=8);const ra=Et(_a);yr(k,{head:[["Last Name","First Name","DOB","NID","Nationality","Grade","License #","Confirmed","Club"]],body:ra,startY:Qe,margin:{left:14,right:14},theme:"grid",headStyles:{fillColor:[40,167,69],fontSize:9,textColor:[255,255,255]},styles:{fontSize:8,cellPadding:2,fillColor:[255,255,255]},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:20},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:18},6:{cellWidth:35},7:{cellWidth:20},8:{cellWidth:50}}}),Qe=k.lastAutoTable.finalY+10})})})})}),k.save(`athletes_category_hierarchical_${ue}.pdf`)},se=async()=>{try{const k=et||ne||[];if(!k||k.length===0){l("No athletes data available to export");return}const{clubNames:K,leagueNames:ue}=await Promise.all([Tn(),Xn()]).then(([Qe,ft])=>({clubNames:Qe,leagueNames:ft})),xe=new Date().getFullYear(),Se={};k.forEach(Qe=>{const ft=xe,rt=Qe.grade||"No Grade";Se[ft]||(Se[ft]={}),Se[ft][rt]||(Se[ft][rt]=[]),Se[ft][rt].push(Qe)}),Object.keys(Se).forEach(Qe=>{Object.keys(Se[Qe]).forEach(ft=>{Se[Qe][ft].sort((rt,Tt)=>new Date(rt.date_of_birth)-new Date(Tt.date_of_birth))})});const Te=new At("landscape","mm","a4");let Ze=50;const pt=()=>{const Qe=new Date().toLocaleDateString("en-GB");if(Te.setFontSize(8),Te.setTextColor(100,100,100),Te.text(`Print Date: ${Qe}`,14,10),Te.setFontSize(16),Te.setTextColor(0,0,0),Te.setFont("helvetica","bold"),Te.text("Algerian Judo Federation",Te.internal.pageSize.width/2,20,{align:"center"}),d)try{Te.addImage(d,"PNG",Te.internal.pageSize.width-40,15,25,25)}catch(ft){console.warn("Could not add federation logo to PDF:",ft)}return Te.setFontSize(12),Te.setFont("helvetica","normal"),Te.text(`League: ${x||"Unknown League"}`,Te.internal.pageSize.width/2,30,{align:"center"}),Te.setFontSize(14),Te.setFont("helvetica","bold"),Te.setTextColor(220,53,69),Te.text("Athletes - Grade and Role Situation",Te.internal.pageSize.width/2,40,{align:"center"}),50};Ze=pt(),Object.keys(Se).sort().forEach((Qe,ft)=>{Object.keys(Se[Qe]).sort().forEach((Tt,Zt)=>{const er=Se[Qe][Tt];Ze>180&&(Te.addPage(),Ze=pt()),Te.setFontSize(12),Te.setFont("helvetica","bold"),Te.setTextColor(0,0,0),Te.text(`Season Year: ${Qe} - Grade: ${Tt}`,14,Ze),Ze+=10;const gr=er.map(ar=>[ar.last_name||"",ar.first_name||"",ar.date_of_birth?new Date(ar.date_of_birth).toLocaleDateString("en-GB"):"",ar.national_id_number||"",ar.nationality||"",ar.grade||"",ar.license_number||"",ar.confirmation?"Yes":"No",K[ar.club_id]||`Club ID: ${ar.club_id}`]);yr(Te,{head:[["Last Name","First Name","DOB","NID","Nationality","Grade","License #","Confirmed","Club"]],body:gr,startY:Ze,margin:{left:14,right:14},theme:"grid",headStyles:{fillColor:[40,167,69],fontSize:9,textColor:[255,255,255]},styles:{fontSize:8,cellPadding:2,fillColor:[255,255,255]},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:20},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:18},6:{cellWidth:35},7:{cellWidth:20},8:{cellWidth:50}},didDrawPage:function(ar){ar.pageNumber>1&&(pt(),ar.settings.margin.top=80)}}),Ze=Te.lastAutoTable.finalY+10})}),Te.save(`athletes_grade_role_${new Date().getFullYear()}.pdf`)}catch(k){console.error("Error exporting PDF:",k)}};return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d?s.jsx("img",{src:d,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Zi,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:qt})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t!=null&&t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo",style:{width:"50px",height:"50px"}}):null,s.jsx("h2",{className:"federation-title",children:x||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",(t==null?void 0:t.first_name)||"User"," ",(t==null?void 0:t.last_name)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",(t==null?void 0:t.role)||"N/A"]}),s.jsxs("div",{className:"sticky-button-bar",style:{margin:"12px 0",display:"flex",gap:8},children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async k=>{if(br(k.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/member-list-l",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async k=>{if(br(k.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async k=>{if(br(k.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The Athlete List Add"})]}),s.jsx("div",{className:"form-table-wrapper"}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),c&&s.jsx("div",{style:{color:"green"},children:c}),s.jsxs("form",{onSubmit:ir,className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:12},children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:E,onChange:k=>U(k.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:Q,onChange:k=>ce(k.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:_e,onChange:k=>Ce(k.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Be,onChange:k=>ke(k.target.value),required:!0})]}),s.jsxs("label",{children:["Role *",s.jsxs("select",{value:He,onChange:k=>Ke(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),G.map((k,K)=>s.jsx("option",{value:typeof k=="object"?k.club_role??k.name??"":k,children:typeof k=="object"?k.club_role??k.name??"":k},K))]})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:ot,onChange:k=>Ge(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{value:Oe,onChange:k=>le(k.target.value.replace(/\D/g,"").slice(0,18)),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required  must be unique."})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:kt,onChange:k=>Pt(k.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:We,onChange:k=>Me(k.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:_t,onChange:k=>Lt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Fe.map((k,K)=>s.jsx("option",{value:k,children:k},K))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:Ot,onChange:k=>nt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"brown belt",children:"brown belt"}),s.jsx("option",{value:"black belt",children:"black belt"})]})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:yt,onChange:k=>Bt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),st.map((k,K)=>s.jsx("option",{value:k,children:k},K))]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:gt,onChange:k=>Nt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Ee.map((k,K)=>s.jsx("option",{value:k,children:k},K))]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:St,onChange:k=>Ft(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),tt.map((k,K)=>s.jsx("option",{value:k,children:k},K))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:T,onChange:k=>{$(k.target.value),I("")},disabled:!0,required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),ve.map(k=>s.jsx("option",{value:k.id,children:k.name_league},k.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:Z,onChange:k=>I(k.target.value),disabled:!T&&!C,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),M.map(k=>s.jsx("option",{value:k.id,children:k.name_club},k.id))]})]}),s.jsxs("label",{children:["Upload Photo *",s.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var K;return lt(((K=k.target.files)==null?void 0:K[0])??null)},required:!0})]}),s.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",gap:8},children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Athlete"})}),s.jsx("p",{style:{gridColumn:"1 / -1",fontSize:"14px",color:"#666",marginTop:"10px"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{className:"form-title",children:"List of Athletes"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsxs("select",{value:T,onChange:k=>{$(k.target.value),I("")},disabled:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),ve.map(k=>s.jsx("option",{value:k.id,children:k.name_league},k.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:Z,onChange:k=>I(k.target.value),disabled:!T&&!C,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),M.map(k=>s.jsx("option",{value:k.id,children:k.name_club},k.id))]})]}),s.jsx("div",{children:s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or License Number",value:$e,onChange:k=>ze(k.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Jt,style:{overflow:"auto"},children:s.jsxs("table",{className:"athlete-table",style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"conf_request"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:et.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found."})}):et.map(k=>s.jsxs("tr",{onDoubleClick:()=>D(k),style:{cursor:"pointer"},children:[s.jsx("td",{children:Pe===k.id?s.jsx("input",{value:De.last_name||"",onChange:K=>ut({...De,last_name:K.target.value})}):k.last_name}),s.jsx("td",{children:Pe===k.id?s.jsx("input",{value:De.first_name||"",onChange:K=>ut({...De,first_name:K.target.value})}):k.first_name}),s.jsx("td",{children:Pe===k.id?s.jsx("input",{type:"date",value:De.date_of_birth||"",onChange:K=>ut({...De,date_of_birth:K.target.value})}):k.date_of_birth}),s.jsx("td",{children:Pe===k.id?s.jsx("input",{value:De.place_of_birth||"",onChange:K=>ut({...De,place_of_birth:K.target.value})}):k.place_of_birth}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.role||"",onChange:K=>ut({...De,role:K.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),G.map((K,ue)=>s.jsx("option",{value:typeof K=="object"?K.club_role??K.name??"":K,children:typeof K=="object"?K.club_role??K.name??"":K},ue))]}):k.role}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.blood_type||"",onChange:K=>ut({...De,blood_type:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):k.blood_type}),s.jsx("td",{children:k.national_id_number}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.nationality||"",onChange:K=>ut({...De,nationality:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),Fe.map((K,ue)=>s.jsx("option",{value:K,children:K},ue))]}):k.nationality}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.grade||"",onChange:K=>ut({...De,grade:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),z.map((K,ue)=>s.jsx("option",{value:K,children:K},ue))]}):k.grade}),s.jsx("td",{children:k.renewal}),s.jsx("td",{children:k.year}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.genres||"",onChange:K=>ut({...De,genres:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),st.map((K,ue)=>s.jsx("option",{value:K,children:K},ue))]}):k.genres}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.categories||"",onChange:K=>ut({...De,categories:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),Ee.map((K,ue)=>s.jsx("option",{value:K,children:K},ue))]}):k.categories}),s.jsx("td",{children:Pe===k.id?s.jsxs("select",{value:De.weight||"",onChange:K=>ut({...De,weight:K.target.value}),disabled:!De.genres||!De.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),tt.map((K,ue)=>s.jsx("option",{value:K,children:K},ue))]}):k.weight}),s.jsx("td",{children:k.license_number}),s.jsx("td",{children:k.registration_date}),s.jsx("td",{children:k.photos_url?s.jsx("img",{src:k.photos_url,alt:`${k.first_name} ${k.last_name}`,style:{width:48,height:48,objectFit:"cover",borderRadius:6}}):"No Photo"}),s.jsx("td",{children:k.confirmation?"":""}),s.jsx("td",{children:k.confirmation_request?"conf_request":"conf_Not_request"}),s.jsx("td",{children:k.club_id}),s.jsx("td",{children:k.league_id}),s.jsx("td",{children:Pe===k.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:J,children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:A,children:"Cancel "})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>L(k),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>ie(k),children:"Delete"}),s.jsx("button",{className:k.confirmation?"cancel-btn":"confirm-btn",disabled:(k.confirmation_request?"conf_request":"conf_Not_request")!="conf_request",onClick:()=>{if((k.confirmation_request?"conf_request":"conf_Not_request")!="conf_request"){l("you not confirme because is not requested");return}Ne(k.id,k.confirmation)},children:k.confirmation?"Cancel Confirmation":"Confirm"})]})})]},k.id))})]})}),s.jsxs("div",{className:"export-buttons",style:{margin:"12px 0",display:"flex",gap:8},children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:pe,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:F,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:se,children:"Export by Grade PDF"})]})]}),o&&s.jsx(Pn,{error:o,onClose:()=>l("")}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),i&&s.jsx(ta,{}),s.jsx(pn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:" 2025 Algerian Judo Federation. All rights reserved."})})]})}function g8(){const t=Ur();return s.jsxs("div",{style:{padding:"50px",backgroundColor:"#f0f0f0",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px"},children:[s.jsx("h1",{children:"Button Comparison Test"}),s.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-btn class:"}),s.jsx("button",{className:"primary-btn",children:"Primary Button"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-b class:"}),s.jsx("button",{className:"primary-b",children:"Primary B Button"})]})]}),s.jsx("div",{style:{display:"flex",gap:"20px",alignItems:"center",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-bt class (for comparison):"}),s.jsx("button",{className:"primary-bt",children:"Primary BT Button"})]})}),s.jsxs("p",{style:{maxWidth:"600px",textAlign:"center",backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:["The first two buttons (primary-btn and primary-b) should look ",s.jsx("strong",{children:"exactly identical"}),"with the same gradient, animations, and hover effects. The third button (primary-bt) has different enhanced styling for comparison."]}),s.jsx("button",{className:"secondary-btn",onClick:()=>t("/"),style:{marginTop:"20px"},children:"Back to Home"})]})}function p8(){return s.jsx(yN,{children:s.jsxs(mN,{children:[s.jsx(Vr,{path:"/",element:s.jsx(KP,{})}),s.jsx(Vr,{path:"/FederationPage",element:s.jsx(yL,{})}),s.jsx(Vr,{path:"/LeaguePage",element:s.jsx(QP,{})}),s.jsx(Vr,{path:"/AmateurSportsClubPage",element:s.jsx($P,{})}),s.jsx(Vr,{path:"/AddMemberPage",element:s.jsx(e8,{})}),s.jsx(Vr,{path:"/AddMemberLeague",element:s.jsx(t8,{})}),s.jsx(Vr,{path:"/AddMemberClub",element:s.jsx(r8,{})}),s.jsx(Vr,{path:"/AthletePage",element:s.jsx(qP,{})}),s.jsx(Vr,{path:"/Athlete",element:s.jsx(WP,{})}),s.jsx(Vr,{path:"/MemberListPage",element:s.jsx(ZP,{})}),s.jsx(Vr,{path:"/member-list",element:s.jsx(i8,{})}),s.jsx(Vr,{path:"/club-member-list",element:s.jsx(a8,{})}),s.jsx(Vr,{path:"/MemberListPageP",element:s.jsx(s8,{})}),s.jsx(Vr,{path:"/member-list-l",element:s.jsx(o8,{})}),s.jsx(Vr,{path:"/club-member-listC",element:s.jsx(l8,{})}),s.jsx(Vr,{path:"/photos-logo-publication",element:s.jsx(n8,{})}),s.jsx(Vr,{path:"/TheClubListAdd-Fed",element:s.jsx(c8,{})}),s.jsx(Vr,{path:"/TheLeagueList-Add",element:s.jsx(d8,{})}),s.jsx(Vr,{path:"/TheAthleteList-Add",element:s.jsx(u8,{})}),s.jsx(Vr,{path:"/TheClubListAddFed-League",element:s.jsx(h8,{})}),s.jsx(Vr,{path:"/TheAthleteListAdd-League",element:s.jsx(f8,{})}),s.jsx(Vr,{path:"/button-test",element:s.jsx(g8,{})})]})})}rp.createRoot(document.getElementById("root")).render(s.jsx(p8,{}));export{kr as _,Mi as c,Mb as g};
