var Yw=Object.defineProperty;var Vw=(t,e,r)=>e in t?Yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>Vw(t,typeof e!="symbol"?e+"":e,r);function Jw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ub={exports:{}},Bh={},qb={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),Qw=Symbol.for("react.portal"),Xw=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),eS=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),nS=Symbol.for("react.forward_ref"),iS=Symbol.for("react.suspense"),aS=Symbol.for("react.memo"),sS=Symbol.for("react.lazy"),k1=Symbol.iterator;function oS(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zb=Object.assign,Wb={};function ec(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||$b}ec.prototype.isReactComponent={};ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hb(){}Hb.prototype=ec.prototype;function L0(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||$b}var A0=L0.prototype=new Hb;A0.constructor=L0;zb(A0,ec.prototype);A0.isPureReactComponent=!0;var P1=Array.isArray,Gb=Object.prototype.hasOwnProperty,k0={current:null},Yb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Gb.call(e,n)&&!Yb.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Du,type:t,key:a,ref:o,props:i,_owner:k0.current}}function lS(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function cS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E1=/\/+/g;function Hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cS(""+t.key):e.toString(36)}function Ud(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Du:case Qw:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Hf(o,0):n,P1(i)?(r="",t!=null&&(r=t.replace(E1,"$&/")+"/"),Ud(i,e,r,"",function(u){return u})):i!=null&&(P0(i)&&(i=lS(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",P1(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Hf(a,l);o+=Ud(a,e,r,c,i)}else if(c=oS(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Hf(a,l++),o+=Ud(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(t,e,r){if(t==null)return t;var n=[],i=0;return Ud(t,n,"","",function(a){return e.call(r,a,i++)}),n}function uS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var di={current:null},qd={transition:null},dS={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:qd,ReactCurrentOwner:k0};function Jb(){throw Error("act(...) is not supported in production builds of React.")}gr.Children={map:ld,forEach:function(t,e,r){ld(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gr.Component=ec;gr.Fragment=Xw;gr.Profiler=eS;gr.PureComponent=L0;gr.StrictMode=Zw;gr.Suspense=iS;gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS;gr.act=Jb;gr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zb({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=k0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Gb.call(e,c)&&!Yb.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Du,type:t.type,key:i,ref:a,props:n,_owner:o}};gr.createContext=function(t){return t={$$typeof:rS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tS,_context:t},t.Consumer=t};gr.createElement=Vb;gr.createFactory=function(t){var e=Vb.bind(null,t);return e.type=t,e};gr.createRef=function(){return{current:null}};gr.forwardRef=function(t){return{$$typeof:nS,render:t}};gr.isValidElement=P0;gr.lazy=function(t){return{$$typeof:sS,_payload:{_status:-1,_result:t},_init:uS}};gr.memo=function(t,e){return{$$typeof:aS,type:t,compare:e===void 0?null:e}};gr.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};gr.unstable_act=Jb;gr.useCallback=function(t,e){return di.current.useCallback(t,e)};gr.useContext=function(t){return di.current.useContext(t)};gr.useDebugValue=function(){};gr.useDeferredValue=function(t){return di.current.useDeferredValue(t)};gr.useEffect=function(t,e){return di.current.useEffect(t,e)};gr.useId=function(){return di.current.useId()};gr.useImperativeHandle=function(t,e,r){return di.current.useImperativeHandle(t,e,r)};gr.useInsertionEffect=function(t,e){return di.current.useInsertionEffect(t,e)};gr.useLayoutEffect=function(t,e){return di.current.useLayoutEffect(t,e)};gr.useMemo=function(t,e){return di.current.useMemo(t,e)};gr.useReducer=function(t,e,r){return di.current.useReducer(t,e,r)};gr.useRef=function(t){return di.current.useRef(t)};gr.useState=function(t){return di.current.useState(t)};gr.useSyncExternalStore=function(t,e,r){return di.current.useSyncExternalStore(t,e,r)};gr.useTransition=function(){return di.current.useTransition()};gr.version="18.3.1";qb.exports=gr;var b=qb.exports;const hS=Mb(b),fS=Jw({__proto__:null,default:hS},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=b,pS=Symbol.for("react.element"),mS=Symbol.for("react.fragment"),vS=Object.prototype.hasOwnProperty,bS=gS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function Kb(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)vS.call(e,n)&&!yS.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pS,type:t,key:a,ref:o,props:i,_owner:bS.current}}Bh.Fragment=mS;Bh.jsx=Kb;Bh.jsxs=Kb;Ub.exports=Bh;var s=Ub.exports,rp={},Qb={exports:{}},qi={},Xb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,xe){var Re=ie.length;ie.push(xe);e:for(;0<Re;){var se=Re-1>>>1,E=ie[se];if(0<i(E,xe))ie[se]=xe,ie[Re]=E,Re=se;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var xe=ie[0],Re=ie.pop();if(Re!==xe){ie[0]=Re;e:for(var se=0,E=ie.length,U=E>>>1;se<U;){var X=2*(se+1)-1,le=ie[X],_e=X+1,Ne=ie[_e];if(0>i(le,Re))_e<E&&0>i(Ne,le)?(ie[se]=Ne,ie[_e]=Re,se=_e):(ie[se]=le,ie[X]=Re,se=X);else if(_e<E&&0>i(Ne,Re))ie[se]=Ne,ie[_e]=Re,se=_e;else break e}}return xe}function i(ie,xe){var Re=ie.sortIndex-xe.sortIndex;return Re!==0?Re:ie.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,g=null,m=3,f=!1,x=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ie){for(var xe=r(u);xe!==null;){if(xe.callback===null)n(u);else if(xe.startTime<=ie)n(u),xe.sortIndex=xe.expirationTime,e(c,xe);else break;xe=r(u)}}function L(ie){if(N=!1,j(ie),!x)if(r(c)!==null)x=!0,be(B);else{var xe=r(u);xe!==null&&Ce(L,xe.startTime-ie)}}function B(ie,xe){x=!1,N&&(N=!1,v(D),D=-1),f=!0;var Re=m;try{for(j(xe),g=r(c);g!==null&&(!(g.expirationTime>xe)||ie&&!I());){var se=g.callback;if(typeof se=="function"){g.callback=null,m=g.priorityLevel;var E=se(g.expirationTime<=xe);xe=t.unstable_now(),typeof E=="function"?g.callback=E:g===r(c)&&n(c),j(xe)}else n(c);g=r(c)}if(g!==null)var U=!0;else{var X=r(u);X!==null&&Ce(L,X.startTime-xe),U=!1}return U}finally{g=null,m=Re,f=!1}}var Y=!1,V=null,D=-1,$=5,ee=-1;function I(){return!(t.unstable_now()-ee<$)}function G(){if(V!==null){var ie=t.unstable_now();ee=ie;var xe=!0;try{xe=V(!0,ie)}finally{xe?ue():(Y=!1,V=null)}}else Y=!1}var ue;if(typeof C=="function")ue=function(){C(G)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=G,ue=function(){H.postMessage(null)}}else ue=function(){_(G,0)};function be(ie){V=ie,Y||(Y=!0,ue())}function Ce(ie,xe){D=_(function(){ie(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,be(B))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(ie){switch(m){case 1:case 2:case 3:var xe=3;break;default:xe=m}var Re=m;m=xe;try{return ie()}finally{m=Re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,xe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Re=m;m=ie;try{return xe()}finally{m=Re}},t.unstable_scheduleCallback=function(ie,xe,Re){var se=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?se+Re:se):Re=se,ie){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Re+E,ie={id:d++,callback:xe,priorityLevel:ie,startTime:Re,expirationTime:E,sortIndex:-1},Re>se?(ie.sortIndex=Re,e(u,ie),r(c)===null&&ie===r(u)&&(N?(v(D),D=-1):N=!0,Ce(L,Re-se))):(ie.sortIndex=E,e(c,ie),x||f||(x=!0,be(B))),ie},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ie){var xe=m;return function(){var Re=m;m=xe;try{return ie.apply(this,arguments)}finally{m=Re}}}})(Zb);Xb.exports=Zb;var xS=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=b,Ui=xS;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,du={};function Mo(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(du[t]=e,t=0;t<e.length;t++)ey.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,wS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F1={},T1={};function SS(t){return np.call(T1,t)?!0:np.call(F1,t)?!1:wS.test(t)?T1[t]=!0:(F1[t]=!0,!1)}function jS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NS(t,e,r,n){if(e===null||typeof e>"u"||jS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,F0);zn[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,r,n){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NS(e,r,i,n)&&(r=null),n||i===null?SS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fs=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),bl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ry=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),ny=Symbol.for("react.offscreen"),D1=Symbol.iterator;function Tc(t){return t===null||typeof t!="object"?null:(t=D1&&t[D1]||t["@@iterator"],typeof t=="function"?t:null)}var Qr=Object.assign,Gf;function Wc(t){if(Gf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Yf=!1;function Vf(t,e){if(!t||Yf)return"";Yf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Wc(t):""}function CS(t){switch(t.tag){case 5:return Wc(t.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return t=Vf(t.type,!1),t;case 11:return t=Vf(t.type.render,!1),t;case 1:return t=Vf(t.type,!0),t;default:return""}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case bl:return"Portal";case ip:return"Profiler";case D0:return"StrictMode";case ap:return"Suspense";case sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case ty:return(t._context.displayName||"Context")+".Provider";case I0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R0:return e=t.displayName||null,e!==null?e:op(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return op(t(e))}catch{}}return null}function LS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===D0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AS(t){var e=iy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ud(t){t._valueTracker||(t._valueTracker=AS(t))}function ay(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=iy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lp(t,e){var r=e.checked;return Qr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function I1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ks(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sy(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function cp(t,e){sy(t,e);var r=Ks(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?up(t,e.type,r):e.hasOwnProperty("defaultValue")&&up(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function up(t,e,r){(e!=="number"||ih(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hc=Array.isArray;function El(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ks(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return Qr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(St(92));if(Hc(r)){if(1<r.length)throw Error(St(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ks(r)}}function oy(t,e){var r=Ks(e.value),n=Ks(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function B1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ly(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ly(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,cy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kS=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(t){kS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jc[e]=Jc[t]})});function uy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Jc.hasOwnProperty(t)&&Jc[t]?(""+e).trim():e+"px"}function dy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var PS=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(t,e){if(e){if(PS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mp=null,Fl=null,Tl=null;function M1(t){if(t=Ou(t)){if(typeof mp!="function")throw Error(St(280));var e=t.stateNode;e&&(e=zh(e),mp(t.stateNode,t.type,e))}}function hy(t){Fl?Tl?Tl.push(t):Tl=[t]:Fl=t}function fy(){if(Fl){var t=Fl,e=Tl;if(Tl=Fl=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function gy(t,e){return t(e)}function py(){}var Jf=!1;function my(t,e,r){if(Jf)return t(e,r);Jf=!0;try{return gy(t,e,r)}finally{Jf=!1,(Fl!==null||Tl!==null)&&(py(),fy())}}function fu(t,e){var r=t.stateNode;if(r===null)return null;var n=zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(St(231,e,typeof r));return r}var vp=!1;if(ls)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{vp=!1}function ES(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Kc=!1,ah=null,sh=!1,bp=null,FS={onError:function(t){Kc=!0,ah=t}};function TS(t,e,r,n,i,a,o,l,c){Kc=!1,ah=null,ES.apply(FS,arguments)}function DS(t,e,r,n,i,a,o,l,c){if(TS.apply(this,arguments),Kc){if(Kc){var u=ah;Kc=!1,ah=null}else throw Error(St(198));sh||(sh=!0,bp=u)}}function Uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U1(t){if(Uo(t)!==t)throw Error(St(188))}function IS(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(St(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return U1(i),t;if(a===n)return U1(i),e;a=a.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?t:e}function by(t){return t=IS(t),t!==null?yy(t):null}function yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yy(t);if(e!==null)return e;t=t.sibling}return null}var xy=Ui.unstable_scheduleCallback,q1=Ui.unstable_cancelCallback,RS=Ui.unstable_shouldYield,OS=Ui.unstable_requestPaint,un=Ui.unstable_now,BS=Ui.unstable_getCurrentPriorityLevel,B0=Ui.unstable_ImmediatePriority,_y=Ui.unstable_UserBlockingPriority,oh=Ui.unstable_NormalPriority,MS=Ui.unstable_LowPriority,wy=Ui.unstable_IdlePriority,Mh=null,Ra=null;function US(t){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Mh,t,void 0,(t.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:zS,qS=Math.log,$S=Math.LN2;function zS(t){return t>>>=0,t===0?32:31-(qS(t)/$S|0)|0}var hd=64,fd=4194304;function Gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Gc(l):(a&=o,a!==0&&(n=Gc(a)))}else o=r&~i,o!==0?n=Gc(o):a!==0&&(n=Gc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ga(e),i=1<<r,n|=t[r],e&=~i;return n}function WS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ga(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=WS(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sy(){var t=hd;return hd<<=1,!(hd&4194240)&&(hd=64),t}function Kf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Iu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ga(e),t[e]=r}function GS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ga(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function M0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ga(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pr=0;function jy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ny,U0,Cy,Ly,Ay,xp=!1,gd=[],$s=null,zs=null,Ws=null,gu=new Map,pu=new Map,Ds=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(e.pointerId)}}function Ic(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VS(t,e,r,n,i){switch(e){case"focusin":return $s=Ic($s,t,e,r,n,i),!0;case"dragenter":return zs=Ic(zs,t,e,r,n,i),!0;case"mouseover":return Ws=Ic(Ws,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return gu.set(a,Ic(gu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,pu.set(a,Ic(pu.get(a)||null,t,e,r,n,i)),!0}return!1}function ky(t){var e=No(t.target);if(e!==null){var r=Uo(e);if(r!==null){if(e=r.tag,e===13){if(e=vy(r),e!==null){t.blockedOn=e,Ay(t.priority,function(){Cy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pp=n,r.target.dispatchEvent(n),pp=null}else return e=Ou(r),e!==null&&U0(e),t.blockedOn=r,!1;e.shift()}return!0}function z1(t,e,r){$d(t)&&r.delete(e)}function JS(){xp=!1,$s!==null&&$d($s)&&($s=null),zs!==null&&$d(zs)&&(zs=null),Ws!==null&&$d(Ws)&&(Ws=null),gu.forEach(z1),pu.forEach(z1)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,JS)))}function mu(t){function e(i){return Rc(i,t)}if(0<gd.length){Rc(gd[0],t);for(var r=1;r<gd.length;r++){var n=gd[r];n.blockedOn===t&&(n.blockedOn=null)}}for($s!==null&&Rc($s,t),zs!==null&&Rc(zs,t),Ws!==null&&Rc(Ws,t),gu.forEach(e),pu.forEach(e),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)ky(r),r.blockedOn===null&&Ds.shift()}var Dl=fs.ReactCurrentBatchConfig,ch=!0;function KS(t,e,r,n){var i=Pr,a=Dl.transition;Dl.transition=null;try{Pr=1,q0(t,e,r,n)}finally{Pr=i,Dl.transition=a}}function QS(t,e,r,n){var i=Pr,a=Dl.transition;Dl.transition=null;try{Pr=4,q0(t,e,r,n)}finally{Pr=i,Dl.transition=a}}function q0(t,e,r,n){if(ch){var i=_p(t,e,r,n);if(i===null)sg(t,e,n,uh,r),$1(t,n);else if(VS(i,t,e,r,n))n.stopPropagation();else if($1(t,n),e&4&&-1<YS.indexOf(t)){for(;i!==null;){var a=Ou(i);if(a!==null&&Ny(a),a=_p(t,e,r,n),a===null&&sg(t,e,n,uh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else sg(t,e,n,null,r)}}var uh=null;function _p(t,e,r,n){if(uh=null,t=O0(n),t=No(t),t!==null)if(e=Uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uh=t,null}function Py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case B0:return 1;case _y:return 4;case oh:case MS:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Os=null,$0=null,zd=null;function Ey(){if(zd)return zd;var t,e=$0,r=e.length,n,i="value"in Os?Os.value:Os.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return zd=i.slice(t,1<n?1-n:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function W1(){return!1}function $i(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pd:W1,this.isPropagationStopped=W1,this}return Qr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z0=$i(tc),Ru=Qr({},tc,{view:0,detail:0}),XS=$i(Ru),Qf,Xf,Oc,Uh=Qr({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oc&&(Oc&&t.type==="mousemove"?(Qf=t.screenX-Oc.screenX,Xf=t.screenY-Oc.screenY):Xf=Qf=0,Oc=t),Qf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),H1=$i(Uh),ZS=Qr({},Uh,{dataTransfer:0}),ej=$i(ZS),tj=Qr({},Ru,{relatedTarget:0}),Zf=$i(tj),rj=Qr({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=$i(rj),ij=Qr({},tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aj=$i(ij),sj=Qr({},tc,{data:0}),G1=$i(sj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cj[t])?!!e[t]:!1}function W0(){return uj}var dj=Qr({},Ru,{key:function(t){if(t.key){var e=oj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W0,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hj=$i(dj),fj=Qr({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=$i(fj),gj=Qr({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W0}),pj=$i(gj),mj=Qr({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),vj=$i(mj),bj=Qr({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yj=$i(bj),xj=[9,13,27,32],H0=ls&&"CompositionEvent"in window,Qc=null;ls&&"documentMode"in document&&(Qc=document.documentMode);var _j=ls&&"TextEvent"in window&&!Qc,Fy=ls&&(!H0||Qc&&8<Qc&&11>=Qc),V1=" ",J1=!1;function Ty(t,e){switch(t){case"keyup":return xj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function wj(t,e){switch(t){case"compositionend":return Dy(e);case"keypress":return e.which!==32?null:(J1=!0,V1);case"textInput":return t=e.data,t===V1&&J1?null:t;default:return null}}function Sj(t,e){if(xl)return t==="compositionend"||!H0&&Ty(t,e)?(t=Ey(),zd=$0=Os=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jj[t.type]:e==="textarea"}function Iy(t,e,r,n){hy(n),e=dh(e,"onChange"),0<e.length&&(r=new z0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xc=null,vu=null;function Nj(t){Gy(t,0)}function qh(t){var e=Sl(t);if(ay(e))return t}function Cj(t,e){if(t==="change")return e}var Ry=!1;if(ls){var eg;if(ls){var tg="oninput"in document;if(!tg){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),tg=typeof Q1.oninput=="function"}eg=tg}else eg=!1;Ry=eg&&(!document.documentMode||9<document.documentMode)}function X1(){Xc&&(Xc.detachEvent("onpropertychange",Oy),vu=Xc=null)}function Oy(t){if(t.propertyName==="value"&&qh(vu)){var e=[];Iy(e,vu,t,O0(t)),my(Nj,e)}}function Lj(t,e,r){t==="focusin"?(X1(),Xc=e,vu=r,Xc.attachEvent("onpropertychange",Oy)):t==="focusout"&&X1()}function Aj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qh(vu)}function kj(t,e){if(t==="click")return qh(e)}function Pj(t,e){if(t==="input"||t==="change")return qh(e)}function Ej(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var va=typeof Object.is=="function"?Object.is:Ej;function bu(t,e){if(va(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!np.call(e,i)||!va(t[i],e[i]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e2(t,e){var r=Z1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z1(r)}}function By(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?By(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function My(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ih(t.document)}return e}function G0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fj(t){var e=My(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&By(r.ownerDocument.documentElement,r)){if(n!==null&&G0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=e2(r,a);var o=e2(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tj=ls&&"documentMode"in document&&11>=document.documentMode,_l=null,wp=null,Zc=null,Sp=!1;function t2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sp||_l==null||_l!==ih(n)||(n=_l,"selectionStart"in n&&G0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zc&&bu(Zc,n)||(Zc=n,n=dh(wp,"onSelect"),0<n.length&&(e=new z0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function md(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wl={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},rg={},Uy={};ls&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function $h(t){if(rg[t])return rg[t];if(!wl[t])return t;var e=wl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Uy)return rg[t]=e[r];return t}var qy=$h("animationend"),$y=$h("animationiteration"),zy=$h("animationstart"),Wy=$h("transitionend"),Hy=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){Hy.set(t,e),Mo(e,[t])}for(var ng=0;ng<r2.length;ng++){var ig=r2[ng],Dj=ig.toLowerCase(),Ij=ig[0].toUpperCase()+ig.slice(1);Zs(Dj,"on"+Ij)}Zs(qy,"onAnimationEnd");Zs($y,"onAnimationIteration");Zs(zy,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(Wy,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function n2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,DS(n,e,void 0,t),t.currentTarget=null}function Gy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;n2(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;n2(i,l,u),a=c}}}if(sh)throw t=bp,sh=!1,bp=null,t}function $r(t,e){var r=e[Ap];r===void 0&&(r=e[Ap]=new Set);var n=t+"__bubble";r.has(n)||(Yy(e,t,2,!1),r.add(n))}function ag(t,e,r){var n=0;e&&(n|=4),Yy(r,t,n,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[vd]){t[vd]=!0,ey.forEach(function(r){r!=="selectionchange"&&(Rj.has(r)||ag(r,!1,t),ag(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vd]||(e[vd]=!0,ag("selectionchange",!1,e))}}function Yy(t,e,r,n){switch(Py(e)){case 1:var i=KS;break;case 4:i=QS;break;default:i=q0}r=i.bind(null,e,r,t),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function sg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=No(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}my(function(){var u=a,d=O0(r),g=[];e:{var m=Hy.get(t);if(m!==void 0){var f=z0,x=t;switch(t){case"keypress":if(Wd(r)===0)break e;case"keydown":case"keyup":f=hj;break;case"focusin":x="focus",f=Zf;break;case"focusout":x="blur",f=Zf;break;case"beforeblur":case"afterblur":f=Zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=pj;break;case qy:case $y:case zy:f=nj;break;case Wy:f=vj;break;case"scroll":f=XS;break;case"wheel":f=yj;break;case"copy":case"cut":case"paste":f=aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Y1}var N=(e&4)!==0,_=!N&&t==="scroll",v=N?m!==null?m+"Capture":null:m;N=[];for(var C=u,j;C!==null;){j=C;var L=j.stateNode;if(j.tag===5&&L!==null&&(j=L,v!==null&&(L=fu(C,v),L!=null&&N.push(xu(C,L,j)))),_)break;C=C.return}0<N.length&&(m=new f(m,x,null,r,d),g.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==pp&&(x=r.relatedTarget||r.fromElement)&&(No(x)||x[cs]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=u,x=x?No(x):null,x!==null&&(_=Uo(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=u),f!==x)){if(N=H1,L="onMouseLeave",v="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(N=Y1,L="onPointerLeave",v="onPointerEnter",C="pointer"),_=f==null?m:Sl(f),j=x==null?m:Sl(x),m=new N(L,C+"leave",f,r,d),m.target=_,m.relatedTarget=j,L=null,No(d)===u&&(N=new N(v,C+"enter",x,r,d),N.target=j,N.relatedTarget=_,L=N),_=L,f&&x)t:{for(N=f,v=x,C=0,j=N;j;j=al(j))C++;for(j=0,L=v;L;L=al(L))j++;for(;0<C-j;)N=al(N),C--;for(;0<j-C;)v=al(v),j--;for(;C--;){if(N===v||v!==null&&N===v.alternate)break t;N=al(N),v=al(v)}N=null}else N=null;f!==null&&i2(g,m,f,N,!1),x!==null&&_!==null&&i2(g,_,x,N,!0)}}e:{if(m=u?Sl(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var B=Cj;else if(K1(m))if(Ry)B=Pj;else{B=Aj;var Y=Lj}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(B=kj);if(B&&(B=B(t,u))){Iy(g,B,r,d);break e}Y&&Y(t,m,u),t==="focusout"&&(Y=m._wrapperState)&&Y.controlled&&m.type==="number"&&up(m,"number",m.value)}switch(Y=u?Sl(u):window,t){case"focusin":(K1(Y)||Y.contentEditable==="true")&&(_l=Y,wp=u,Zc=null);break;case"focusout":Zc=wp=_l=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,t2(g,r,d);break;case"selectionchange":if(Tj)break;case"keydown":case"keyup":t2(g,r,d)}var V;if(H0)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else xl?Ty(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Fy&&r.locale!=="ko"&&(xl||D!=="onCompositionStart"?D==="onCompositionEnd"&&xl&&(V=Ey()):(Os=d,$0="value"in Os?Os.value:Os.textContent,xl=!0)),Y=dh(u,D),0<Y.length&&(D=new G1(D,t,null,r,d),g.push({event:D,listeners:Y}),V?D.data=V:(V=Dy(r),V!==null&&(D.data=V)))),(V=_j?wj(t,r):Sj(t,r))&&(u=dh(u,"onBeforeInput"),0<u.length&&(d=new G1("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:u}),d.data=V))}Gy(g,e)})}function xu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function dh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fu(t,r),a!=null&&n.unshift(xu(t,a,i)),a=fu(t,e),a!=null&&n.push(xu(t,a,i))),t=t.return}return n}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i2(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=fu(r,a),c!=null&&o.unshift(xu(r,c,l))):i||(c=fu(r,a),c!=null&&o.push(xu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Oj=/\r\n?/g,Bj=/\u0000|\uFFFD/g;function a2(t){return(typeof t=="string"?t:""+t).replace(Oj,`
`).replace(Bj,"")}function bd(t,e,r){if(e=a2(e),a2(t)!==e&&r)throw Error(St(425))}function hh(){}var jp=null,Np=null;function Cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,Uj=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(t){return s2.resolve(null).then(t).catch(qj)}:Lp;function qj(t){setTimeout(function(){throw t})}function og(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),mu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);mu(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rc=Math.random().toString(36).slice(2),Da="__reactFiber$"+rc,_u="__reactProps$"+rc,cs="__reactContainer$"+rc,Ap="__reactEvents$"+rc,$j="__reactListeners$"+rc,zj="__reactHandles$"+rc;function No(t){var e=t[Da];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cs]||r[Da]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=o2(t);t!==null;){if(r=t[Da])return r;t=o2(t)}return e}t=r,r=t.parentNode}return null}function Ou(t){return t=t[Da]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function zh(t){return t[_u]||null}var kp=[],jl=-1;function eo(t){return{current:t}}function Wr(t){0>jl||(t.current=kp[jl],kp[jl]=null,jl--)}function Mr(t,e){jl++,kp[jl]=t.current,t.current=e}var Qs={},ei=eo(Qs),_i=eo(!1),Fo=Qs;function zl(t,e){var r=t.type.contextTypes;if(!r)return Qs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wi(t){return t=t.childContextTypes,t!=null}function fh(){Wr(_i),Wr(ei)}function l2(t,e,r){if(ei.current!==Qs)throw Error(St(168));Mr(ei,e),Mr(_i,r)}function Vy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(St(108,LS(t)||"Unknown",i));return Qr({},r,n)}function gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Fo=ei.current,Mr(ei,t),Mr(_i,_i.current),!0}function c2(t,e,r){var n=t.stateNode;if(!n)throw Error(St(169));r?(t=Vy(t,e,Fo),n.__reactInternalMemoizedMergedChildContext=t,Wr(_i),Wr(ei),Mr(ei,t)):Wr(_i),Mr(_i,r)}var rs=null,Wh=!1,lg=!1;function Jy(t){rs===null?rs=[t]:rs.push(t)}function Wj(t){Wh=!0,Jy(t)}function to(){if(!lg&&rs!==null){lg=!0;var t=0,e=Pr;try{var r=rs;for(Pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}rs=null,Wh=!1}catch(i){throw rs!==null&&(rs=rs.slice(t+1)),xy(B0,to),i}finally{Pr=e,lg=!1}}return null}var Nl=[],Cl=0,ph=null,mh=0,Yi=[],Vi=0,To=null,is=1,as="";function yo(t,e){Nl[Cl++]=mh,Nl[Cl++]=ph,ph=t,mh=e}function Ky(t,e,r){Yi[Vi++]=is,Yi[Vi++]=as,Yi[Vi++]=To,To=t;var n=is;t=as;var i=32-ga(n)-1;n&=~(1<<i),r+=1;var a=32-ga(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,is=1<<32-ga(e)+i|r<<i|n,as=a+t}else is=1<<a|r<<i|n,as=t}function Y0(t){t.return!==null&&(yo(t,1),Ky(t,1,0))}function V0(t){for(;t===ph;)ph=Nl[--Cl],Nl[Cl]=null,mh=Nl[--Cl],Nl[Cl]=null;for(;t===To;)To=Yi[--Vi],Yi[Vi]=null,as=Yi[--Vi],Yi[Vi]=null,is=Yi[--Vi],Yi[Vi]=null}var Bi=null,Ri=null,Gr=!1,fa=null;function Qy(t,e){var r=Ji(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function u2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bi=t,Ri=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bi=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=To!==null?{id:is,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ji(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bi=t,Ri=null,!0):!1;default:return!1}}function Pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ep(t){if(Gr){var e=Ri;if(e){var r=e;if(!u2(t,e)){if(Pp(t))throw Error(St(418));e=Hs(r.nextSibling);var n=Bi;e&&u2(t,e)?Qy(n,r):(t.flags=t.flags&-4097|2,Gr=!1,Bi=t)}}else{if(Pp(t))throw Error(St(418));t.flags=t.flags&-4097|2,Gr=!1,Bi=t}}}function d2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bi=t}function yd(t){if(t!==Bi)return!1;if(!Gr)return d2(t),Gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cp(t.type,t.memoizedProps)),e&&(e=Ri)){if(Pp(t))throw Xy(),Error(St(418));for(;e;)Qy(t,e),e=Hs(e.nextSibling)}if(d2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ri=Hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Bi?Hs(t.stateNode.nextSibling):null;return!0}function Xy(){for(var t=Ri;t;)t=Hs(t.nextSibling)}function Wl(){Ri=Bi=null,Gr=!1}function J0(t){fa===null?fa=[t]:fa.push(t)}var Hj=fs.ReactCurrentBatchConfig;function Bc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h2(t){var e=t._init;return e(t._payload)}function Zy(t){function e(v,C){if(t){var j=v.deletions;j===null?(v.deletions=[C],v.flags|=16):j.push(C)}}function r(v,C){if(!t)return null;for(;C!==null;)e(v,C),C=C.sibling;return null}function n(v,C){for(v=new Map;C!==null;)C.key!==null?v.set(C.key,C):v.set(C.index,C),C=C.sibling;return v}function i(v,C){return v=Js(v,C),v.index=0,v.sibling=null,v}function a(v,C,j){return v.index=j,t?(j=v.alternate,j!==null?(j=j.index,j<C?(v.flags|=2,C):j):(v.flags|=2,C)):(v.flags|=1048576,C)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,C,j,L){return C===null||C.tag!==6?(C=pg(j,v.mode,L),C.return=v,C):(C=i(C,j),C.return=v,C)}function c(v,C,j,L){var B=j.type;return B===yl?d(v,C,j.props.children,L,j.key):C!==null&&(C.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&h2(B)===C.type)?(L=i(C,j.props),L.ref=Bc(v,C,j),L.return=v,L):(L=Qd(j.type,j.key,j.props,null,v.mode,L),L.ref=Bc(v,C,j),L.return=v,L)}function u(v,C,j,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==j.containerInfo||C.stateNode.implementation!==j.implementation?(C=mg(j,v.mode,L),C.return=v,C):(C=i(C,j.children||[]),C.return=v,C)}function d(v,C,j,L,B){return C===null||C.tag!==7?(C=ko(j,v.mode,L,B),C.return=v,C):(C=i(C,j),C.return=v,C)}function g(v,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return C=pg(""+C,v.mode,j),C.return=v,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case cd:return j=Qd(C.type,C.key,C.props,null,v.mode,j),j.ref=Bc(v,null,C),j.return=v,j;case bl:return C=mg(C,v.mode,j),C.return=v,C;case Fs:var L=C._init;return g(v,L(C._payload),j)}if(Hc(C)||Tc(C))return C=ko(C,v.mode,j,null),C.return=v,C;xd(v,C)}return null}function m(v,C,j,L){var B=C!==null?C.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return B!==null?null:l(v,C,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cd:return j.key===B?c(v,C,j,L):null;case bl:return j.key===B?u(v,C,j,L):null;case Fs:return B=j._init,m(v,C,B(j._payload),L)}if(Hc(j)||Tc(j))return B!==null?null:d(v,C,j,L,null);xd(v,j)}return null}function f(v,C,j,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return v=v.get(j)||null,l(C,v,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case cd:return v=v.get(L.key===null?j:L.key)||null,c(C,v,L,B);case bl:return v=v.get(L.key===null?j:L.key)||null,u(C,v,L,B);case Fs:var Y=L._init;return f(v,C,j,Y(L._payload),B)}if(Hc(L)||Tc(L))return v=v.get(j)||null,d(C,v,L,B,null);xd(C,L)}return null}function x(v,C,j,L){for(var B=null,Y=null,V=C,D=C=0,$=null;V!==null&&D<j.length;D++){V.index>D?($=V,V=null):$=V.sibling;var ee=m(v,V,j[D],L);if(ee===null){V===null&&(V=$);break}t&&V&&ee.alternate===null&&e(v,V),C=a(ee,C,D),Y===null?B=ee:Y.sibling=ee,Y=ee,V=$}if(D===j.length)return r(v,V),Gr&&yo(v,D),B;if(V===null){for(;D<j.length;D++)V=g(v,j[D],L),V!==null&&(C=a(V,C,D),Y===null?B=V:Y.sibling=V,Y=V);return Gr&&yo(v,D),B}for(V=n(v,V);D<j.length;D++)$=f(V,v,D,j[D],L),$!==null&&(t&&$.alternate!==null&&V.delete($.key===null?D:$.key),C=a($,C,D),Y===null?B=$:Y.sibling=$,Y=$);return t&&V.forEach(function(I){return e(v,I)}),Gr&&yo(v,D),B}function N(v,C,j,L){var B=Tc(j);if(typeof B!="function")throw Error(St(150));if(j=B.call(j),j==null)throw Error(St(151));for(var Y=B=null,V=C,D=C=0,$=null,ee=j.next();V!==null&&!ee.done;D++,ee=j.next()){V.index>D?($=V,V=null):$=V.sibling;var I=m(v,V,ee.value,L);if(I===null){V===null&&(V=$);break}t&&V&&I.alternate===null&&e(v,V),C=a(I,C,D),Y===null?B=I:Y.sibling=I,Y=I,V=$}if(ee.done)return r(v,V),Gr&&yo(v,D),B;if(V===null){for(;!ee.done;D++,ee=j.next())ee=g(v,ee.value,L),ee!==null&&(C=a(ee,C,D),Y===null?B=ee:Y.sibling=ee,Y=ee);return Gr&&yo(v,D),B}for(V=n(v,V);!ee.done;D++,ee=j.next())ee=f(V,v,D,ee.value,L),ee!==null&&(t&&ee.alternate!==null&&V.delete(ee.key===null?D:ee.key),C=a(ee,C,D),Y===null?B=ee:Y.sibling=ee,Y=ee);return t&&V.forEach(function(G){return e(v,G)}),Gr&&yo(v,D),B}function _(v,C,j,L){if(typeof j=="object"&&j!==null&&j.type===yl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case cd:e:{for(var B=j.key,Y=C;Y!==null;){if(Y.key===B){if(B=j.type,B===yl){if(Y.tag===7){r(v,Y.sibling),C=i(Y,j.props.children),C.return=v,v=C;break e}}else if(Y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fs&&h2(B)===Y.type){r(v,Y.sibling),C=i(Y,j.props),C.ref=Bc(v,Y,j),C.return=v,v=C;break e}r(v,Y);break}else e(v,Y);Y=Y.sibling}j.type===yl?(C=ko(j.props.children,v.mode,L,j.key),C.return=v,v=C):(L=Qd(j.type,j.key,j.props,null,v.mode,L),L.ref=Bc(v,C,j),L.return=v,v=L)}return o(v);case bl:e:{for(Y=j.key;C!==null;){if(C.key===Y)if(C.tag===4&&C.stateNode.containerInfo===j.containerInfo&&C.stateNode.implementation===j.implementation){r(v,C.sibling),C=i(C,j.children||[]),C.return=v,v=C;break e}else{r(v,C);break}else e(v,C);C=C.sibling}C=mg(j,v.mode,L),C.return=v,v=C}return o(v);case Fs:return Y=j._init,_(v,C,Y(j._payload),L)}if(Hc(j))return x(v,C,j,L);if(Tc(j))return N(v,C,j,L);xd(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,C!==null&&C.tag===6?(r(v,C.sibling),C=i(C,j),C.return=v,v=C):(r(v,C),C=pg(j,v.mode,L),C.return=v,v=C),o(v)):r(v,C)}return _}var Hl=Zy(!0),e5=Zy(!1),vh=eo(null),bh=null,Ll=null,K0=null;function Q0(){K0=Ll=bh=null}function X0(t){var e=vh.current;Wr(vh),t._currentValue=e}function Fp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Il(t,e){bh=t,K0=Ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xi=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(K0!==t)if(t={context:t,memoizedValue:e,next:null},Ll===null){if(bh===null)throw Error(St(308));Ll=t,bh.dependencies={lanes:0,firstContext:t}}else Ll=Ll.next=t;return e}var Co=null;function Z0(t){Co===null?Co=[t]:Co.push(t)}function t5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Z0(e)):(r.next=i.next,i.next=r),e.interleaved=r,us(t,n)}function us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ts=!1;function em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,_r&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,us(t,r)}return i=n.interleaved,i===null?(e.next=e,Z0(n)):(e.next=i.next,i.next=e),n.interleaved=e,us(t,r)}function Hd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M0(t,r)}}function f2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yh(t,e,r,n){var i=t.updateQueue;Ts=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,N=l;switch(m=e,f=r,N.tag){case 1:if(x=N.payload,typeof x=="function"){g=x.call(f,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,m=typeof x=="function"?x.call(f,g,m):x,m==null)break e;g=Qr({},g,m);break e;case 2:Ts=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=g):d=d.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=g}}function g2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var Bu={},Oa=eo(Bu),wu=eo(Bu),Su=eo(Bu);function Lo(t){if(t===Bu)throw Error(St(174));return t}function tm(t,e){switch(Mr(Su,e),Mr(wu,t),Mr(Oa,Bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hp(e,t)}Wr(Oa),Mr(Oa,e)}function Gl(){Wr(Oa),Wr(wu),Wr(Su)}function n5(t){Lo(Su.current);var e=Lo(Oa.current),r=hp(e,t.type);e!==r&&(Mr(wu,t),Mr(Oa,r))}function rm(t){wu.current===t&&(Wr(Oa),Wr(wu))}var Jr=eo(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cg=[];function nm(){for(var t=0;t<cg.length;t++)cg[t]._workInProgressVersionPrimary=null;cg.length=0}var Gd=fs.ReactCurrentDispatcher,ug=fs.ReactCurrentBatchConfig,Do=0,Kr=null,Cn=null,Fn=null,_h=!1,eu=!1,ju=0,Gj=0;function Hn(){throw Error(St(321))}function im(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!va(t[r],e[r]))return!1;return!0}function am(t,e,r,n,i,a){if(Do=a,Kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gd.current=t===null||t.memoizedState===null?Kj:Qj,t=r(n,i),eu){a=0;do{if(eu=!1,ju=0,25<=a)throw Error(St(301));a+=1,Fn=Cn=null,e.updateQueue=null,Gd.current=Xj,t=r(n,i)}while(eu)}if(Gd.current=wh,e=Cn!==null&&Cn.next!==null,Do=0,Fn=Cn=Kr=null,_h=!1,e)throw Error(St(300));return t}function sm(){var t=ju!==0;return ju=0,t}function Fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Kr.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function Xi(){if(Cn===null){var t=Kr.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=Fn===null?Kr.memoizedState:Fn.next;if(e!==null)Fn=e,Cn=t;else{if(t===null)throw Error(St(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Fn===null?Kr.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Nu(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=Xi(),r=e.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=t;var n=Cn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Do&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=n):c=c.next=g,Kr.lanes|=d,Io|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,va(n,e.memoizedState)||(xi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Kr.lanes|=a,Io|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hg(t){var e=Xi(),r=e.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);va(a,e.memoizedState)||(xi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function i5(){}function a5(t,e){var r=Kr,n=Xi(),i=e(),a=!va(n.memoizedState,i);if(a&&(n.memoizedState=i,xi=!0),n=n.queue,om(l5.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,Cu(9,o5.bind(null,r,n,i,e),void 0,null),In===null)throw Error(St(349));Do&30||s5(r,e,i)}return i}function s5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function o5(t,e,r,n){e.value=r,e.getSnapshot=n,c5(e)&&u5(t)}function l5(t,e,r){return r(function(){c5(e)&&u5(t)})}function c5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!va(t,r)}catch{return!0}}function u5(t){var e=us(t,1);e!==null&&pa(e,t,1,-1)}function p2(t){var e=Fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=Jj.bind(null,Kr,t),[e.memoizedState,t]}function Cu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function d5(){return Xi().memoizedState}function Yd(t,e,r,n){var i=Fa();Kr.flags|=t,i.memoizedState=Cu(1|e,r,void 0,n===void 0?null:n)}function Hh(t,e,r,n){var i=Xi();n=n===void 0?null:n;var a=void 0;if(Cn!==null){var o=Cn.memoizedState;if(a=o.destroy,n!==null&&im(n,o.deps)){i.memoizedState=Cu(e,r,a,n);return}}Kr.flags|=t,i.memoizedState=Cu(1|e,r,a,n)}function m2(t,e){return Yd(8390656,8,t,e)}function om(t,e){return Hh(2048,8,t,e)}function h5(t,e){return Hh(4,2,t,e)}function f5(t,e){return Hh(4,4,t,e)}function g5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p5(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4,4,g5.bind(null,e,t),r)}function lm(){}function m5(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&im(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v5(t,e){var r=Xi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&im(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function b5(t,e,r){return Do&21?(va(r,e)||(r=Sy(),Kr.lanes|=r,Io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xi=!0),t.memoizedState=r)}function Yj(t,e){var r=Pr;Pr=r!==0&&4>r?r:4,t(!0);var n=ug.transition;ug.transition={};try{t(!1),e()}finally{Pr=r,ug.transition=n}}function y5(){return Xi().memoizedState}function Vj(t,e,r){var n=Vs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x5(t))_5(e,r);else if(r=t5(t,e,r,n),r!==null){var i=ci();pa(r,t,n,i),w5(r,e,n)}}function Jj(t,e,r){var n=Vs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x5(t))_5(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,va(l,o)){var c=e.interleaved;c===null?(i.next=i,Z0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=t5(t,e,i,n),r!==null&&(i=ci(),pa(r,t,n,i),w5(r,e,n))}}function x5(t){var e=t.alternate;return t===Kr||e!==null&&e===Kr}function _5(t,e){eu=_h=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function w5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,M0(t,r)}}var wh={readContext:Qi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},Kj={readContext:Qi,useCallback:function(t,e){return Fa().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:m2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yd(4194308,4,g5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var r=Fa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Vj.bind(null,Kr,t),[n.memoizedState,t]},useRef:function(t){var e=Fa();return t={current:t},e.memoizedState=t},useState:p2,useDebugValue:lm,useDeferredValue:function(t){return Fa().memoizedState=t},useTransition:function(){var t=p2(!1),e=t[0];return t=Yj.bind(null,t[1]),Fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kr,i=Fa();if(Gr){if(r===void 0)throw Error(St(407));r=r()}else{if(r=e(),In===null)throw Error(St(349));Do&30||s5(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,m2(l5.bind(null,n,a,t),[t]),n.flags|=2048,Cu(9,o5.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Fa(),e=In.identifierPrefix;if(Gr){var r=as,n=is;r=(n&~(1<<32-ga(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ju++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Gj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qj={readContext:Qi,useCallback:m5,useContext:Qi,useEffect:om,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:v5,useReducer:dg,useRef:d5,useState:function(){return dg(Nu)},useDebugValue:lm,useDeferredValue:function(t){var e=Xi();return b5(e,Cn.memoizedState,t)},useTransition:function(){var t=dg(Nu)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:i5,useSyncExternalStore:a5,useId:y5,unstable_isNewReconciler:!1},Xj={readContext:Qi,useCallback:m5,useContext:Qi,useEffect:om,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:f5,useMemo:v5,useReducer:hg,useRef:d5,useState:function(){return hg(Nu)},useDebugValue:lm,useDeferredValue:function(t){var e=Xi();return Cn===null?e.memoizedState=t:b5(e,Cn.memoizedState,t)},useTransition:function(){var t=hg(Nu)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:i5,useSyncExternalStore:a5,useId:y5,unstable_isNewReconciler:!1};function ua(t,e){if(t&&t.defaultProps){e=Qr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gh={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Vs(t),a=os(n,i);a.payload=e,r!=null&&(a.callback=r),e=Gs(t,a,i),e!==null&&(pa(e,t,i,n),Hd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Vs(t),a=os(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Gs(t,a,i),e!==null&&(pa(e,t,i,n),Hd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ci(),n=Vs(t),i=os(r,n);i.tag=2,e!=null&&(i.callback=e),e=Gs(t,i,n),e!==null&&(pa(e,t,n,r),Hd(e,t,n))}};function v2(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!bu(r,n)||!bu(i,a):!0}function S5(t,e,r){var n=!1,i=Qs,a=e.contextType;return typeof a=="object"&&a!==null?a=Qi(a):(i=wi(e)?Fo:ei.current,n=e.contextTypes,a=(n=n!=null)?zl(t,i):Qs),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function b2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function Dp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},em(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qi(a):(a=wi(e)?Fo:ei.current,i.context=zl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Tp(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gh.enqueueReplaceState(i,i.state,null),yh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var r="",n=e;do r+=CS(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function fg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Zj=typeof WeakMap=="function"?WeakMap:Map;function j5(t,e,r){r=os(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jh||(jh=!0,Hp=n),Ip(t,e)},r}function N5(t,e,r){r=os(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ip(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ip(t,e),typeof n!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function y2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Zj;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=f4.bind(null,t,e,r),e.then(t,t))}function x2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=os(-1,1),e.tag=2,Gs(r,e,1))),r.lanes|=1),t)}var e4=fs.ReactCurrentOwner,xi=!1;function li(t,e,r,n){e.child=t===null?e5(e,null,r,n):Hl(e,t.child,r,n)}function w2(t,e,r,n,i){r=r.render;var a=e.ref;return Il(e,i),n=am(t,e,r,n,a,i),r=sm(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Gr&&r&&Y0(e),e.flags|=1,li(t,e,n,i),e.child)}function S2(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!mm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,C5(t,e,a,n,i)):(t=Qd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:bu,r(o,n)&&t.ref===e.ref)return ds(t,e,i)}return e.flags|=1,t=Js(a,n),t.ref=e.ref,t.return=e,e.child=t}function C5(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(bu(a,n)&&t.ref===e.ref)if(xi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(xi=!0);else return e.lanes=t.lanes,ds(t,e,i)}return Rp(t,e,r,n,i)}function L5(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(kl,Ii),Ii|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mr(kl,Ii),Ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Mr(kl,Ii),Ii|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Mr(kl,Ii),Ii|=n;return li(t,e,i,r),e.child}function A5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,r,n,i){var a=wi(r)?Fo:ei.current;return a=zl(e,a),Il(e,i),r=am(t,e,r,n,a,i),n=sm(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Gr&&n&&Y0(e),e.flags|=1,li(t,e,r,i),e.child)}function j2(t,e,r,n,i){if(wi(r)){var a=!0;gh(e)}else a=!1;if(Il(e,i),e.stateNode===null)Vd(t,e),S5(e,r,n),Dp(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qi(u):(u=wi(r)?Fo:ei.current,u=zl(e,u));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&b2(e,o,n,u),Ts=!1;var m=e.memoizedState;o.state=m,yh(e,n,o,i),c=e.memoizedState,l!==n||m!==c||_i.current||Ts?(typeof d=="function"&&(Tp(e,r,d,n),c=e.memoizedState),(l=Ts||v2(e,r,l,n,m,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,r5(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ua(e.type,l),o.props=u,g=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qi(c):(c=wi(r)?Fo:ei.current,c=zl(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==c)&&b2(e,o,n,c),Ts=!1,m=e.memoizedState,o.state=m,yh(e,n,o,i);var x=e.memoizedState;l!==g||m!==x||_i.current||Ts?(typeof f=="function"&&(Tp(e,r,f,n),x=e.memoizedState),(u=Ts||v2(e,r,u,n,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Op(t,e,r,n,a,i)}function Op(t,e,r,n,i,a){A5(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&c2(e,r,!1),ds(t,e,a);n=e.stateNode,e4.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Hl(e,t.child,null,a),e.child=Hl(e,null,l,a)):li(t,e,l,a),e.memoizedState=n.state,i&&c2(e,r,!0),e.child}function k5(t){var e=t.stateNode;e.pendingContext?l2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l2(t,e.context,!1),tm(t,e.containerInfo)}function N2(t,e,r,n,i){return Wl(),J0(i),e.flags|=256,li(t,e,r,n),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function P5(t,e,r){var n=e.pendingProps,i=Jr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mr(Jr,i&1),t===null)return Ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jh(o,n,0,null),t=ko(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Mp(r),e.memoizedState=Bp,t):cm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return t4(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Js(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Js(l,a):(a=ko(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Mp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Bp,n}return a=t.child,t=a.sibling,n=Js(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cm(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _d(t,e,r,n){return n!==null&&J0(n),Hl(e,t.child,null,r),t=cm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t4(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=fg(Error(St(422))),_d(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Jh({mode:"visible",children:n.children},i,0,null),a=ko(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Hl(e,t.child,null,o),e.child.memoizedState=Mp(o),e.memoizedState=Bp,a);if(!(e.mode&1))return _d(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(St(419)),n=fg(a,n,void 0),_d(t,e,o,n)}if(l=(o&t.childLanes)!==0,xi||l){if(n=In,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,us(t,i),pa(n,t,i,-1))}return pm(),n=fg(Error(St(421))),_d(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ri=Hs(i.nextSibling),Bi=e,Gr=!0,fa=null,t!==null&&(Yi[Vi++]=is,Yi[Vi++]=as,Yi[Vi++]=To,is=t.id,as=t.overflow,To=e),e=cm(e,n.children),e.flags|=4096,e)}function C2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fp(t.return,e,r)}function gg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function E5(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(li(t,e,n.children,r),n=Jr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C2(t,r,e);else if(t.tag===19)C2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mr(Jr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&xh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),gg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}gg(e,!0,r,null,a);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,r=Js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function r4(t,e,r){switch(e.tag){case 3:k5(e),Wl();break;case 5:n5(e);break;case 1:wi(e.type)&&gh(e);break;case 4:tm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Mr(vh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mr(Jr,Jr.current&1),e.flags|=128,null):r&e.child.childLanes?P5(t,e,r):(Mr(Jr,Jr.current&1),t=ds(t,e,r),t!==null?t.sibling:null);Mr(Jr,Jr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return E5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mr(Jr,Jr.current),n)break;return null;case 22:case 23:return e.lanes=0,L5(t,e,r)}return ds(t,e,r)}var F5,Up,T5,D5;F5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Up=function(){};T5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Lo(Oa.current);var a=null;switch(r){case"input":i=lp(t,i),n=lp(t,n),a=[];break;case"select":i=Qr({},i,{value:void 0}),n=Qr({},n,{value:void 0}),a=[];break;case"textarea":i=dp(t,i),n=dp(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hh)}fp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(du.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(du.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$r("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};D5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mc(t,e){if(!Gr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function n4(t,e,r){var n=e.pendingProps;switch(V0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return wi(e.type)&&fh(),Gn(e),null;case 3:return n=e.stateNode,Gl(),Wr(_i),Wr(ei),nm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fa!==null&&(Vp(fa),fa=null))),Up(t,e),Gn(e),null;case 5:rm(e);var i=Lo(Su.current);if(r=e.type,t!==null&&e.stateNode!=null)T5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(St(166));return Gn(e),null}if(t=Lo(Oa.current),yd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Da]=e,n[_u]=a,t=(e.mode&1)!==0,r){case"dialog":$r("cancel",n),$r("close",n);break;case"iframe":case"object":case"embed":$r("load",n);break;case"video":case"audio":for(i=0;i<Yc.length;i++)$r(Yc[i],n);break;case"source":$r("error",n);break;case"img":case"image":case"link":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"input":I1(n,a),$r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$r("invalid",n);break;case"textarea":O1(n,a),$r("invalid",n)}fp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,l,t),i=["children",""+l]):du.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$r("scroll",n)}switch(r){case"input":ud(n),R1(n,a,!0);break;case"textarea":ud(n),B1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ly(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Da]=e,t[_u]=n,F5(t,e,!1,!1),e.stateNode=t;e:{switch(o=gp(r,n),r){case"dialog":$r("cancel",t),$r("close",t),i=n;break;case"iframe":case"object":case"embed":$r("load",t),i=n;break;case"video":case"audio":for(i=0;i<Yc.length;i++)$r(Yc[i],t);i=n;break;case"source":$r("error",t),i=n;break;case"img":case"image":case"link":$r("error",t),$r("load",t),i=n;break;case"details":$r("toggle",t),i=n;break;case"input":I1(t,n),i=lp(t,n),$r("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qr({},n,{value:void 0}),$r("invalid",t);break;case"textarea":O1(t,n),i=dp(t,n),$r("invalid",t);break;default:i=n}fp(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?dy(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cy(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hu(t,c):typeof c=="number"&&hu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(du.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$r("scroll",t):c!=null&&T0(t,a,c,o))}switch(r){case"input":ud(t),R1(t,n,!1);break;case"textarea":ud(t),B1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ks(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?El(t,!!n.multiple,a,!1):n.defaultValue!=null&&El(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)D5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(St(166));if(r=Lo(Su.current),Lo(Oa.current),yd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Da]=e,(a=n.nodeValue!==r)&&(t=Bi,t!==null))switch(t.tag){case 3:bd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Da]=e,e.stateNode=n}return Gn(e),null;case 13:if(Wr(Jr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gr&&Ri!==null&&e.mode&1&&!(e.flags&128))Xy(),Wl(),e.flags|=98560,a=!1;else if(a=yd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(St(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(St(317));a[Da]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),a=!1}else fa!==null&&(Vp(fa),fa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jr.current&1?Ln===0&&(Ln=3):pm())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return Gl(),Up(t,e),t===null&&yu(e.stateNode.containerInfo),Gn(e),null;case 10:return X0(e.type._context),Gn(e),null;case 17:return wi(e.type)&&fh(),Gn(e),null;case 19:if(Wr(Jr),a=e.memoizedState,a===null)return Gn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Mc(a,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,Mc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mr(Jr,Jr.current&1|2),e.child}t=t.sibling}a.tail!==null&&un()>Vl&&(e.flags|=128,n=!0,Mc(a,!1),e.lanes=4194304)}else{if(!n)if(t=xh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gr)return Gn(e),null}else 2*un()-a.renderingStartTime>Vl&&r!==1073741824&&(e.flags|=128,n=!0,Mc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=un(),e.sibling=null,r=Jr.current,Mr(Jr,n?r&1|2:r&1),e):(Gn(e),null);case 22:case 23:return gm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ii&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function i4(t,e){switch(V0(e),e.tag){case 1:return wi(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gl(),Wr(_i),Wr(ei),nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(Wr(Jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wr(Jr),null;case 4:return Gl(),null;case 10:return X0(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var wd=!1,Qn=!1,a4=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tn(t,e,n)}else r.current=null}function qp(t,e,r){try{r()}catch(n){tn(t,e,n)}}var L2=!1;function s4(t,e){if(jp=ch,t=My(),G0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,g=t,m=null;t:for(;;){for(var f;g!==r||i!==0&&g.nodeType!==3||(l=o+i),g!==a||n!==0&&g.nodeType!==3||(c=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(f=g.firstChild)!==null;)m=g,g=f;for(;;){if(g===t)break t;if(m===r&&++u===i&&(l=o),m===a&&++d===n&&(c=o),(f=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Np={focusedElem:t,selectionRange:r},ch=!1,$t=e;$t!==null;)if(e=$t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$t=t;else for(;$t!==null;){e=$t;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,_=x.memoizedState,v=e.stateNode,C=v.getSnapshotBeforeUpdate(e.elementType===e.type?N:ua(e.type,N),_);v.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(L){tn(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,$t=t;break}$t=e.return}return x=L2,L2=!1,x}function tu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qp(e,r,a)}i=i.next}while(i!==n)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $p(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function I5(t){var e=t.alternate;e!==null&&(t.alternate=null,I5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Da],delete e[_u],delete e[Ap],delete e[$j],delete e[zj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R5(t){return t.tag===5||t.tag===3||t.tag===4}function A2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hh));else if(n!==4&&(t=t.child,t!==null))for(zp(t,e,r),t=t.sibling;t!==null;)zp(t,e,r),t=t.sibling}function Wp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wp(t,e,r),t=t.sibling;t!==null;)Wp(t,e,r),t=t.sibling}var qn=null,da=!1;function Ls(t,e,r){for(r=r.child;r!==null;)O5(t,e,r),r=r.sibling}function O5(t,e,r){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Mh,r)}catch{}switch(r.tag){case 5:Qn||Al(r,e);case 6:var n=qn,i=da;qn=null,Ls(t,e,r),qn=n,da=i,qn!==null&&(da?(t=qn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qn.removeChild(r.stateNode));break;case 18:qn!==null&&(da?(t=qn,r=r.stateNode,t.nodeType===8?og(t.parentNode,r):t.nodeType===1&&og(t,r),mu(t)):og(qn,r.stateNode));break;case 4:n=qn,i=da,qn=r.stateNode.containerInfo,da=!0,Ls(t,e,r),qn=n,da=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&qp(r,e,o),i=i.next}while(i!==n)}Ls(t,e,r);break;case 1:if(!Qn&&(Al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){tn(r,e,l)}Ls(t,e,r);break;case 21:Ls(t,e,r);break;case 22:r.mode&1?(Qn=(n=Qn)||r.memoizedState!==null,Ls(t,e,r),Qn=n):Ls(t,e,r);break;default:Ls(t,e,r)}}function k2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new a4),e.forEach(function(n){var i=p4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,da=!1;break e;case 3:qn=l.stateNode.containerInfo,da=!0;break e;case 4:qn=l.stateNode.containerInfo,da=!0;break e}l=l.return}if(qn===null)throw Error(St(160));O5(a,o,i),qn=null,da=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B5(e,t),e=e.sibling}function B5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),ka(t),n&4){try{tu(3,t,t.return),Yh(3,t)}catch(N){tn(t,t.return,N)}try{tu(5,t,t.return)}catch(N){tn(t,t.return,N)}}break;case 1:oa(e,t),ka(t),n&512&&r!==null&&Al(r,r.return);break;case 5:if(oa(e,t),ka(t),n&512&&r!==null&&Al(r,r.return),t.flags&32){var i=t.stateNode;try{hu(i,"")}catch(N){tn(t,t.return,N)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sy(i,a),gp(l,o);var u=gp(l,a);for(o=0;o<c.length;o+=2){var d=c[o],g=c[o+1];d==="style"?dy(i,g):d==="dangerouslySetInnerHTML"?cy(i,g):d==="children"?hu(i,g):T0(i,d,g,u)}switch(l){case"input":cp(i,a);break;case"textarea":oy(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?El(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?El(i,!!a.multiple,a.defaultValue,!0):El(i,!!a.multiple,a.multiple?[]:"",!1))}i[_u]=a}catch(N){tn(t,t.return,N)}}break;case 6:if(oa(e,t),ka(t),n&4){if(t.stateNode===null)throw Error(St(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){tn(t,t.return,N)}}break;case 3:if(oa(e,t),ka(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mu(e.containerInfo)}catch(N){tn(t,t.return,N)}break;case 4:oa(e,t),ka(t);break;case 13:oa(e,t),ka(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hm=un())),n&4&&k2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Qn=(u=Qn)||d,oa(e,t),Qn=u):oa(e,t),ka(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($t=t,d=t.child;d!==null;){for(g=$t=d;$t!==null;){switch(m=$t,f=m.child,m.tag){case 0:case 11:case 14:case 15:tu(4,m,m.return);break;case 1:Al(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(N){tn(n,r,N)}}break;case 5:Al(m,m.return);break;case 22:if(m.memoizedState!==null){E2(g);continue}}f!==null?(f.return=m,$t=f):E2(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uy("display",o))}catch(N){tn(t,t.return,N)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(N){tn(t,t.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:oa(e,t),ka(t),n&4&&k2(t);break;case 21:break;default:oa(e,t),ka(t)}}function ka(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(R5(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hu(i,""),n.flags&=-33);var a=A2(t);Wp(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=A2(t);zp(t,l,o);break;default:throw Error(St(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o4(t,e,r){$t=t,M5(t)}function M5(t,e,r){for(var n=(t.mode&1)!==0;$t!==null;){var i=$t,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||wd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Qn;l=wd;var u=Qn;if(wd=o,(Qn=c)&&!u)for($t=i;$t!==null;)o=$t,c=o.child,o.tag===22&&o.memoizedState!==null?F2(i):c!==null?(c.return=o,$t=c):F2(i);for(;a!==null;)$t=a,M5(a),a=a.sibling;$t=i,wd=l,Qn=u}P2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$t=a):P2(t)}}function P2(t){for(;$t!==null;){var e=$t;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||Yh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ua(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&g2(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}g2(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&mu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Qn||e.flags&512&&$p(e)}catch(m){tn(e,e.return,m)}}if(e===t){$t=null;break}if(r=e.sibling,r!==null){r.return=e.return,$t=r;break}$t=e.return}}function E2(t){for(;$t!==null;){var e=$t;if(e===t){$t=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$t=r;break}$t=e.return}}function F2(t){for(;$t!==null;){var e=$t;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yh(4,e)}catch(c){tn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){tn(e,i,c)}}var a=e.return;try{$p(e)}catch(c){tn(e,a,c)}break;case 5:var o=e.return;try{$p(e)}catch(c){tn(e,o,c)}}}catch(c){tn(e,e.return,c)}if(e===t){$t=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$t=l;break}$t=e.return}}var l4=Math.ceil,Sh=fs.ReactCurrentDispatcher,um=fs.ReactCurrentOwner,Ki=fs.ReactCurrentBatchConfig,_r=0,In=null,vn=null,$n=0,Ii=0,kl=eo(0),Ln=0,Lu=null,Io=0,Vh=0,dm=0,ru=null,bi=null,hm=0,Vl=1/0,es=null,jh=!1,Hp=null,Ys=null,Sd=!1,Bs=null,Nh=0,nu=0,Gp=null,Jd=-1,Kd=0;function ci(){return _r&6?un():Jd!==-1?Jd:Jd=un()}function Vs(t){return t.mode&1?_r&2&&$n!==0?$n&-$n:Hj.transition!==null?(Kd===0&&(Kd=Sy()),Kd):(t=Pr,t!==0||(t=window.event,t=t===void 0?16:Py(t.type)),t):1}function pa(t,e,r,n){if(50<nu)throw nu=0,Gp=null,Error(St(185));Iu(t,r,n),(!(_r&2)||t!==In)&&(t===In&&(!(_r&2)&&(Vh|=r),Ln===4&&Is(t,$n)),Si(t,n),r===1&&_r===0&&!(e.mode&1)&&(Vl=un()+500,Wh&&to()))}function Si(t,e){var r=t.callbackNode;HS(t,e);var n=lh(t,t===In?$n:0);if(n===0)r!==null&&q1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&q1(r),e===1)t.tag===0?Wj(T2.bind(null,t)):Jy(T2.bind(null,t)),Uj(function(){!(_r&6)&&to()}),r=null;else{switch(jy(n)){case 1:r=B0;break;case 4:r=_y;break;case 16:r=oh;break;case 536870912:r=wy;break;default:r=oh}r=Y5(r,U5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function U5(t,e){if(Jd=-1,Kd=0,_r&6)throw Error(St(327));var r=t.callbackNode;if(Rl()&&t.callbackNode!==r)return null;var n=lh(t,t===In?$n:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ch(t,n);else{e=n;var i=_r;_r|=2;var a=$5();(In!==t||$n!==e)&&(es=null,Vl=un()+500,Ao(t,e));do try{d4();break}catch(l){q5(t,l)}while(!0);Q0(),Sh.current=a,_r=i,vn!==null?e=0:(In=null,$n=0,e=Ln)}if(e!==0){if(e===2&&(i=yp(t),i!==0&&(n=i,e=Yp(t,i))),e===1)throw r=Lu,Ao(t,0),Is(t,n),Si(t,un()),r;if(e===6)Is(t,n);else{if(i=t.current.alternate,!(n&30)&&!c4(i)&&(e=Ch(t,n),e===2&&(a=yp(t),a!==0&&(n=a,e=Yp(t,a))),e===1))throw r=Lu,Ao(t,0),Is(t,n),Si(t,un()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(St(345));case 2:xo(t,bi,es);break;case 3:if(Is(t,n),(n&130023424)===n&&(e=hm+500-un(),10<e)){if(lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lp(xo.bind(null,t,bi,es),e);break}xo(t,bi,es);break;case 4:if(Is(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ga(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=un()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*l4(n/1960))-n,10<n){t.timeoutHandle=Lp(xo.bind(null,t,bi,es),n);break}xo(t,bi,es);break;case 5:xo(t,bi,es);break;default:throw Error(St(329))}}}return Si(t,un()),t.callbackNode===r?U5.bind(null,t):null}function Yp(t,e){var r=ru;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=bi,bi=r,e!==null&&Vp(e)),t}function Vp(t){bi===null?bi=t:bi.push.apply(bi,t)}function c4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!va(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~dm,e&=~Vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ga(e),n=1<<r;t[r]=-1,e&=~n}}function T2(t){if(_r&6)throw Error(St(327));Rl();var e=lh(t,0);if(!(e&1))return Si(t,un()),null;var r=Ch(t,e);if(t.tag!==0&&r===2){var n=yp(t);n!==0&&(e=n,r=Yp(t,n))}if(r===1)throw r=Lu,Ao(t,0),Is(t,e),Si(t,un()),r;if(r===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xo(t,bi,es),Si(t,un()),null}function fm(t,e){var r=_r;_r|=1;try{return t(e)}finally{_r=r,_r===0&&(Vl=un()+500,Wh&&to())}}function Ro(t){Bs!==null&&Bs.tag===0&&!(_r&6)&&Rl();var e=_r;_r|=1;var r=Ki.transition,n=Pr;try{if(Ki.transition=null,Pr=1,t)return t()}finally{Pr=n,Ki.transition=r,_r=e,!(_r&6)&&to()}}function gm(){Ii=kl.current,Wr(kl)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Mj(r)),vn!==null)for(r=vn.return;r!==null;){var n=r;switch(V0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fh();break;case 3:Gl(),Wr(_i),Wr(ei),nm();break;case 5:rm(n);break;case 4:Gl();break;case 13:Wr(Jr);break;case 19:Wr(Jr);break;case 10:X0(n.type._context);break;case 22:case 23:gm()}r=r.return}if(In=t,vn=t=Js(t.current,null),$n=Ii=e,Ln=0,Lu=null,dm=Vh=Io=0,bi=ru=null,Co!==null){for(e=0;e<Co.length;e++)if(r=Co[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Co=null}return t}function q5(t,e){do{var r=vn;try{if(Q0(),Gd.current=wh,_h){for(var n=Kr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_h=!1}if(Do=0,Fn=Cn=Kr=null,eu=!1,ju=0,um.current=null,r===null||r.return===null){Ln=1,Lu=e,vn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=$n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=x2(o);if(f!==null){f.flags&=-257,_2(f,o,l,a,e),f.mode&1&&y2(a,u,e),e=f,c=u;var x=e.updateQueue;if(x===null){var N=new Set;N.add(c),e.updateQueue=N}else x.add(c);break e}else{if(!(e&1)){y2(a,u,e),pm();break e}c=Error(St(426))}}else if(Gr&&l.mode&1){var _=x2(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_2(_,o,l,a,e),J0(Yl(c,l));break e}}a=c=Yl(c,l),Ln!==4&&(Ln=2),ru===null?ru=[a]:ru.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=j5(a,c,e);f2(a,v);break e;case 1:l=c;var C=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ys===null||!Ys.has(j)))){a.flags|=65536,e&=-e,a.lanes|=e;var L=N5(a,l,e);f2(a,L);break e}}a=a.return}while(a!==null)}W5(r)}catch(B){e=B,vn===r&&r!==null&&(vn=r=r.return);continue}break}while(!0)}function $5(){var t=Sh.current;return Sh.current=wh,t===null?wh:t}function pm(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),In===null||!(Io&268435455)&&!(Vh&268435455)||Is(In,$n)}function Ch(t,e){var r=_r;_r|=2;var n=$5();(In!==t||$n!==e)&&(es=null,Ao(t,e));do try{u4();break}catch(i){q5(t,i)}while(!0);if(Q0(),_r=r,Sh.current=n,vn!==null)throw Error(St(261));return In=null,$n=0,Ln}function u4(){for(;vn!==null;)z5(vn)}function d4(){for(;vn!==null&&!RS();)z5(vn)}function z5(t){var e=G5(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?W5(t):vn=e,um.current=null}function W5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=i4(r,e),r!==null){r.flags&=32767,vn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,vn=null;return}}else if(r=n4(r,e,Ii),r!==null){vn=r;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);Ln===0&&(Ln=5)}function xo(t,e,r){var n=Pr,i=Ki.transition;try{Ki.transition=null,Pr=1,h4(t,e,r,n)}finally{Ki.transition=i,Pr=n}return null}function h4(t,e,r,n){do Rl();while(Bs!==null);if(_r&6)throw Error(St(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(GS(t,a),t===In&&(vn=In=null,$n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sd||(Sd=!0,Y5(oh,function(){return Rl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ki.transition,Ki.transition=null;var o=Pr;Pr=1;var l=_r;_r|=4,um.current=null,s4(t,r),B5(r,t),Fj(Np),ch=!!jp,Np=jp=null,t.current=r,o4(r),OS(),_r=l,Pr=o,Ki.transition=a}else t.current=r;if(Sd&&(Sd=!1,Bs=t,Nh=i),a=t.pendingLanes,a===0&&(Ys=null),US(r.stateNode),Si(t,un()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,t=Hp,Hp=null,t;return Nh&1&&t.tag!==0&&Rl(),a=t.pendingLanes,a&1?t===Gp?nu++:(nu=0,Gp=t):nu=0,to(),null}function Rl(){if(Bs!==null){var t=jy(Nh),e=Ki.transition,r=Pr;try{if(Ki.transition=null,Pr=16>t?16:t,Bs===null)var n=!1;else{if(t=Bs,Bs=null,Nh=0,_r&6)throw Error(St(331));var i=_r;for(_r|=4,$t=t.current;$t!==null;){var a=$t,o=a.child;if($t.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($t=u;$t!==null;){var d=$t;switch(d.tag){case 0:case 11:case 15:tu(8,d,a)}var g=d.child;if(g!==null)g.return=d,$t=g;else for(;$t!==null;){d=$t;var m=d.sibling,f=d.return;if(I5(d),d===u){$t=null;break}if(m!==null){m.return=f,$t=m;break}$t=f}}}var x=a.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var _=N.sibling;N.sibling=null,N=_}while(N!==null)}}$t=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$t=o;else e:for(;$t!==null;){if(a=$t,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tu(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,$t=v;break e}$t=a.return}}var C=t.current;for($t=C;$t!==null;){o=$t;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,$t=j;else e:for(o=C;$t!==null;){if(l=$t,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yh(9,l)}}catch(B){tn(l,l.return,B)}if(l===o){$t=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,$t=L;break e}$t=l.return}}if(_r=i,to(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Mh,t)}catch{}n=!0}return n}finally{Pr=r,Ki.transition=e}}return!1}function D2(t,e,r){e=Yl(r,e),e=j5(t,e,1),t=Gs(t,e,1),e=ci(),t!==null&&(Iu(t,1,e),Si(t,e))}function tn(t,e,r){if(t.tag===3)D2(t,t,r);else for(;e!==null;){if(e.tag===3){D2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ys===null||!Ys.has(n))){t=Yl(r,t),t=N5(e,t,1),e=Gs(e,t,1),t=ci(),e!==null&&(Iu(e,1,t),Si(e,t));break}}e=e.return}}function f4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&r,In===t&&($n&r)===r&&(Ln===4||Ln===3&&($n&130023424)===$n&&500>un()-hm?Ao(t,0):dm|=r),Si(t,e)}function H5(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var r=ci();t=us(t,e),t!==null&&(Iu(t,e,r),Si(t,r))}function g4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),H5(t,r)}function p4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(e),H5(t,r)}var G5;G5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)xi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xi=!1,r4(t,e,r);xi=!!(t.flags&131072)}else xi=!1,Gr&&e.flags&1048576&&Ky(e,mh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vd(t,e),t=e.pendingProps;var i=zl(e,ei.current);Il(e,r),i=am(null,e,n,t,i,r);var a=sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(n)?(a=!0,gh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,em(e),i.updater=Gh,e.stateNode=i,i._reactInternals=e,Dp(e,n,t,r),e=Op(null,e,n,!0,a,r)):(e.tag=0,Gr&&a&&Y0(e),li(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=v4(n),t=ua(n,t),i){case 0:e=Rp(null,e,n,t,r);break e;case 1:e=j2(null,e,n,t,r);break e;case 11:e=w2(null,e,n,t,r);break e;case 14:e=S2(null,e,n,ua(n.type,t),r);break e}throw Error(St(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),Rp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),j2(t,e,n,i,r);case 3:e:{if(k5(e),t===null)throw Error(St(387));n=e.pendingProps,a=e.memoizedState,i=a.element,r5(t,e),yh(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Yl(Error(St(423)),e),e=N2(t,e,n,r,i);break e}else if(n!==i){i=Yl(Error(St(424)),e),e=N2(t,e,n,r,i);break e}else for(Ri=Hs(e.stateNode.containerInfo.firstChild),Bi=e,Gr=!0,fa=null,r=e5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wl(),n===i){e=ds(t,e,r);break e}li(t,e,n,r)}e=e.child}return e;case 5:return n5(e),t===null&&Ep(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Cp(n,i)?o=null:a!==null&&Cp(n,a)&&(e.flags|=32),A5(t,e),li(t,e,o,r),e.child;case 6:return t===null&&Ep(e),null;case 13:return P5(t,e,r);case 4:return tm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hl(e,null,n,r):li(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),w2(t,e,n,i,r);case 7:return li(t,e,e.pendingProps,r),e.child;case 8:return li(t,e,e.pendingProps.children,r),e.child;case 12:return li(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Mr(vh,n._currentValue),n._currentValue=o,a!==null)if(va(a.value,o)){if(a.children===i.children&&!_i.current){e=ds(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=os(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Fp(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(St(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fp(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}li(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Il(e,r),i=Qi(i),n=n(i),e.flags|=1,li(t,e,n,r),e.child;case 14:return n=e.type,i=ua(n,e.pendingProps),i=ua(n.type,i),S2(t,e,n,i,r);case 15:return C5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ua(n,i),Vd(t,e),e.tag=1,wi(n)?(t=!0,gh(e)):t=!1,Il(e,r),S5(e,n,i),Dp(e,n,i,r),Op(null,e,n,!0,t,r);case 19:return E5(t,e,r);case 22:return L5(t,e,r)}throw Error(St(156,e.tag))};function Y5(t,e){return xy(t,e)}function m4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,r,n){return new m4(t,e,r,n)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function v4(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I0)return 11;if(t===R0)return 14}return 2}function Js(t,e){var r=t.alternate;return r===null?(r=Ji(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yl:return ko(r.children,i,a,e);case D0:o=8,i|=8;break;case ip:return t=Ji(12,r,e,i|2),t.elementType=ip,t.lanes=a,t;case ap:return t=Ji(13,r,e,i),t.elementType=ap,t.lanes=a,t;case sp:return t=Ji(19,r,e,i),t.elementType=sp,t.lanes=a,t;case ny:return Jh(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ty:o=10;break e;case ry:o=9;break e;case I0:o=11;break e;case R0:o=14;break e;case Fs:o=16,n=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=Ji(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ko(t,e,r,n){return t=Ji(7,t,n,e),t.lanes=r,t}function Jh(t,e,r,n){return t=Ji(22,t,n,e),t.elementType=ny,t.lanes=r,t.stateNode={isHidden:!1},t}function pg(t,e,r){return t=Ji(6,t,null,e),t.lanes=r,t}function mg(t,e,r){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vm(t,e,r,n,i,a,o,l,c){return t=new b4(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ji(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(a),t}function y4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function V5(t){if(!t)return Qs;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var r=t.type;if(wi(r))return Vy(t,r,e)}return e}function J5(t,e,r,n,i,a,o,l,c){return t=vm(r,n,!0,t,i,a,o,l,c),t.context=V5(null),r=t.current,n=ci(),i=Vs(r),a=os(n,i),a.callback=e??null,Gs(r,a,i),t.current.lanes=i,Iu(t,i,n),Si(t,n),t}function Kh(t,e,r,n){var i=e.current,a=ci(),o=Vs(i);return r=V5(r),e.context===null?e.context=r:e.pendingContext=r,e=os(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gs(i,e,o),t!==null&&(pa(t,i,o,a),Hd(t,i,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bm(t,e){I2(t,e),(t=t.alternate)&&I2(t,e)}function x4(){return null}var K5=typeof reportError=="function"?reportError:function(t){console.error(t)};function ym(t){this._internalRoot=t}Qh.prototype.render=ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));Kh(t,e,null,null)};Qh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){Kh(null,t,null,null)}),e[cs]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ly();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ds.length&&e!==0&&e<Ds[r].priority;r++);Ds.splice(r,0,t),r===0&&ky(t)}};function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R2(){}function _4(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Lh(o);a.call(u)}}var o=J5(e,n,t,0,null,!1,!1,"",R2);return t._reactRootContainer=o,t[cs]=o.current,yu(t.nodeType===8?t.parentNode:t),Ro(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Lh(c);l.call(u)}}var c=vm(t,0,!1,null,null,!1,!1,"",R2);return t._reactRootContainer=c,t[cs]=c.current,yu(t.nodeType===8?t.parentNode:t),Ro(function(){Kh(e,c,r,n)}),c}function Zh(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Lh(o);l.call(c)}}Kh(e,o,t,i)}else o=_4(r,e,t,i,n);return Lh(o)}Ny=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gc(e.pendingLanes);r!==0&&(M0(e,r|1),Si(e,un()),!(_r&6)&&(Vl=un()+500,to()))}break;case 13:Ro(function(){var n=us(t,1);if(n!==null){var i=ci();pa(n,t,1,i)}}),bm(t,1)}};U0=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var r=ci();pa(e,t,134217728,r)}bm(t,134217728)}};Cy=function(t){if(t.tag===13){var e=Vs(t),r=us(t,e);if(r!==null){var n=ci();pa(r,t,e,n)}bm(t,e)}};Ly=function(){return Pr};Ay=function(t,e){var r=Pr;try{return Pr=t,e()}finally{Pr=r}};mp=function(t,e,r){switch(e){case"input":if(cp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=zh(n);if(!i)throw Error(St(90));ay(n),cp(n,i)}}}break;case"textarea":oy(t,r);break;case"select":e=r.value,e!=null&&El(t,!!r.multiple,e,!1)}};gy=fm;py=Ro;var w4={usingClientEntryPoint:!1,Events:[Ou,Sl,zh,hy,fy,fm]},Uc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S4={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=by(t),t===null?null:t.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||x4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Mh=jd.inject(S4),Ra=jd}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w4;qi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(e))throw Error(St(200));return y4(t,e,null,r)};qi.createRoot=function(t,e){if(!xm(t))throw Error(St(299));var r=!1,n="",i=K5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vm(t,1,!1,null,null,r,!1,n,i),t[cs]=e.current,yu(t.nodeType===8?t.parentNode:t),new ym(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=by(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return Ro(t)};qi.hydrate=function(t,e,r){if(!Xh(e))throw Error(St(200));return Zh(null,t,e,!0,r)};qi.hydrateRoot=function(t,e,r){if(!xm(t))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=K5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=J5(e,null,t,1,r??null,i,!1,a,o),t[cs]=e.current,yu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qh(e)};qi.render=function(t,e,r){if(!Xh(e))throw Error(St(200));return Zh(null,t,e,!1,r)};qi.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(St(40));return t._reactRootContainer?(Ro(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};qi.unstable_batchedUpdates=fm;qi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Xh(r))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return Zh(t,e,r,!1,n)};qi.version="18.3.1-next-f1338f8080-20240426";function Q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q5)}catch(t){console.error(t)}}Q5(),Qb.exports=qi;var j4=Qb.exports,O2=j4;rp.createRoot=O2.createRoot,rp.hydrateRoot=O2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Au.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const B2="popstate";function N4(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Jp("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Z5(i)}return L4(e,r,null,t)}function An(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C4(){return Math.random().toString(36).substr(2,8)}function M2(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,r,n){return r===void 0&&(r=null),Au({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nc(e):e,{state:r,key:e&&e.key||n||C4()})}function Z5(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function L4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Au({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function g(){l=Ms.Pop;let _=d(),v=_==null?null:_-u;u=_,c&&c({action:l,location:N.location,delta:v})}function m(_,v){l=Ms.Push;let C=Jp(N.location,_,v);u=d()+1;let j=M2(C,u),L=N.createHref(C);try{o.pushState(j,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(L)}a&&c&&c({action:l,location:N.location,delta:1})}function f(_,v){l=Ms.Replace;let C=Jp(N.location,_,v);u=d();let j=M2(C,u),L=N.createHref(C);o.replaceState(j,"",L),a&&c&&c({action:l,location:N.location,delta:0})}function x(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof _=="string"?_:Z5(_);return C=C.replace(/ $/,"%20"),An(v,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,v)}let N={get action(){return l},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(B2,g),c=_,()=>{i.removeEventListener(B2,g),c=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let v=x(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(_){return o.go(_)}};return N}var U2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U2||(U2={}));function A4(t,e,r){return r===void 0&&(r="/"),k4(t,e,r)}function k4(t,e,r,n){let i=typeof e=="string"?nc(e):e,a=rx(i.pathname||"/",r);if(a==null)return null;let o=ex(t);P4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$4(a);l=M4(o[c],u)}return l}function ex(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(An(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Po([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(An(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ex(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:O4(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of tx(a.path))i(a,o,c)}),e}function tx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=tx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function P4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:B4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const E4=/^:[\w-]+$/,F4=3,T4=2,D4=1,I4=10,R4=-2,q2=t=>t==="*";function O4(t,e){let r=t.split("/"),n=r.length;return r.some(q2)&&(n+=R4),e&&(n+=T4),r.filter(i=>!q2(i)).reduce((i,a)=>i+(E4.test(a)?F4:a===""?D4:I4),n)}function B4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function M4(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",g=U4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Po([a,g.pathname]),pathnameBase:V4(Po([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=Po([a,g.pathnameBase]))}return o}function U4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=q4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,g)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let N=l[g]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const x=l[g];return f&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function q4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),X5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function z4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nc(t):t;return{pathname:r?r.startsWith("/")?r:W4(r,e):e,search:J4(n),hash:K4(i)}}function W4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function G4(t,e){let r=H4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Y4(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nc(t):(i=Au({},t),An(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),An(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),An(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let c=z4(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),V4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nx=["post","put","patch","delete"];new Set(nx);const X4=["get",...nx];new Set(X4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}const _m=b.createContext(null),Z4=b.createContext(null),ef=b.createContext(null),tf=b.createContext(null),ic=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ix=b.createContext(null);function rf(){return b.useContext(tf)!=null}function fi(){return rf()||An(!1),b.useContext(tf).location}function ax(t){b.useContext(ef).static||b.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=b.useContext(ic);return t?hN():eN()}function eN(){rf()||An(!1);let t=b.useContext(_m),{basename:e,future:r,navigator:n}=b.useContext(ef),{matches:i}=b.useContext(ic),{pathname:a}=fi(),o=JSON.stringify(G4(i,r.v7_relativeSplatPath)),l=b.useRef(!1);return ax(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let g=Y4(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Po([e,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[e,n,o,a,t])}function tN(t,e){return rN(t,e)}function rN(t,e,r,n){rf()||An(!1);let{navigator:i}=b.useContext(ef),{matches:a}=b.useContext(ic),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fi(),d;if(e){var g;let _=typeof e=="string"?nc(e):e;c==="/"||(g=_.pathname)!=null&&g.startsWith(c)||An(!1),d=_}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=A4(t,{pathname:f}),N=oN(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Po([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Po([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&N?b.createElement(tf.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ms.Pop}},N):N}function nN(){let t=dN(),e=Q4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const iN=b.createElement(nN,null);class aN extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(ic.Provider,{value:this.props.routeContext},b.createElement(ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sN(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(_m);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ic.Provider,{value:e},n)}function oN(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);d>=0||An(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let g=o[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:m,errors:f}=r,x=g.route.loader&&m[g.route.id]===void 0&&(!f||f[g.route.id]===void 0);if(g.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,g,m)=>{let f,x=!1,N=null,_=null;r&&(f=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||iN,c&&(u<0&&m===0?(fN("route-fallback"),x=!0,_=null):u===m&&(x=!0,_=g.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),C=()=>{let j;return f?j=N:x?j=_:g.route.Component?j=b.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,b.createElement(sN,{match:g,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?b.createElement(aN,{location:r.location,revalidation:r.revalidation,component:N,error:f,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):C()},null)}var sx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sx||{}),ox=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ox||{});function lN(t){let e=b.useContext(_m);return e||An(!1),e}function cN(t){let e=b.useContext(Z4);return e||An(!1),e}function uN(t){let e=b.useContext(ic);return e||An(!1),e}function lx(t){let e=uN(),r=e.matches[e.matches.length-1];return r.route.id||An(!1),r.route.id}function dN(){var t;let e=b.useContext(ix),r=cN(),n=lx();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hN(){let{router:t}=lN(sx.UseNavigateStable),e=lx(ox.UseNavigateStable),r=b.useRef(!1);return ax(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ku({fromRouteId:e},a)))},[t,e])}const $2={};function fN(t,e,r){$2[t]||($2[t]=!0)}function gN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vr(t){An(!1)}function pN(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ms.Pop,navigator:a,static:o=!1,future:l}=t;rf()&&An(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:ku({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=nc(n));let{pathname:d="/",search:g="",hash:m="",state:f=null,key:x="default"}=n,N=b.useMemo(()=>{let _=rx(d,c);return _==null?null:{location:{pathname:_,search:g,hash:m,state:f,key:x},navigationType:i}},[c,d,g,m,f,x,i]);return N==null?null:b.createElement(ef.Provider,{value:u},b.createElement(tf.Provider,{children:r,value:N}))}function mN(t){let{children:e,location:r}=t;return tN(Kp(e),r)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let a=[...e,i];if(n.type===b.Fragment){r.push.apply(r,Kp(n.props.children,a));return}n.type!==Vr&&An(!1),!n.props.index||!n.props.children||An(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vN="6";try{window.__reactRouterVersion=vN}catch{}const bN="startTransition",z2=fS[bN];function yN(t){let{basename:e,children:r,future:n,window:i}=t,a=b.useRef();a.current==null&&(a.current=N4({window:i,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(g=>{u&&z2?z2(()=>c(g)):c(g)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>gN(n),[n]),b.createElement(pN,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var W2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(W2||(W2={}));var H2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(H2||(H2={}));const xN="modulepreload",_N=function(t){return"/"+t},G2={},ma=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=_N(c),c in G2)return;G2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":xN,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((m,f)=>{g.addEventListener("load",m),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},wN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class wm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class SN extends wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Y2 extends wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V2 extends wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qp||(Qp={}));var jN=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class NN{constructor(e,{headers:r={},customFetch:n,region:i=Qp.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=wN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return jN(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const g=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(N=>{throw new SN(N)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Y2(g);if(!g.ok)throw new V2(g);let f=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield g.json():f==="application/octet-stream"?x=yield g.blob():f==="text/event-stream"?x=g:f==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof V2||i instanceof Y2?i.context:void 0}}})}}var yi={},Sm={},nf={},Mu={},af={},sf={},CN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jl=CN();const LN=Jl.fetch,cx=Jl.fetch.bind(Jl),ux=Jl.Headers,AN=Jl.Request,kN=Jl.Response,ac=Object.freeze(Object.defineProperty({__proto__:null,Headers:ux,Request:AN,Response:kN,default:cx,fetch:LN},Symbol.toStringTag,{value:"Module"})),PN=Kw(ac);var of={};Object.defineProperty(of,"__esModule",{value:!0});let EN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};of.default=EN;var dx=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sf,"__esModule",{value:!0});const FN=dx(PN),TN=dx(of);let DN=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=FN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,g=null,m=null,f=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const C=await a.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,f=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await a.text();try{d=JSON.parse(_),Array.isArray(d)&&a.status===404&&(g=[],d=null,f=200,x="OK")}catch{a.status===404&&_===""?(f=204,x="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new TN.default(d)}return{error:d,data:g,count:m,status:f,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};sf.default=DN;var IN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(af,"__esModule",{value:!0});const RN=IN(sf);let ON=class extends RN.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};af.default=ON;var BN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mu,"__esModule",{value:!0});const MN=BN(af);let UN=class extends MN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Mu.default=UN;var qN=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nf,"__esModule",{value:!0});const qc=qN(Mu);let $N=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new qc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};nf.default=$N;var hx=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sm,"__esModule",{value:!0});const zN=hx(nf),WN=hx(Mu);let HN=class fx{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new zN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{c.searchParams.append(g,m)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new WN.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Sm.default=HN;var sc=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.PostgrestError=yi.PostgrestBuilder=yi.PostgrestTransformBuilder=yi.PostgrestFilterBuilder=yi.PostgrestQueryBuilder=yi.PostgrestClient=void 0;const gx=sc(Sm);yi.PostgrestClient=gx.default;const px=sc(nf);yi.PostgrestQueryBuilder=px.default;const mx=sc(Mu);yi.PostgrestFilterBuilder=mx.default;const vx=sc(af);yi.PostgrestTransformBuilder=vx.default;const bx=sc(sf);yi.PostgrestBuilder=bx.default;const yx=sc(of);yi.PostgrestError=yx.default;var GN=yi.default={PostgrestClient:gx.default,PostgrestQueryBuilder:px.default,PostgrestFilterBuilder:mx.default,PostgrestTransformBuilder:vx.default,PostgrestBuilder:bx.default,PostgrestError:yx.default};const{PostgrestClient:YN,PostgrestQueryBuilder:w8,PostgrestFilterBuilder:S8,PostgrestTransformBuilder:j8,PostgrestBuilder:N8,PostgrestError:C8}=GN;class VN{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JN="2.15.1",KN=`realtime-js/${JN}`,QN="1.0.0",Xp=1e4,XN=1e3,ZN=100;var iu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(iu||(iu={}));var jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jn||(jn={}));var ha;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ha||(ha={}));var Zp;(function(t){t.websocket="websocket"})(Zp||(Zp={}));var So;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(So||(So={}));class e3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class xx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const J2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=t3(o,t,e,i),a),{})},t3=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?_x(a,o):e0(o)},_x=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return a3(e,r)}switch(t){case Br.bool:return r3(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return n3(e);case Br.json:case Br.jsonb:return i3(e);case Br.timestamp:return s3(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return e0(e);default:return e0(e)}},e0=t=>t,r3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},n3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},a3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>_x(e,l))}return t},s3=t=>typeof t=="string"?t.replace(" ","T"):t,wx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class bg{constructor(e,r,n={},i=Xp){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var K2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(K2||(K2={}));class au{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=au.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=au.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=au.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const g=a[u];if(g){const m=d.map(_=>_.presence_ref),f=g.map(_=>_.presence_ref),x=d.filter(_=>f.indexOf(_.presence_ref)<0),N=g.filter(_=>m.indexOf(_.presence_ref)<0);x.length>0&&(l[u]=x),N.length>0&&(c[u]=N)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const g=e[l].map(f=>f.presence_ref),m=d.filter(f=>g.indexOf(f.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(g=>g.presence_ref);u=u.filter(g=>d.indexOf(g.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Q2||(Q2={}));var su;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(su||(su={}));var ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class jm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bg(this,ha.join,this.params,this.timeout),this.rejoinTimer=new xx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new au(this),this.broadcastEndpointURL=wx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[su.PRESENCE]&&this.bindings[su.PRESENCE].length>0,d={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ts.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:g},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){e==null||e(ts.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(f=x==null?void 0:x.length)!==null&&f!==void 0?f:0,_=[];for(let v=0;v<N;v++){const C=x[v],{filter:{event:j,schema:L,table:B,filter:Y}}=C,V=m&&m[v];if(V&&V.event===j&&V.schema===L&&V.table===B&&V.filter===Y)_.push(Object.assign(Object.assign({},C),{id:V.id}));else{this.unsubscribe(),this.state=jn.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=jn.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===jn.joined&&e===su.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bg(this,ha.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bg(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ZN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ha;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var x,N,_;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(N=f.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var x,N,_,v,C,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const L=f.id,B=(x=f.filter)===null||x===void 0?void 0:x.event;return L&&((N=r.ids)===null||N===void 0?void 0:N.includes(L))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const L=(C=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return L==="*"||L===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:N,table:_,commit_timestamp:v,type:C,errors:j}=x;m=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:v,eventType:C,new:{},old:{},errors:j}),this._getPayloadRecords(x))}f.callback(m,n)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&jm.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ha.close,{},e)}_onError(e){this._on(ha.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J2(e.columns,e.old_record)),r}}const X2=()=>{},Nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o3=[1e3,2e3,5e3,1e4],l3=1e4,c3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u3{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.transport=null,this.heartbeatIntervalMs=Nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X2,this.ref=0,this.reconnectTimer=null,this.logger=X2,this.conn=null,this.sendBuffer=[],this.serializer=new e3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ma(async()=>{const{default:l}=await Promise.resolve().then(()=>ac);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Zp.websocket}`,this.httpEndpoint=wx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QN}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case iu.connecting:return So.Connecting;case iu.open:return So.Open;case iu.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new jm(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ha.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([c3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:KN};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ha.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Xp,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Nd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>o3[d-1]||l3,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,g)=>g(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class d3 extends Nm{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class t0 extends Nm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var h3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Sx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},f3=()=>h3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ma(()=>Promise.resolve().then(()=>ac),void 0)).Response:Response}),r0=t=>{if(Array.isArray(t))return t.map(r=>r0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=r0(n)}),e},g3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const yg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p3=(t,e,r)=>qo(void 0,void 0,void 0,function*(){const n=yield f3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new d3(yg(i),a,o))}).catch(i=>{e(new t0(yg(i),i))}):e(new t0(yg(t),t))}),m3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(g3(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Uu(t,e,r,n,i,a){return qo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,m3(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>p3(c,l,n))})})}function Ah(t,e,r,n){return qo(this,void 0,void 0,function*(){return Uu(t,"GET",e,r,n)})}function Ta(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"POST",e,n,i,r)})}function n0(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"PUT",e,n,i,r)})}function v3(t,e,r,n){return qo(this,void 0,void 0,function*(){return Uu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jx(t,e,r,n,i){return qo(this,void 0,void 0,function*(){return Uu(t,"DELETE",e,n,i,r)})}var oi=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const b3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Sx(i)}uploadOrUpdate(e,r,n,i){return oi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Z2),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),g=yield(e=="PUT"?n0:Ta)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return oi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Z2.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const g=yield n0(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:g.Key},error:null}}catch(c){if(Nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return oi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ta(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Nm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}update(e,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return oi(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return oi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ta(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return oi(this,void 0,void 0,function*(){try{const i=yield Ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(e,r){return oi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ah(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}info(e){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ah(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:r0(n),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}exists(e){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield v3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nn(n)&&n instanceof t0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return oi(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}list(e,r,n){return oi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},b3),r),{prefix:e||""});return{data:yield Ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}listV2(e,r){return oi(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const x3="2.11.0",_3={"X-Client-Info":`storage-js/${x3}`};var sl=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class w3{constructor(e,r={},n,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},_3),r),this.fetch=Sx(n)}listBuckets(){return sl(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nn(e))return{data:null,error:e};throw e}})}getBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return sl(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return sl(this,void 0,void 0,function*(){try{return{data:yield n0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return sl(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}}class S3 extends w3{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new y3(this.url,this.headers,e,this.fetch)}}const j3="2.56.0";let Vc="";typeof Deno<"u"?Vc="deno":typeof document<"u"?Vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vc="react-native":Vc="node";const N3={"X-Client-Info":`supabase-js-${Vc}/${j3}`},C3={headers:N3},L3={schema:"public"},A3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k3={};var P3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const E3=t=>{let e;return t?e=t:typeof fetch>"u"?e=cx:e=fetch,(...r)=>e(...r)},F3=()=>typeof Headers>"u"?ux:Headers,T3=(t,e,r)=>{const n=E3(r),i=F3();return(a,o)=>P3(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var D3=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function I3(t){return t.endsWith("/")?t:t+"/"}function R3(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:g}=e,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>D3(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Nx="2.71.1",gl=30*1e3,i0=3,xg=i0*gl,O3="http://localhost:9999",B3="supabase.auth.token",M3={"X-Client-Info":`gotrue-js/${Nx}`},a0="X-Supabase-Api-Version",Cx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q3=10*60*1e3;class Cm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $3 extends Cm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function z3(t){return or(t)&&t.name==="AuthApiError"}class Lx extends Cm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ro extends Cm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Es extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W3(t){return or(t)&&t.name==="AuthSessionMissingError"}class Cd extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ld extends ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ad extends ro{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H3(t){return or(t)&&t.name==="AuthImplicitGrantRedirectError"}class ev extends ro{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s0 extends ro{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function _g(t){return or(t)&&t.name==="AuthRetryableFetchError"}class tv extends ro{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class o0 extends ro{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rv=` 	
\r=`.split(""),G3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=-2;for(let e=0;e<kh.length;e+=1)t[kh[e].charCodeAt(0)]=e;return t})();function nv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(kh[n]),e.queuedBits-=6}}function Ax(t,e,r){const n=G3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{J3(o,n,r)};for(let o=0;o<t.length;o+=1)Ax(t.charCodeAt(o),i,a);return e.join("")}function Y3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function V3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Y3(n,e)}}function J3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function K3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ax(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Q3(t){const e=[];return V3(t,r=>e.push(r)),new Uint8Array(e)}function X3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>nv(i,r,n)),nv(null,r,n),e.join("")}function Z3(t){return Math.round(Date.now()/1e3)+t}function eC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ca=()=>typeof window<"u"&&typeof document<"u",vo={tested:!1,writable:!1},kx=()=>{if(!ca())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vo.tested)return vo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vo.tested=!0,vo.writable=!0}catch{vo.tested=!0,vo.writable=!1}return vo.writable};function tC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Px=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ma(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},As=async(t,e)=>{await t.removeItem(e)};class lf{constructor(){this.promise=new lf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lf.promiseConstructor=Promise;function wg(t){const e=t.split(".");if(e.length!==3)throw new o0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!U3.test(e[n]))throw new o0("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:K3(e[2]),raw:{header:e[0],payload:e[1]}}}async function nC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iC(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function aC(t){return("0"+t.toString(16)).substr(-2)}function sC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,aC).join("")}async function oC(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await oC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(t,e,r=!1){const n=sC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await pl(t,`${e}-code-verifier`,i);const a=await lC(n);return[a,n===a?"plain":"s256"]}const cC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uC(t){const e=t.headers.get(a0);if(!e||!e.match(cC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ll(t){if(!fC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function av(t){return JSON.parse(JSON.stringify(t))}var gC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const _o=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pC=[502,503,504];async function sv(t){var e;if(!rC(t))throw new s0(_o(t),0);if(pC.includes(t.status))throw new s0(_o(t),t.status);let r;try{r=await t.json()}catch(a){throw new Lx(_o(a),a)}let n;const i=uC(t);if(i&&i.getTime()>=Cx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tv(_o(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Es}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new tv(_o(r),t.status,r.weak_password.reasons);throw new $3(_o(r),t.status||500,n)}const mC=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fr(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[a0]||(a[a0]=Cx["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await vC(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function vC(t,e,r,n,i,a){const o=mC(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new s0(_o(c),0)}if(l.ok||await sv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sv(c)}}function Za(t){var e;let r=null;_C(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Z3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ov(t){const e=Za(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bC(t){return{data:t,error:null}}function yC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=gC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function xC(t){return t}function _C(t){return t.access_token&&t.refresh_token&&t.expires_in}const jg=["global","local","others"];var wC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class SC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Px(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=jg[0]){if(jg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jg.join(", ")}`);try{return await fr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await fr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rs})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=wC(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rs})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xC});if(d.error)throw d.error;const g=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=N}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ll(e);try{return await fr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rs})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ll(e);try{return await fr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rs})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ll(e);try{return await fr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rs})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ll(e.userId);try{const{data:r,error:n}=await fr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ll(e.userId),ll(e.id);try{return{data:await fr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}function lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function jC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cl={debug:!!(globalThis&&kx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ex extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NC extends Ex{}async function CC(t,e,r){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jC();const LC={url:O3,storageKey:B3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cv(t,e,r){return await r()}const ul={};class Pu{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pu.nextInstanceID,Pu.nextInstanceID+=1,this.instanceID>0&&ca()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},LC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Px(i.fetch),this.lock=i.lock||cv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ca()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CC:this.lock=cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),ca()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=ul[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ul[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=tC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ca()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),H3(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new Lx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Za}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:g,options:m}=e;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await ol(this.storage,this.storageKey)),a=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:Za})}else if("phone"in e){const{phone:d,password:g,options:m}=e;a=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Za})}else throw new Ld("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ov})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ov})}else throw new Ld("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,l,c,u,d,g,m,f;let x,N;if("message"in e)x=e.message,N=e.signature;else{const{chain:_,wallet:v,statement:C,options:j}=e;let L;if(ca())if(typeof v=="object")L=v;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))L=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=v}const B=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const Y=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),C?{statement:C}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),N=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${B.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((g=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...j.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=await L.signMessage(new TextEncoder().encode(x),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:_,error:v}=await fr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:X3(N)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Za});if(v)throw v;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cd}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v})}catch(_){if(or(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await fr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Za});if(await As(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(or(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await fr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Za}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ol(this.storage,this.storageKey));const{error:g}=await fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ld("You must provide either an email or phone number.")}catch(l){if(or(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await fr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Za});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ol(this.storage,this.storageKey)),await fr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:bC})}catch(a){if(or(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Es;const{error:i}=await fr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(or(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await fr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await fr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ld("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await bo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Sg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rs}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rs})})}catch(r){if(or(r))return W3(r)&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Es;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ol(this.storage,this.storageKey));const{data:u,error:d}=await fr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Rs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Es;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=wg(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Es;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ca())throw new Ad("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ad(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ev("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ad("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ev("No code detected.");const{data:C,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Ad("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(l);let m=d+g;c&&(m=parseInt(c));const f=m-d;f*1e3<=gl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${g}s`);const x=m-g;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:N,error:_}=await this._getUser(a);if(_)throw _;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:m,refresh_token:o,token_type:u,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(z3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=eC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ol(this.storage,this.storageKey,!0));try{return await fr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(or(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:g,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fr(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ca()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await fr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iC(async i=>(i>0&&await nC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Za})),(i,a)=>{const o=200*Math.pow(2,i);return a&&_g(a)&&Date.now()+o-n<gl})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ca()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await bo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await pl(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Sg()}else if(i&&!i.user&&!i.user){const o=await bo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await As(this.storage,this.storageKey+"-user"),await pl(this.storage,this.storageKey,i)):i.user=Sg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${xg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),_g(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new lf;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Es;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),or(a)){const o={session:null,error:a};return _g(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await pl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=av(i);await pl(this.storage,this.storageKey,a)}else{const i=av(r);await pl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await As(this.storage,this.storageKey),await As(this.storage,this.storageKey+"-code-verifier"),await As(this.storage,this.storageKey+"-user"),this.userStorage&&await As(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ca()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/gl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${gl}ms, refresh threshold is ${i0} ticks`),i<=i0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ex)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ca()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ol(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await fr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await fr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await fr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await fr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wg(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+q3>i)return n;const{data:a,error:o}=await fr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return{data:null,error:x};n=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=wg(n);r!=null&&r.allowExpired||dC(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const d=hC(i.alg),g=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,o,Q3(`${l}.${c}`)))throw new o0("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}}Pu.nextInstanceID=0;const AC=Pu;class kC extends AC{constructor(e){super(e)}}var PC=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(g){o(g)}}function c(d){try{u(n.throw(d))}catch(g){o(g)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class EC{constructor(e,r,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=I3(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:L3,realtime:k3,auth:Object.assign(Object.assign({},A3),{storageKey:u}),global:C3},g=R3(n??{},d);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,g.global.fetch),this.fetch=T3(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new YN(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new S3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new NN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return PC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kC({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new u3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FC=(t,e,r)=>new EC(t,e,r);function TC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DC="https://aolsbxfulbvpiobqqsao.supabase.co",IC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFvbHNieGZ1bGJ2cGlvYnFxc2FvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Njc4MjIsImV4cCI6MjA3MTU0MzgyMn0.gyDU9a8AvdOjkqTAxw6-p2F4DO3BlswxDXGTe-C6NVM",ae=FC(DC,IC);function gn(){return s.jsx("nav",{className:"navigation",children:s.jsx("ul",{})})}/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),uv=t=>{const e=OC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),BC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...MC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fx("lucide",i),...!a&&!BC(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=(t,e)=>{const r=b.forwardRef(({className:n,...i},a)=>b.createElement(UC,{ref:a,iconNode:e,className:Fx(`lucide-${RC(uv(t))}`,`lucide-${t}`,n),...i}));return r.displayName=uv(t),r};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$C=kn("arrow-left",qC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WC=kn("calendar",zC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GC=kn("circle",HC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dv=kn("download",YC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hv=kn("external-link",VC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],KC=kn("file-down",JC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XC=kn("file-text",QC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],eL=kn("heart",ZC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rL=kn("link",tL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],iL=kn("megaphone",nL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sL=kn("plus",aL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],fv=kn("qr-code",oL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cL=kn("save",lL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ri=kn("shield",uL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hL=kn("square-pen",dL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gL=kn("trash-2",fL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ng=kn("trophy",pL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vL=kn("upload",mL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gv=kn("user",bL);function Er(){const t=Ur();return s.jsx("button",{className:"secondary-btn",onClick:()=>t("/"),children:"Back to Home"})}const ti=()=>{const t=localStorage.getItem("activeButton");if(t){const e=document.querySelector(`.primary-btn[data-id="${t}"]`);e&&e.classList.add("active")}},pr=t=>{document.querySelectorAll(".primary-btn").forEach(n=>n.classList.remove("active")),t.classList.add("active");const r=t.dataset.id;r&&localStorage.setItem("activeButton",r)};typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ti):ti());function oc({onLoadingStart:t,...e}){const r=Ur(),n=i=>{i&&i.currentTarget&&pr(i.currentTarget),t&&t(),setTimeout(()=>{r("/photos-logo-publication")},1e3)};return s.jsx("button",{className:"primary-btn",...e,onClick:n,children:"Photos, Logo & Publications"})}const Zi="data:image/png;base64,Cg==",Pn=({error:t,onClose:e})=>t?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},onClick:e,children:s.jsxs("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"10px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",width:"90%",textAlign:"center",border:"3px solid #ff4444"},onClick:r=>r.stopPropagation(),children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#ff4444",marginBottom:"15px"},children:"❌ Error"}),s.jsx("div",{style:{fontSize:"16px",color:"#333",marginBottom:"20px",lineHeight:"1.4"},children:t}),s.jsx("button",{style:{backgroundColor:"#ff4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold"},onClick:e,children:"OK"})]})}):null,Rn=({success:t,onClose:e})=>t?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:e,children:s.jsxs("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"10px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",width:"90%",textAlign:"center",border:"3px solid #00ff00"},onClick:r=>r.stopPropagation(),children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#00aa00",marginBottom:"15px"},children:"✅ Success"}),s.jsx("div",{style:{fontSize:"16px",color:"#333",marginBottom:"20px",lineHeight:"1.4"},children:t}),s.jsx("button",{style:{backgroundColor:"#00aa00",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold"},onClick:e,children:"OK"})]})}):null,rn=({message:t="Loading..."})=>(b.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @keyframes loadingBar {
        0% {
          transform: scaleX(0);
        }
        50% {
          transform: scaleX(0.7);
        }
        100% {
          transform: scaleX(1);
        }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(2px)"},children:s.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #22c55e",borderRadius:"15px",padding:"30px 40px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",minWidth:"300px"},children:[s.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden",position:"relative"},children:s.jsx("div",{style:{height:"100%",backgroundColor:"#22c55e",borderRadius:"4px",animation:"loadingBar 2s ease-in-out infinite",transformOrigin:"left"}})}),s.jsx("span",{style:{color:"#22c55e",fontWeight:"600",fontSize:"16px",textAlign:"center"},children:t})]})}));function yL(){const[t,e]=b.useState([]),[r,n]=b.useState(null),[i,a]=b.useState("Algerian Judo Federation"),[o,l]=b.useState(!1),[c,u]=b.useState(""),[d,g]=b.useState(""),m=Ur(),f=Zi;return b.useEffect(()=>{(async()=>{const{data:N,error:_}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!_&&N&&e(N)})()},[]),b.useEffect(()=>{(async()=>{const{data:N,error:_}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!_&&N&&N.length>0&&n(N[0].logo_url)})()},[]),s.jsxs("div",{className:"app-container",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[r?s.jsx("img",{src:r,alt:"Logo Fédération",className:"federation-logo"}):s.jsx("img",{src:f,alt:"Logo Fédération",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:i||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{onLoadingStart:()=>l(!0)}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn",onClick:()=>{l(!0),m("/TheAthleteList-Add")},children:"The Athlete List Add"})]})]}),c&&s.jsx(Pn,{message:c,onClose:()=>u("")}),d&&s.jsx(Rn,{message:d,onClose:()=>g("")}),o&&s.jsx(rn,{}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function kr(t){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(t)}var ba=Uint8Array,Oi=Uint16Array,Lm=Int32Array,Am=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),km=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pv=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tx=function(t,e){for(var r=new Oi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Lm(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Dx=Tx(Am,2),xL=Dx.b,l0=Dx.r;xL[28]=258,l0[258]=28;var _L=Tx(km,0),mv=_L.r,c0=new Oi(32768);for(var zr=0;zr<32768;++zr){var ks=(zr&43690)>>1|(zr&21845)<<1;ks=(ks&52428)>>2|(ks&13107)<<2,ks=(ks&61680)>>4|(ks&3855)<<4,c0[zr]=((ks&65280)>>8|(ks&255)<<8)>>1}var ou=function(t,e,r){for(var n=t.length,i=0,a=new Oi(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new Oi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Oi(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],g=o[t[i]-1]++<<d,m=g|(1<<d)-1;g<=m;++g)l[c0[g]>>c]=u}else for(l=new Oi(n),i=0;i<n;++i)t[i]&&(l[i]=c0[o[t[i]-1]++]>>15-t[i]);return l},Oo=new ba(288);for(var zr=0;zr<144;++zr)Oo[zr]=8;for(var zr=144;zr<256;++zr)Oo[zr]=9;for(var zr=256;zr<280;++zr)Oo[zr]=7;for(var zr=280;zr<288;++zr)Oo[zr]=8;var Ph=new ba(32);for(var zr=0;zr<32;++zr)Ph[zr]=5;var wL=ou(Oo,9,0),SL=ou(Ph,5,0),Ix=function(t){return(t+7)/8|0},jL=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ba(t.subarray(e,r))},Qa=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},$c=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Cg=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:Ox,l:0};if(i==1){var o=new ba(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,Y){return B.f-Y.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,g=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[g].f?u++:g++],c=r[u!=d&&r[u].f<r[g].f?u++:g++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var f=new Oi(m+1),x=u0(r[d-1],f,0);if(x>e){var n=0,N=0,_=x-e,v=1<<_;for(a.sort(function(Y,V){return f[V.s]-f[Y.s]||Y.f-V.f});n<i;++n){var C=a[n].s;if(f[C]>e)N+=v-(1<<x-f[C]),f[C]=e;else break}for(N>>=_;N>0;){var j=a[n].s;f[j]<e?N-=1<<e-f[j]++-1:++n}for(;n>=0&&N;--n){var L=a[n].s;f[L]==e&&(--f[L],++N)}x=e}return{t:new ba(f),l:x}},u0=function(t,e,r){return t.s==-1?Math.max(u0(t.l,e,r+1),u0(t.r,e,r+1)):e[t.s]=r},vv=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Oi(++e),n=0,i=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},zc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Rx=function(t,e,r){var n=r.length,i=Ix(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},bv=function(t,e,r,n,i,a,o,l,c,u,d){Qa(e,d++,r),++i[256];for(var g=Cg(i,15),m=g.t,f=g.l,x=Cg(a,15),N=x.t,_=x.l,v=vv(m),C=v.c,j=v.n,L=vv(N),B=L.c,Y=L.n,V=new Oi(19),D=0;D<C.length;++D)++V[C[D]&31];for(var D=0;D<B.length;++D)++V[B[D]&31];for(var $=Cg(V,7),ee=$.t,I=$.l,G=19;G>4&&!ee[pv[G-1]];--G);var ue=u+5<<3,M=zc(i,Oo)+zc(a,Ph)+o,H=zc(i,m)+zc(a,N)+o+14+3*G+zc(V,ee)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&ue<=M&&ue<=H)return Rx(e,d,t.subarray(c,c+u));var be,Ce,ie,xe;if(Qa(e,d,1+(H<M)),d+=2,H<M){be=ou(m,f,0),Ce=m,ie=ou(N,_,0),xe=N;var Re=ou(ee,I,0);Qa(e,d,j-257),Qa(e,d+5,Y-1),Qa(e,d+10,G-4),d+=14;for(var D=0;D<G;++D)Qa(e,d+3*D,ee[pv[D]]);d+=3*G;for(var se=[C,B],E=0;E<2;++E)for(var U=se[E],D=0;D<U.length;++D){var X=U[D]&31;Qa(e,d,Re[X]),d+=ee[X],X>15&&(Qa(e,d,U[D]>>5&127),d+=U[D]>>12)}}else be=wL,Ce=Oo,ie=SL,xe=Ph;for(var D=0;D<l;++D){var le=n[D];if(le>255){var X=le>>18&31;$c(e,d,be[X+257]),d+=Ce[X+257],X>7&&(Qa(e,d,le>>23&31),d+=Am[X]);var _e=le&31;$c(e,d,ie[_e]),d+=xe[_e],_e>3&&($c(e,d,le>>5&8191),d+=km[_e])}else $c(e,d,be[le]),d+=Ce[le]}return $c(e,d,be[256]),d+Ce[256]},NL=new Lm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ox=new ba(0),CL=function(t,e,r,n,i,a){var o=a.z||t.length,l=new ba(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var g=NL[e-1],m=g>>13,f=g&8191,x=(1<<r)-1,N=a.p||new Oi(32768),_=a.h||new Oi(x+1),v=Math.ceil(r/3),C=2*v,j=function(Oe){return(t[Oe]^t[Oe+1]<<v^t[Oe+2]<<C)&x},L=new Lm(25e3),B=new Oi(288),Y=new Oi(32),V=0,D=0,$=a.i||0,ee=0,I=a.w||0,G=0;$+2<o;++$){var ue=j($),M=$&32767,H=_[ue];if(N[M]=H,_[ue]=M,I<=$){var be=o-$;if((V>7e3||ee>24576)&&(be>423||!u)){d=bv(t,c,0,L,B,Y,D,ee,G,$-G,d),ee=V=D=0,G=$;for(var Ce=0;Ce<286;++Ce)B[Ce]=0;for(var Ce=0;Ce<30;++Ce)Y[Ce]=0}var ie=2,xe=0,Re=f,se=M-H&32767;if(be>2&&ue==j($-se))for(var E=Math.min(m,be)-1,U=Math.min(32767,$),X=Math.min(258,be);se<=U&&--Re&&M!=H;){if(t[$+ie]==t[$+ie-se]){for(var le=0;le<X&&t[$+le]==t[$+le-se];++le);if(le>ie){if(ie=le,xe=se,le>E)break;for(var _e=Math.min(se,le-2),Ne=0,Ce=0;Ce<_e;++Ce){var Be=$-se+Ce&32767,Ae=N[Be],Ge=Be-Ae&32767;Ge>Ne&&(Ne=Ge,H=Be)}}}M=H,H=N[M],se+=M-H&32767}if(xe){L[ee++]=268435456|l0[ie]<<18|mv[xe];var Qe=l0[ie]&31,at=mv[xe]&31;D+=Am[Qe]+km[at],++B[257+Qe],++Y[at],I=$+ie,++V}else L[ee++]=t[$],++B[t[$]]}}for($=Math.max($,I);$<o;++$)L[ee++]=t[$],++B[t[$]];d=bv(t,c,u,L,B,Y,D,ee,G,$-G,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=_,a.p=N,a.i=$,a.w=I)}else{for(var $=a.w||0;$<o+u;$+=65535){var Ye=$+65535;Ye>=o&&(c[d/8|0]=u,Ye=o),d=Rx(c,d+1,t.subarray($,Ye))}a.i=o}return jL(l,0,n+Ix(d)+i)},Bx=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},LL=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new ba(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return CL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Mx=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},AL=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Bx();i.p(e.dictionary),Mx(t,2,i.d())}};function d0(t,e){e||(e={});var r=Bx();r.p(t);var n=LL(t,e,e.dictionary?6:2,4);return AL(n,e),Mx(n,n.length-4,r.d()),n}var kL=typeof TextDecoder<"u"&&new TextDecoder,PL=0;try{kL.decode(Ox,{stream:!0}),PL=1}catch{}function EL(t){if(Array.isArray(t))return t}function FL(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function TL(t,e){if(t){if(typeof t=="string")return yv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yv(t,e):void 0}}function DL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(t,e){return EL(t)||FL(t,e)||TL(t,e)||DL()}function _v(t,e="utf8"){return new TextDecoder(e).decode(t)}const IL=new TextEncoder;function RL(t){return IL.encode(t)}const OL=1024*8,BL=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Lg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Pm{constructor(e=OL,r={}){Ar(this,"buffer");Ar(this,"byteLength");Ar(this,"byteOffset");Ar(this,"length");Ar(this,"offset");Ar(this,"lastWrittenByte");Ar(this,"littleEndian");Ar(this,"_data");Ar(this,"_mark");Ar(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Pm)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Lg[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===BL&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new Lg[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Lg[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return _v(this.readBytes(e))}decodeText(e=1,r="utf8"){return _v(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(RL(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function lc(t){let e=t.length;for(;--e>=0;)t[e]=0}const ML=3,UL=258,Ux=29,qL=256,$L=qL+1+Ux,qx=30,zL=512,WL=new Array(($L+2)*2);lc(WL);const HL=new Array(qx*2);lc(HL);const GL=new Array(zL);lc(GL);const YL=new Array(UL-ML+1);lc(YL);const VL=new Array(Ux);lc(VL);const JL=new Array(qx);lc(JL);const KL=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var h0=KL;const QL=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},XL=new Uint32Array(QL()),ZL=(t,e,r,n)=>{const i=XL,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Pa=ZL,f0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$x={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)eA(r,n)&&(t[n]=r[n])}}return t},rA=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},zx={assign:tA,flattenChunks:rA};let Wx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wx=!1}const Eu=new Uint8Array(256);for(let t=0;t<256;t++)Eu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Eu[254]=Eu[254]=1;var nA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const iA=(t,e)=>{if(e<65534&&t.subarray&&Wx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var aA=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=Eu[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return iA(a,i)},sA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Eu[t[r]]>e?r:e},g0={string2buf:nA,buf2string:aA,utf8border:sA};function oA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lA=oA;const kd=16209,cA=16191;var uA=function(e,r){let n,i,a,o,l,c,u,d,g,m,f,x,N,_,v,C,j,L,B,Y,V,D,$,ee;const I=e.state;n=e.next_in,$=e.input,i=n+(e.avail_in-5),a=e.next_out,ee=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=I.dmax,u=I.wsize,d=I.whave,g=I.wnext,m=I.window,f=I.hold,x=I.bits,N=I.lencode,_=I.distcode,v=(1<<I.lenbits)-1,C=(1<<I.distbits)-1;e:do{x<15&&(f+=$[n++]<<x,x+=8,f+=$[n++]<<x,x+=8),j=N[f&v];t:for(;;){if(L=j>>>24,f>>>=L,x-=L,L=j>>>16&255,L===0)ee[a++]=j&65535;else if(L&16){B=j&65535,L&=15,L&&(x<L&&(f+=$[n++]<<x,x+=8),B+=f&(1<<L)-1,f>>>=L,x-=L),x<15&&(f+=$[n++]<<x,x+=8,f+=$[n++]<<x,x+=8),j=_[f&C];r:for(;;){if(L=j>>>24,f>>>=L,x-=L,L=j>>>16&255,L&16){if(Y=j&65535,L&=15,x<L&&(f+=$[n++]<<x,x+=8,x<L&&(f+=$[n++]<<x,x+=8)),Y+=f&(1<<L)-1,Y>c){e.msg="invalid distance too far back",I.mode=kd;break e}if(f>>>=L,x-=L,L=a-o,Y>L){if(L=Y-L,L>d&&I.sane){e.msg="invalid distance too far back",I.mode=kd;break e}if(V=0,D=m,g===0){if(V+=u-L,L<B){B-=L;do ee[a++]=m[V++];while(--L);V=a-Y,D=ee}}else if(g<L){if(V+=u+g-L,L-=g,L<B){B-=L;do ee[a++]=m[V++];while(--L);if(V=0,g<B){L=g,B-=L;do ee[a++]=m[V++];while(--L);V=a-Y,D=ee}}}else if(V+=g-L,L<B){B-=L;do ee[a++]=m[V++];while(--L);V=a-Y,D=ee}for(;B>2;)ee[a++]=D[V++],ee[a++]=D[V++],ee[a++]=D[V++],B-=3;B&&(ee[a++]=D[V++],B>1&&(ee[a++]=D[V++]))}else{V=a-Y;do ee[a++]=ee[V++],ee[a++]=ee[V++],ee[a++]=ee[V++],B-=3;while(B>2);B&&(ee[a++]=ee[V++],B>1&&(ee[a++]=ee[V++]))}}else if(L&64){e.msg="invalid distance code",I.mode=kd;break e}else{j=_[(j&65535)+(f&(1<<L)-1)];continue r}break}}else if(L&64)if(L&32){I.mode=cA;break e}else{e.msg="invalid literal/length code",I.mode=kd;break e}else{j=N[(j&65535)+(f&(1<<L)-1)];continue t}break}}while(n<i&&a<l);B=x>>3,n-=B,x-=B<<3,f&=(1<<x)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),I.hold=f,I.bits=x};const dl=15,wv=852,Sv=592,jv=0,Ag=1,Nv=2,dA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pA=(t,e,r,n,i,a,o,l)=>{const c=l.bits;let u=0,d=0,g=0,m=0,f=0,x=0,N=0,_=0,v=0,C=0,j,L,B,Y,V,D=null,$;const ee=new Uint16Array(dl+1),I=new Uint16Array(dl+1);let G=null,ue,M,H;for(u=0;u<=dl;u++)ee[u]=0;for(d=0;d<n;d++)ee[e[r+d]]++;for(f=c,m=dl;m>=1&&ee[m]===0;m--);if(f>m&&(f=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<m&&ee[g]===0;g++);for(f<g&&(f=g),_=1,u=1;u<=dl;u++)if(_<<=1,_-=ee[u],_<0)return-1;if(_>0&&(t===jv||m!==1))return-1;for(I[1]=0,u=1;u<dl;u++)I[u+1]=I[u]+ee[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[I[e[r+d]]++]=d);if(t===jv?(D=G=o,$=20):t===Ag?(D=dA,G=hA,$=257):(D=fA,G=gA,$=0),C=0,d=0,u=g,V=a,x=f,N=0,B=-1,v=1<<f,Y=v-1,t===Ag&&v>wv||t===Nv&&v>Sv)return 1;for(;;){ue=u-N,o[d]+1<$?(M=0,H=o[d]):o[d]>=$?(M=G[o[d]-$],H=D[o[d]-$]):(M=96,H=0),j=1<<u-N,L=1<<x,g=L;do L-=j,i[V+(C>>N)+L]=ue<<24|M<<16|H|0;while(L!==0);for(j=1<<u-1;C&j;)j>>=1;if(j!==0?(C&=j-1,C+=j):C=0,d++,--ee[u]===0){if(u===m)break;u=e[r+o[d]]}if(u>f&&(C&Y)!==B){for(N===0&&(N=f),V+=g,x=u-N,_=1<<x;x+N<m&&(_-=ee[x+N],!(_<=0));)x++,_<<=1;if(v+=1<<x,t===Ag&&v>wv||t===Nv&&v>Sv)return 1;B=C&Y,i[B]=f<<24|x<<16|V-a|0}}return C!==0&&(i[V+C]=u-N<<24|64<<16|0),l.bits=f,0};var lu=pA;const mA=0,Hx=1,Gx=2,{Z_FINISH:Cv,Z_BLOCK:vA,Z_TREES:Pd,Z_OK:Bo,Z_STREAM_END:bA,Z_NEED_DICT:yA,Z_STREAM_ERROR:ea,Z_DATA_ERROR:Yx,Z_MEM_ERROR:Vx,Z_BUF_ERROR:xA,Z_DEFLATED:Lv}=$x,cf=16180,Av=16181,kv=16182,Pv=16183,Ev=16184,Fv=16185,Tv=16186,Dv=16187,Iv=16188,Rv=16189,Eh=16190,Xa=16191,kg=16192,Ov=16193,Pg=16194,Bv=16195,Mv=16196,Uv=16197,qv=16198,Ed=16199,Fd=16200,$v=16201,zv=16202,Wv=16203,Hv=16204,Gv=16205,Eg=16206,Yv=16207,Vv=16208,Hr=16209,Jx=16210,Kx=16211,_A=852,wA=592,SA=15,jA=SA,Jv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function NA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $o=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cf||e.mode>Kx?1:0},Qx=t=>{if($o(t))return ea;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_A),e.distcode=e.distdyn=new Int32Array(wA),e.sane=1,e.back=-1,Bo},Xx=t=>{if($o(t))return ea;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Qx(t)},Zx=(t,e)=>{let r;if($o(t))return ea;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ea:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Xx(t))},e_=(t,e)=>{if(!t)return ea;const r=new NA;t.state=r,r.strm=t,r.window=null,r.mode=cf;const n=Zx(t,e);return n!==Bo&&(t.state=null),n},CA=t=>e_(t,jA);let Kv=!0,Fg,Tg;const LA=t=>{if(Kv){Fg=new Int32Array(512),Tg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(lu(Hx,t.lens,0,288,Fg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;lu(Gx,t.lens,0,32,Tg,0,t.work,{bits:5}),Kv=!1}t.lencode=Fg,t.lenbits=9,t.distcode=Tg,t.distbits=5},t_=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},AA=(t,e)=>{let r,n,i,a,o,l,c,u,d,g,m,f,x,N,_=0,v,C,j,L,B,Y,V,D;const $=new Uint8Array(4);let ee,I;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($o(t)||!t.output||!t.input&&t.avail_in!==0)return ea;r=t.state,r.mode===Xa&&(r.mode=kg),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,g=l,m=c,D=Bo;e:for(;;)switch(r.mode){case cf:if(r.wrap===0){r.mode=kg;break}for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0),u=0,d=0,r.mode=Av;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Hr;break}if((u&15)!==Lv){t.msg="unknown compression method",r.mode=Hr;break}if(u>>>=4,d-=4,V=(u&15)+8,r.wbits===0&&(r.wbits=V),V>15||V>r.wbits){t.msg="invalid window size",r.mode=Hr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?Rv:Xa,u=0,d=0;break;case Av:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==Lv){t.msg="unknown compression method",r.mode=Hr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Hr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0,r.mode=kv;case kv:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,$[2]=u>>>16&255,$[3]=u>>>24&255,r.check=Pa(r.check,$,4,0)),u=0,d=0,r.mode=Pv;case Pv:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0,r.mode=Ev;case Ev:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Pa(r.check,$,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=Fv;case Fv:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),V)),r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=Tv;case Tv:if(r.flags&2048){if(l===0)break e;f=0;do V=n[a+f++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Dv;case Dv:if(r.flags&4096){if(l===0)break e;f=0;do V=n[a+f++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,n,f,a)),l-=f,a+=f,V)break e}else r.head&&(r.head.comment=null);r.mode=Iv;case Iv:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Hr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Xa;break;case Rv:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}t.adler=r.check=Jv(u),u=0,d=0,r.mode=Eh;case Eh:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,yA;t.adler=r.check=1,r.mode=Xa;case Xa:if(e===vA||e===Pd)break e;case kg:if(r.last){u>>>=d&7,d-=d&7,r.mode=Eg;break}for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=Ov;break;case 1:if(LA(r),r.mode=Ed,e===Pd){u>>>=2,d-=2;break e}break;case 2:r.mode=Mv;break;case 3:t.msg="invalid block type",r.mode=Hr}u>>>=2,d-=2;break;case Ov:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Hr;break}if(r.length=u&65535,u=0,d=0,r.mode=Pg,e===Pd)break e;case Pg:r.mode=Bv;case Bv:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;i.set(n.subarray(a,a+f),o),l-=f,a+=f,c-=f,o+=f,r.length-=f;break}r.mode=Xa;break;case Mv:for(;d<14;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Hr;break}r.have=0,r.mode=Uv;case Uv:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.lens[G[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},D=lu(mA,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,D){t.msg="invalid code lengths set",r.mode=Hr;break}r.have=0,r.mode=qv;case qv:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[u&(1<<r.lenbits)-1],v=_>>>24,C=_>>>16&255,j=_&65535,!(v<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(j<16)u>>>=v,d-=v,r.lens[r.have++]=j;else{if(j===16){for(I=v+2;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(u>>>=v,d-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=Hr;break}V=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(j===17){for(I=v+3;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=v,d-=v,V=0,f=3+(u&7),u>>>=3,d-=3}else{for(I=v+7;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=v,d-=v,V=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Hr;break}for(;f--;)r.lens[r.have++]=V}}if(r.mode===Hr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Hr;break}if(r.lenbits=9,ee={bits:r.lenbits},D=lu(Hx,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,D){t.msg="invalid literal/lengths set",r.mode=Hr;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},D=lu(Gx,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,D){t.msg="invalid distances set",r.mode=Hr;break}if(r.mode=Ed,e===Pd)break e;case Ed:r.mode=Fd;case Fd:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,uA(t,m),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Xa&&(r.back=-1);break}for(r.back=0;_=r.lencode[u&(1<<r.lenbits)-1],v=_>>>24,C=_>>>16&255,j=_&65535,!(v<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(C&&!(C&240)){for(L=v,B=C,Y=j;_=r.lencode[Y+((u&(1<<L+B)-1)>>L)],v=_>>>24,C=_>>>16&255,j=_&65535,!(L+v<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=L,d-=L,r.back+=L}if(u>>>=v,d-=v,r.back+=v,r.length=j,C===0){r.mode=Gv;break}if(C&32){r.back=-1,r.mode=Xa;break}if(C&64){t.msg="invalid literal/length code",r.mode=Hr;break}r.extra=C&15,r.mode=$v;case $v:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zv;case zv:for(;_=r.distcode[u&(1<<r.distbits)-1],v=_>>>24,C=_>>>16&255,j=_&65535,!(v<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(!(C&240)){for(L=v,B=C,Y=j;_=r.distcode[Y+((u&(1<<L+B)-1)>>L)],v=_>>>24,C=_>>>16&255,j=_&65535,!(L+v<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=L,d-=L,r.back+=L}if(u>>>=v,d-=v,r.back+=v,C&64){t.msg="invalid distance code",r.mode=Hr;break}r.offset=j,r.extra=C&15,r.mode=Wv;case Wv:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Hr;break}r.mode=Hv;case Hv:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Hr;break}f>r.wnext?(f-=r.wnext,x=r.wsize-f):x=r.wnext-f,f>r.length&&(f=r.length),N=r.window}else N=i,x=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do i[o++]=N[x++];while(--f);r.length===0&&(r.mode=Fd);break;case Gv:if(c===0)break e;i[o++]=r.length,c--,r.mode=Fd;break;case Eg:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[a++]<<d,d+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Pa(r.check,i,m,o-m):h0(r.check,i,m,o-m)),m=c,r.wrap&4&&(r.flags?u:Jv(u))!==r.check){t.msg="incorrect data check",r.mode=Hr;break}u=0,d=0}r.mode=Yv;case Yv:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Hr;break}u=0,d=0}r.mode=Vv;case Vv:D=bA;break e;case Hr:D=Yx;break e;case Jx:return Vx;case Kx:default:return ea}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==t.avail_out&&r.mode<Hr&&(r.mode<Eg||e!==Cv))&&t_(t,t.output,t.next_out,m-t.avail_out),g-=t.avail_in,m-=t.avail_out,t.total_in+=g,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Pa(r.check,i,m,t.next_out-m):h0(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Xa?128:0)+(r.mode===Ed||r.mode===Pg?256:0),(g===0&&m===0||e===Cv)&&D===Bo&&(D=xA),D},kA=t=>{if($o(t))return ea;let e=t.state;return e.window&&(e.window=null),t.state=null,Bo},PA=(t,e)=>{if($o(t))return ea;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Bo):ea},EA=(t,e)=>{const r=e.length;let n,i,a;return $o(t)||(n=t.state,n.wrap!==0&&n.mode!==Eh)?ea:n.mode===Eh&&(i=1,i=h0(i,e,r,0),i!==n.check)?Yx:(a=t_(t,e,r,r),a?(n.mode=Jx,Vx):(n.havedict=1,Bo))};var FA=Xx,TA=Zx,DA=Qx,IA=CA,RA=e_,OA=AA,BA=kA,MA=PA,UA=EA,qA="pako inflate (from Nodeca project)",ns={inflateReset:FA,inflateReset2:TA,inflateResetKeep:DA,inflateInit:IA,inflateInit2:RA,inflate:OA,inflateEnd:BA,inflateGetHeader:MA,inflateSetDictionary:UA,inflateInfo:qA};function $A(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zA=$A;const r_=Object.prototype.toString,{Z_NO_FLUSH:WA,Z_FINISH:HA,Z_OK:Fu,Z_STREAM_END:Dg,Z_NEED_DICT:Ig,Z_STREAM_ERROR:GA,Z_DATA_ERROR:Qv,Z_MEM_ERROR:YA}=$x;function qu(t){this.options=zx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lA,this.strm.avail_out=0;let r=ns.inflateInit2(this.strm,e.windowBits);if(r!==Fu)throw new Error(f0[r]);if(this.header=new zA,ns.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=g0.string2buf(e.dictionary):r_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ns.inflateSetDictionary(this.strm,e.dictionary),r!==Fu)))throw new Error(f0[r])}qu.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?HA:WA,r_.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ns.inflate(r,o),a===Ig&&i&&(a=ns.inflateSetDictionary(r,i),a===Fu?a=ns.inflate(r,o):a===Qv&&(a=Ig));r.avail_in>0&&a===Dg&&r.state.wrap>0&&t[r.next_in]!==0;)ns.inflateReset(r),a=ns.inflate(r,o);switch(a){case GA:case Qv:case Ig:case YA:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===Dg))if(this.options.to==="string"){let c=g0.utf8border(r.output,r.next_out),u=r.next_out-c,d=g0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Fu&&l===0)){if(a===Dg)return a=ns.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};qu.prototype.onData=function(t){this.chunks.push(t)};qu.prototype.onEnd=function(t){t===Fu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function VA(t,e){const r=new qu(e);if(r.push(t),r.err)throw r.msg||f0[r.err];return r.result}var JA=qu,KA=VA,QA={Inflate:JA,inflate:KA};const{Inflate:XA,inflate:ZA}=QA;var Xv=XA,e6=ZA;const n_=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;n_[t]=e}const Zv=4294967295;function t6(t,e,r){let n=t;for(let i=0;i<r;i++)n=n_[(n^e[i])&255]^n>>>8;return n}function r6(t,e){return(t6(Zv,t,e)^Zv)>>>0}function eb(t,e,r){const n=t.readUint32(),i=r6(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function i_(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function a_(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function s_(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function o_(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function l_(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+n6(e[a-i],r[a],r[a-i])&255}}function n6(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function i6(t,e,r,n,i,a){switch(t){case 0:i_(e,r,i);break;case 1:a_(e,r,i,a);break;case 2:s_(e,r,n,i);break;case 3:o_(e,r,n,i,a);break;case 4:l_(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const a6=new Uint16Array([255]),s6=new Uint8Array(a6.buffer),o6=s6[0]===255;function l6(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const g=o[d],m=Math.ceil((r-g.x)/g.xStep),f=Math.ceil((n-g.y)/g.yStep);if(m<=0||f<=0)continue;const x=m*l,N=new Uint8Array(x);for(let _=0;_<f;_++){const v=e[u++],C=e.subarray(u,u+x);u+=x;const j=new Uint8Array(x);i6(v,C,j,N,x,l),N.set(j);for(let L=0;L<m;L++){const B=g.x+L*g.xStep,Y=g.y+_*g.yStep;if(!(B>=r||Y>=n))for(let V=0;V<l;V++)c[(Y*r+B)*l+V]=j[L*l+V]}}}if(a===16){const d=new Uint16Array(c.buffer);if(o6)for(let g=0;g<d.length;g++)d[g]=c6(d[g]);return d}else return c}function c6(t){return(t&255)<<8|t>>8&255}const u6=new Uint16Array([255]),d6=new Uint8Array(u6.buffer),h6=d6[0]===255,f6=new Uint8Array(0);function tb(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let u=f6,d=0,g,m;for(let f=0;f<n;f++){switch(g=e.subarray(d+1,d+1+l),m=c.subarray(f*l,(f+1)*l),e[d]){case 0:i_(g,m,l);break;case 1:a_(g,m,l,o);break;case 2:s_(g,m,u,l);break;case 3:o_(g,m,u,l,o);break;case 4:l_(g,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(a===16){const f=new Uint16Array(c.buffer);if(h6)for(let x=0;x<f.length;x++)f[x]=g6(f[x]);return f}else return c}function g6(t){return(t&255)<<8|t>>8&255}const Xd=Uint8Array.of(137,80,78,71,13,10,26,10);function rb(t){if(!p6(t.readBytes(Xd.length)))throw new Error("wrong PNG signature")}function p6(t){if(t.length<Xd.length)return!1;for(let e=0;e<Xd.length;e++)if(t[e]!==Xd[e])return!1;return!0}const m6="tEXt",v6=0,c_=new TextDecoder("latin1");function b6(t){if(x6(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const y6=/^[\u0000-\u00FF]*$/;function x6(t){if(!y6.test(t))throw new Error("invalid latin1 text")}function _6(t,e,r){const n=u_(e);t[n]=w6(e,r-n.length-1)}function u_(t){for(t.mark();t.readByte()!==v6;);const e=t.offset;t.reset();const r=c_.decode(t.readBytes(e-t.offset-1));return t.skip(1),b6(r),r}function w6(t,e){return c_.decode(t.readBytes(e))}const Di={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rg={UNKNOWN:-1,DEFLATE:0},nb={UNKNOWN:-1,ADAPTIVE:0},Og={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Td={NONE:0,BACKGROUND:1,PREVIOUS:2},Bg={SOURCE:0,OVER:1};class S6 extends Pm{constructor(r,n={}){super(r);Ar(this,"_checkCrc");Ar(this,"_inflator");Ar(this,"_png");Ar(this,"_apng");Ar(this,"_end");Ar(this,"_hasPalette");Ar(this,"_palette");Ar(this,"_hasTransparency");Ar(this,"_transparency");Ar(this,"_compressionMethod");Ar(this,"_filterMethod");Ar(this,"_interlaceMethod");Ar(this,"_colorType");Ar(this,"_isAnimated");Ar(this,"_numberOfFrames");Ar(this,"_numberOfPlays");Ar(this,"_frames");Ar(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Xv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rg.UNKNOWN,this._filterMethod=nb.UNKNOWN,this._interlaceMethod=Og.UNKNOWN,this._colorType=Di.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(rb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(rb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case m6:_6(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?eb(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?eb(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=j6(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Di.GREYSCALE:i=1;break;case Di.TRUECOLOUR:i=3;break;case Di.INDEXED_COLOUR:i=1;break;case Di.GREYSCALE_ALPHA:i=2;break;case Di.TRUECOLOUR_ALPHA:i=4;break;case Di.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Di.GREYSCALE:case Di.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Di.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Di.UNKNOWN:case Di.GREYSCALE_ALPHA:case Di.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=u_(this),i=this.readUint8();if(i!==Rg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:e6(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=tb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Td.NONE:break;case Td.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Td.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Bg.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Bg.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const g=n.data[u+this._png.channels-1]/i,m=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(g*m+(1-g)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==nb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Og.NO_INTERLACE)this._png.data=tb({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Og.ADAM7)this._png.data=l6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Td.NONE,blendOp:Bg.SOURCE,data:r}),this._inflator=new Xv,this._writingDataChunks=!1}}function j6(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ib;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ib||(ib={}));function N6(t,e){return new S6(t,e).decode()}var tr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Mg(){tr.console&&typeof tr.console.log=="function"&&tr.console.log.apply(tr.console,arguments)}var Dr={log:Mg,warn:function(t){tr.console&&(typeof tr.console.warn=="function"?tr.console.warn.apply(tr.console,arguments):Mg.call(null,arguments))},error:function(t){tr.console&&(typeof tr.console.error=="function"?tr.console.error.apply(tr.console,arguments):Mg(t))}};function Ug(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){wo(n.response,e,r)},n.onerror=function(){Dr.error("could not download file")},n.send()}function ab(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wo=tr.saveAs||((typeof window>"u"?"undefined":kr(window))!=="object"||window!==tr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=tr.URL||tr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ab(i.href)?Ug(t,e,r):Dd(i,i.target="_blank"):Dd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(ab(t))Ug(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Dd(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:kr(a)!=="object"&&(Dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ug(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(tr.HTMLElement)||tr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":kr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=tr.URL||tr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function d_(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Zd=tr.atob.bind(tr),sb=tr.btoa.bind(tr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qg(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Yn(r,n,i,a,e[0],7,-680876936),a=Yn(a,r,n,i,e[1],12,-389564586),i=Yn(i,a,r,n,e[2],17,606105819),n=Yn(n,i,a,r,e[3],22,-1044525330),r=Yn(r,n,i,a,e[4],7,-176418897),a=Yn(a,r,n,i,e[5],12,1200080426),i=Yn(i,a,r,n,e[6],17,-1473231341),n=Yn(n,i,a,r,e[7],22,-45705983),r=Yn(r,n,i,a,e[8],7,1770035416),a=Yn(a,r,n,i,e[9],12,-1958414417),i=Yn(i,a,r,n,e[10],17,-42063),n=Yn(n,i,a,r,e[11],22,-1990404162),r=Yn(r,n,i,a,e[12],7,1804603682),a=Yn(a,r,n,i,e[13],12,-40341101),i=Yn(i,a,r,n,e[14],17,-1502002290),r=Vn(r,n=Yn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Vn(a,r,n,i,e[6],9,-1069501632),i=Vn(i,a,r,n,e[11],14,643717713),n=Vn(n,i,a,r,e[0],20,-373897302),r=Vn(r,n,i,a,e[5],5,-701558691),a=Vn(a,r,n,i,e[10],9,38016083),i=Vn(i,a,r,n,e[15],14,-660478335),n=Vn(n,i,a,r,e[4],20,-405537848),r=Vn(r,n,i,a,e[9],5,568446438),a=Vn(a,r,n,i,e[14],9,-1019803690),i=Vn(i,a,r,n,e[3],14,-187363961),n=Vn(n,i,a,r,e[8],20,1163531501),r=Vn(r,n,i,a,e[13],5,-1444681467),a=Vn(a,r,n,i,e[2],9,-51403784),i=Vn(i,a,r,n,e[7],14,1735328473),r=Jn(r,n=Vn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Jn(a,r,n,i,e[8],11,-2022574463),i=Jn(i,a,r,n,e[11],16,1839030562),n=Jn(n,i,a,r,e[14],23,-35309556),r=Jn(r,n,i,a,e[1],4,-1530992060),a=Jn(a,r,n,i,e[4],11,1272893353),i=Jn(i,a,r,n,e[7],16,-155497632),n=Jn(n,i,a,r,e[10],23,-1094730640),r=Jn(r,n,i,a,e[13],4,681279174),a=Jn(a,r,n,i,e[0],11,-358537222),i=Jn(i,a,r,n,e[3],16,-722521979),n=Jn(n,i,a,r,e[6],23,76029189),r=Jn(r,n,i,a,e[9],4,-640364487),a=Jn(a,r,n,i,e[12],11,-421815835),i=Jn(i,a,r,n,e[15],16,530742520),r=Kn(r,n=Jn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Kn(a,r,n,i,e[7],10,1126891415),i=Kn(i,a,r,n,e[14],15,-1416354905),n=Kn(n,i,a,r,e[5],21,-57434055),r=Kn(r,n,i,a,e[12],6,1700485571),a=Kn(a,r,n,i,e[3],10,-1894986606),i=Kn(i,a,r,n,e[10],15,-1051523),n=Kn(n,i,a,r,e[1],21,-2054922799),r=Kn(r,n,i,a,e[8],6,1873313359),a=Kn(a,r,n,i,e[15],10,-30611744),i=Kn(i,a,r,n,e[6],15,-1560198380),n=Kn(n,i,a,r,e[13],21,1309151649),r=Kn(r,n,i,a,e[4],6,-145523070),a=Kn(a,r,n,i,e[11],10,-1120210379),i=Kn(i,a,r,n,e[2],15,718787259),n=Kn(n,i,a,r,e[9],21,-343485551),t[0]=Us(r,t[0]),t[1]=Us(n,t[1]),t[2]=Us(i,t[2]),t[3]=Us(a,t[3])}function uf(t,e,r,n,i,a){return e=Us(Us(e,t),Us(n,a)),Us(e<<i|e>>>32-i,r)}function Yn(t,e,r,n,i,a,o){return uf(e&r|~e&n,t,e,i,a,o)}function Vn(t,e,r,n,i,a,o){return uf(e&n|r&~n,t,e,i,a,o)}function Jn(t,e,r,n,i,a,o){return uf(e^r^n,t,e,i,a,o)}function Kn(t,e,r,n,i,a,o){return uf(r^(e|~n),t,e,i,a,o)}function h_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qg(n,C6(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qg(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,qg(n,i),n}function C6(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ob="0123456789abcdef".split("");function L6(t){for(var e="",r=0;r<4;r++)e+=ob[t>>8*r+4&15]+ob[t>>8*r&15];return e}function A6(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function p0(t){return h_(t).map(A6).join("")}var k6=function(t){for(var e=0;e<t.length;e++)t[e]=L6(t[e]);return t.join("")}(h_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Us(t,e){if(k6){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m0(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var g=e.length,m=0,f=0,x="";for(c=0;c<g;c++)f=(f+(d=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=d,o=l[(l[m]+l[f])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lb={print:4,modify:8,copy:16,"annot-forms":32};function ml(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(lb.perm!==void 0)throw new Error("Invalid permission: "+l);i+=lb[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=p0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=m0(this.encryptionKey,this.padding)}function vl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function cb(t){if(kr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){tr.console&&Dr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fh(t){if(!(this instanceof Fh))return new Fh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function f_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function jo(t,e,r,n,i){if(!(this instanceof jo))return new jo(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,f_.call(this,n,i)}function Pl(t,e,r,n,i){if(!(this instanceof Pl))return new Pl(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,f_.call(this,n,i)}function At(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;kr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=cb;var x="1.3",N=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(y){x=y};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var v=f.__private__.getPageFormat=function(y){return _[y]};i=i||"a4";var C="compat",j="advanced",L=C;function B(){this.saveGraphicsState(),oe(new bt(Nt,0,0,-Nt,0,Ci()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),u="n",L=j}function Y(){this.restoreGraphicsState(),u="S",L=C}var V=f.__private__.combineFontStyleAndFontWeight=function(y,O){if(y=="bold"&&O=="normal"||y=="bold"&&O==400||y=="normal"&&O=="italic"||y=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(y=O==400||O==="normal"?y==="italic"?"italic":"normal":O!=700&&O!=="bold"||y!=="normal"?(O==700?"bold":O)+""+y:"bold"),y};f.advancedAPI=function(y){var O=L===C;return O&&B.call(this),typeof y!="function"||(y(this),O&&Y.call(this)),this},f.compatAPI=function(y){var O=L===j;return O&&Y.call(this),typeof y!="function"||(y(this),O&&B.call(this)),this},f.isAdvancedAPI=function(){return L===j};var D,$=function(y){if(L!==j)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=f.roundToPrecision=f.__private__.roundToPrecision=function(y,O){var fe=e||O;if(isNaN(y)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(fe).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof c=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,c)}:c==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,16)};var I=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return ee(y,2)},G=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return ee(y,3)},ue=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return L===C?y*Nt:L===j?y:void 0},M=function(y){return ue(function(O){return L===C?Ci()-O:L===j?O:void 0}(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var H,be="00000000000000000000000000000000",Ce=f.__private__.getFileId=function(){return be},ie=f.__private__.setFileId=function(y){return be=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Nr=new ml(d.userPermissions,d.userPassword,d.ownerPassword,be)),be};f.setFileId=function(y){return ie(y),this},f.getFileId=function(){return Ce()};var xe=f.__private__.convertDateToPDFDate=function(y){var O=y.getTimezoneOffset(),fe=O<0?"+":"-",Se=Math.floor(Math.abs(O/60)),qe=Math.abs(O%60),ot=[fe,X(Se),"'",X(qe),"'"].join("");return["D:",y.getFullYear(),X(y.getMonth()+1),X(y.getDate()),X(y.getHours()),X(y.getMinutes()),X(y.getSeconds()),ot].join("")},Re=f.__private__.convertPDFDateToDate=function(y){var O=parseInt(y.substr(2,4),10),fe=parseInt(y.substr(6,2),10)-1,Se=parseInt(y.substr(8,2),10),qe=parseInt(y.substr(10,2),10),ot=parseInt(y.substr(12,2),10),vt=parseInt(y.substr(14,2),10);return new Date(O,fe,Se,qe,ot,vt,0)},se=f.__private__.setCreationDate=function(y){var O;if(y===void 0&&(y=new Date),y instanceof Date)O=xe(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=y}return H=O},E=f.__private__.getCreationDate=function(y){var O=H;return y==="jsDate"&&(O=Re(H)),O};f.setCreationDate=function(y){return se(y),this},f.getCreationDate=function(y){return E(y)};var U,X=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},le=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},_e=0,Ne=[],Be=[],Ae=0,Ge=[],Qe=[],at=!1,Ye=Be;f.__private__.setCustomOutputDestination=function(y){at=!0,Ye=y};var Oe=function(y){at||(Ye=y)};f.__private__.resetCustomOutputDestination=function(){at=!1,Ye=Be};var oe=f.__private__.out=function(y){return y=y.toString(),Ae+=y.length+1,Ye.push(y),Ye},Pt=f.__private__.write=function(y){return oe(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Et=f.__private__.getArrayBuffer=function(y){for(var O=y.length,fe=new ArrayBuffer(O),Se=new Uint8Array(fe);O--;)Se[O]=y.charCodeAt(O);return fe},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return He};var Me=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Me=L===j?y/Nt:y,this};var dt,st=f.__private__.getFontSize=f.getFontSize=function(){return L===C?Me:Me*Nt},_t=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return _t=y,this},f.__private__.getR2L=f.getR2L=function(){return _t};var Lt,Ot=f.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))dt=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');dt=y}else dt=parseInt(y,10)};f.__private__.getZoomMode=function(){return dt};var tt,yt=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Lt=y};f.__private__.getPageMode=function(){return Lt};var Bt=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');tt=y};f.__private__.getLayoutMode=function(){return tt},f.__private__.setDisplayMode=f.setDisplayMode=function(y,O,fe){return Ot(y),Bt(O),yt(fe),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[y]},f.__private__.getDocumentProperties=function(){return gt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var O in gt)gt.hasOwnProperty(O)&&y[O]&&(gt[O]=y[O]);return this},f.__private__.setDocumentProperty=function(y,O){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[y]=O};var jt,Nt,Tt,wt,Kt,Pe={},ve={},Te=[],lt={},ze={},We={},Vt={},Ut=null,qt=0,Mt=[],Fe=new cb(f),z=t.hotfixes||[],De={},et={},Ze=[],bt=function y(O,fe,Se,qe,ot,vt){if(!(this instanceof y))return new y(O,fe,Se,qe,ot,vt);isNaN(O)&&(O=1),isNaN(fe)&&(fe=0),isNaN(Se)&&(Se=0),isNaN(qe)&&(qe=1),isNaN(ot)&&(ot=0),isNaN(vt)&&(vt=0),this._matrix=[O,fe,Se,qe,ot,vt]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(y)},bt.prototype.multiply=function(y){var O=y.sx*this.sx+y.shy*this.shx,fe=y.sx*this.shy+y.shy*this.sy,Se=y.shx*this.sx+y.sy*this.shx,qe=y.shx*this.shy+y.sy*this.sy,ot=y.tx*this.sx+y.ty*this.shx+this.tx,vt=y.tx*this.shy+y.ty*this.sy+this.ty;return new bt(O,fe,Se,qe,ot,vt)},bt.prototype.decompose=function(){var y=this.sx,O=this.shy,fe=this.shx,Se=this.sy,qe=this.tx,ot=this.ty,vt=Math.sqrt(y*y+O*O),Ht=(y/=vt)*fe+(O/=vt)*Se;fe-=y*Ht,Se-=O*Ht;var Jt=Math.sqrt(fe*fe+Se*Se);return Ht/=Jt,y*(Se/=Jt)<O*(fe/=Jt)&&(y=-y,O=-O,Ht=-Ht,vt=-vt),{scale:new bt(vt,0,0,Jt,0,0),translate:new bt(1,0,0,1,qe,ot),rotate:new bt(y,O,-O,y,0,0),skew:new bt(1,0,Ht,1,0,0)}},bt.prototype.toString=function(y){return this.join(" ")},bt.prototype.inversed=function(){var y=this.sx,O=this.shy,fe=this.shx,Se=this.sy,qe=this.tx,ot=this.ty,vt=1/(y*Se-O*fe),Ht=Se*vt,Jt=-O*vt,er=-fe*vt,sr=y*vt;return new bt(Ht,Jt,er,sr,-Ht*qe-er*ot,-Jt*qe-sr*ot)},bt.prototype.applyToPoint=function(y){var O=y.x*this.sx+y.y*this.shx+this.tx,fe=y.x*this.shy+y.y*this.sy+this.ty;return new co(O,fe)},bt.prototype.applyToRectangle=function(y){var O=this.applyToPoint(y),fe=this.applyToPoint(new co(y.x+y.w,y.y+y.h));return new pc(O.x,O.y,fe.x-O.x,fe.y-O.y)},bt.prototype.clone=function(){var y=this.sx,O=this.shy,fe=this.shx,Se=this.sy,qe=this.tx,ot=this.ty;return new bt(y,O,fe,Se,qe,ot)},f.Matrix=bt;var Zt=f.matrixMult=function(y,O){return O.multiply(y)},Xt=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Xt;var hr=function(y,O){if(!ze[y]){var fe=(O instanceof jo?"Sh":"P")+(Object.keys(lt).length+1).toString(10);O.id=fe,ze[y]=fe,lt[fe]=O,Fe.publish("addPattern",O)}};f.ShadingPattern=jo,f.TilingPattern=Pl,f.addShadingPattern=function(y,O){return $("addShadingPattern()"),hr(y,O),this},f.beginTilingPattern=function(y){$("beginTilingPattern()"),mc(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,O){$("endTilingPattern()"),O.stream=Qe[U].join(`
`),hr(y,O),Fe.publish("endTilingPattern",O),Ze.pop().restore()};var re,te=f.__private__.newObject=function(){var y=we();return Ke(y,!0),y},we=f.__private__.newObjectDeferred=function(){return _e++,Ne[_e]=function(){return Ae},_e},Ke=function(y,O){return O=typeof O=="boolean"&&O,Ne[y]=Ae,O&&oe(y+" 0 obj"),y},It=f.__private__.newAdditionalObject=function(){var y={objId:we(),content:""};return Ge.push(y),y},Rt=we(),Xe=we(),Ft=f.__private__.decodeColorString=function(y){var O=y.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var fe=parseFloat(O[0]);O=[fe,fe,fe,"r"]}for(var Se="#",qe=0;qe<3;qe++)Se+=("0"+Math.floor(255*parseFloat(O[qe])).toString(16)).slice(-2);return Se},A=f.__private__.encodeColorString=function(y){var O;typeof y=="string"&&(y={ch1:y});var fe=y.ch1,Se=y.ch2,qe=y.ch3,ot=y.ch4,vt=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var Ht=new d_(fe);if(Ht.ok)fe=Ht.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var Jt=parseInt(fe.substr(1),16);fe=Jt>>16&255,Se=Jt>>8&255,qe=255&Jt}if(Se===void 0||ot===void 0&&fe===Se&&Se===qe)O=typeof fe=="string"?fe+" "+vt[0]:y.precision===2?I(fe/255)+" "+vt[0]:G(fe/255)+" "+vt[0];else if(ot===void 0||kr(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return["1.","1.","1.",vt[1]].join(" ");O=typeof fe=="string"?[fe,Se,qe,vt[1]].join(" "):y.precision===2?[I(fe/255),I(Se/255),I(qe/255),vt[1]].join(" "):[G(fe/255),G(Se/255),G(qe/255),vt[1]].join(" ")}else O=typeof fe=="string"?[fe,Se,qe,ot,vt[2]].join(" "):y.precision===2?[I(fe),I(Se),I(qe),I(ot),vt[2]].join(" "):[G(fe),G(Se),G(qe),G(ot),vt[2]].join(" ");return O},k=f.__private__.getFilters=function(){return o},Q=f.__private__.putStream=function(y){var O=(y=y||{}).data||"",fe=y.filters||k(),Se=y.alreadyAppliedFilters||[],qe=y.addLength1||!1,ot=O.length,vt=y.objectId,Ht=function(yn){return yn};if(d!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ht=Nr.encryptor(vt,0));var Jt={};fe===!0&&(fe=["FlateEncode"]);var er=y.additionalKeyValues||[],sr=(Jt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(O,fe):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Jt.data.length!==0&&(er.push({key:"Length",value:Jt.data.length}),qe===!0&&er.push({key:"Length1",value:ot})),sr.length!=0)if(sr.split("/").length-1==1)er.push({key:"Filter",value:sr});else{er.push({key:"Filter",value:"["+sr+"]"});for(var jr=0;jr<er.length;jr+=1)if(er[jr].key==="DecodeParms"){for(var Yr=[],pn=0;pn<Jt.reverseChain.split("/").length-1;pn+=1)Yr.push("null");Yr.push(er[jr].value),er[jr].value="["+Yr.join(" ")+"]"}}oe("<<");for(var Fr=0;Fr<er.length;Fr++)oe("/"+er[Fr].key+" "+er[Fr].value);oe(">>"),Jt.data.length!==0&&(oe("stream"),oe(Ht(Jt.data)),oe("endstream"))},ge=f.__private__.putPage=function(y){var O=y.number,fe=y.data,Se=y.objId,qe=y.contentsObjId;Ke(Se,!0),oe("<</Type /Page"),oe("/Parent "+y.rootDictionaryObjId+" 0 R"),oe("/Resources "+y.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(D(y.mediaBox.bottomLeftX))+" "+parseFloat(D(y.mediaBox.bottomLeftY))+" "+D(y.mediaBox.topRightX)+" "+D(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&oe("/CropBox ["+D(y.cropBox.bottomLeftX)+" "+D(y.cropBox.bottomLeftY)+" "+D(y.cropBox.topRightX)+" "+D(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&oe("/BleedBox ["+D(y.bleedBox.bottomLeftX)+" "+D(y.bleedBox.bottomLeftY)+" "+D(y.bleedBox.topRightX)+" "+D(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&oe("/TrimBox ["+D(y.trimBox.bottomLeftX)+" "+D(y.trimBox.bottomLeftY)+" "+D(y.trimBox.topRightX)+" "+D(y.trimBox.topRightY)+"]"),y.artBox!==null&&oe("/ArtBox ["+D(y.artBox.bottomLeftX)+" "+D(y.artBox.bottomLeftY)+" "+D(y.artBox.topRightX)+" "+D(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&oe("/UserUnit "+y.userUnit),Fe.publish("putPage",{objId:Se,pageContext:Mt[O],pageNumber:O,page:fe}),oe("/Contents "+qe+" 0 R"),oe(">>"),oe("endobj");var ot=fe.join(`
`);return L===j&&(ot+=`
Q`),Ke(qe,!0),Q({data:ot,filters:k(),objectId:qe}),oe("endobj"),Se},je=f.__private__.putPages=function(){var y,O,fe=[];for(y=1;y<=qt;y++)Mt[y].objId=we(),Mt[y].contentsObjId=we();for(y=1;y<=qt;y++)fe.push(ge({number:y,data:Qe[y],objId:Mt[y].objId,contentsObjId:Mt[y].contentsObjId,mediaBox:Mt[y].mediaBox,cropBox:Mt[y].cropBox,bleedBox:Mt[y].bleedBox,trimBox:Mt[y].trimBox,artBox:Mt[y].artBox,userUnit:Mt[y].userUnit,rootDictionaryObjId:Rt,resourceDictionaryObjId:Xe}));Ke(Rt,!0),oe("<</Type /Pages");var Se="/Kids [";for(O=0;O<qt;O++)Se+=fe[O]+" 0 R ";oe(Se+"]"),oe("/Count "+qt),oe(">>"),oe("endobj"),Fe.publish("postPutPages")},T=function(y){Fe.publish("putFont",{font:y,out:oe,newObject:te,putStream:Q}),y.isAlreadyPutted!==!0&&(y.objectNumber=te(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+vl(y.postScriptName)),oe("/Subtype /Type1"),typeof y.encoding=="string"&&oe("/Encoding /"+y.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},w=function(y){y.objectNumber=te();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[D(y.x),D(y.y),D(y.x+y.width),D(y.y+y.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var fe=y.pages[1].join(`
`);Q({data:fe,additionalKeyValues:O,objectId:y.objectNumber}),oe("endobj")},K=function(y,O){O||(O=21);var fe=te(),Se=function(vt,Ht){var Jt,er=[],sr=1/(Ht-1);for(Jt=0;Jt<1;Jt+=sr)er.push(Jt);if(er.push(1),vt[0].offset!=0){var jr={offset:0,color:vt[0].color};vt.unshift(jr)}if(vt[vt.length-1].offset!=1){var Yr={offset:1,color:vt[vt.length-1].color};vt.push(Yr)}for(var pn="",Fr=0,yn=0;yn<er.length;yn++){for(Jt=er[yn];Jt>vt[Fr+1].offset;)Fr++;var mn=vt[Fr].offset,On=(Jt-mn)/(vt[Fr+1].offset-mn),za=vt[Fr].color,ms=vt[Fr+1].color;pn+=le(Math.round((1-On)*za[0]+On*ms[0]).toString(16))+le(Math.round((1-On)*za[1]+On*ms[1]).toString(16))+le(Math.round((1-On)*za[2]+On*ms[2]).toString(16))}return pn.trim()}(y.colors,O),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+O+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Q({data:Se,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),oe("endobj"),y.objectNumber=te(),oe("<< /ShadingType "+y.type),oe("/ColorSpace /DeviceRGB");var ot="/Coords ["+D(parseFloat(y.coords[0]))+" "+D(parseFloat(y.coords[1]))+" ";y.type===2?ot+=D(parseFloat(y.coords[2]))+" "+D(parseFloat(y.coords[3])):ot+=D(parseFloat(y.coords[2]))+" "+D(parseFloat(y.coords[3]))+" "+D(parseFloat(y.coords[4]))+" "+D(parseFloat(y.coords[5])),oe(ot+="]"),y.matrix&&oe("/Matrix ["+y.matrix.toString()+"]"),oe("/Function "+fe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},J=function(y,O){var fe=we(),Se=te();O.push({resourcesOid:fe,objectOid:Se}),y.objectNumber=Se;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+y.boundingBox.map(D).join(" ")+"]"}),qe.push({key:"XStep",value:D(y.xStep)}),qe.push({key:"YStep",value:D(y.yStep)}),qe.push({key:"Resources",value:fe+" 0 R"}),y.matrix&&qe.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Q({data:y.stream,additionalKeyValues:qe,objectId:y.objectNumber}),oe("endobj")},pe=function(y){for(var O in y.objectNumber=te(),oe("<<"),y)switch(O){case"opacity":oe("/ca "+I(y[O]));break;case"stroke-opacity":oe("/CA "+I(y[O]))}oe(">>"),oe("endobj")},Ue=function(y){Ke(y.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in oe("/Font <<"),Pe)Pe.hasOwnProperty(O)&&(g===!1||g===!0&&m.hasOwnProperty(O))&&oe("/"+O+" "+Pe[O].objectNumber+" 0 R");oe(">>")}(),function(){if(Object.keys(lt).length>0){for(var O in oe("/Shading <<"),lt)lt.hasOwnProperty(O)&&lt[O]instanceof jo&&lt[O].objectNumber>=0&&oe("/"+O+" "+lt[O].objectNumber+" 0 R");Fe.publish("putShadingPatternDict"),oe(">>")}}(),function(O){if(Object.keys(lt).length>0){for(var fe in oe("/Pattern <<"),lt)lt.hasOwnProperty(fe)&&lt[fe]instanceof f.TilingPattern&&lt[fe].objectNumber>=0&&lt[fe].objectNumber<O&&oe("/"+fe+" "+lt[fe].objectNumber+" 0 R");Fe.publish("putTilingPatternDict"),oe(">>")}}(y.objectOid),function(){if(Object.keys(We).length>0){var O;for(O in oe("/ExtGState <<"),We)We.hasOwnProperty(O)&&We[O].objectNumber>=0&&oe("/"+O+" "+We[O].objectNumber+" 0 R");Fe.publish("putGStateDict"),oe(">>")}}(),function(){for(var O in oe("/XObject <<"),De)De.hasOwnProperty(O)&&De[O].objectNumber>=0&&oe("/"+O+" "+De[O].objectNumber+" 0 R");Fe.publish("putXobjectDict"),oe(">>")}(),oe(">>"),oe("endobj")},F=function(y){ve[y.fontName]=ve[y.fontName]||{},ve[y.fontName][y.fontStyle]=y.id},ce=function(y,O,fe,Se,qe){var ot={id:"F"+(Object.keys(Pe).length+1).toString(10),postScriptName:y,fontName:O,fontStyle:fe,encoding:Se,isStandardFont:qe||!1,metadata:{}};return Fe.publish("addFont",{font:ot,instance:this}),Pe[ot.id]=ot,F(ot),ot.id},me=f.__private__.pdfEscape=f.pdfEscape=function(y,O){return function(fe,Se){var qe,ot,vt,Ht,Jt,er,sr,jr,Yr;if(vt=(Se=Se||{}).sourceEncoding||"Unicode",Jt=Se.outputEncoding,(Se.autoencode||Jt)&&Pe[jt].metadata&&Pe[jt].metadata[vt]&&Pe[jt].metadata[vt].encoding&&(Ht=Pe[jt].metadata[vt].encoding,!Jt&&Pe[jt].encoding&&(Jt=Pe[jt].encoding),!Jt&&Ht.codePages&&(Jt=Ht.codePages[0]),typeof Jt=="string"&&(Jt=Ht[Jt]),Jt)){for(sr=!1,er=[],qe=0,ot=fe.length;qe<ot;qe++)(jr=Jt[fe.charCodeAt(qe)])?er.push(String.fromCharCode(jr)):er.push(fe[qe]),er[qe].charCodeAt(0)>>8&&(sr=!0);fe=er.join("")}for(qe=fe.length;sr===void 0&&qe!==0;)fe.charCodeAt(qe-1)>>8&&(sr=!0),qe--;if(!sr)return fe;for(er=Se.noBOM?[]:[254,255],qe=0,ot=fe.length;qe<ot;qe++){if((Yr=(jr=fe.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");er.push(Yr),er.push(jr-(Yr<<8))}return String.fromCharCode.apply(void 0,er)}(y,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ye=f.__private__.beginPage=function(y){Qe[++qt]=[],Mt[qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},ht(qt),Oe(Qe[U])},Ee=function(y,O){var fe,Se,qe;switch(r=O||r,typeof y=="string"&&(fe=v(y.toLowerCase()),Array.isArray(fe)&&(Se=fe[0],qe=fe[1])),Array.isArray(y)&&(Se=y[0]*Nt,qe=y[1]*Nt),isNaN(Se)&&(Se=i[0],qe=i[1]),(Se>14400||qe>14400)&&(Dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),qe=Math.min(14400,qe)),i=[Se,qe],r.substr(0,1)){case"l":qe>Se&&(i=[qe,Se]);break;case"p":Se>qe&&(i=[qe,Se])}ye(i),xf(dc),oe(Go),fc!==0&&oe(fc+" J"),gc!==0&&oe(gc+" j"),Fe.publish("addPage",{pageNumber:qt})},ke=function(y){y>0&&y<=qt&&(Qe.splice(y,1),Mt.splice(y,1),qt--,U>qt&&(U=qt),this.setPage(U))},ht=function(y){y>0&&y<=qt&&(U=y)},ft=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Qe.length-1},ct=function(y,O,fe){var Se,qe=void 0;return fe=fe||{},y=y!==void 0?y:Pe[jt].fontName,O=O!==void 0?O:Pe[jt].fontStyle,Se=y.toLowerCase(),ve[Se]!==void 0&&ve[Se][O]!==void 0?qe=ve[Se][O]:ve[y]!==void 0&&ve[y][O]!==void 0?qe=ve[y][O]:fe.disableWarning===!1&&Dr.warn("Unable to look up font label for font '"+y+"', '"+O+"'. Refer to getFontList() for available fonts."),qe||fe.noFallback||(qe=ve.times[O])==null&&(qe=ve.times.normal),qe},nt=f.__private__.putInfo=function(){var y=te(),O=function(Se){return Se};for(var fe in d!==null&&(O=Nr.encryptor(y,0)),oe("<<"),oe("/Producer ("+me(O("jsPDF "+At.version))+")"),gt)gt.hasOwnProperty(fe)&&gt[fe]&&oe("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+me(O(gt[fe]))+")");oe("/CreationDate ("+me(O(H))+")"),oe(">>"),oe("endobj")},pt=f.__private__.putCatalog=function(y){var O=(y=y||{}).rootDictionaryObjId||Rt;switch(te(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+O+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+dt;fe.substr(fe.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+I(dt)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Lt&&oe("/PageMode /"+Lt),Fe.publish("putCatalog"),oe(">>"),oe("endobj")},kt=f.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(_e+1)),oe("/Root "+_e+" 0 R"),oe("/Info "+(_e-1)+" 0 R"),d!==null&&oe("/Encrypt "+Nr.oid+" 0 R"),oe("/ID [ <"+be+"> <"+be+"> ]"),oe(">>")},wr=f.__private__.putHeader=function(){oe("%PDF-"+x),oe("%ºß¬à")},br=f.__private__.putXRef=function(){var y="0000000000";oe("xref"),oe("0 "+(_e+1)),oe("0000000000 65535 f ");for(var O=1;O<=_e;O++)typeof Ne[O]=="function"?oe((y+Ne[O]()).slice(-10)+" 00000 n "):Ne[O]!==void 0?oe((y+Ne[O]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},dr=f.__private__.buildDocument=function(){var y;_e=0,Ae=0,Be=[],Ne=[],Ge=[],Rt=we(),Xe=we(),Oe(Be),Fe.publish("buildDocument"),wr(),je(),function(){Fe.publish("putAdditionalObjects");for(var fe=0;fe<Ge.length;fe++){var Se=Ge[fe];Ke(Se.objId,!0),oe(Se.content),oe("endobj")}Fe.publish("postPutAdditionalObjects")}(),y=[],function(){for(var fe in Pe)Pe.hasOwnProperty(fe)&&(g===!1||g===!0&&m.hasOwnProperty(fe))&&T(Pe[fe])}(),function(){var fe;for(fe in We)We.hasOwnProperty(fe)&&pe(We[fe])}(),function(){for(var fe in De)De.hasOwnProperty(fe)&&w(De[fe])}(),function(fe){var Se;for(Se in lt)lt.hasOwnProperty(Se)&&(lt[Se]instanceof jo?K(lt[Se]):lt[Se]instanceof Pl&&J(lt[Se],fe))}(y),Fe.publish("putResources"),y.forEach(Ue),Ue({resourcesOid:Xe,objectOid:Number.MAX_SAFE_INTEGER}),Fe.publish("postPutResources"),d!==null&&(Nr.oid=te(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Nr.v),oe("/R "+Nr.r),oe("/U <"+Nr.toHexString(Nr.U)+">"),oe("/O <"+Nr.toHexString(Nr.O)+">"),oe("/P "+Nr.P),oe(">>"),oe("endobj")),nt(),pt();var O=Ae;return br(),kt(),oe("startxref"),oe(""+O),oe("%%EOF"),Oe(Qe[U]),Be.join(`
`)},Sr=f.__private__.getBlob=function(y){return new Blob([Et(y)],{type:"application/pdf"})},nr=f.output=f.__private__.output=(re=function(y,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",y){case void 0:return dr();case"save":f.save(O.filename);break;case"arraybuffer":return Et(dr());case"blob":return Sr(dr());case"bloburi":case"bloburl":if(tr.URL!==void 0&&typeof tr.URL.createObjectURL=="function")return tr.URL&&tr.URL.createObjectURL(Sr(dr()))||void 0;Dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",Se=dr();try{fe=sb(Se)}catch{fe=sb(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+O.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(qe=O.pdfObjectUrl,ot="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Ht=tr.open();return Ht!==null&&Ht.document.write(vt),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tr)==="[object Window]"){var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',er=tr.open();if(er!==null){er.document.write(Jt);var sr=this;er.document.documentElement.querySelector("#pdfViewer").onload=function(){er.document.title=O.filename,er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Yr=tr.open();if(Yr!==null&&(Yr.document.write(jr),Yr.document.title=O.filename),Yr||typeof safari>"u")return Yr;break;case"datauri":case"dataurl":return tr.document.location.href=this.output("datauristring",O);default:return null}},re.foo=function(){try{return re.apply(this,arguments)}catch(fe){var y=fe.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var O="Error in function "+y.split(`
`)[0].split("<")[0]+": "+fe.message;if(!tr.console)throw new Error(O);tr.console.error(O,fe),tr.alert&&alert(O)}},re.foo.bar=re,re.foo),bn=function(y){return Array.isArray(z)===!0&&z.indexOf(y)>-1};switch(n){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=bn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Nt=n}var Nr=null;se(),ie();var ur=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[y].objId,pageNumber:y,pageContext:Mt[y]}},_a=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in Mt)if(Mt[O].objId===y)break;return ur(O)},ra=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Mt[U].objId,pageNumber:U,pageContext:Mt[U]}};f.addPage=function(){return Ee.apply(this,arguments),this},f.setPage=function(){return ht.apply(this,arguments),Oe.call(this,Qe[U]),this},f.insertPage=function(y){return this.addPage(),this.movePage(U,y),this},f.movePage=function(y,O){var fe,Se;if(y>O){fe=Qe[y],Se=Mt[y];for(var qe=y;qe>O;qe--)Qe[qe]=Qe[qe-1],Mt[qe]=Mt[qe-1];Qe[O]=fe,Mt[O]=Se,this.setPage(O)}else if(y<O){fe=Qe[y],Se=Mt[y];for(var ot=y;ot<O;ot++)Qe[ot]=Qe[ot+1],Mt[ot]=Mt[ot+1];Qe[O]=fe,Mt[O]=Se,this.setPage(O)}return this},f.deletePage=function(){return ke.apply(this,arguments),this},f.__private__.text=f.text=function(y,O,fe,Se,qe){var ot,vt,Ht,Jt,er,sr,jr,Yr,pn,Fr=(Se=Se||{}).scope||this;if(typeof y=="number"&&typeof O=="number"&&(typeof fe=="string"||Array.isArray(fe))){var yn=fe;fe=O,O=y,y=yn}if(arguments[3]instanceof bt==0?(Ht=arguments[4],Jt=arguments[5],kr(jr=arguments[3])==="object"&&jr!==null||(typeof Ht=="string"&&(Jt=Ht,Ht=null),typeof jr=="string"&&(Jt=jr,jr=null),typeof jr=="number"&&(Ht=jr,jr=null),Se={flags:jr,angle:Ht,align:Jt})):($("The transform parameter of text() with a Matrix value"),pn=qe),isNaN(O)||isNaN(fe)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Fr;var mn,On="",za=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:so,ms=Fr.internal.scaleFactor;function Lf(Ir){return Ir=Ir.split("	").join(Array(Se.TabLen||9).join(" ")),me(Ir,jr)}function zu(Ir){for(var Rr,an=Ir.concat(),sn=[],Ya=an.length;Ya--;)typeof(Rr=an.shift())=="string"?sn.push(Rr):Array.isArray(Ir)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?sn.push(Rr[0]):sn.push([Rr[0],Rr[1],Rr[2]]);return sn}function ho(Ir,Rr){var an;if(typeof Ir=="string")an=Rr(Ir)[0];else if(Array.isArray(Ir)){for(var sn,Ya,nl=Ir.concat(),Aa=[],Cc=nl.length;Cc--;)typeof(sn=nl.shift())=="string"?Aa.push(Rr(sn)[0]):Array.isArray(sn)&&typeof sn[0]=="string"&&(Ya=Rr(sn[0],sn[1],sn[2]),Aa.push([Ya[0],Ya[1],Ya[2]]));an=Aa}return an}var na=!1,yc=!0;if(typeof y=="string")na=!0;else if(Array.isArray(y)){var Ko=y.concat();vt=[];for(var vs,En=Ko.length;En--;)(typeof(vs=Ko.shift())!="string"||Array.isArray(vs)&&typeof vs[0]!="string")&&(yc=!1);na=yc}if(na===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Wa=Me/Fr.internal.scaleFactor,Ha=Wa*(za-1);switch(Se.baseline){case"bottom":fe-=Ha;break;case"top":fe+=Wa-Ha;break;case"hanging":fe+=Wa-2*Ha;break;case"middle":fe+=Wa/2-Ha}if((sr=Se.maxWidth||0)>0&&(typeof y=="string"?y=Fr.splitTextToSize(y,sr):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Ir,Rr){return Ir.concat(Fr.splitTextToSize(Rr,sr))},[]))),ot={text:y,x:O,y:fe,options:Se,mutex:{pdfEscape:me,activeFontKey:jt,fonts:Pe,activeFontSize:Me}},Fe.publish("preProcessText",ot),y=ot.text,Ht=(Se=ot.options).angle,pn instanceof bt==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,Se.rotationDirection===0&&(Ht=-Ht),L===j&&(Ht=-Ht);var Qo=Math.cos(Ht),xc=Math.sin(Ht);pn=new bt(Qo,xc,-xc,Qo,0,0)}else Ht&&Ht instanceof bt&&(pn=Ht);L!==j||pn||(pn=Xt),(er=Se.charSpace||Vo)!==void 0&&(On+=D(ue(er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yr=Se.horizontalScale)!==void 0&&(On+=D(100*Yr)+` Tz
`),Se.lang;var ni=-1,Wu=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Xo=Fr.internal.getCurrentPageInfo().pageContext;switch(Wu){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var Hu=Xo.usedRenderingMode!==void 0?Xo.usedRenderingMode:-1;ni!==-1?On+=ni+` Tr
`:Hu!==-1&&(On+=`0 Tr
`),ni!==-1&&(Xo.usedRenderingMode=ni),Jt=Se.align||"left";var xn,Wi=Me*za,_c=Fr.internal.pageSize.getWidth(),wc=Pe[jt];er=Se.charSpace||Vo,sr=Se.maxWidth||0,jr=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var bs=[],Zo=function(Ir){return Fr.getStringUnitWidth(Ir,{font:wc,charSpace:er,fontSize:Me,doKerning:!1})*Me/ms};if(Object.prototype.toString.call(y)==="[object Array]"){var gi;vt=zu(y),Jt!=="left"&&(xn=vt.map(Zo));var pi,fo=0;if(Jt==="right"){O-=xn[0],y=[],En=vt.length;for(var ja=0;ja<En;ja++)ja===0?(pi=qa(O),gi=$a(fe)):(pi=ue(fo-xn[ja]),gi=-Wi),y.push([vt[ja],pi,gi]),fo=xn[ja]}else if(Jt==="center"){O-=xn[0]/2,y=[],En=vt.length;for(var ys=0;ys<En;ys++)ys===0?(pi=qa(O),gi=$a(fe)):(pi=ue((fo-xn[ys])/2),gi=-Wi),y.push([vt[ys],pi,gi]),fo=xn[ys]}else if(Jt==="left"){y=[],En=vt.length;for(var Sc=0;Sc<En;Sc++)y.push(vt[Sc])}else if(Jt==="justify"&&wc.encoding==="Identity-H"){y=[],En=vt.length,sr=sr!==0?sr:_c;for(var xs=0,nn=0;nn<En;nn++)if(gi=nn===0?$a(fe):-Wi,pi=nn===0?qa(O):xs,nn<En-1){var Af=ue((sr-xn[nn])/(vt[nn].split(" ").length-1)),Na=vt[nn].split(" ");y.push([Na[0]+" ",pi,gi]),xs=0;for(var Ca=1;Ca<Na.length;Ca++){var el=(Zo(Na[Ca-1]+" "+Na[Ca])-Zo(Na[Ca]))*ms+Af;Ca==Na.length-1?y.push([Na[Ca],el,0]):y.push([Na[Ca]+" ",el,0]),xs-=el}}else y.push([vt[nn],pi,gi]);y.push(["",xs,0])}else{if(Jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],En=vt.length,sr=sr!==0?sr:_c,nn=0;nn<En;nn++)gi=nn===0?$a(fe):-Wi,pi=nn===0?qa(O):0,nn<En-1?bs.push(D(ue((sr-xn[nn])/(vt[nn].split(" ").length-1)))):bs.push(0),y.push([vt[nn],pi,gi])}}(typeof Se.R2L=="boolean"?Se.R2L:_t)===!0&&(y=ho(y,function(Ir,Rr,an){return[Ir.split("").reverse().join(""),Rr,an]})),ot={text:y,x:O,y:fe,options:Se,mutex:{pdfEscape:me,activeFontKey:jt,fonts:Pe,activeFontSize:Me}},Fe.publish("postProcessText",ot),y=ot.text,mn=ot.mutex.isHex||!1;var jc=Pe[jt].encoding;jc!=="WinAnsiEncoding"&&jc!=="StandardEncoding"||(y=ho(y,function(Ir,Rr,an){return[Lf(Ir),Rr,an]})),vt=zu(y),y=[];for(var tl,rl,go,po=Array.isArray(vt[0])?1:0,Ga="",Nc=function(Ir,Rr,an){var sn="";return an instanceof bt?(an=typeof Se.angle=="number"?Zt(an,new bt(1,0,0,1,Ir,Rr)):Zt(new bt(1,0,0,1,Ir,Rr),an),L===j&&(an=Zt(new bt(1,0,0,-1,0,0),an)),sn=an.join(" ")+` Tm
`):sn=D(Ir)+" "+D(Rr)+` Td
`,sn},Li=0;Li<vt.length;Li++){switch(Ga="",po){case 1:go=(mn?"<":"(")+vt[Li][0]+(mn?">":")"),tl=parseFloat(vt[Li][1]),rl=parseFloat(vt[Li][2]);break;case 0:go=(mn?"<":"(")+vt[Li]+(mn?">":")"),tl=qa(O),rl=$a(fe)}bs!==void 0&&bs[Li]!==void 0&&(Ga=bs[Li]+` Tw
`),Li===0?y.push(Ga+Nc(tl,rl,pn)+go):po===0?y.push(Ga+go):po===1&&y.push(Ga+Nc(tl,rl,pn)+go)}y=po===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var La=`BT
/`;return La+=jt+" "+Me+` Tf
`,La+=D(Me*za)+` TL
`,La+=oo+`
`,La+=On,La+=y,oe(La+="ET"),m[jt]=!0,Fr};var Wo=f.__private__.clip=f.clip=function(y){return oe(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Wo("evenodd")},f.__private__.discardPath=f.discardPath=function(){return oe("n"),this};var Ni=f.__private__.isValidStyle=function(y){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(O=!0),O};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return Ni(y)&&(u=y),this};var io=f.__private__.getStyle=f.getStyle=function(y){var O=u;switch(y){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=y}return O},Ho=f.close=function(){return oe("h"),this};f.stroke=function(){return oe("S"),this},f.fill=function(y){return wa("f",y),this},f.fillEvenOdd=function(y){return wa("f*",y),this},f.fillStroke=function(y){return wa("B",y),this},f.fillStrokeEvenOdd=function(y){return wa("B*",y),this};var wa=function(y,O){kr(O)==="object"?vf(O,y):oe(y)},cc=function(y){y===null||L===j&&y===void 0||(y=io(y),oe(y))};function mf(y,O,fe,Se,qe){var ot=new Pl(O||this.boundingBox,fe||this.xStep,Se||this.yStep,this.gState,qe||this.matrix);ot.stream=this.stream;var vt=y+"$$"+this.cloneIndex+++"$$";return hr(vt,ot),ot}var vf=function(y,O){var fe=ze[y.key],Se=lt[fe];if(Se instanceof jo)oe("q"),oe(bf(O)),Se.gState&&f.setGState(Se.gState),oe(y.matrix.toString()+" cm"),oe("/"+fe+" sh"),oe("Q");else if(Se instanceof Pl){var qe=new bt(1,0,0,-1,0,Ci());y.matrix&&(qe=qe.multiply(y.matrix||Xt),fe=mf.call(Se,y.key,y.boundingBox,y.xStep,y.yStep,qe).id),oe("q"),oe("/Pattern cs"),oe("/"+fe+" scn"),Se.gState&&f.setGState(Se.gState),oe(O),oe("Q")}},bf=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uc=f.moveTo=function(y,O){return oe(D(ue(y))+" "+D(M(O))+" m"),this},ao=f.lineTo=function(y,O){return oe(D(ue(y))+" "+D(M(O))+" l"),this},ps=f.curveTo=function(y,O,fe,Se,qe,ot){return oe([D(ue(y)),D(M(O)),D(ue(fe)),D(M(Se)),D(ue(qe)),D(M(ot)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,O,fe,Se,qe){if(isNaN(y)||isNaN(O)||isNaN(fe)||isNaN(Se)||!Ni(qe))throw new Error("Invalid arguments passed to jsPDF.line");return L===C?this.lines([[fe-y,Se-O]],y,O,[1,1],qe||"S"):this.lines([[fe-y,Se-O]],y,O,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,O,fe,Se,qe,ot){var vt,Ht,Jt,er,sr,jr,Yr,pn,Fr,yn,mn,On;if(typeof y=="number"&&(On=fe,fe=O,O=y,y=On),Se=Se||[1,1],ot=ot||!1,isNaN(O)||isNaN(fe)||!Array.isArray(y)||!Array.isArray(Se)||!Ni(qe)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uc(O,fe),vt=Se[0],Ht=Se[1],er=y.length,yn=O,mn=fe,Jt=0;Jt<er;Jt++)(sr=y[Jt]).length===2?(yn=sr[0]*vt+yn,mn=sr[1]*Ht+mn,ao(yn,mn)):(jr=sr[0]*vt+yn,Yr=sr[1]*Ht+mn,pn=sr[2]*vt+yn,Fr=sr[3]*Ht+mn,yn=sr[4]*vt+yn,mn=sr[5]*Ht+mn,ps(jr,Yr,pn,Fr,yn,mn));return ot&&Ho(),cc(qe),this},f.path=function(y){for(var O=0;O<y.length;O++){var fe=y[O],Se=fe.c;switch(fe.op){case"m":uc(Se[0],Se[1]);break;case"l":ao(Se[0],Se[1]);break;case"c":ps.apply(this,Se);break;case"h":Ho()}}return this},f.__private__.rect=f.rect=function(y,O,fe,Se,qe){if(isNaN(y)||isNaN(O)||isNaN(fe)||isNaN(Se)||!Ni(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return L===C&&(Se=-Se),oe([D(ue(y)),D(M(O)),D(ue(fe)),D(ue(Se)),"re"].join(" ")),cc(qe),this},f.__private__.triangle=f.triangle=function(y,O,fe,Se,qe,ot,vt){if(isNaN(y)||isNaN(O)||isNaN(fe)||isNaN(Se)||isNaN(qe)||isNaN(ot)||!Ni(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-y,Se-O],[qe-fe,ot-Se],[y-qe,O-ot]],y,O,[1,1],vt,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,O,fe,Se,qe,ot,vt){if(isNaN(y)||isNaN(O)||isNaN(fe)||isNaN(Se)||isNaN(qe)||isNaN(ot)||!Ni(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*fe),ot=Math.min(ot,.5*Se),this.lines([[fe-2*qe,0],[qe*Ht,0,qe,ot-ot*Ht,qe,ot],[0,Se-2*ot],[0,ot*Ht,-qe*Ht,ot,-qe,ot],[2*qe-fe,0],[-qe*Ht,0,-qe,-ot*Ht,-qe,-ot],[0,2*ot-Se],[0,-ot*Ht,qe*Ht,-ot,qe,-ot]],y+qe,O,[1,1],vt,!0),this},f.__private__.ellipse=f.ellipse=function(y,O,fe,Se,qe){if(isNaN(y)||isNaN(O)||isNaN(fe)||isNaN(Se)||!Ni(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*fe,vt=4/3*(Math.SQRT2-1)*Se;return uc(y+fe,O),ps(y+fe,O-vt,y+ot,O-Se,y,O-Se),ps(y-ot,O-Se,y-fe,O-vt,y-fe,O),ps(y-fe,O+vt,y-ot,O+Se,y,O+Se),ps(y+ot,O+Se,y+fe,O+vt,y+fe,O),cc(qe),this},f.__private__.circle=f.circle=function(y,O,fe,Se){if(isNaN(y)||isNaN(O)||isNaN(fe)||!Ni(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,O,fe,fe,Se)},f.setFont=function(y,O,fe){return fe&&(O=V(O,fe)),jt=ct(y,O,{disableWarning:!1}),this};var yf=f.__private__.getFont=f.getFont=function(){return Pe[ct.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,O,fe={};for(y in ve)if(ve.hasOwnProperty(y))for(O in fe[y]=[],ve[y])ve[y].hasOwnProperty(O)&&fe[y].push(O);return fe},f.addFont=function(y,O,fe,Se,qe){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(fe=V(fe,Se)),ce.call(this,y,O,fe,qe=qe||"Identity-H")};var so,dc=t.lineWidth||.200025,rr=f.__private__.getLineWidth=f.getLineWidth=function(){return dc},xf=f.__private__.setLineWidth=f.setLineWidth=function(y){return dc=y,oe(D(ue(y))+" w"),this};f.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(y,O){if(y=y||[],O=O||0,isNaN(O)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(fe){return D(ue(fe))}).join(" "),O=D(ue(O)),oe("["+y+"] "+O+" d"),this};var _f=f.__private__.getLineHeight=f.getLineHeight=function(){return Me*so};f.__private__.getLineHeight=f.getLineHeight=function(){return Me*so};var wf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(so=y),this},Sf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return so};wf(t.lineHeight);var qa=f.__private__.getHorizontalCoordinate=function(y){return ue(y)},$a=f.__private__.getVerticalCoordinate=function(y){return L===j?y:Mt[U].mediaBox.topRightY-Mt[U].mediaBox.bottomLeftY-ue(y)},jf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return D(qa(y))},Nf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return D($a(y))},Go=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ft(Go)},f.__private__.setStrokeColor=f.setDrawColor=function(y,O,fe,Se){return Go=A({ch1:y,ch2:O,ch3:fe,ch4:Se,pdfColorType:"draw",precision:2}),oe(Go),this};var hc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ft(hc)},f.__private__.setFillColor=f.setFillColor=function(y,O,fe,Se){return hc=A({ch1:y,ch2:O,ch3:fe,ch4:Se,pdfColorType:"fill",precision:2}),oe(hc),this};var oo=t.textColor||"0 g",Yo=f.__private__.getTextColor=f.getTextColor=function(){return Ft(oo)};f.__private__.setTextColor=f.setTextColor=function(y,O,fe,Se){return oo=A({ch1:y,ch2:O,ch3:fe,ch4:Se,pdfColorType:"text",precision:3}),this};var Vo=t.charSpace,Cf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Vo||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vo=y,this};var fc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var O=f.CapJoinStyles[y];if(O===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fc=O,oe(O+" J"),this};var gc=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var O=f.CapJoinStyles[y];if(O===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gc=O,oe(O+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(D(ue(y))+" M"),this},f.GState=Fh,f.setGState=function(y){(y=typeof y=="string"?We[Vt[y]]:lo(null,y)).equals(Ut)||(oe("/"+y.id+" gs"),Ut=y)};var lo=function(y,O){if(!y||!Vt[y]){var fe=!1;for(var Se in We)if(We.hasOwnProperty(Se)&&We[Se].equals(O)){fe=!0;break}if(fe)O=We[Se];else{var qe="GS"+(Object.keys(We).length+1).toString(10);We[qe]=O,O.id=qe}return y&&(Vt[y]=O.id),Fe.publish("addGState",O),O}};f.addGState=function(y,O){return lo(y,O),this},f.saveGraphicsState=function(){return oe("q"),Te.push({key:jt,size:Me,color:oo}),this},f.restoreGraphicsState=function(){oe("Q");var y=Te.pop();return jt=y.key,Me=y.size,oo=y.color,Ut=null,this},f.setCurrentTransformationMatrix=function(y){return oe(y.toString()+" cm"),this},f.comment=function(y){return oe("#"+y),this};var co=function(y,O){var fe=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(ot){isNaN(ot)||(fe=parseFloat(ot))}});var Se=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(ot){isNaN(ot)||(Se=parseFloat(ot))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ot){qe=ot.toString()}}),this},pc=function(y,O,fe,Se){co.call(this,y,O),this.type="rect";var qe=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(vt){isNaN(vt)||(qe=parseFloat(vt))}});var ot=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(vt){isNaN(vt)||(ot=parseFloat(vt))}}),this},Jo=function(){this.page=qt,this.currentPage=U,this.pages=Qe.slice(0),this.pagesContext=Mt.slice(0),this.x=Tt,this.y=wt,this.matrix=Kt,this.width=vc(U),this.height=Ci(U),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){qt=this.page,U=this.currentPage,Mt=this.pagesContext,Qe=this.pages,Tt=this.x,wt=this.y,Kt=this.matrix,bc(U,this.width),Sa(U,this.height),Ye=this.outputDestination};var mc=function(y,O,fe,Se,qe){Ze.push(new Jo),qt=U=0,Qe=[],Tt=y,wt=O,Kt=qe,ye([fe,Se])};for(var uo in f.beginFormObject=function(y,O,fe,Se,qe){return mc(y,O,fe,Se,qe),this},f.endFormObject=function(y){return function(O){if(et[O])Ze.pop().restore();else{var fe=new Jo,Se="Xo"+(Object.keys(De).length+1).toString(10);fe.id=Se,et[O]=Se,De[Se]=fe,Fe.publish("addFormObject",fe),Ze.pop().restore()}}(y),this},f.doFormObject=function(y,O){var fe=De[et[y]];return oe("q"),oe(O.toString()+" cm"),oe("/"+fe.id+" Do"),oe("Q"),this},f.getFormObject=function(y){var O=De[et[y]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},f.save=function(y,O){return y=y||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(wo(Sr(dr()),y),typeof wo.unload=="function"&&tr.setTimeout&&setTimeout(wo.unload,911),this):new Promise(function(fe,Se){try{var qe=wo(Sr(dr()),y);typeof wo.unload=="function"&&tr.setTimeout&&setTimeout(wo.unload,911),fe(qe)}catch(ot){Se(ot.message)}})},At.API)At.API.hasOwnProperty(uo)&&(uo==="events"&&At.API.events.length?function(y,O){var fe,Se,qe;for(qe=O.length-1;qe!==-1;qe--)fe=O[qe][0],Se=O[qe][1],y.subscribe.apply(y,[fe].concat(typeof Se=="function"?[Se]:Se))}(Fe,At.API.events):f[uo]=At.API[uo]);var vc=f.getPageWidth=function(y){return(Mt[y=y||U].mediaBox.topRightX-Mt[y].mediaBox.bottomLeftX)/Nt},bc=f.setPageWidth=function(y,O){Mt[y].mediaBox.topRightX=O*Nt+Mt[y].mediaBox.bottomLeftX},Ci=f.getPageHeight=function(y){return(Mt[y=y||U].mediaBox.topRightY-Mt[y].mediaBox.bottomLeftY)/Nt},Sa=f.setPageHeight=function(y,O){Mt[y].mediaBox.topRightY=O*Nt+Mt[y].mediaBox.bottomLeftY};return f.internal={pdfEscape:me,getStyle:io,getFont:yf,getFontSize:st,getCharSpace:Cf,getTextColor:Yo,getLineHeight:_f,getLineHeightFactor:Sf,getLineWidth:rr,write:Pt,getHorizontalCoordinate:qa,getVerticalCoordinate:$a,getCoordinateString:jf,getVerticalCoordinateString:Nf,collections:{},newObject:te,newAdditionalObject:It,newObjectDeferred:we,newObjectDeferredBegin:Ke,getFilters:k,putStream:Q,events:Fe,scaleFactor:Nt,pageSize:{getWidth:function(){return vc(U)},setWidth:function(y){bc(U,y)},getHeight:function(){return Ci(U)},setHeight:function(y){Sa(U,y)}},encryptionOptions:d,encryption:Nr,getEncryptor:function(y){return d!==null?Nr.encryptor(y,0):function(O){return O}},output:nr,getNumberOfPages:ft,pages:Qe,out:oe,f2:I,f3:G,getPageInfo:ur,getPageInfoByObjId:_a,getCurrentPageInfo:ra,getPDFVersion:N,Point:co,Rectangle:pc,Matrix:bt,hasHotfix:bn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return vc(U)},set:function(y){bc(U,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ci(U)},set:function(y){Sa(U,y)},enumerable:!0,configurable:!0}),(function(y){for(var O=0,fe=He.length;O<fe;O++){var Se=ce.call(this,y[O][0],y[O][1],y[O][2],He[O][3],!0);g===!1&&(m[Se]=!0);var qe=y[O][0].split("-");F({id:Se,fontName:qe[0],fontStyle:qe[1]||""})}Fe.publish("addFonts",{fonts:Pe,dictionary:ve})}).call(f,He),jt="F1",Ee(i,r),Fe.publish("initialized"),f}ml.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ml.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ml.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ml.prototype.processOwnerPassword=function(t,e){return m0(p0(e).substr(0,5),t)},ml.prototype.encryptor=function(t,e){var r=p0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return m0(r,n)}},Fh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||kr(t)!==kr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="3.0.2";var en=At.API,Em=1,zo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ir=function(t){return t.toFixed(2)},Ps=function(t){return t.toFixed(5)};en.__acroform__={};var ji=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ub=function(t){return t*Em},Ea=function(t){var e=new p_,r=Wt.internal.getHeight(t)||0,n=Wt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ir(n)),Number(ir(r))],e},P6=en.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},E6=en.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},F6=en.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},dn=en.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return F6(t,e-1)},hn=en.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P6(t,e-1)},fn=en.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return E6(t,e-1)},T6=en.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(ir(c.lowerLeft_X)),Number(ir(c.lowerLeft_Y)),Number(ir(c.upperRight_X)),Number(ir(c.upperRight_Y))]},D6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=v0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ir(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ea(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},v0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=r,o=Wt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Wt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,G,ue){if(I+1<i.length){var M=G+" "+i[I+1][0];return Id(M,t,ue).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,g=Id("3",t,a).height,m=t.multiline?o-a:(o-g)/2,f=m+=2,x=0,N=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Id(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var v="",C=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var L=!1;if(i[j].length!==1&&_!==i[j].length-1){if((g+2)*(C+2)+2>o)continue e;v+=i[j][_],L=!0,N=j,j--}else{v=(v+=i[j][_]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var B=parseInt(j),Y=c(B,v,a),V=j>=i.length-1;if(Y&&!V){v+=" ",_=0;continue}if(Y||V){if(V)N=B;else if(t.multiline&&(g+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(C+2)+2>o)continue e;N=B}}for(var D="",$=x;$<=N;$++){var ee=i[$];if(t.multiline){if($===N){D+=ee[_]+" ",_=(_+1)%ee.length;continue}if($===x){D+=ee[ee.length-1]+" ";continue}}D+=ee[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=Id(D,t,a).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=ir(u)+" "+ir(f)+` Td
`,e+="("+zo(D)+`) Tj
`,e+=-ir(u)+` 0 Td
`,f=-(a+2),d=0,x=L?N:N+1,C++,v=""}break}return n.text=e,n.fontSize=a,n},Id=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},I6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},O6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ya.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(I6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Em=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new m_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&R6(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=T6(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wt.createDefaultAppearanceStream(l),kr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=D6(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var g="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(i,l)),g+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(i,l)),g+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(N,_){for(var v in N)if(N.hasOwnProperty(v)){var C=v,j=N[v];_.internal.newObjectDeferredBegin(j.objId,!0),kr(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete N[C]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},g_=en.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),kr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+zo(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$g=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+zo(n(t))+")"},Ia=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ia.prototype.toString=function(){return this.objId+" 0 R"},Ia.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ia.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:g_(i,this.objId,this.scope)}):i instanceof Ia?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var p_=function(){Ia.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ji(p_,Ia);var m_=function(){Ia.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+zo(r(t))+")"}},set:function(r){t=r}})};ji(m_,Ia);var ya=function t(){Ia.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dn(e,3)},set:function(v){v?this.F=hn(e,3):this.F=fn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Th)return;a="FieldObject"+t.FieldNum++}var v=function(C){return C};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+zo(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Em:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Th||this instanceof Eo))return $g(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=v}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Tn==0?$g(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Tn==0?v.substr(0,1)==="("?hl(v.substr(1,v.length-2)):hl(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?hl(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Tn==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Tn==0?$g(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Tn==0?v.substr(0,1)==="("?hl(v.substr(1,v.length-2)):hl(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?hl(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Tn==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){v=!!v,N=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(v){x=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,1)},set:function(v){v?this.Ff=hn(this.Ff,1):this.Ff=fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,2)},set:function(v){v?this.Ff=hn(this.Ff,2):this.Ff=fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,3)},set:function(v){v?this.Ff=hn(this.Ff,3):this.Ff=fn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');_=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(_){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};ji(ya,Ia);var Ol=function(){ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return g_(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,18)},set:function(r){r?this.Ff=hn(this.Ff,18):this.Ff=fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=hn(this.Ff,19):this.Ff=fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,20)},set:function(r){r?(this.Ff=hn(this.Ff,20),e.sort()):this.Ff=fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,22)},set:function(r){r?this.Ff=hn(this.Ff,22):this.Ff=fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(r){r?this.Ff=hn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,27)},set:function(r){r?this.Ff=hn(this.Ff,27):this.Ff=fn(this.Ff,27)}}),this.hasAppearanceStream=!1};ji(Ol,ya);var Bl=function(){Ol.call(this),this.fontName="helvetica",this.combo=!1};ji(Bl,Ol);var Ml=function(){Bl.call(this),this.combo=!0};ji(Ml,Bl);var eh=function(){Ml.call(this),this.edit=!0};ji(eh,Ml);var Tn=function(){ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,15)},set:function(r){r?this.Ff=hn(this.Ff,15):this.Ff=fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,16)},set:function(r){r?this.Ff=hn(this.Ff,16):this.Ff=fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,17)},set:function(r){r?this.Ff=hn(this.Ff,17):this.Ff=fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(r){r?this.Ff=hn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+zo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){kr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ji(Tn,ya);var th=function(){Tn.call(this),this.pushButton=!0};ji(th,Tn);var Ul=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ji(Ul,Tn);var Th=function(){var t,e;ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+zo(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){kr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ji(Th,ya),Ul.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ul.prototype.createOption=function(t){var e=new Th;return e.Parent=this,e.optionName=t,this.Kids.push(e),B6.call(this.scope,e),e};var rh=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};ji(rh,Tn);var Eo=function(){ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,13)},set:function(e){e?this.Ff=hn(this.Ff,13):this.Ff=fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,21)},set:function(e){e?this.Ff=hn(this.Ff,21):this.Ff=fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(e){e?this.Ff=hn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,24)},set:function(e){e?this.Ff=hn(this.Ff,24):this.Ff=fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,25)},set:function(e){e?this.Ff=hn(this.Ff,25):this.Ff=fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(e){e?this.Ff=hn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ji(Eo,ya);var nh=function(){Eo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,14)},set:function(t){t?this.Ff=hn(this.Ff,14):this.Ff=fn(this.Ff,14)}}),this.password=!0};ji(nh,Eo);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=v0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ir(Wt.internal.getWidth(t))+" "+ir(Wt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ir(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Wt.internal.getHeight(t),o=Wt.internal.getWidth(t),l=v0(t,t.caption);return i.push("1 g"),i.push("0 0 "+ir(o)+" "+ir(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ir(o-1)+" "+ir(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ir(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(Wt.internal.getWidth(t))+" "+ir(Wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Wt.RadioButton.Circle.YesNormal,e.D[t]=Wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Wt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5)),o=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.getWidth(t)<=Wt.internal.getHeight(t)?Wt.internal.getWidth(t)/4:Wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ps(Wt.internal.getWidth(t)/2)+" "+Ps(Wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Wt.RadioButton.Cross.YesNormal,e.D[t]=Wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ea(t);e.scope=t.scope;var r=[],n=Wt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ir(Wt.internal.getWidth(t)-2)+" "+ir(Wt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ir(n.x1.x)+" "+ir(n.x1.y)+" m"),r.push(ir(n.x2.x)+" "+ir(n.x2.y)+" l"),r.push(ir(n.x4.x)+" "+ir(n.x4.y)+" m"),r.push(ir(n.x3.x)+" "+ir(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=Wt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ir(Wt.internal.getWidth(t))+" "+ir(Wt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ir(Wt.internal.getWidth(t)-2)+" "+ir(Wt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ir(r.x1.x)+" "+ir(r.x1.y)+" m"),n.push(ir(r.x2.x)+" "+ir(r.x2.y)+" l"),n.push(ir(r.x4.x)+" "+ir(r.x4.y)+" m"),n.push(ir(r.x3.x)+" "+ir(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ea(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(Wt.internal.getWidth(t))+" "+ir(Wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Wt.internal.getWidth(t),r=Wt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(t){var e=0;return kr(t)==="object"&&(e=ub(t.Rect[2])),e},Wt.internal.getHeight=function(t){var e=0;return kr(t)==="object"&&(e=ub(t.Rect[3])),e};var B6=en.addField=function(t){if(O6(this,t),!(t instanceof ya))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};en.AcroFormChoiceField=Ol,en.AcroFormListBox=Bl,en.AcroFormComboBox=Ml,en.AcroFormEditBox=eh,en.AcroFormButton=Tn,en.AcroFormPushButton=th,en.AcroFormRadioButton=Ul,en.AcroFormCheckBox=rh,en.AcroFormTextField=Eo,en.AcroFormPasswordField=nh,en.AcroFormAppearance=Wt,en.AcroForm={ChoiceField:Ol,ListBox:Bl,ComboBox:Ml,EditBox:eh,Button:Tn,PushButton:th,RadioButton:Ul,CheckBox:rh,TextField:Eo,PasswordField:nh,Appearance:Wt},At.AcroForm={ChoiceField:Ol,ListBox:Bl,ComboBox:Ml,EditBox:eh,Button:Tn,PushButton:th,RadioButton:Ul,CheckBox:rh,TextField:Eo,PasswordField:nh,Appearance:Wt};At.AcroForm;function v_(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,G){var ue,M,H,be,Ce,ie=r;if((G=G||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Y(I))for(Ce in n)for(H=n[Ce],ue=0;ue<H.length;ue+=1){for(be=!0,M=0;M<H[ue].length;M+=1)if(H[ue][M]!==void 0&&H[ue][M]!==I[M]){be=!1;break}if(be===!0){ie=Ce;break}}else for(Ce in n)for(H=n[Ce],ue=0;ue<H.length;ue+=1){for(be=!0,M=0;M<H[ue].length;M+=1)if(H[ue][M]!==void 0&&H[ue][M]!==I.charCodeAt(M)){be=!1;break}if(be===!0){ie=Ce;break}}return ie===r&&G!==r&&(ie=G),ie},a=function I(G){for(var ue=this.internal.write,M=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:G.width}),be.push({key:"Height",value:G.height}),G.colorSpace===v.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===v.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Ce="",ie=0,xe=G.transparency.length;ie<xe;ie++)Ce+=G.transparency[ie]+" "+G.transparency[ie]+" ";be.push({key:"Mask",value:"["+Ce+"]"})}G.sMask!==void 0&&be.push({key:"SMask",value:G.objectId+1+" 0 R"});var Re=G.filter!==void 0?["/"+G.filter]:void 0;if(M({data:G.data,additionalKeyValues:be,alreadyAppliedFilters:Re,objectId:G.objectId}),ue("endobj"),"sMask"in G&&G.sMask!==void 0){var se=(G.predictor!=null?"/Predictor "+G.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+G.width,E={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:se,data:G.sMask};"filter"in G&&(E.filter=G.filter),I.call(this,E)}if(G.colorSpace===v.INDEXED){var U=this.internal.newObject();M({data:D(new Uint8Array(G.palette)),objectId:U}),ue("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var G in I)a.call(this,I[G])},l=function(){var I,G=this.internal.collections[e+"images"],ue=this.internal.write;for(var M in G)ue("/I"+(I=G[M]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(I){return typeof t["process"+I.toUpperCase()]=="function"},m=function(I){return kr(I)==="object"&&I.nodeType===1},f=function(I,G){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ue=""+I.getAttribute("src");if(ue.indexOf("data:image/")===0)return Zd(unescape(ue).split("base64,").pop());var M=t.loadFile(ue,!0);if(M!==void 0)return M}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var H;switch(G){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return Zd(I.toDataURL(H,1).split("base64,").pop())}},x=function(I){var G=this.internal.collections[e+"images"];if(G){for(var ue in G)if(I===G[ue].alias)return G[ue]}},N=function(I,G,ue){return I||G||(I=-96,G=-96),I<0&&(I=-1*ue.width*72/I/this.internal.scaleFactor),G<0&&(G=-1*ue.height*72/G/this.internal.scaleFactor),I===0&&(I=G*ue.width/ue.height),G===0&&(G=I*ue.height/ue.width),[I,G]},_=function(I,G,ue,M,H,be){var Ce=N.call(this,ue,M,H),ie=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Re=u.call(this);if(ue=Ce[0],M=Ce[1],Re[H.index]=H,be){be*=Math.PI/180;var se=Math.cos(be),E=Math.sin(be),U=function(le){return le.toFixed(4)},X=[U(se),U(E),U(-1*E),U(se),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,ie(I),xe(G+M),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ie(ue),"0","0",ie(M),"0","0","cm"].join(" "))):this.internal.write([ie(ue),"0","0",ie(M),ie(I),xe(G+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(I){var G,ue,M=0;if(typeof I=="string")for(ue=I.length,G=0;G<ue;G++)M=(M<<5)-M+I.charCodeAt(G),M|=0;else if(Y(I))for(ue=I.byteLength/2,G=0;G<ue;G++)M=(M<<5)-M+I[G],M|=0;return M},L=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var G=!0;return I.length===0&&(G=!1),I.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(G=!1),G},B=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var G=I.indexOf(",");return G<0?null:I.substring(0,G).trim().endsWith("base64")?I.substring(G+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(I){for(var G=I.length,ue=new Uint8Array(G),M=0;M<G;M++)ue[M]=I.charCodeAt(M);return ue},D=t.__addimage__.arrayBufferToBinaryString=function(I){for(var G="",ue=Y(I)?I:new Uint8Array(I),M=0;M<ue.length;M+=8192)G+=String.fromCharCode.apply(null,ue.subarray(M,M+8192));return G};t.addImage=function(){var I,G,ue,M,H,be,Ce,ie,xe;if(typeof arguments[1]=="number"?(G=r,ue=arguments[1],M=arguments[2],H=arguments[3],be=arguments[4],Ce=arguments[5],ie=arguments[6],xe=arguments[7]):(G=arguments[1],ue=arguments[2],M=arguments[3],H=arguments[4],be=arguments[5],Ce=arguments[6],ie=arguments[7],xe=arguments[8]),kr(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var Re=I;I=Re.imageData,G=Re.format||G||r,ue=Re.x||ue||0,M=Re.y||M||0,H=Re.w||Re.width||H,be=Re.h||Re.height||be,Ce=Re.alias||Ce,ie=Re.compression||ie,xe=Re.rotation||Re.angle||xe}var se=this.internal.getFilters();if(ie===void 0&&se.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(ue)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var E=$.call(this,I,G,Ce,ie);return _.call(this,ue,M,H,be,E,xe),this};var $=function(I,G,ue,M){var H,be,Ce;if(typeof I=="string"&&i(I)===r){I=unescape(I);var ie=ee(I,!1);(ie!==""||(ie=t.loadFile(I,!0))!==void 0)&&(I=ie)}if(m(I)&&(I=f(I,G)),G=i(I,G),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Ce=ue)==null||Ce.length===0)&&(ue=function(xe){return typeof xe=="string"||Y(xe)?j(xe):Y(xe.data)?j(xe.data):null}(I)),(H=x.call(this,ue))||(I instanceof Uint8Array||G==="RGBA"||(be=I,I=V(I)),H=this["process"+G.toUpperCase()](I,d.call(this),ue,function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:C.NONE}(M),be)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},ee=t.__addimage__.convertBase64ToBinaryString=function(I,G){G=typeof G!="boolean"||G;var ue,M="";if(typeof I=="string"){var H;ue=(H=B(I))!==null&&H!==void 0?H:I;try{M=Zd(ue)}catch(be){if(G)throw L(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(I){var G,ue,M="";if(m(I)&&(I=f(I)),typeof I=="string"&&i(I)===r&&((M=ee(I,!1))===""&&(M=t.loadFile(I)||""),I=M),ue=i(I),!g(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(I instanceof Uint8Array||(I=V(I)),!(G=this["process"+ue.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=ue,G}})(At.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,g=0;g<u.length&&!d;g++)switch((n=u[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(N.objId),C=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(v(C))+") >>",N.content=a;var j=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(N.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var Y=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=t.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(N){var _=0,v=r,C="",j=0;for(_=0;_<N.length;_+=1)v[N.charCodeAt(_)]!==void 0?(j++,typeof(v=v[N.charCodeAt(_)])=="number"&&(C+=String.fromCharCode(v),v=r,j=0),_===N.length-1&&(v=r,C+=N.charAt(_-(j-1)),_-=j-1,j=0)):(v=r,C+=N.charAt(_-j),_-=j,j=0);return C};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(N,_,v){return o(N)?a(N)===!1?-1:!u(N)||!o(_)&&!o(v)||!o(v)&&l(_)||l(N)&&!o(_)||l(N)&&c(_)||l(N)&&l(_)?0:d(N)&&o(_)&&!l(_)&&o(v)&&u(v)?3:l(N)||!o(v)?1:2:-1},f=function(N){var _=0,v=0,C=0,j="",L="",B="",Y=(N=N||"").split("\\s+"),V=[];for(_=0;_<Y.length;_+=1){for(V.push(""),v=0;v<Y[_].length;v+=1)j=Y[_][v],L=Y[_][v-1],B=Y[_][v+1],o(j)?(C=m(j,L,B),V[_]+=C!==-1?String.fromCharCode(e[j.charCodeAt(0)][C]):j):V[_]+=j;V[_]=g(V[_])}return V.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var N,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(_)){var C=0;for(v=[],C=0;C<_.length;C+=1)Array.isArray(_[C])?v.push([f(_[C][0]),_[C][1],_[C][2]]):v.push([f(_[C])]);N=v}else N=f(_);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",x])}(At.API),At.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(N){x=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,x=0,N=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,L){return j.concat(_.splitTextToSize(L,v))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)f<(N=this.getStringUnitWidth(c[C],{font:g})*d)&&(f=N);return f!==0&&(x=c.length),{w:f/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,g,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,x,N,_,v=[],C=[],j=[],L={},B={},Y=[],V=[],D=(m=m||{}).autoSize||!1,$=m.printHeaders!==!1,ee=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,I=m.margins||Object.assign({width:this.getPageWidth()},e),G=typeof m.padding=="number"?m.padding:3,ue=m.headerBackgroundColor||"#c8c8c8",M=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=M,this.setFontSize(ee),g==null)C=v=Object.keys(d[0]),j=v.map(function(){return"left"});else if(Array.isArray(g)&&kr(g[0])==="object")for(v=g.map(function(Re){return Re.name}),C=g.map(function(Re){return Re.prompt||Re.name||""}),j=g.map(function(Re){return Re.align||"left"}),f=0;f<g.length;f+=1)B[g[f].name]=.7499990551181103*g[f].width;else Array.isArray(g)&&typeof g[0]=="string"&&(C=v=g,j=v.map(function(){return"left"}));if(D||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<v.length;f+=1){for(L[_=v[f]]=d.map(function(Re){return Re[_]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(C[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=L[_],this.setFont(void 0,"normal"),N=0;N<x.length;N+=1)Y.push(this.getTextDimensions(x[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,Y)+G+G,Y=[]}if($){var H={};for(f=0;f<v.length;f+=1)H[v[f]]={},H[v[f]].text=C[f],H[v[f]].align=j[f];var be=l.call(this,H,B);V=v.map(function(Re){return new a(c,u,B[Re],be,H[Re].text,void 0,H[Re].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var Ce=g.reduce(function(Re,se){return Re[se.name]=se.align,Re},{});for(f=0;f<d.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:d[f]},this);var ie=l.call(this,d[f],B);for(N=0;N<v.length;N+=1){var xe=d[f][v[N]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:N,data:xe},this),o.call(this,new a(c,u,B[v[N]],ie,xe,f+2,Ce[v[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/m+d+d},this).reduce(function(f,x){return Math.max(f,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(At.API);var b_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b0=v_(y_),x_=[100,200,300,400,500,600,700,800,900],M6=v_(x_);function zg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return b_[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof b0[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function db(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var U6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gb(t){return t.trimLeft()}function q6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function $6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Rd,pb,mb,fl,Od,vb,bb,yb,Wg=["times"];function xb(t,e,r,n){var i=4,a=wb;switch(n){case At.API.image_compression.FAST:i=1,a=_b;break;case At.API.image_compression.MEDIUM:i=6,a=Sb;break;case At.API.image_compression.SLOW:i=9,a=jb}t=function(l,c,u,d){for(var g,m=l.length/c,f=new Uint8Array(l.length+m),x=[z6,_b,wb,Sb,jb],N=0;N<m;N+=1){var _=N*c,v=l.subarray(_,_+c);if(d)f.set(d(v,u,g),_+N);else{for(var C=x.length,j=[],L=0;L<C;L+=1)j[L]=x[L](v,u,g);var B=H6(j.concat());f.set(j[B],_+N)}g=v}return f}(t,e,r,a);var o=d0(t,{level:i});return At.API.__addimage__.arrayBufferToBinaryString(o)}function z6(t){var e=Array.apply([],t);return e.unshift(0),e}function _b(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function wb(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function Sb(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function jb(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=W6(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function W6(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function H6(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Hg(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return __(t,i)>>a&o}function Nb(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,d,g){if(d+1<u.byteLength)u.setUint16(d,g,!1);else{var m=g>>8&255;u.setUint8(d,m)}})(t,a,__(t,a)&~(l<<o)&65535|c)}function __(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function G6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,d=[],g=0,m=null,f=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];g=t[e++]|t[e++]<<8,m=t[e++],1&N||(m=null),f=N>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,L=t[e++],B=L>>6&1,Y=1<<1+(7&L),V=l,D=c,$=!1;L>>7&&($=!0,V=e,D=Y,e+=3*Y);var ee=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:_,y:v,width:C,height:j,has_local_palette:$,palette_offset:V,palette_size:D,data_offset:ee,data_length:e-ee,transparent_index:m,interlaced:!!B,delay:g,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(G){if(G<0||G>=d.length)throw new Error("Frame index out of range.");return d[G]},this.decodeAndBlitFrameBGRA=function(G,ue){var M=this.frameInfo(G),H=M.width*M.height,be=new Uint8Array(H);Cb(t,M.data_offset,be,H);var Ce=M.palette_offset,ie=M.transparent_index;ie===null&&(ie=256);var xe=M.width,Re=r-xe,se=xe,E=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),X=E,le=4*Re;M.interlaced===!0&&(le+=4*r*7);for(var _e=8,Ne=0,Be=be.length;Ne<Be;++Ne){var Ae=be[Ne];if(se===0&&(se=xe,(X+=le)>=U&&(le=4*Re+4*r*(_e-1),X=E+(xe+Re)*(_e<<1),_e>>=1)),Ae===ie)X+=4;else{var Ge=t[Ce+3*Ae],Qe=t[Ce+3*Ae+1],at=t[Ce+3*Ae+2];ue[X++]=at,ue[X++]=Qe,ue[X++]=Ge,ue[X++]=255}--se}},this.decodeAndBlitFrameRGBA=function(G,ue){var M=this.frameInfo(G),H=M.width*M.height,be=new Uint8Array(H);Cb(t,M.data_offset,be,H);var Ce=M.palette_offset,ie=M.transparent_index;ie===null&&(ie=256);var xe=M.width,Re=r-xe,se=xe,E=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),X=E,le=4*Re;M.interlaced===!0&&(le+=4*r*7);for(var _e=8,Ne=0,Be=be.length;Ne<Be;++Ne){var Ae=be[Ne];if(se===0&&(se=xe,(X+=le)>=U&&(le=4*Re+4*r*(_e-1),X=E+(xe+Re)*(_e<<1),_e>>=1)),Ae===ie)X+=4;else{var Ge=t[Ce+3*Ae],Qe=t[Ce+3*Ae+1],at=t[Ce+3*Ae+2];ue[X++]=Ge,ue[X++]=Qe,ue[X++]=at,ue[X++]=255}--se}}}function Cb(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,g=0,m=0,f=t[e++],x=new Int32Array(4096),N=null;;){for(;d<16&&f!==0;)g|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<c)break;var _=g&u;if(g>>=c,d-=c,_!==a){if(_===o)break;for(var v=_<l?_:N,C=0,j=v;j>a;)j=x[j]>>8,++C;var L=j;if(m+C+(v!==_?1:0)>n)return void Dr.log("Warning, gif stream longer than expected.");r[m++]=L;var B=m+=C;for(v!==_&&(r[m++]=L),j=v;C--;)j=x[j],r[--B]=255&j,j>>=8;N!==null&&l<4096&&(x[l++]=N<<8|L,l>=u+1&&c<12&&(++c,u=u<<1|1)),N=_}else l=o+1,u=(1<<(c=i+1))-1,N=null}return m!==n&&Dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gg(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),g=new Array(65535),m=new Array(65535),f=new Array(64),x=new Array(64),N=[],_=0,v=7,C=new Array(64),j=new Array(64),L=new Array(64),B=new Array(256),Y=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(E,U){for(var X=0,le=0,_e=new Array,Ne=1;Ne<=16;Ne++){for(var Be=1;Be<=E[Ne];Be++)_e[U[le]]=[],_e[U[le]][0]=X,_e[U[le]][1]=Ne,le++,X++;X*=2}return _e}function Ce(E){for(var U=E[0],X=E[1]-1;X>=0;)U&1<<X&&(_|=1<<v),X--,--v<0&&(_==255?(ie(255),ie(0)):ie(_),v=7,_=0)}function ie(E){N.push(E)}function xe(E){ie(E>>8&255),ie(255&E)}function Re(E,U,X,le,_e){for(var Ne,Be=_e[0],Ae=_e[240],Ge=function(Me,dt){var st,_t,Lt,Ot,tt,yt,Bt,gt,jt,Nt,Tt=0;for(jt=0;jt<8;++jt){st=Me[Tt],_t=Me[Tt+1],Lt=Me[Tt+2],Ot=Me[Tt+3],tt=Me[Tt+4],yt=Me[Tt+5],Bt=Me[Tt+6];var wt=st+(gt=Me[Tt+7]),Kt=st-gt,Pe=_t+Bt,ve=_t-Bt,Te=Lt+yt,lt=Lt-yt,ze=Ot+tt,We=Ot-tt,Vt=wt+ze,Ut=wt-ze,qt=Pe+Te,Mt=Pe-Te;Me[Tt]=Vt+qt,Me[Tt+4]=Vt-qt;var Fe=.707106781*(Mt+Ut);Me[Tt+2]=Ut+Fe,Me[Tt+6]=Ut-Fe;var z=.382683433*((Vt=We+lt)-(Mt=ve+Kt)),De=.5411961*Vt+z,et=1.306562965*Mt+z,Ze=.707106781*(qt=lt+ve),bt=Kt+Ze,Zt=Kt-Ze;Me[Tt+5]=Zt+De,Me[Tt+3]=Zt-De,Me[Tt+1]=bt+et,Me[Tt+7]=bt-et,Tt+=8}for(Tt=0,jt=0;jt<8;++jt){st=Me[Tt],_t=Me[Tt+8],Lt=Me[Tt+16],Ot=Me[Tt+24],tt=Me[Tt+32],yt=Me[Tt+40],Bt=Me[Tt+48];var Xt=st+(gt=Me[Tt+56]),hr=st-gt,re=_t+Bt,te=_t-Bt,we=Lt+yt,Ke=Lt-yt,It=Ot+tt,Rt=Ot-tt,Xe=Xt+It,Ft=Xt-It,A=re+we,k=re-we;Me[Tt]=Xe+A,Me[Tt+32]=Xe-A;var Q=.707106781*(k+Ft);Me[Tt+16]=Ft+Q,Me[Tt+48]=Ft-Q;var ge=.382683433*((Xe=Rt+Ke)-(k=te+hr)),je=.5411961*Xe+ge,T=1.306562965*k+ge,w=.707106781*(A=Ke+te),K=hr+w,J=hr-w;Me[Tt+40]=J+je,Me[Tt+24]=J-je,Me[Tt+8]=K+T,Me[Tt+56]=K-T,Tt++}for(jt=0;jt<64;++jt)Nt=Me[jt]*dt[jt],f[jt]=Nt>0?Nt+.5|0:Nt-.5|0;return f}(E,U),Qe=0;Qe<64;++Qe)x[V[Qe]]=Ge[Qe];var at=x[0]-X;X=x[0],at==0?Ce(le[0]):(Ce(le[m[Ne=32767+at]]),Ce(g[Ne]));for(var Ye=63;Ye>0&&x[Ye]==0;)Ye--;if(Ye==0)return Ce(Be),X;for(var Oe,oe=1;oe<=Ye;){for(var Pt=oe;x[oe]==0&&oe<=Ye;)++oe;var Et=oe-Pt;if(Et>=16){Oe=Et>>4;for(var He=1;He<=Oe;++He)Ce(Ae);Et&=15}Ne=32767+x[oe],Ce(_e[(Et<<4)+m[Ne]]),Ce(g[Ne]),oe++}return Ye!=63&&Ce(Be),X}function se(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(U){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var _e=o((X[le]*U+50)/100);_e=Math.min(Math.max(_e,1),255),l[V[le]]=_e}for(var Ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var Ae=o((Ne[Be]*U+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[V[Be]]=Ae}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,at=0;at<8;at++)for(var Ye=0;Ye<8;Ye++)u[Qe]=1/(l[V[Qe]]*Ge[at]*Ge[Ye]*8),d[Qe]=1/(c[V[Qe]]*Ge[at]*Ge[Ye]*8),Qe++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,U){U&&se(U),N=new Array,_=0,v=7,xe(65496),xe(65504),xe(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),xe(1),xe(1),ie(0),ie(0),function(){xe(65499),xe(132),ie(0);for(var _t=0;_t<64;_t++)ie(l[_t]);ie(1);for(var Lt=0;Lt<64;Lt++)ie(c[Lt])}(),function(_t,Lt){xe(65472),xe(17),ie(8),xe(Lt),xe(_t),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(E.width,E.height),function(){xe(65476),xe(418),ie(0);for(var _t=0;_t<16;_t++)ie(D[_t+1]);for(var Lt=0;Lt<=11;Lt++)ie($[Lt]);ie(16);for(var Ot=0;Ot<16;Ot++)ie(ee[Ot+1]);for(var tt=0;tt<=161;tt++)ie(I[tt]);ie(1);for(var yt=0;yt<16;yt++)ie(G[yt+1]);for(var Bt=0;Bt<=11;Bt++)ie(ue[Bt]);ie(17);for(var gt=0;gt<16;gt++)ie(M[gt+1]);for(var jt=0;jt<=161;jt++)ie(H[jt])}(),xe(65498),xe(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var X=0,le=0,_e=0;_=0,v=7,this.encode.displayName="_encode_";for(var Ne,Be,Ae,Ge,Qe,at,Ye,Oe,oe,Pt=E.data,Et=E.width,He=E.height,Me=4*Et,dt=0;dt<He;){for(Ne=0;Ne<Me;){for(Qe=Me*dt+Ne,Ye=-1,Oe=0,oe=0;oe<64;oe++)at=Qe+(Oe=oe>>3)*Me+(Ye=4*(7&oe)),dt+Oe>=He&&(at-=Me*(dt+1+Oe-He)),Ne+Ye>=Me&&(at-=Ne+Ye-Me+4),Be=Pt[at++],Ae=Pt[at++],Ge=Pt[at++],C[oe]=(Y[Be]+Y[Ae+256|0]+Y[Ge+512|0]>>16)-128,j[oe]=(Y[Be+768|0]+Y[Ae+1024|0]+Y[Ge+1280|0]>>16)-128,L[oe]=(Y[Be+1280|0]+Y[Ae+1536|0]+Y[Ge+1792|0]>>16)-128;X=Re(C,u,X,e,n),le=Re(j,d,le,r,i),_e=Re(L,d,_e,r,i),Ne+=32}dt+=8}if(v>=0){var st=[];st[1]=v+1,st[0]=(1<<v+1)-1,Ce(st)}return xe(65497),new Uint8Array(N)},t=t||50,function(){for(var E=String.fromCharCode,U=0;U<256;U++)B[U]=E(U)}(),e=be(D,$),r=be(G,ue),n=be(ee,I),i=be(M,H),function(){for(var E=1,U=2,X=1;X<=15;X++){for(var le=E;le<U;le++)m[32767+le]=X,g[32767+le]=[],g[32767+le][1]=X,g[32767+le][0]=le;for(var _e=-(U-1);_e<=-E;_e++)m[32767+_e]=X,g[32767+_e]=[],g[32767+_e][1]=X,g[32767+_e][0]=U-1+_e;E<<=1,U<<=1}}(),function(){for(var E=0;E<256;E++)Y[E]=19595*E,Y[E+256|0]=38470*E,Y[E+512|0]=7471*E+32768,Y[E+768|0]=-11059*E,Y[E+1024|0]=-21709*E,Y[E+1280|0]=32768*E+8421375,Y[E+1536|0]=-27439*E,Y[E+1792|0]=-5329*E}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function la(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lb(t){function e($){if(!$)throw Error("assert :P")}function r($,ee,I){for(var G=0;4>G;G++)if($[ee+G]!=I.charCodeAt(G))return!0;return!1}function n($,ee,I,G,ue){for(var M=0;M<ue;M++)$[ee+M]=I[G+M]}function i($,ee,I,G){for(var ue=0;ue<G;ue++)$[ee+ue]=I}function a($){return new Int32Array($)}function o($,ee){for(var I=[],G=0;G<$;G++)I.push(new ee);return I}function l($,ee){var I=[];return function G(ue,M,H){for(var be=H[M],Ce=0;Ce<be&&(ue.push(H.length>M+1?[]:new ee),!(H.length<M+1));Ce++)G(ue[Ce],M+1,H)}(I,0,$),I}var c=function(){var $=this;function ee(h,p){for(var S=1<<p-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function I(h,p,S,P,R){e(!(P%S));do h[p+(P-=S)]=R;while(0<P)}function G(h,p,S,P,R){if(e(2328>=R),512>=R)var q=a(512);else if((q=a(R))==null)return 0;return function(W,Z,ne,de,Le,Je){var he,Ie,$e=Z,rt=1<<ne,Ve=a(16),it=a(16);for(e(Le!=0),e(de!=null),e(W!=null),e(0<ne),Ie=0;Ie<Le;++Ie){if(15<de[Ie])return 0;++Ve[de[Ie]]}if(Ve[0]==Le)return 0;for(it[1]=0,he=1;15>he;++he){if(Ve[he]>1<<he)return 0;it[he+1]=it[he]+Ve[he]}for(Ie=0;Ie<Le;++Ie)he=de[Ie],0<de[Ie]&&(Je[it[he]++]=Ie);if(it[15]==1)return(de=new ue).g=0,de.value=Je[0],I(W,$e,1,rt,de),rt;var ut,xt=-1,mt=rt-1,Qt=0,zt=1,lr=1,Gt=1<<ne;for(Ie=0,he=1,Le=2;he<=ne;++he,Le<<=1){if(zt+=lr<<=1,0>(lr-=Ve[he]))return 0;for(;0<Ve[he];--Ve[he])(de=new ue).g=he,de.value=Je[Ie++],I(W,$e+Qt,Le,Gt,de),Qt=ee(Qt,he)}for(he=ne+1,Le=2;15>=he;++he,Le<<=1){if(zt+=lr<<=1,0>(lr-=Ve[he]))return 0;for(;0<Ve[he];--Ve[he]){if(de=new ue,(Qt&mt)!=xt){for($e+=Gt,ut=1<<(xt=he)-ne;15>xt&&!(0>=(ut-=Ve[xt]));)++xt,ut<<=1;rt+=Gt=1<<(ut=xt-ne),W[Z+(xt=Qt&mt)].g=ut+ne,W[Z+xt].value=$e-Z-xt}de.g=he-ne,de.value=Je[Ie++],I(W,$e+(Qt>>ne),Le,Gt,de),Qt=ee(Qt,he)}}return zt!=2*it[15]-1?0:rt}(h,p,S,P,R,q)}function ue(){this.value=this.g=0}function M(){this.value=this.g=0}function H(){this.G=o(5,ue),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ja,M)}function be(h,p,S,P){e(h!=null),e(p!=null),e(2147483648>P),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=S,h.Jd=p,h.Yc=S+P,h.Zc=4<=P?S+P-4+1:S,Be(h)}function Ce(h,p){for(var S=0;0<p--;)S|=Ge(h,128)<<p;return S}function ie(h,p){var S=Ce(h,p);return Ae(h)?-S:S}function xe(h,p,S,P){var R,q=0;for(e(h!=null),e(p!=null),e(4294967288>P),h.Sb=P,h.Ra=0,h.u=0,h.h=0,4<P&&(P=4),R=0;R<P;++R)q+=p[S+R]<<8*R;h.Ra=q,h.bb=P,h.oa=p,h.pa=S}function Re(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<xs-8>>>0,++h.bb,h.u-=8;le(h)&&(h.h=1,h.u=0)}function se(h,p){if(e(0<=p),!h.h&&p<=Sc){var S=X(h)&ys[p];return h.u+=p,Re(h),S}return h.h=1,h.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&xs-1)>>>0}function le(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>xs}function _e(h,p){h.u=p,h.h=le(h)}function Ne(h){h.u>=nn&&(e(h.u>=nn),Re(h))}function Be(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ae(h){return Ce(h,1)}function Ge(h,p){var S=h.Ca;0>h.b&&Be(h);var P=h.b,R=S*p>>>8,q=(h.I>>>P>R)+0;for(q?(S-=R,h.I-=R+1<<P>>>0):S=R+1,P=S,R=0;256<=P;)R+=8,P>>=8;return P=7^R+Af[P],h.b-=P,h.Ca=(S<<P)-1,q}function Qe(h,p,S){h[p+0]=S>>24&255,h[p+1]=S>>16&255,h[p+2]=S>>8&255,h[p+3]=255&S}function at(h,p){return h[p+0]|h[p+1]<<8}function Ye(h,p){return at(h,p)|h[p+2]<<16}function Oe(h,p){return at(h,p)|at(h,p+2)<<16}function oe(h,p){var S=1<<p;return e(h!=null),e(0<p),h.X=a(S),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function Pt(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),n(p.X,0,h.X,0,1<<p.Xa)}function Et(){this.X=[],this.Xa=this.Mb=0}function He(h,p,S,P){e(S!=null),e(P!=null);var R=S[0],q=P[0];return R==0&&(R=(h*q+p/2)/p),q==0&&(q=(p*R+h/2)/h),0>=R||0>=q?0:(S[0]=R,P[0]=q,1)}function Me(h,p){return h+(1<<p)-1>>>p}function dt(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function st(h,p){$[p]=function(S,P,R,q,W,Z,ne){var de;for(de=0;de<W;++de){var Le=$[h](Z[ne+de-1],R,q+de);Z[ne+de]=dt(S[P+de],Le)}}}function _t(){this.ud=this.hd=this.jd=0}function Lt(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function Ot(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function tt(h,p){return Ot(h+(h-p+.5>>1))}function yt(h,p,S){return Math.abs(p-S)-Math.abs(h-S)}function Bt(h,p,S,P,R,q,W){for(P=q[W-1],S=0;S<R;++S)q[W+S]=P=dt(h[p+S],P)}function gt(h,p,S,P,R){var q;for(q=0;q<S;++q){var W=h[p+q],Z=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((Z<<16)+Z));P[R+q]=(4278255360&W)+ne>>>0}}function jt(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function Nt(h,p,S,P,R,q){var W;for(W=0;W<P;++W){var Z=p[S+W],ne=Z>>>8,de=Z,Le=255&(Le=(Le=Z>>>16)+((h.jd<<24>>24)*(ne<<24>>24)>>>5));de=255&(de=(de+=(h.hd<<24>>24)*(ne<<24>>24)>>>5)+((h.ud<<24>>24)*(Le<<24>>24)>>>5)),R[q+W]=(4278255360&Z)+(Le<<16)+de}}function Tt(h,p,S,P,R){$[p]=function(q,W,Z,ne,de,Le,Je,he,Ie){for(ne=Je;ne<he;++ne)for(Je=0;Je<Ie;++Je)de[Le++]=R(Z[P(q[W++])])},$[h]=function(q,W,Z,ne,de,Le,Je){var he=8>>q.b,Ie=q.Ea,$e=q.K[0],rt=q.w;if(8>he)for(q=(1<<q.b)-1,rt=(1<<he)-1;W<Z;++W){var Ve,it=0;for(Ve=0;Ve<Ie;++Ve)Ve&q||(it=P(ne[de++])),Le[Je++]=R($e[it&rt]),it>>=he}else $["VP8LMapColor"+S](ne,de,$e,rt,Le,Je,W,Z,Ie)}}function wt(h,p,S,P,R){for(S=p+S;p<S;){var q=h[p++];P[R++]=q>>16&255,P[R++]=q>>8&255,P[R++]=255&q}}function Kt(h,p,S,P,R){for(S=p+S;p<S;){var q=h[p++];P[R++]=q>>16&255,P[R++]=q>>8&255,P[R++]=255&q,P[R++]=q>>24&255}}function Pe(h,p,S,P,R){for(S=p+S;p<S;){var q=(W=h[p++])>>16&240|W>>12&15,W=240&W|W>>28&15;P[R++]=q,P[R++]=W}}function ve(h,p,S,P,R){for(S=p+S;p<S;){var q=(W=h[p++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;P[R++]=q,P[R++]=W}}function Te(h,p,S,P,R){for(S=p+S;p<S;){var q=h[p++];P[R++]=255&q,P[R++]=q>>8&255,P[R++]=q>>16&255}}function lt(h,p,S,P,R,q){if(q==0)for(S=p+S;p<S;)Qe(P,((q=h[p++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),R+=32;else n(P,R,h,p,S)}function ze(h,p){$[p][0]=$[h+"0"],$[p][1]=$[h+"1"],$[p][2]=$[h+"2"],$[p][3]=$[h+"3"],$[p][4]=$[h+"4"],$[p][5]=$[h+"5"],$[p][6]=$[h+"6"],$[p][7]=$[h+"7"],$[p][8]=$[h+"8"],$[p][9]=$[h+"9"],$[p][10]=$[h+"10"],$[p][11]=$[h+"11"],$[p][12]=$[h+"12"],$[p][13]=$[h+"13"],$[p][14]=$[h+"0"],$[p][15]=$[h+"0"]}function We(h){return h==Ef||h==Ff||h==Qu||h==Tf}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function Ut(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new Ut,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function z(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function De(h,p){var S=h.T,P=p.ba.f.RGBA,R=P.eb,q=P.fb+h.ka*P.A,W=Gi[p.ba.S],Z=h.y,ne=h.O,de=h.f,Le=h.N,Je=h.ea,he=h.W,Ie=p.cc,$e=p.dc,rt=p.Mc,Ve=p.Nc,it=h.ka,ut=h.ka+h.T,xt=h.U,mt=xt+1>>1;for(it==0?W(Z,ne,null,null,de,Le,Je,he,de,Le,Je,he,R,q,null,null,xt):(W(p.ec,p.fc,Z,ne,Ie,$e,rt,Ve,de,Le,Je,he,R,q-P.A,R,q,xt),++S);it+2<ut;it+=2)Ie=de,$e=Le,rt=Je,Ve=he,Le+=h.Rc,he+=h.Rc,q+=2*P.A,W(Z,(ne+=2*h.fa)-h.fa,Z,ne,Ie,$e,rt,Ve,de,Le,Je,he,R,q-P.A,R,q,xt);return ne+=h.fa,h.j+ut<h.o?(n(p.ec,p.fc,Z,ne,xt),n(p.cc,p.dc,de,Le,mt),n(p.Mc,p.Nc,Je,he,mt),S--):1&ut||W(Z,ne,null,null,de,Le,Je,he,de,Le,Je,he,R,q+P.A,null,null,xt),S}function et(h,p,S){var P=h.F,R=[h.J];if(P!=null){var q=h.U,W=p.ba.S,Z=W==Ku||W==Qu;p=p.ba.f.RGBA;var ne=[0],de=h.ka;ne[0]=h.T,h.Kb&&(de==0?--ne[0]:(--de,R[0]-=h.width),h.j+h.ka+h.T==h.o&&(ne[0]=h.o-h.j-de));var Le=p.eb;de=p.fb+de*p.A,h=Zm(P,R[0],h.width,q,ne,Le,de+(Z?0:3),p.A),e(S==ne),h&&We(W)&&Lc(Le,de,Z,q,ne,p.A)}return 0}function Ze(h){var p=h.ma,S=p.ba.S,P=11>S,R=S==Vu||S==Ju||S==Ku||S==Pf||S==12||We(S);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!gi(p.Oa,h,R?11:12))return 0;if(R&&We(S)&&yc(),h.da)alert("todo:use_scaling");else{if(P){if(p.Ib=z,h.Kb){if(S=h.U+1>>1,p.memory=a(h.U+2*S),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+S,p.Ib=De,yc()}}else alert("todo:EmitYUV");R&&(p.Jb=et,P&&ho())}if(P&&!p1){for(h=0;256>h;++h)Aw[h]=89858*(h-128)+Zu>>Xu,Ew[h]=-22014*(h-128)+Zu,Pw[h]=-45773*(h-128),kw[h]=113618*(h-128)+Zu>>Xu;for(h=kc;h<Rf;++h)p=76283*(h-16)+Zu>>Xu,Fw[h-kc]=xn(p,255),Tw[h-kc]=xn(p+8>>4,15);p1=1}return 1}function bt(h){var p=h.ma,S=h.U,P=h.T;return e(!(1&h.ka)),0>=S||0>=P?0:(S=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,S),p.Dc+=S,1)}function Zt(h){h.ma.memory=null}function Xt(h,p,S,P){return se(h,8)!=47?0:(p[0]=se(h,14)+1,S[0]=se(h,14)+1,P[0]=se(h,1),se(h,3)!=0?0:!h.h)}function hr(h,p){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+se(p,S)+1}function re(h,p){return 120<p?p-120:1<=(S=((S=gw[p-1])>>4)*h+(8-(15&S)))?S:1;var S}function te(h,p,S){var P=X(S),R=h[p+=255&P].g-8;return 0<R&&(_e(S,S.u+8),P=X(S),p+=h[p].value,p+=P&(1<<R)-1),_e(S,S.u+h[p].g),h[p].value}function we(h,p,S){return S.g+=h.g,S.value+=h.value<<p>>>0,e(8>=S.g),h.g}function Ke(h,p,S){var P=h.xc;return e((p=P==0?0:h.vc[h.md*(S>>P)+(p>>P)])<h.Wb),h.Ya[p]}function It(h,p,S,P){var R=h.ab,q=h.c*p,W=h.C;p=W+p;var Z=S,ne=P;for(P=h.Ta,S=h.Ua;0<R--;){var de=h.gc[R],Le=W,Je=p,he=Z,Ie=ne,$e=(ne=P,Z=S,de.Ea);switch(e(Le<Je),e(Je<=de.nc),de.hc){case 2:el(he,Ie,(Je-Le)*$e,ne,Z);break;case 0:var rt=Le,Ve=Je,it=ne,ut=Z,xt=(Gt=de).Ea;rt==0&&(Na(he,Ie,null,null,1,it,ut),Bt(he,Ie+1,0,0,xt-1,it,ut+1),Ie+=xt,ut+=xt,++rt);for(var mt=1<<Gt.b,Qt=mt-1,zt=Me(xt,Gt.b),lr=Gt.K,Gt=Gt.w+(rt>>Gt.b)*zt;rt<Ve;){var vr=lr,_n=Gt,cr=1;for(Ca(he,Ie,it,ut-xt,1,it,ut);cr<xt;){var Yt=(cr&~Qt)+mt;Yt>xt&&(Yt=xt),(0,po[vr[_n++]>>8&15])(he,Ie+ +cr,it,ut+cr-xt,Yt-cr,it,ut+cr),cr=Yt}Ie+=xt,ut+=xt,++rt&Qt||(Gt+=zt)}Je!=de.nc&&n(ne,Z-$e,ne,Z+(Je-Le-1)*$e,$e);break;case 1:for($e=he,Ve=Ie,xt=(he=de.Ea)-(ut=he&~(it=(Ie=1<<de.b)-1)),rt=Me(he,de.b),mt=de.K,de=de.w+(Le>>de.b)*rt;Le<Je;){for(Qt=mt,zt=de,lr=new _t,Gt=Ve+ut,vr=Ve+he;Ve<Gt;)jt(Qt[zt++],lr),Ga(lr,$e,Ve,Ie,ne,Z),Ve+=Ie,Z+=Ie;Ve<vr&&(jt(Qt[zt++],lr),Ga(lr,$e,Ve,xt,ne,Z),Ve+=xt,Z+=xt),++Le&it||(de+=rt)}break;case 3:if(he==ne&&Ie==Z&&0<de.b){for(Ve=ne,he=$e=Z+(Je-Le)*$e-(ut=(Je-Le)*Me(de.Ea,de.b)),Ie=ne,it=Z,rt=[],ut=(xt=ut)-1;0<=ut;--ut)rt[ut]=Ie[it+ut];for(ut=xt-1;0<=ut;--ut)Ve[he+ut]=rt[ut];jc(de,Le,Je,ne,$e,ne,Z)}else jc(de,Le,Je,he,Ie,ne,Z)}Z=P,ne=S}ne!=S&&n(P,S,Z,ne,q)}function Rt(h,p){var S=h.V,P=h.Ba+h.c*h.C,R=p-h.C;if(e(p<=h.l.o),e(16>=R),0<R){var q=h.l,W=h.Ta,Z=h.Ua,ne=q.width;if(It(h,R,S,P),R=Z=[Z],e((S=h.C)<(P=p)),e(q.v<q.va),P>q.o&&(P=q.o),S<q.j){var de=q.j-S;S=q.j,R[0]+=de*ne}if(S>=P?S=0:(R[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=P-S,S=1),S){if(Z=Z[0],11>(S=h.ca).S){var Le=S.f.RGBA,Je=(P=S.S,R=q.U,q=q.T,de=Le.eb,Le.A),he=q;for(Le=Le.fb+h.Ma*Le.A;0<he--;){var Ie=W,$e=Z,rt=R,Ve=de,it=Le;switch(P){case Yu:Nc(Ie,$e,rt,Ve,it);break;case Vu:Li(Ie,$e,rt,Ve,it);break;case Ef:Li(Ie,$e,rt,Ve,it),Lc(Ve,it,0,rt,1,0);break;case s1:Rr(Ie,$e,rt,Ve,it);break;case Ju:lt(Ie,$e,rt,Ve,it,1);break;case Ff:lt(Ie,$e,rt,Ve,it,1),Lc(Ve,it,0,rt,1,0);break;case Ku:lt(Ie,$e,rt,Ve,it,0);break;case Qu:lt(Ie,$e,rt,Ve,it,0),Lc(Ve,it,1,rt,1,0);break;case Pf:La(Ie,$e,rt,Ve,it);break;case Tf:La(Ie,$e,rt,Ve,it),Xm(Ve,it,rt,1,0);break;case o1:Ir(Ie,$e,rt,Ve,it);break;default:e(0)}Z+=ne,Le+=Je}h.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=S.height)}}h.C=p,e(h.C<=h.i)}function Xe(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var S=h.Ya[p].G,P=h.Ya[p].H;if(0<S[1][P[1]+0].g||0<S[2][P[2]+0].g||0<S[3][P[3]+0].g)return 0}return 1}function Ft(h,p,S,P,R,q){if(h.Z!=0){var W=h.qd,Z=h.rd;for(e(ws[h.Z]!=null);p<S;++p)ws[h.Z](W,Z,P,R,P,R,q),W=P,Z=R,R+=q;h.qd=W,h.rd=Z}}function A(h,p){var S=h.l.ma,P=S.Z==0||S.Z==1?h.l.j:h.C;if(P=h.C<P?P:h.C,e(p<=h.l.o),p>P){var R=h.l.width,q=S.ca,W=S.tb+R*P,Z=h.V,ne=h.Ba+h.c*P,de=h.gc;e(h.ab==1),e(de[0].hc==3),rl(de[0],P,p,Z,ne,q,W),Ft(S,P,p,q,W,R)}h.C=h.Ma=p}function k(h,p,S,P,R,q,W){var Z=h.$/P,ne=h.$%P,de=h.m,Le=h.s,Je=S+h.$,he=Je;R=S+P*R;var Ie=S+P*q,$e=280+Le.ua,rt=h.Pb?Z:16777216,Ve=0<Le.ua?Le.Wa:null,it=Le.wc,ut=Je<Ie?Ke(Le,ne,Z):null;e(h.C<q),e(Ie<=R);var xt=!1;e:for(;;){for(;xt||Je<Ie;){var mt=0;if(Z>=rt){var Qt=Je-S;e((rt=h).Pb),rt.wd=rt.m,rt.xd=Qt,0<rt.s.ua&&Pt(rt.s.Wa,rt.s.vb),rt=Z+mw}if(ne&it||(ut=Ke(Le,ne,Z)),e(ut!=null),ut.Qb&&(p[Je]=ut.qb,xt=!0),!xt)if(Ne(de),ut.jc){mt=de,Qt=p;var zt=Je,lr=ut.pd[X(mt)&ja-1];e(ut.jc),256>lr.g?(_e(mt,mt.u+lr.g),Qt[zt]=lr.value,mt=0):(_e(mt,mt.u+lr.g-256),e(256<=lr.value),mt=lr.value),mt==0&&(xt=!0)}else mt=te(ut.G[0],ut.H[0],de);if(de.h)break;if(xt||256>mt){if(!xt)if(ut.nd)p[Je]=(ut.qb|mt<<8)>>>0;else{if(Ne(de),xt=te(ut.G[1],ut.H[1],de),Ne(de),Qt=te(ut.G[2],ut.H[2],de),zt=te(ut.G[3],ut.H[3],de),de.h)break;p[Je]=(zt<<24|xt<<16|mt<<8|Qt)>>>0}if(xt=!1,++Je,++ne>=P&&(ne=0,++Z,W!=null&&Z<=q&&!(Z%16)&&W(h,Z),Ve!=null))for(;he<Je;)mt=p[he++],Ve.X[(506832829*mt&4294967295)>>>Ve.Mb]=mt}else if(280>mt){if(mt=hr(mt-256,de),Qt=te(ut.G[4],ut.H[4],de),Ne(de),Qt=re(P,Qt=hr(Qt,de)),de.h)break;if(Je-S<Qt||R-Je<mt)break e;for(zt=0;zt<mt;++zt)p[Je+zt]=p[Je+zt-Qt];for(Je+=mt,ne+=mt;ne>=P;)ne-=P,++Z,W!=null&&Z<=q&&!(Z%16)&&W(h,Z);if(e(Je<=R),ne&it&&(ut=Ke(Le,ne,Z)),Ve!=null)for(;he<Je;)mt=p[he++],Ve.X[(506832829*mt&4294967295)>>>Ve.Mb]=mt}else{if(!(mt<$e))break e;for(xt=mt-280,e(Ve!=null);he<Je;)mt=p[he++],Ve.X[(506832829*mt&4294967295)>>>Ve.Mb]=mt;mt=Je,e(!(xt>>>(Qt=Ve).Xa)),p[mt]=Qt.X[xt],xt=!0}xt||e(de.h==le(de))}if(h.Pb&&de.h&&Je<R)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Pt(h.s.vb,h.s.Wa);else{if(de.h)break e;W!=null&&W(h,Z>q?q:Z),h.a=0,h.$=Je-S}return 1}return h.a=3,0}function Q(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function ge(){var h=new Yr;return h==null?null:(h.a=0,h.xb=u1,ze("Predictor","VP8LPredictors"),ze("Predictor","VP8LPredictors_C"),ze("PredictorAdd","VP8LPredictorsAdd"),ze("PredictorAdd","VP8LPredictorsAdd_C"),el=gt,Ga=Nt,Nc=wt,Li=Kt,La=Pe,Ir=ve,Rr=Te,$.VP8LMapColor32b=tl,$.VP8LMapColor8b=go,h)}function je(h,p,S,P,R){var q=1,W=[h],Z=[p],ne=P.m,de=P.s,Le=null,Je=0;e:for(;;){if(S)for(;q&&se(ne,1);){var he=W,Ie=Z,$e=P,rt=1,Ve=$e.m,it=$e.gc[$e.ab],ut=se(Ve,2);if($e.Oc&1<<ut)q=0;else{switch($e.Oc|=1<<ut,it.hc=ut,it.Ea=he[0],it.nc=Ie[0],it.K=[null],++$e.ab,e(4>=$e.ab),ut){case 0:case 1:it.b=se(Ve,3)+2,rt=je(Me(it.Ea,it.b),Me(it.nc,it.b),0,$e,it.K),it.K=it.K[0];break;case 3:var xt,mt=se(Ve,8)+1,Qt=16<mt?0:4<mt?1:2<mt?2:3;if(he[0]=Me(it.Ea,Qt),it.b=Qt,xt=rt=je(mt,1,0,$e,it.K)){var zt,lr=mt,Gt=it,vr=1<<(8>>Gt.b),_n=a(vr);if(_n==null)xt=0;else{var cr=Gt.K[0],Yt=Gt.w;for(_n[0]=Gt.K[0][0],zt=1;zt<1*lr;++zt)_n[zt]=dt(cr[Yt+zt],_n[zt-1]);for(;zt<4*vr;++zt)_n[zt]=0;Gt.K[0]=null,Gt.K[0]=_n,xt=1}}rt=xt;break;case 2:break;default:e(0)}q=rt}}if(W=W[0],Z=Z[0],q&&se(ne,1)&&!(q=1<=(Je=se(ne,4))&&11>=Je)){P.a=3;break e}var Dt;if(Dt=q)t:{var on,ar,yr,qr=P,Bn=W,ii=Z,Xr=Je,Wn=S,ai=qr.m,wn=qr.s,xr=[null],Cr=1,Zr=0,Lr=pw[Xr];r:for(;;){if(Wn&&se(ai,1)){var Mn=se(ai,3)+2,aa=Me(Bn,Mn),ln=Me(ii,Mn),mi=aa*ln;if(!je(aa,ln,0,qr,xr))break r;for(xr=xr[0],wn.xc=Mn,on=0;on<mi;++on){var Tr=xr[on]>>8&65535;xr[on]=Tr,Tr>=Cr&&(Cr=Tr+1)}}if(ai.h)break r;for(ar=0;5>ar;++ar){var Sn=l1[ar];!ar&&0<Xr&&(Sn+=1<<Xr),Zr<Sn&&(Zr=Sn)}var ki=o(Cr*Lr,ue),si=Cr,Pi=o(si,H);if(Pi==null)var Ei=null;else e(65536>=si),Ei=Pi;var vi=a(Zr);if(Ei==null||vi==null||ki==null){qr.a=1;break r}var Fi=ki;for(on=yr=0;on<Cr;++on){var Or=Ei[on],Ti=Or.G,sa=Or.H,mo=0,Ja=1,Un=0;for(ar=0;5>ar;++ar){Sn=l1[ar],Ti[ar]=Fi,sa[ar]=yr,!ar&&0<Xr&&(Sn+=1<<Xr);i:{var td,Of=Sn,rd=qr,Pc=vi,Rw=Fi,Ow=yr,Bf=0,Ss=rd.m,Bw=se(Ss,1);if(i(Pc,0,0,Of),Bw){var Mw=se(Ss,1)+1,Uw=se(Ss,1),b1=se(Ss,Uw==0?1:8);Pc[b1]=1,Mw==2&&(Pc[b1=se(Ss,8)]=1);var nd=1}else{var y1=a(19),x1=se(Ss,4)+4;if(19<x1){rd.a=3;var id=0;break i}for(td=0;td<x1;++td)y1[fw[td]]=se(Ss,3);var Mf=void 0,Ec=void 0,_1=rd,qw=y1,ad=Of,w1=Pc,Uf=0,js=_1.m,S1=8,j1=o(128,ue);n:for(;G(j1,0,7,qw,19);){if(se(js,1)){var $w=2+2*se(js,3);if((Mf=2+se(js,$w))>ad)break n}else Mf=ad;for(Ec=0;Ec<ad&&Mf--;){Ne(js);var N1=j1[0+(127&X(js))];_e(js,js.u+N1.g);var il=N1.value;if(16>il)w1[Ec++]=il,il!=0&&(S1=il);else{var zw=il==16,C1=il-16,Ww=dw[C1],L1=se(js,uw[C1])+Ww;if(Ec+L1>ad)break n;for(var Hw=zw?S1:0;0<L1--;)w1[Ec++]=Hw}}Uf=1;break n}Uf||(_1.a=3),nd=Uf}(nd=nd&&!Ss.h)&&(Bf=G(Rw,Ow,8,Pc,Of)),nd&&Bf!=0?id=Bf:(rd.a=3,id=0)}if(id==0)break r;if(Ja&&hw[ar]==1&&(Ja=Fi[yr].g==0),mo+=Fi[yr].g,yr+=id,3>=ar){var Fc,qf=vi[0];for(Fc=1;Fc<Sn;++Fc)vi[Fc]>qf&&(qf=vi[Fc]);Un+=qf}}if(Or.nd=Ja,Or.Qb=0,Ja&&(Or.qb=(Ti[3][sa[3]+0].value<<24|Ti[1][sa[1]+0].value<<16|Ti[2][sa[2]+0].value)>>>0,mo==0&&256>Ti[0][sa[0]+0].value&&(Or.Qb=1,Or.qb+=Ti[0][sa[0]+0].value<<8)),Or.jc=!Or.Qb&&6>Un,Or.jc){var sd,Ka=Or;for(sd=0;sd<ja;++sd){var Ns=sd,Cs=Ka.pd[Ns],od=Ka.G[0][Ka.H[0]+Ns];256<=od.value?(Cs.g=od.g+256,Cs.value=od.value):(Cs.g=0,Cs.value=0,Ns>>=we(od,8,Cs),Ns>>=we(Ka.G[1][Ka.H[1]+Ns],16,Cs),Ns>>=we(Ka.G[2][Ka.H[2]+Ns],0,Cs),we(Ka.G[3][Ka.H[3]+Ns],24,Cs))}}}wn.vc=xr,wn.Wb=Cr,wn.Ya=Ei,wn.yc=ki,Dt=1;break t}Dt=0}if(!(q=Dt)){P.a=3;break e}if(0<Je){if(de.ua=1<<Je,!oe(de.Wa,Je)){P.a=1,q=0;break e}}else de.ua=0;var $f=P,A1=W,Gw=Z,zf=$f.s,Wf=zf.xc;if($f.c=A1,$f.i=Gw,zf.md=Me(A1,Wf),zf.wc=Wf==0?-1:(1<<Wf)-1,S){P.xb=Sw;break e}if((Le=a(W*Z))==null){P.a=1,q=0;break e}q=(q=k(P,Le,0,W,Z,Z,null))&&!ne.h;break e}return q?(R!=null?R[0]=Le:(e(Le==null),e(S)),P.$=0,S||Q(de)):Q(de),q}function T(h,p){var S=h.c*h.i,P=S+p+16*p;return e(h.c<=p),h.V=a(P),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+p,1)}function w(h,p){var S=h.C,P=p-S,R=h.V,q=h.Ba+h.c*S;for(e(p<=h.l.o);0<P;){var W=16<P?16:P,Z=h.l.ma,ne=h.l.width,de=ne*W,Le=Z.ca,Je=Z.tb+ne*S,he=h.Ta,Ie=h.Ua;It(h,W,R,q),e1(he,Ie,Le,Je,de),Ft(Z,S,S+W,Le,Je,ne),P-=W,R+=W*h.c,S+=W}e(S==p),h.C=h.Ma=p}function K(){this.ub=this.yd=this.td=this.Rb=0}function J(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ue(){this.Yb=function(){var h=[];return function p(S,P,R){for(var q=R[P],W=0;W<q&&(S.push(R.length>P+1?[]:0),!(R.length<P+1));W++)p(S[W],P+1,R)}(h,0,[3,11]),h}()}function F(){this.jb=a(3),this.Wc=l([4,8],Ue),this.Xc=l([4,17],Ue)}function ce(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function me(){this.ld=this.La=this.dd=this.tc=0}function ye(){this.Na=this.la=0}function Ee(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ke(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ht(){this.uc=this.M=this.Nb=0,this.wa=Array(new me),this.Y=0,this.ya=Array(new ke),this.aa=0,this.l=new nt}function ft(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ct(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new K,this.Kc=new J,this.ed=new ce,this.Qa=new pe,this.Ic=this.$c=this.Aa=0,this.D=new ht,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,E),this.ia=0,this.pb=o(4,Ee),this.Pa=new F,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ft),this.Hd=0,this.rb=Array(new ye),this.sb=0,this.wa=Array(new me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ke),this.L=this.aa=0,this.gd=l([4,2],me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pt(){var h=new ct;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Ac||(Ac=dr)),h}function kt(h,p,S){return h.a==0&&(h.a=p,h.sc=S,h.cb=0),0}function wr(h,p,S){return 3<=S&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function br(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return kt(h,2,"null VP8Io passed to VP8GetHeaders()");var S=p.data,P=p.w,R=p.ha;if(4>R)return kt(h,7,"Truncated header.");var q=S[P+0]|S[P+1]<<8|S[P+2]<<16,W=h.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return kt(h,3,"Incorrect keyframe parameters.");if(!W.yd)return kt(h,4,"Frame not displayable.");P+=3,R-=3;var Z=h.Kc;if(W.Rb){if(7>R)return kt(h,7,"cannot parse picture header");if(!wr(S,P,R))return kt(h,3,"Bad code word");Z.c=16383&(S[P+4]<<8|S[P+3]),Z.Td=S[P+4]>>6,Z.i=16383&(S[P+6]<<8|S[P+5]),Z.Ud=S[P+6]>>6,P+=7,R-=7,h.za=Z.c+15>>4,h.Ub=Z.i+15>>4,p.width=Z.c,p.height=Z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((q=h.Pa).jb,0,255,q.jb.length),e((q=h.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>R)return kt(h,7,"bad partition length");be(q=h.m,S,P,W.ub),P+=W.ub,R-=W.ub,W.Rb&&(Z.Ld=Ae(q),Z.Kd=Ae(q)),Z=h.Qa;var ne,de=h.Pa;if(e(q!=null),e(Z!=null),Z.Cb=Ae(q),Z.Cb){if(Z.Bb=Ae(q),Ae(q)){for(Z.Fb=Ae(q),ne=0;4>ne;++ne)Z.Zb[ne]=Ae(q)?ie(q,7):0;for(ne=0;4>ne;++ne)Z.Lb[ne]=Ae(q)?ie(q,6):0}if(Z.Bb)for(ne=0;3>ne;++ne)de.jb[ne]=Ae(q)?Ce(q,8):255}else Z.Bb=0;if(q.Ka)return kt(h,3,"cannot parse segment header");if((Z=h.ed).zd=Ae(q),Z.Tb=Ce(q,6),Z.wb=Ce(q,3),Z.Pc=Ae(q),Z.Pc&&Ae(q)){for(de=0;4>de;++de)Ae(q)&&(Z.vd[de]=ie(q,6));for(de=0;4>de;++de)Ae(q)&&(Z.od[de]=ie(q,6))}if(h.L=Z.Tb==0?0:Z.zd?1:2,q.Ka)return kt(h,3,"cannot parse filter header");var Le=R;if(R=ne=P,P=ne+Le,Z=Le,h.Xb=(1<<Ce(h.m,2))-1,Le<3*(de=h.Xb))S=7;else{for(ne+=3*de,Z-=3*de,Le=0;Le<de;++Le){var Je=S[R+0]|S[R+1]<<8|S[R+2]<<16;Je>Z&&(Je=Z),be(h.Jc[+Le],S,ne,Je),ne+=Je,Z-=Je,R+=3}be(h.Jc[+de],S,ne,Z),S=ne<P?0:5}if(S!=0)return kt(h,S,"cannot parse partitions");for(S=Ce(ne=h.m,7),R=Ae(ne)?ie(ne,4):0,P=Ae(ne)?ie(ne,4):0,Z=Ae(ne)?ie(ne,4):0,de=Ae(ne)?ie(ne,4):0,ne=Ae(ne)?ie(ne,4):0,Le=h.Qa,Je=0;4>Je;++Je){if(Le.Cb){var he=Le.Zb[Je];Le.Fb||(he+=S)}else{if(0<Je){h.pb[Je]=h.pb[0];continue}he=S}var Ie=h.pb[Je];Ie.Sc[0]=Df[xn(he+R,127)],Ie.Sc[1]=If[xn(he+0,127)],Ie.Eb[0]=2*Df[xn(he+P,127)],Ie.Eb[1]=101581*If[xn(he+Z,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Df[xn(he+de,117)],Ie.Qc[1]=If[xn(he+ne,127)],Ie.lc=he+ne}if(!W.Rb)return kt(h,4,"Not a key frame.");for(Ae(q),W=h.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(P=0;3>P;++P)for(Z=0;11>Z;++Z)de=Ge(q,_w[S][R][P][Z])?Ce(q,8):yw[S][R][P][Z],W.Wc[S][R].Yb[P][Z]=de;for(R=0;17>R;++R)W.Xc[S][R]=W.Wc[S][ww[R]]}return h.kc=Ae(q),h.kc&&(h.Bd=Ce(q,8)),h.cb=1}function dr(h,p,S,P,R,q,W){var Z=p[R].Yb[S];for(S=0;16>R;++R){if(!Ge(h,Z[S+0]))return R;for(;!Ge(h,Z[S+1]);)if(Z=p[++R].Yb[0],S=0,R==16)return 16;var ne=p[R+1].Yb;if(Ge(h,Z[S+2])){var de=h,Le=0;if(Ge(de,(he=Z)[(Je=S)+3]))if(Ge(de,he[Je+6])){for(Z=0,Je=2*(Le=Ge(de,he[Je+8]))+(he=Ge(de,he[Je+9+Le])),Le=0,he=vw[Je];he[Z];++Z)Le+=Le+Ge(de,he[Z]);Le+=3+(8<<Je)}else Ge(de,he[Je+7])?(Le=7+2*Ge(de,165),Le+=Ge(de,145)):Le=5+Ge(de,159);else Le=Ge(de,he[Je+4])?3+Ge(de,he[Je+5]):2;Z=ne[2]}else Le=1,Z=ne[1];ne=W+bw[R],0>(de=h).b&&Be(de);var Je,he=de.b,Ie=(Je=de.Ca>>1)-(de.I>>he)>>31;--de.b,de.Ca+=Ie,de.Ca|=1,de.I-=(Je+1&Ie)<<he,q[ne]=((Le^Ie)-Ie)*P[(0<R)+0]}return 16}function Sr(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function nr(h,p,S,P,R){R=h[p+S+32*P]+(R>>3),h[p+S+32*P]=-256&R?0>R?0:255:R}function bn(h,p,S,P,R,q){nr(h,p,0,S,P+R),nr(h,p,1,S,P+q),nr(h,p,2,S,P-q),nr(h,p,3,S,P-R)}function Nr(h){return(20091*h>>16)+h}function ur(h,p,S,P){var R,q=0,W=a(16);for(R=0;4>R;++R){var Z=h[p+0]+h[p+8],ne=h[p+0]-h[p+8],de=(35468*h[p+4]>>16)-Nr(h[p+12]),Le=Nr(h[p+4])+(35468*h[p+12]>>16);W[q+0]=Z+Le,W[q+1]=ne+de,W[q+2]=ne-de,W[q+3]=Z-Le,q+=4,p++}for(R=q=0;4>R;++R)Z=(h=W[q+0]+4)+W[q+8],ne=h-W[q+8],de=(35468*W[q+4]>>16)-Nr(W[q+12]),nr(S,P,0,0,Z+(Le=Nr(W[q+4])+(35468*W[q+12]>>16))),nr(S,P,1,0,ne+de),nr(S,P,2,0,ne-de),nr(S,P,3,0,Z-Le),q++,P+=32}function _a(h,p,S,P){var R=h[p+0]+4,q=35468*h[p+4]>>16,W=Nr(h[p+4]),Z=35468*h[p+1]>>16;bn(S,P,0,R+W,h=Nr(h[p+1]),Z),bn(S,P,1,R+q,h,Z),bn(S,P,2,R-q,h,Z),bn(S,P,3,R-W,h,Z)}function ra(h,p,S,P,R){ur(h,p,S,P),R&&ur(h,p+16,S,P+4)}function Wo(h,p,S,P){sn(h,p+0,S,P,1),sn(h,p+32,S,P+128,1)}function Ni(h,p,S,P){var R;for(h=h[p+0]+4,R=0;4>R;++R)for(p=0;4>p;++p)nr(S,P,p,R,h)}function io(h,p,S,P){h[p+0]&&Aa(h,p+0,S,P),h[p+16]&&Aa(h,p+16,S,P+4),h[p+32]&&Aa(h,p+32,S,P+128),h[p+48]&&Aa(h,p+48,S,P+128+4)}function Ho(h,p,S,P){var R,q=a(16);for(R=0;4>R;++R){var W=h[p+0+R]+h[p+12+R],Z=h[p+4+R]+h[p+8+R],ne=h[p+4+R]-h[p+8+R],de=h[p+0+R]-h[p+12+R];q[0+R]=W+Z,q[8+R]=W-Z,q[4+R]=de+ne,q[12+R]=de-ne}for(R=0;4>R;++R)W=(h=q[0+4*R]+3)+q[3+4*R],Z=q[1+4*R]+q[2+4*R],ne=q[1+4*R]-q[2+4*R],de=h-q[3+4*R],S[P+0]=W+Z>>3,S[P+16]=de+ne>>3,S[P+32]=W-Z>>3,S[P+48]=de-ne>>3,P+=64}function wa(h,p,S){var P,R=p-32,q=Ai,W=255-h[R-1];for(P=0;P<S;++P){var Z,ne=q,de=W+h[p-1];for(Z=0;Z<S;++Z)h[p+Z]=ne[de+h[R+Z]];p+=32}}function cc(h,p){wa(h,p,4)}function mf(h,p){wa(h,p,8)}function vf(h,p){wa(h,p,16)}function bf(h,p){var S;for(S=0;16>S;++S)n(h,p+32*S,h,p-32,16)}function uc(h,p){var S;for(S=16;0<S;--S)i(h,p,h[p-1],16),p+=32}function ao(h,p,S){var P;for(P=0;16>P;++P)i(p,S+32*P,h,16)}function ps(h,p){var S,P=16;for(S=0;16>S;++S)P+=h[p-1+32*S]+h[p+S-32];ao(P>>5,h,p)}function yf(h,p){var S,P=8;for(S=0;16>S;++S)P+=h[p-1+32*S];ao(P>>4,h,p)}function so(h,p){var S,P=8;for(S=0;16>S;++S)P+=h[p+S-32];ao(P>>4,h,p)}function dc(h,p){ao(128,h,p)}function rr(h,p,S){return h+2*p+S+2>>2}function xf(h,p){var S,P=p-32;for(P=new Uint8Array([rr(h[P-1],h[P+0],h[P+1]),rr(h[P+0],h[P+1],h[P+2]),rr(h[P+1],h[P+2],h[P+3]),rr(h[P+2],h[P+3],h[P+4])]),S=0;4>S;++S)n(h,p+32*S,P,0,P.length)}function _f(h,p){var S=h[p-1],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96];Qe(h,p+0,16843009*rr(h[p-1-32],S,P)),Qe(h,p+32,16843009*rr(S,P,R)),Qe(h,p+64,16843009*rr(P,R,q)),Qe(h,p+96,16843009*rr(R,q,q))}function wf(h,p){var S,P=4;for(S=0;4>S;++S)P+=h[p+S-32]+h[p-1+32*S];for(P>>=3,S=0;4>S;++S)i(h,p+32*S,P,4)}function Sf(h,p){var S=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1-32],W=h[p+0-32],Z=h[p+1-32],ne=h[p+2-32],de=h[p+3-32];h[p+0+96]=rr(P,R,h[p-1+96]),h[p+1+96]=h[p+0+64]=rr(S,P,R),h[p+2+96]=h[p+1+64]=h[p+0+32]=rr(q,S,P),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=rr(W,q,S),h[p+3+64]=h[p+2+32]=h[p+1+0]=rr(Z,W,q),h[p+3+32]=h[p+2+0]=rr(ne,Z,W),h[p+3+0]=rr(de,ne,Z)}function qa(h,p){var S=h[p+1-32],P=h[p+2-32],R=h[p+3-32],q=h[p+4-32],W=h[p+5-32],Z=h[p+6-32],ne=h[p+7-32];h[p+0+0]=rr(h[p+0-32],S,P),h[p+1+0]=h[p+0+32]=rr(S,P,R),h[p+2+0]=h[p+1+32]=h[p+0+64]=rr(P,R,q),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=rr(R,q,W),h[p+3+32]=h[p+2+64]=h[p+1+96]=rr(q,W,Z),h[p+3+64]=h[p+2+96]=rr(W,Z,ne),h[p+3+96]=rr(Z,ne,ne)}function $a(h,p){var S=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1-32],W=h[p+0-32],Z=h[p+1-32],ne=h[p+2-32],de=h[p+3-32];h[p+0+0]=h[p+1+64]=q+W+1>>1,h[p+1+0]=h[p+2+64]=W+Z+1>>1,h[p+2+0]=h[p+3+64]=Z+ne+1>>1,h[p+3+0]=ne+de+1>>1,h[p+0+96]=rr(R,P,S),h[p+0+64]=rr(P,S,q),h[p+0+32]=h[p+1+96]=rr(S,q,W),h[p+1+32]=h[p+2+96]=rr(q,W,Z),h[p+2+32]=h[p+3+96]=rr(W,Z,ne),h[p+3+32]=rr(Z,ne,de)}function jf(h,p){var S=h[p+0-32],P=h[p+1-32],R=h[p+2-32],q=h[p+3-32],W=h[p+4-32],Z=h[p+5-32],ne=h[p+6-32],de=h[p+7-32];h[p+0+0]=S+P+1>>1,h[p+1+0]=h[p+0+64]=P+R+1>>1,h[p+2+0]=h[p+1+64]=R+q+1>>1,h[p+3+0]=h[p+2+64]=q+W+1>>1,h[p+0+32]=rr(S,P,R),h[p+1+32]=h[p+0+96]=rr(P,R,q),h[p+2+32]=h[p+1+96]=rr(R,q,W),h[p+3+32]=h[p+2+96]=rr(q,W,Z),h[p+3+64]=rr(W,Z,ne),h[p+3+96]=rr(Z,ne,de)}function Nf(h,p){var S=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96];h[p+0+0]=S+P+1>>1,h[p+2+0]=h[p+0+32]=P+R+1>>1,h[p+2+32]=h[p+0+64]=R+q+1>>1,h[p+1+0]=rr(S,P,R),h[p+3+0]=h[p+1+32]=rr(P,R,q),h[p+3+32]=h[p+1+64]=rr(R,q,q),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=q}function Go(h,p){var S=h[p-1+0],P=h[p-1+32],R=h[p-1+64],q=h[p-1+96],W=h[p-1-32],Z=h[p+0-32],ne=h[p+1-32],de=h[p+2-32];h[p+0+0]=h[p+2+32]=S+W+1>>1,h[p+0+32]=h[p+2+64]=P+S+1>>1,h[p+0+64]=h[p+2+96]=R+P+1>>1,h[p+0+96]=q+R+1>>1,h[p+3+0]=rr(Z,ne,de),h[p+2+0]=rr(W,Z,ne),h[p+1+0]=h[p+3+32]=rr(S,W,Z),h[p+1+32]=h[p+3+64]=rr(P,S,W),h[p+1+64]=h[p+3+96]=rr(R,P,S),h[p+1+96]=rr(q,R,P)}function hc(h,p){var S;for(S=0;8>S;++S)n(h,p+32*S,h,p-32,8)}function oo(h,p){var S;for(S=0;8>S;++S)i(h,p,h[p-1],8),p+=32}function Yo(h,p,S){var P;for(P=0;8>P;++P)i(p,S+32*P,h,8)}function Vo(h,p){var S,P=8;for(S=0;8>S;++S)P+=h[p+S-32]+h[p-1+32*S];Yo(P>>4,h,p)}function Cf(h,p){var S,P=4;for(S=0;8>S;++S)P+=h[p+S-32];Yo(P>>3,h,p)}function fc(h,p){var S,P=4;for(S=0;8>S;++S)P+=h[p-1+32*S];Yo(P>>3,h,p)}function gc(h,p){Yo(128,h,p)}function lo(h,p,S){var P=h[p-S],R=h[p+0],q=3*(R-P)+kf[1020+h[p-2*S]-h[p+S]],W=Gu[112+(q+4>>3)];h[p-S]=Ai[255+P+Gu[112+(q+3>>3)]],h[p+0]=Ai[255+R-W]}function co(h,p,S,P){var R=h[p+0],q=h[p+S];return Hi[255+h[p-2*S]-h[p-S]]>P||Hi[255+q-R]>P}function pc(h,p,S,P){return 4*Hi[255+h[p-S]-h[p+0]]+Hi[255+h[p-2*S]-h[p+S]]<=P}function Jo(h,p,S,P,R){var q=h[p-3*S],W=h[p-2*S],Z=h[p-S],ne=h[p+0],de=h[p+S],Le=h[p+2*S],Je=h[p+3*S];return 4*Hi[255+Z-ne]+Hi[255+W-de]>P?0:Hi[255+h[p-4*S]-q]<=R&&Hi[255+q-W]<=R&&Hi[255+W-Z]<=R&&Hi[255+Je-Le]<=R&&Hi[255+Le-de]<=R&&Hi[255+de-ne]<=R}function mc(h,p,S,P){var R=2*P+1;for(P=0;16>P;++P)pc(h,p+P,S,R)&&lo(h,p+P,S)}function uo(h,p,S,P){var R=2*P+1;for(P=0;16>P;++P)pc(h,p+P*S,1,R)&&lo(h,p+P*S,1)}function vc(h,p,S,P){var R;for(R=3;0<R;--R)mc(h,p+=4*S,S,P)}function bc(h,p,S,P){var R;for(R=3;0<R;--R)uo(h,p+=4,S,P)}function Ci(h,p,S,P,R,q,W,Z){for(q=2*q+1;0<R--;){if(Jo(h,p,S,q,W))if(co(h,p,S,Z))lo(h,p,S);else{var ne=h,de=p,Le=S,Je=ne[de-2*Le],he=ne[de-Le],Ie=ne[de+0],$e=ne[de+Le],rt=ne[de+2*Le],Ve=27*(ut=kf[1020+3*(Ie-he)+kf[1020+Je-$e]])+63>>7,it=18*ut+63>>7,ut=9*ut+63>>7;ne[de-3*Le]=Ai[255+ne[de-3*Le]+ut],ne[de-2*Le]=Ai[255+Je+it],ne[de-Le]=Ai[255+he+Ve],ne[de+0]=Ai[255+Ie-Ve],ne[de+Le]=Ai[255+$e-it],ne[de+2*Le]=Ai[255+rt-ut]}p+=P}}function Sa(h,p,S,P,R,q,W,Z){for(q=2*q+1;0<R--;){if(Jo(h,p,S,q,W))if(co(h,p,S,Z))lo(h,p,S);else{var ne=h,de=p,Le=S,Je=ne[de-Le],he=ne[de+0],Ie=ne[de+Le],$e=Gu[112+(4+(rt=3*(he-Je))>>3)],rt=Gu[112+(rt+3>>3)],Ve=$e+1>>1;ne[de-2*Le]=Ai[255+ne[de-2*Le]+Ve],ne[de-Le]=Ai[255+Je+rt],ne[de+0]=Ai[255+he-$e],ne[de+Le]=Ai[255+Ie-Ve]}p+=P}}function y(h,p,S,P,R,q){Ci(h,p,S,1,16,P,R,q)}function O(h,p,S,P,R,q){Ci(h,p,1,S,16,P,R,q)}function fe(h,p,S,P,R,q){var W;for(W=3;0<W;--W)Sa(h,p+=4*S,S,1,16,P,R,q)}function Se(h,p,S,P,R,q){var W;for(W=3;0<W;--W)Sa(h,p+=4,1,S,16,P,R,q)}function qe(h,p,S,P,R,q,W,Z){Ci(h,p,R,1,8,q,W,Z),Ci(S,P,R,1,8,q,W,Z)}function ot(h,p,S,P,R,q,W,Z){Ci(h,p,1,R,8,q,W,Z),Ci(S,P,1,R,8,q,W,Z)}function vt(h,p,S,P,R,q,W,Z){Sa(h,p+4*R,R,1,8,q,W,Z),Sa(S,P+4*R,R,1,8,q,W,Z)}function Ht(h,p,S,P,R,q,W,Z){Sa(h,p+4,1,R,8,q,W,Z),Sa(S,P+4,1,R,8,q,W,Z)}function Jt(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function er(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jr(){this.ua=0,this.Wa=new Et,this.vb=new Et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new ue}function Yr(){this.xb=this.a=0,this.l=new nt,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jr,this.ab=0,this.gc=o(4,sr),this.Oc=0}function pn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(h,p,S,P,R,q,W){for(h=h==null?0:h[p+0],p=0;p<W;++p)R[q+p]=h+S[P+p]&255,h=R[q+p]}function yn(h,p,S,P,R,q,W){var Z;if(h==null)Fr(null,null,S,P,R,q,W);else for(Z=0;Z<W;++Z)R[q+Z]=h[p+Z]+S[P+Z]&255}function mn(h,p,S,P,R,q,W){if(h==null)Fr(null,null,S,P,R,q,W);else{var Z,ne=h[p+0],de=ne,Le=ne;for(Z=0;Z<W;++Z)de=Le+(ne=h[p+Z])-de,Le=S[P+Z]+(-256&de?0>de?0:255:de)&255,de=ne,R[q+Z]=Le}}function On(h,p,S,P){var R=p.width,q=p.o;if(e(h!=null&&p!=null),0>S||0>=P||S+P>q)return null;if(!h.Cc){if(h.ga==null){var W;if(h.ga=new pn,(W=h.ga==null)||(W=p.width*p.o,e(h.Gb.length==0),h.Gb=a(W),h.Uc=0,h.Gb==null?W=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,W=1),W=!W),!W){W=h.ga;var Z=h.Fa,ne=h.P,de=h.qc,Le=h.mb,Je=h.nb,he=ne+1,Ie=de-1,$e=W.l;if(e(Z!=null&&Le!=null&&p!=null),ws[0]=null,ws[1]=Fr,ws[2]=yn,ws[3]=mn,W.ca=Le,W.tb=Je,W.c=p.width,W.i=p.height,e(0<W.c&&0<W.i),1>=de)p=0;else if(W.$a=3&Z[ne+0],W.Z=Z[ne+0]>>2&3,W.Lc=Z[ne+0]>>4&3,ne=Z[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)p=0;else if($e.put=bt,$e.ac=Ze,$e.bc=Zt,$e.ma=W,$e.width=p.width,$e.height=p.height,$e.Da=p.Da,$e.v=p.v,$e.va=p.va,$e.j=p.j,$e.o=p.o,W.$a)e:{e(W.$a==1),p=ge();t:for(;;){if(p==null){p=0;break e}if(e(W!=null),W.mc=p,p.c=W.c,p.i=W.i,p.l=W.l,p.l.ma=W,p.l.width=W.c,p.l.height=W.i,p.a=0,xe(p.m,Z,he,Ie),!je(W.c,W.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Xe(p.s)?(W.ic=1,Z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=a(Z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(W.ic=0,p=T(p,W.c)),!p))break t;p=1;break e}W.mc=null,p=0}else p=Ie>=W.c*W.i;W=!p}if(W)return null;h.ga.Lc!=1?h.Ga=0:P=q-S}e(h.ga!=null),e(S+P<=q);e:{if(p=(Z=h.ga).c,q=Z.l.o,Z.$a==0){if(he=h.rc,Ie=h.Vc,$e=h.Fa,ne=h.P+1+S*p,de=h.mb,Le=h.nb+S*p,e(ne<=h.P+h.qc),Z.Z!=0)for(e(ws[Z.Z]!=null),W=0;W<P;++W)ws[Z.Z](he,Ie,$e,ne,de,Le,p),he=de,Ie=Le,Le+=p,ne+=p;else for(W=0;W<P;++W)n(de,Le,$e,ne,p),he=de,Ie=Le,Le+=p,ne+=p;h.rc=he,h.Vc=Ie}else{if(e(Z.mc!=null),p=S+P,e((W=Z.mc)!=null),e(p<=W.i),W.C>=p)p=1;else if(Z.ic||ho(),Z.ic){Z=W.V,he=W.Ba,Ie=W.c;var rt=W.i,Ve=($e=1,ne=W.$/Ie,de=W.$%Ie,Le=W.m,Je=W.s,W.$),it=Ie*rt,ut=Ie*p,xt=Je.wc,mt=Ve<ut?Ke(Je,de,ne):null;e(Ve<=it),e(p<=rt),e(Xe(Je));t:for(;;){for(;!Le.h&&Ve<ut;){if(de&xt||(mt=Ke(Je,de,ne)),e(mt!=null),Ne(Le),256>(rt=te(mt.G[0],mt.H[0],Le)))Z[he+Ve]=rt,++Ve,++de>=Ie&&(de=0,++ne<=p&&!(ne%16)&&A(W,ne));else{if(!(280>rt)){$e=0;break t}rt=hr(rt-256,Le);var Qt,zt=te(mt.G[4],mt.H[4],Le);if(Ne(Le),!(Ve>=(zt=re(Ie,zt=hr(zt,Le)))&&it-Ve>=rt)){$e=0;break t}for(Qt=0;Qt<rt;++Qt)Z[he+Ve+Qt]=Z[he+Ve+Qt-zt];for(Ve+=rt,de+=rt;de>=Ie;)de-=Ie,++ne<=p&&!(ne%16)&&A(W,ne);Ve<ut&&de&xt&&(mt=Ke(Je,de,ne))}e(Le.h==le(Le))}A(W,ne>p?p:ne);break t}!$e||Le.h&&Ve<it?($e=0,W.a=Le.h?5:3):W.$=Ve,p=$e}else p=k(W,W.V,W.Ba,W.c,W.i,p,w);if(!p){P=0;break e}}S+P>=q&&(h.Cc=1),P=1}if(!P)return null;if(h.Cc&&((P=h.ga)!=null&&(P.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*R}function za(h,p,S,P,R,q){for(;0<R--;){var W,Z=h,ne=p+(S?1:0),de=h,Le=p+(S?0:3);for(W=0;W<P;++W){var Je=de[Le+4*W];Je!=255&&(Je*=32897,Z[ne+4*W+0]=Z[ne+4*W+0]*Je>>23,Z[ne+4*W+1]=Z[ne+4*W+1]*Je>>23,Z[ne+4*W+2]=Z[ne+4*W+2]*Je>>23)}p+=q}}function ms(h,p,S,P,R){for(;0<P--;){var q;for(q=0;q<S;++q){var W=h[p+2*q+0],Z=15&(de=h[p+2*q+1]),ne=4369*Z,de=(240&de|de>>4)*ne>>16;h[p+2*q+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,h[p+2*q+1]=240&de|Z}p+=R}}function Lf(h,p,S,P,R,q,W,Z){var ne,de,Le=255;for(de=0;de<R;++de){for(ne=0;ne<P;++ne){var Je=h[p+ne];q[W+4*ne]=Je,Le&=Je}p+=S,W+=Z}return Le!=255}function zu(h,p,S,P,R){var q;for(q=0;q<R;++q)S[P+q]=h[p+q]>>8}function ho(){Lc=za,Xm=ms,Zm=Lf,e1=zu}function na(h,p,S){$[h]=function(P,R,q,W,Z,ne,de,Le,Je,he,Ie,$e,rt,Ve,it,ut,xt){var mt,Qt=xt-1>>1,zt=Z[ne+0]|de[Le+0]<<16,lr=Je[he+0]|Ie[$e+0]<<16;e(P!=null);var Gt=3*zt+lr+131074>>2;for(p(P[R+0],255&Gt,Gt>>16,rt,Ve),q!=null&&(Gt=3*lr+zt+131074>>2,p(q[W+0],255&Gt,Gt>>16,it,ut)),mt=1;mt<=Qt;++mt){var vr=Z[ne+mt]|de[Le+mt]<<16,_n=Je[he+mt]|Ie[$e+mt]<<16,cr=zt+vr+lr+_n+524296,Yt=cr+2*(vr+lr)>>3;Gt=Yt+zt>>1,zt=(cr=cr+2*(zt+_n)>>3)+vr>>1,p(P[R+2*mt-1],255&Gt,Gt>>16,rt,Ve+(2*mt-1)*S),p(P[R+2*mt-0],255&zt,zt>>16,rt,Ve+(2*mt-0)*S),q!=null&&(Gt=cr+lr>>1,zt=Yt+_n>>1,p(q[W+2*mt-1],255&Gt,Gt>>16,it,ut+(2*mt-1)*S),p(q[W+2*mt+0],255&zt,zt>>16,it,ut+(2*mt+0)*S)),zt=vr,lr=_n}1&xt||(Gt=3*zt+lr+131074>>2,p(P[R+xt-1],255&Gt,Gt>>16,rt,Ve+(xt-1)*S),q!=null&&(Gt=3*lr+zt+131074>>2,p(q[W+xt-1],255&Gt,Gt>>16,it,ut+(xt-1)*S)))}}function yc(){Gi[Yu]=jw,Gi[Vu]=d1,Gi[s1]=Nw,Gi[Ju]=h1,Gi[Ku]=f1,Gi[Pf]=g1,Gi[o1]=Cw,Gi[Ef]=d1,Gi[Ff]=h1,Gi[Qu]=f1,Gi[Tf]=g1}function Ko(h){return h&-16384?0>h?0:255:h>>Lw}function vs(h,p){return Ko((19077*h>>8)+(26149*p>>8)-14234)}function En(h,p,S){return Ko((19077*h>>8)-(6419*p>>8)-(13320*S>>8)+8708)}function Wa(h,p){return Ko((19077*h>>8)+(33050*p>>8)-17685)}function Ha(h,p,S,P,R){P[R+0]=vs(h,S),P[R+1]=En(h,p,S),P[R+2]=Wa(h,p)}function Qo(h,p,S,P,R){P[R+0]=Wa(h,p),P[R+1]=En(h,p,S),P[R+2]=vs(h,S)}function xc(h,p,S,P,R){var q=En(h,p,S);p=q<<3&224|Wa(h,p)>>3,P[R+0]=248&vs(h,S)|q>>5,P[R+1]=p}function ni(h,p,S,P,R){var q=240&Wa(h,p)|15;P[R+0]=240&vs(h,S)|En(h,p,S)>>4,P[R+1]=q}function Wu(h,p,S,P,R){P[R+0]=255,Ha(h,p,S,P,R+1)}function Xo(h,p,S,P,R){Qo(h,p,S,P,R),P[R+3]=255}function Hu(h,p,S,P,R){Ha(h,p,S,P,R),P[R+3]=255}function xn(h,p){return 0>h?0:h>p?p:h}function Wi(h,p,S){$[h]=function(P,R,q,W,Z,ne,de,Le,Je){for(var he=Le+(-2&Je)*S;Le!=he;)p(P[R+0],q[W+0],Z[ne+0],de,Le),p(P[R+1],q[W+0],Z[ne+0],de,Le+S),R+=2,++W,++ne,Le+=2*S;1&Je&&p(P[R+0],q[W+0],Z[ne+0],de,Le)}}function _c(h,p,S){return S==0?h==0?p==0?6:5:p==0?4:0:S}function wc(h,p,S,P,R){switch(h>>>30){case 3:sn(p,S,P,R,0);break;case 2:Ya(p,S,P,R);break;case 1:Aa(p,S,P,R)}}function bs(h,p){var S,P,R=p.M,q=p.Nb,W=h.oc,Z=h.pc+40,ne=h.oc,de=h.pc+584,Le=h.oc,Je=h.pc+600;for(S=0;16>S;++S)W[Z+32*S-1]=129;for(S=0;8>S;++S)ne[de+32*S-1]=129,Le[Je+32*S-1]=129;for(0<R?W[Z-1-32]=ne[de-1-32]=Le[Je-1-32]=129:(i(W,Z-32-1,127,21),i(ne,de-32-1,127,9),i(Le,Je-32-1,127,9)),P=0;P<h.za;++P){var he=p.ya[p.aa+P];if(0<P){for(S=-1;16>S;++S)n(W,Z+32*S-4,W,Z+32*S+12,4);for(S=-1;8>S;++S)n(ne,de+32*S-4,ne,de+32*S+4,4),n(Le,Je+32*S-4,Le,Je+32*S+4,4)}var Ie=h.Gd,$e=h.Hd+P,rt=he.ad,Ve=he.Hc;if(0<R&&(n(W,Z-32,Ie[$e].y,0,16),n(ne,de-32,Ie[$e].f,0,8),n(Le,Je-32,Ie[$e].ea,0,8)),he.Za){var it=W,ut=Z-32+16;for(0<R&&(P>=h.za-1?i(it,ut,Ie[$e].y[15],4):n(it,ut,Ie[$e+1].y,0,4)),S=0;4>S;S++)it[ut+128+S]=it[ut+256+S]=it[ut+384+S]=it[ut+0+S];for(S=0;16>S;++S,Ve<<=2)it=W,ut=Z+m1[S],ia[he.Ob[S]](it,ut),wc(Ve,rt,16*+S,it,ut)}else if(it=_c(P,R,he.Ob[0]),_s[it](W,Z),Ve!=0)for(S=0;16>S;++S,Ve<<=2)wc(Ve,rt,16*+S,W,Z+m1[S]);for(S=he.Gc,it=_c(P,R,he.Dd),Va[it](ne,de),Va[it](Le,Je),Ve=rt,it=ne,ut=de,255&(he=0|S)&&(170&he?nl(Ve,256,it,ut):Cc(Ve,256,it,ut)),he=Le,Ve=Je,255&(S>>=8)&&(170&S?nl(rt,320,he,Ve):Cc(rt,320,he,Ve)),R<h.Ub-1&&(n(Ie[$e].y,0,W,Z+480,16),n(Ie[$e].f,0,ne,de+224,8),n(Ie[$e].ea,0,Le,Je+224,8)),S=8*q*h.B,Ie=h.sa,$e=h.ta+16*P+16*q*h.R,rt=h.qa,he=h.ra+8*P+S,Ve=h.Ha,it=h.Ia+8*P+S,S=0;16>S;++S)n(Ie,$e+S*h.R,W,Z+32*S,16);for(S=0;8>S;++S)n(rt,he+S*h.B,ne,de+32*S,8),n(Ve,it+S*h.B,Le,Je+32*S,8)}}function Zo(h,p,S,P,R,q,W,Z,ne){var de=[0],Le=[0],Je=0,he=ne!=null?ne.kd:0,Ie=ne??new er;if(h==null||12>S)return 7;Ie.data=h,Ie.w=p,Ie.ha=S,p=[p],S=[S],Ie.gb=[Ie.gb];e:{var $e=p,rt=S,Ve=Ie.gb;if(e(h!=null),e(rt!=null),e(Ve!=null),Ve[0]=0,12<=rt[0]&&!r(h,$e[0],"RIFF")){if(r(h,$e[0]+8,"WEBP")){Ve=3;break e}var it=Oe(h,$e[0]+4);if(12>it||4294967286<it){Ve=3;break e}if(he&&it>rt[0]-8){Ve=7;break e}Ve[0]=it,$e[0]+=12,rt[0]-=12}Ve=0}if(Ve!=0)return Ve;for(it=0<Ie.gb[0],S=S[0];;){e:{var ut=h;rt=p,Ve=S;var xt=de,mt=Le,Qt=$e=[0];if((Gt=Je=[Je])[0]=0,8>Ve[0])Ve=7;else{if(!r(ut,rt[0],"VP8X")){if(Oe(ut,rt[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var zt=Oe(ut,rt[0]+8),lr=1+Ye(ut,rt[0]+12);if(2147483648<=lr*(ut=1+Ye(ut,rt[0]+15))){Ve=3;break e}Qt!=null&&(Qt[0]=zt),xt!=null&&(xt[0]=lr),mt!=null&&(mt[0]=ut),rt[0]+=18,Ve[0]-=18,Gt[0]=1}Ve=0}}if(Je=Je[0],$e=$e[0],Ve!=0)return Ve;if(rt=!!(2&$e),!it&&Je)return 3;if(q!=null&&(q[0]=!!(16&$e)),W!=null&&(W[0]=rt),Z!=null&&(Z[0]=0),W=de[0],$e=Le[0],Je&&rt&&ne==null){Ve=0;break}if(4>S){Ve=7;break}if(it&&Je||!it&&!Je&&!r(h,p[0],"ALPH")){S=[S],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{zt=h,Ve=p,it=S;var Gt=Ie.gb;xt=Ie.na,mt=Ie.P,Qt=Ie.Sa,lr=22,e(zt!=null),e(it!=null),ut=Ve[0];var vr=it[0];for(e(xt!=null),e(Qt!=null),xt[0]=null,mt[0]=null,Qt[0]=0;;){if(Ve[0]=ut,it[0]=vr,8>vr){Ve=7;break e}var _n=Oe(zt,ut+4);if(4294967286<_n){Ve=3;break e}var cr=8+_n+1&-2;if(lr+=cr,0<Gt&&lr>Gt){Ve=3;break e}if(!r(zt,ut,"VP8 ")||!r(zt,ut,"VP8L")){Ve=0;break e}if(vr[0]<cr){Ve=7;break e}r(zt,ut,"ALPH")||(xt[0]=zt,mt[0]=ut+8,Qt[0]=_n),ut+=cr,vr-=cr}}if(S=S[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ve!=0)break}S=[S],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Gt=h,Ve=p,it=S,xt=Ie.gb[0],mt=Ie.Ja,Qt=Ie.xa,zt=Ve[0],ut=!r(Gt,zt,"VP8 "),lr=!r(Gt,zt,"VP8L"),e(Gt!=null),e(it!=null),e(mt!=null),e(Qt!=null),8>it[0])Ve=7;else{if(ut||lr){if(Gt=Oe(Gt,zt+4),12<=xt&&Gt>xt-12){Ve=3;break e}if(he&&Gt>it[0]-8){Ve=7;break e}mt[0]=Gt,Ve[0]+=8,it[0]-=8,Qt[0]=lr}else Qt[0]=5<=it[0]&&Gt[zt+0]==47&&!(Gt[zt+4]>>5),mt[0]=it[0];Ve=0}if(S=S[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],p=p[0],Ve!=0)break;if(4294967286<Ie.Ja)return 3;if(Z==null||rt||(Z[0]=Ie.xa?2:1),W=[W],$e=[$e],Ie.xa){if(5>S){Ve=7;break}Z=W,he=$e,rt=q,h==null||5>S?h=0:5<=S&&h[p+0]==47&&!(h[p+4]>>5)?(it=[0],Gt=[0],xt=[0],xe(mt=new U,h,p,S),Xt(mt,it,Gt,xt)?(Z!=null&&(Z[0]=it[0]),he!=null&&(he[0]=Gt[0]),rt!=null&&(rt[0]=xt[0]),h=1):h=0):h=0}else{if(10>S){Ve=7;break}Z=$e,h==null||10>S||!wr(h,p+3,S-3)?h=0:(he=h[p+0]|h[p+1]<<8|h[p+2]<<16,rt=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Ie.Ja||!rt||!h?h=0:(W&&(W[0]=rt),Z&&(Z[0]=h),h=1))}if(!h||(W=W[0],$e=$e[0],Je&&(de[0]!=W||Le[0]!=$e)))return 3;ne!=null&&(ne[0]=Ie,ne.offset=p-ne.w,e(4294967286>p-ne.w),e(ne.offset==ne.ha-S));break}return Ve==0||Ve==7&&Je&&ne==null?(q!=null&&(q[0]|=Ie.na!=null&&0<Ie.na.length),P!=null&&(P[0]=W),R!=null&&(R[0]=$e),0):Ve}function gi(h,p,S){var P=p.width,R=p.height,q=0,W=0,Z=P,ne=R;if(p.Da=h!=null&&0<h.Da,p.Da&&(Z=h.cd,ne=h.bd,q=h.v,W=h.j,11>S||(q&=-2,W&=-2),0>q||0>W||0>=Z||0>=ne||q+Z>P||W+ne>R))return 0;if(p.v=q,p.j=W,p.va=q+Z,p.o=W+ne,p.U=Z,p.T=ne,p.da=h!=null&&0<h.da,p.da){if(!He(Z,ne,S=[h.ib],q=[h.hb]))return 0;p.ib=S[0],p.hb=q[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*P/4&&p.hb<3*R/4,p.Kb=0),1}function pi(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function fo(h,p,S,P){if(P==null||0>=h||0>=p)return 2;if(S!=null){if(S.Da){var R=S.cd,q=S.bd,W=-2&S.v,Z=-2&S.j;if(0>W||0>Z||0>=R||0>=q||W+R>h||Z+q>p)return 2;h=R,p=q}if(S.da){if(!He(h,p,R=[S.ib],q=[S.hb]))return 2;h=R[0],p=q[0]}}P.width=h,P.height=p;e:{var ne=P.width,de=P.height;if(h=P.S,0>=ne||0>=de||!(h>=Yu&&13>h))h=2;else{if(0>=P.Rd&&P.sd==null){W=q=R=p=0;var Le=(Z=ne*v1[h])*de;if(11>h||(q=(de+1)/2*(p=(ne+1)/2),h==12&&(W=(R=ne)*de)),(de=a(Le+2*q+W))==null){h=1;break e}P.sd=de,11>h?((ne=P.f.RGBA).eb=de,ne.fb=0,ne.A=Z,ne.size=Le):((ne=P.f.kb).y=de,ne.O=0,ne.fa=Z,ne.Fd=Le,ne.f=de,ne.N=0+Le,ne.Ab=p,ne.Cd=q,ne.ea=de,ne.W=0+Le+q,ne.Db=p,ne.Ed=q,h==12&&(ne.F=de,ne.J=0+Le+2*q),ne.Tc=W,ne.lb=R)}if(p=1,R=P.S,q=P.width,W=P.height,R>=Yu&&13>R)if(11>R)h=P.f.RGBA,p&=(Z=Math.abs(h.A))*(W-1)+q<=h.size,p&=Z>=q*v1[R],p&=h.eb!=null;else{h=P.f.kb,Z=(q+1)/2,Le=(W+1)/2,ne=Math.abs(h.fa),de=Math.abs(h.Ab);var Je=Math.abs(h.Db),he=Math.abs(h.lb),Ie=he*(W-1)+q;p&=ne*(W-1)+q<=h.Fd,p&=de*(Le-1)+Z<=h.Cd,p=(p&=Je*(Le-1)+Z<=h.Ed)&ne>=q&de>=Z&Je>=Z,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,R==12&&(p&=he>=q,p&=Ie<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||S!=null&&S.fd&&(h=pi(P)),h}var ja=64,ys=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sc=24,xs=32,nn=8,Af=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(h){return h},$.Predictor2=function(h,p,S){return p[S+0]},$.Predictor3=function(h,p,S){return p[S+1]},$.Predictor4=function(h,p,S){return p[S-1]},$.Predictor5=function(h,p,S){return Lt(Lt(h,p[S+1]),p[S+0])},$.Predictor6=function(h,p,S){return Lt(h,p[S-1])},$.Predictor7=function(h,p,S){return Lt(h,p[S+0])},$.Predictor8=function(h,p,S){return Lt(p[S-1],p[S+0])},$.Predictor9=function(h,p,S){return Lt(p[S+0],p[S+1])},$.Predictor10=function(h,p,S){return Lt(Lt(h,p[S-1]),Lt(p[S+0],p[S+1]))},$.Predictor11=function(h,p,S){var P=p[S+0];return 0>=yt(P>>24&255,h>>24&255,(p=p[S-1])>>24&255)+yt(P>>16&255,h>>16&255,p>>16&255)+yt(P>>8&255,h>>8&255,p>>8&255)+yt(255&P,255&h,255&p)?P:h},$.Predictor12=function(h,p,S){var P=p[S+0];return(Ot((h>>24&255)+(P>>24&255)-((p=p[S-1])>>24&255))<<24|Ot((h>>16&255)+(P>>16&255)-(p>>16&255))<<16|Ot((h>>8&255)+(P>>8&255)-(p>>8&255))<<8|Ot((255&h)+(255&P)-(255&p)))>>>0},$.Predictor13=function(h,p,S){var P=p[S-1];return(tt((h=Lt(h,p[S+0]))>>24&255,P>>24&255)<<24|tt(h>>16&255,P>>16&255)<<16|tt(h>>8&255,P>>8&255)<<8|tt(255&h,255&P))>>>0};var Na=$.PredictorAdd0;$.PredictorAdd1=Bt,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var Ca=$.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var el,jc=$.ColorIndexInverseTransform,tl=$.MapARGB,rl=$.VP8LColorIndexInverseTransformAlpha,go=$.MapAlpha,po=$.VP8LPredictorsAdd=[];po.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Ga,Nc,Li,La,Ir,Rr,an,sn,Ya,nl,Aa,Cc,Um,qm,$m,zm,Wm,Hm,Gm,Ym,Vm,Jm,Km,Qm,Lc,Xm,Zm,e1,t1=a(511),r1=a(2041),n1=a(225),i1=a(767),a1=0,kf=r1,Gu=n1,Ai=i1,Hi=t1,Yu=0,Vu=1,s1=2,Ju=3,Ku=4,Pf=5,o1=6,Ef=7,Ff=8,Qu=9,Tf=10,uw=[2,3,7],dw=[3,3,11],l1=[280,256,256,256,40],hw=[0,1,1,1,0],fw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mw=8,Df=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],If=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ac=null,vw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],c1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_w=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ww=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_s=[],ia=[],Va=[],Sw=1,u1=2,ws=[],Gi=[];na("UpsampleRgbLinePair",Ha,3),na("UpsampleBgrLinePair",Qo,3),na("UpsampleRgbaLinePair",Hu,4),na("UpsampleBgraLinePair",Xo,4),na("UpsampleArgbLinePair",Wu,4),na("UpsampleRgba4444LinePair",ni,2),na("UpsampleRgb565LinePair",xc,2);var jw=$.UpsampleRgbLinePair,Nw=$.UpsampleBgrLinePair,d1=$.UpsampleRgbaLinePair,h1=$.UpsampleBgraLinePair,f1=$.UpsampleArgbLinePair,g1=$.UpsampleRgba4444LinePair,Cw=$.UpsampleRgb565LinePair,Xu=16,Zu=1<<Xu-1,kc=-227,Rf=482,Lw=6,p1=0,Aw=a(256),kw=a(256),Pw=a(256),Ew=a(256),Fw=a(Rf-kc),Tw=a(Rf-kc);Wi("YuvToRgbRow",Ha,3),Wi("YuvToBgrRow",Qo,3),Wi("YuvToRgbaRow",Hu,4),Wi("YuvToBgraRow",Xo,4),Wi("YuvToArgbRow",Wu,4),Wi("YuvToRgba4444Row",ni,2),Wi("YuvToRgb565Row",xc,2);var m1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],Dw=[8,7,6,4,4,2,2,2,1,1,1,1],Iw=1;this.WebPDecodeRGBA=function(h,p,S,P,R){var q=Vu,W=new Jt,Z=new qt;W.ba=Z,Z.S=q,Z.width=[Z.width],Z.height=[Z.height];var ne=Z.width,de=Z.height,Le=new Mt;if(Le==null||h==null)var Je=2;else e(Le!=null),Je=Zo(h,p,S,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Je!=0?ne=0:(ne!=null&&(ne[0]=Le.width[0]),de!=null&&(de[0]=Le.height[0]),ne=1),ne){Z.width=Z.width[0],Z.height=Z.height[0],P!=null&&(P[0]=Z.width),R!=null&&(R[0]=Z.height);e:{if(P=new nt,(R=new er).data=h,R.w=p,R.ha=S,R.kd=1,p=[0],e(R!=null),((h=Zo(R.data,R.w,R.ha,null,null,null,p,null,R))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(W!=null),P.data=R.data,P.w=R.w+R.offset,P.ha=R.ha-R.offset,P.put=bt,P.ac=Ze,P.bc=Zt,P.ma=W,R.xa){if((h=ge())==null){W=1;break e}if(function(he,Ie){var $e=[0],rt=[0],Ve=[0];t:for(;;){if(he==null)return 0;if(Ie==null)return he.a=2,0;if(he.l=Ie,he.a=0,xe(he.m,Ie.data,Ie.w,Ie.ha),!Xt(he.m,$e,rt,Ve)){he.a=3;break t}if(he.xb=u1,Ie.width=$e[0],Ie.height=rt[0],!je($e[0],rt[0],1,he,null))break t;return 1}return e(he.a!=0),0}(h,P)){if(P=(p=fo(P.width,P.height,W.Oa,W.ba))==0){t:{P=h;r:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((S=P.l)!=null),e((R=S.ma)!=null),P.xb!=0){if(P.ca=R.ba,P.tb=R.tb,e(P.ca!=null),!gi(R.Oa,S,Ju)){P.a=2;break r}if(!T(P,S.width)||S.da)break r;if((S.da||We(P.ca.S))&&ho(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&ho()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!oe(P.s.vb,P.s.Wa.Xa)){P.a=1;break r}P.xb=0}if(!k(P,P.V,P.Ba,P.c,P.i,S.o,Rt))break r;R.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(p=h.a)}else p=h.a}else{if((h=new pt)==null){W=1;break e}if(h.Fa=R.na,h.P=R.P,h.qc=R.Sa,br(h,P)){if((p=fo(P.width,P.height,W.Oa,W.ba))==0){if(h.Aa=0,S=W.Oa,e((R=h)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(de=Le=0;4>de;++de)12>(Je=R.pb[de]).lc&&(Je.ia=ne*Dw[0>Je.lc?0:Je.lc]>>3),Le|=Je.ia;Le&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(he,Ie){if(he==null)return 0;if(Ie==null)return kt(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!br(he,Ie))return 0;if(e(he.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(he.L=0);var $e=ed[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Ie.v-$e>>4,he.zb=Ie.j-$e>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Ie.o+15+$e>>4,he.Hb=Ie.va+15+$e>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var rt=he.ed;for($e=0;4>$e;++$e){var Ve;if(he.Qa.Cb){var it=he.Qa.Lb[$e];he.Qa.Fb||(it+=rt.Tb)}else it=rt.Tb;for(Ve=0;1>=Ve;++Ve){var ut=he.gd[$e][Ve],xt=it;if(rt.Pc&&(xt+=rt.vd[0],Ve&&(xt+=rt.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var mt=xt;0<rt.wb&&(mt=4<rt.wb?mt>>2:mt>>1)>9-rt.wb&&(mt=9-rt.wb),1>mt&&(mt=1),ut.dd=mt,ut.tc=2*xt+mt,ut.ld=40<=xt?2:15<=xt?1:0}else ut.tc=0;ut.La=Ve}}}$e=0}else kt(he,6,"Frame setup failed"),$e=he.a;if($e=$e==0){if($e){he.$c=0,0<he.Aa||(he.Ic=Iw);t:{$e=he.Ic,rt=4*(mt=he.za);var Qt=32*mt,zt=mt+1,lr=0<he.L?mt*(0<he.Aa?2:1):0,Gt=(he.Aa==2?2:1)*mt;if((ut=rt+832+(Ve=3*(16*$e+ed[he.L])/2*Qt)+(it=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=ut)$e=0;else{if(ut>he.Vb){if(he.Vb=0,he.Ec=a(ut),he.Fc=0,he.Ec==null){$e=kt(he,1,"no memory during frame initialization.");break t}he.Vb=ut}ut=he.Ec,xt=he.Fc,he.Ac=ut,he.Bc=xt,xt+=rt,he.Gd=o(Qt,ft),he.Hd=0,he.rb=o(zt+1,ye),he.sb=1,he.wa=lr?o(lr,me):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=mt),e(!0),he.oc=ut,he.pc=xt,xt+=832,he.ya=o(Gt,ke),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=mt),he.R=16*mt,he.B=8*mt,mt=(Qt=ed[he.L])*he.R,Qt=Qt/2*he.B,he.sa=ut,he.ta=xt+mt,he.qa=he.sa,he.ra=he.ta+16*$e*he.R+Qt,he.Ha=he.qa,he.Ia=he.ra+8*$e*he.B+Qt,he.$c=0,xt+=Ve,he.mb=it?ut:null,he.nb=it?xt:null,e(xt+it<=he.Fc+he.Vb),Sr(he),i(he.Ac,he.Bc,0,rt),$e=1}}if($e){if(Ie.ka=0,Ie.y=he.sa,Ie.O=he.ta,Ie.f=he.qa,Ie.N=he.ra,Ie.ea=he.Ha,Ie.Vd=he.Ia,Ie.fa=he.R,Ie.Rc=he.B,Ie.F=null,Ie.J=0,!a1){for($e=-255;255>=$e;++$e)t1[255+$e]=0>$e?-$e:$e;for($e=-1020;1020>=$e;++$e)r1[1020+$e]=-128>$e?-128:127<$e?127:$e;for($e=-112;112>=$e;++$e)n1[112+$e]=-16>$e?-16:15<$e?15:$e;for($e=-255;510>=$e;++$e)i1[255+$e]=0>$e?0:255<$e?255:$e;a1=1}an=Ho,sn=ra,nl=Wo,Aa=Ni,Cc=io,Ya=_a,Um=y,qm=O,$m=qe,zm=ot,Wm=fe,Hm=Se,Gm=vt,Ym=Ht,Vm=mc,Jm=uo,Km=vc,Qm=bc,ia[0]=wf,ia[1]=cc,ia[2]=xf,ia[3]=_f,ia[4]=Sf,ia[5]=$a,ia[6]=qa,ia[7]=jf,ia[8]=Go,ia[9]=Nf,_s[0]=ps,_s[1]=vf,_s[2]=bf,_s[3]=uc,_s[4]=yf,_s[5]=so,_s[6]=dc,Va[0]=Vo,Va[1]=mf,Va[2]=hc,Va[3]=oo,Va[4]=fc,Va[5]=Cf,Va[6]=gc,$e=1}else $e=0}$e&&($e=function(vr,_n){for(vr.M=0;vr.M<vr.Va;++vr.M){var cr,Yt=vr.Jc[vr.M&vr.Xb],Dt=vr.m,on=vr;for(cr=0;cr<on.za;++cr){var ar=Dt,yr=on,qr=yr.Ac,Bn=yr.Bc+4*cr,ii=yr.zc,Xr=yr.ya[yr.aa+cr];if(yr.Qa.Bb?Xr.$b=Ge(ar,yr.Pa.jb[0])?2+Ge(ar,yr.Pa.jb[2]):Ge(ar,yr.Pa.jb[1]):Xr.$b=0,yr.kc&&(Xr.Ad=Ge(ar,yr.Bd)),Xr.Za=!Ge(ar,145)+0,Xr.Za){var Wn=Xr.Ob,ai=0;for(yr=0;4>yr;++yr){var wn,xr=ii[0+yr];for(wn=0;4>wn;++wn){xr=xw[qr[Bn+wn]][xr];for(var Cr=c1[Ge(ar,xr[0])];0<Cr;)Cr=c1[2*Cr+Ge(ar,xr[Cr])];xr=-Cr,qr[Bn+wn]=xr}n(Wn,ai,qr,Bn,4),ai+=4,ii[0+yr]=xr}}else xr=Ge(ar,156)?Ge(ar,128)?1:3:Ge(ar,163)?2:0,Xr.Ob[0]=xr,i(qr,Bn,xr,4),i(ii,0,xr,4);Xr.Dd=Ge(ar,142)?Ge(ar,114)?Ge(ar,183)?1:3:2:0}if(on.m.Ka)return kt(vr,7,"Premature end-of-partition0 encountered.");for(;vr.ja<vr.za;++vr.ja){if(on=Yt,ar=(Dt=vr).rb[Dt.sb-1],qr=Dt.rb[Dt.sb+Dt.ja],cr=Dt.ya[Dt.aa+Dt.ja],Bn=Dt.kc?cr.Ad:0)ar.la=qr.la=0,cr.Za||(ar.Na=qr.Na=0),cr.Hc=0,cr.Gc=0,cr.ia=0;else{var Zr,Lr;if(ar=qr,qr=on,Bn=Dt.Pa.Xc,ii=Dt.ya[Dt.aa+Dt.ja],Xr=Dt.pb[ii.$b],yr=ii.ad,Wn=0,ai=Dt.rb[Dt.sb-1],xr=wn=0,i(yr,Wn,0,384),ii.Za)var Mn=0,aa=Bn[3];else{Cr=a(16);var ln=ar.Na+ai.Na;if(ln=Ac(qr,Bn[1],ln,Xr.Eb,0,Cr,0),ar.Na=ai.Na=(0<ln)+0,1<ln)an(Cr,0,yr,Wn);else{var mi=Cr[0]+3>>3;for(Cr=0;256>Cr;Cr+=16)yr[Wn+Cr]=mi}Mn=1,aa=Bn[0]}var Tr=15&ar.la,Sn=15&ai.la;for(Cr=0;4>Cr;++Cr){var ki=1&Sn;for(mi=Lr=0;4>mi;++mi)Tr=Tr>>1|(ki=(ln=Ac(qr,aa,ln=ki+(1&Tr),Xr.Sc,Mn,yr,Wn))>Mn)<<7,Lr=Lr<<2|(3<ln?3:1<ln?2:yr[Wn+0]!=0),Wn+=16;Tr>>=4,Sn=Sn>>1|ki<<7,wn=(wn<<8|Lr)>>>0}for(aa=Tr,Mn=Sn>>4,Zr=0;4>Zr;Zr+=2){for(Lr=0,Tr=ar.la>>4+Zr,Sn=ai.la>>4+Zr,Cr=0;2>Cr;++Cr){for(ki=1&Sn,mi=0;2>mi;++mi)ln=ki+(1&Tr),Tr=Tr>>1|(ki=0<(ln=Ac(qr,Bn[2],ln,Xr.Qc,0,yr,Wn)))<<3,Lr=Lr<<2|(3<ln?3:1<ln?2:yr[Wn+0]!=0),Wn+=16;Tr>>=2,Sn=Sn>>1|ki<<5}xr|=Lr<<4*Zr,aa|=Tr<<4<<Zr,Mn|=(240&Sn)<<Zr}ar.la=aa,ai.la=Mn,ii.Hc=wn,ii.Gc=xr,ii.ia=43690&xr?0:Xr.ia,Bn=!(wn|xr)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[cr.$b][cr.Za],Dt.wa[Dt.Y+Dt.ja].La|=!Bn),on.Ka)return kt(vr,7,"Premature end-of-file encountered.")}if(Sr(vr),Dt=_n,on=1,cr=(Yt=vr).D,ar=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(cr.M=Yt.M,cr.uc=ar,bs(Yt,cr),on=1,cr=(Lr=Yt.D).Nb,ar=(xr=ed[Yt.L])*Yt.R,qr=xr/2*Yt.B,Cr=16*cr*Yt.R,mi=8*cr*Yt.B,Bn=Yt.sa,ii=Yt.ta-ar+Cr,Xr=Yt.qa,yr=Yt.ra-qr+mi,Wn=Yt.Ha,ai=Yt.Ia-qr+mi,Sn=(Tr=Lr.M)==0,wn=Tr>=Yt.Va-1,Yt.Aa==2&&bs(Yt,Lr),Lr.uc)for(ki=(ln=Yt).D.M,e(ln.D.uc),Lr=ln.yb;Lr<ln.Hb;++Lr){Mn=Lr,aa=ki;var si=(Pi=(Un=ln).D).Nb;Zr=Un.R;var Pi=Pi.wa[Pi.Y+Mn],Ei=Un.sa,vi=Un.ta+16*si*Zr+16*Mn,Fi=Pi.dd,Or=Pi.tc;if(Or!=0)if(e(3<=Or),Un.L==1)0<Mn&&Jm(Ei,vi,Zr,Or+4),Pi.La&&Qm(Ei,vi,Zr,Or),0<aa&&Vm(Ei,vi,Zr,Or+4),Pi.La&&Km(Ei,vi,Zr,Or);else{var Ti=Un.B,sa=Un.qa,mo=Un.ra+8*si*Ti+8*Mn,Ja=Un.Ha,Un=Un.Ia+8*si*Ti+8*Mn;si=Pi.ld,0<Mn&&(qm(Ei,vi,Zr,Or+4,Fi,si),zm(sa,mo,Ja,Un,Ti,Or+4,Fi,si)),Pi.La&&(Hm(Ei,vi,Zr,Or,Fi,si),Ym(sa,mo,Ja,Un,Ti,Or,Fi,si)),0<aa&&(Um(Ei,vi,Zr,Or+4,Fi,si),$m(sa,mo,Ja,Un,Ti,Or+4,Fi,si)),Pi.La&&(Wm(Ei,vi,Zr,Or,Fi,si),Gm(sa,mo,Ja,Un,Ti,Or,Fi,si))}}if(Yt.ia&&alert("todo:DitherRow"),Dt.put!=null){if(Lr=16*Tr,Tr=16*(Tr+1),Sn?(Dt.y=Yt.sa,Dt.O=Yt.ta+Cr,Dt.f=Yt.qa,Dt.N=Yt.ra+mi,Dt.ea=Yt.Ha,Dt.W=Yt.Ia+mi):(Lr-=xr,Dt.y=Bn,Dt.O=ii,Dt.f=Xr,Dt.N=yr,Dt.ea=Wn,Dt.W=ai),wn||(Tr-=xr),Tr>Dt.o&&(Tr=Dt.o),Dt.F=null,Dt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&Lr<Tr&&(Dt.J=On(Yt,Dt,Lr,Tr-Lr),Dt.F=Yt.mb,Dt.F==null&&Dt.F.length==0)){on=kt(Yt,3,"Could not decode alpha data.");break t}Lr<Dt.j&&(xr=Dt.j-Lr,Lr=Dt.j,e(!(1&xr)),Dt.O+=Yt.R*xr,Dt.N+=Yt.B*(xr>>1),Dt.W+=Yt.B*(xr>>1),Dt.F!=null&&(Dt.J+=Dt.width*xr)),Lr<Tr&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=Lr-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Tr-Lr,on=Dt.put(Dt))}cr+1!=Yt.Ic||wn||(n(Yt.sa,Yt.ta-ar,Bn,ii+16*Yt.R,ar),n(Yt.qa,Yt.ra-qr,Xr,yr+8*Yt.B,qr),n(Yt.Ha,Yt.Ia-qr,Wn,ai+8*Yt.B,qr))}if(!on)return kt(vr,6,"Output aborted.")}return 1}(he,Ie)),Ie.bc!=null&&Ie.bc(Ie),$e&=1}return $e?(he.cb=0,$e):0})(h,P)||(p=h.a)}}else p=h.a}p==0&&W.Oa!=null&&W.Oa.fd&&(p=pi(W.ba))}W=p}q=W!=0?null:11>q?Z.f.RGBA.eb:Z.f.kb.y}else q=null;return q};var v1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u($,ee){for(var I="",G=0;G<4;G++)I+=String.fromCharCode($[ee++]);return I}function d($,ee){return $[ee+0]|$[ee+1]<<8}function g($,ee){return($[ee+0]|$[ee+1]<<8|$[ee+2]<<16)>>>0}function m($,ee){return($[ee+0]|$[ee+1]<<8|$[ee+2]<<16|$[ee+3]<<24)>>>0}new c;var f=[0],x=[0],N=[],_=new c,v=t,C=function($,ee){var I={},G=0,ue=!1,M=0,H=0;if(I.frames=[],!function(E,U){for(var X=0;X<4;X++)if(E[U+X]!="RIFF".charCodeAt(X))return!0;return!1}($,ee)){for(m($,ee+=4),ee+=8;ee<$.length;){var be=u($,ee),Ce=m($,ee+=4);ee+=4;var ie=Ce+(1&Ce);switch(be){case"VP8 ":case"VP8L":I.frames[G]===void 0&&(I.frames[G]={}),(se=I.frames[G]).src_off=ue?H:ee-8,se.src_size=M+Ce+8,G++,ue&&(ue=!1,M=0,H=0);break;case"VP8X":(se=I.header={}).feature_flags=$[ee];var xe=ee+4;se.canvas_width=1+g($,xe),xe+=3,se.canvas_height=1+g($,xe),xe+=3;break;case"ALPH":ue=!0,M=ie+8,H=ee-8;break;case"ANIM":(se=I.header).bgcolor=m($,ee),xe=ee+4,se.loop_count=d($,xe),xe+=2;break;case"ANMF":var Re,se;(se=I.frames[G]={}).offset_x=2*g($,ee),ee+=3,se.offset_y=2*g($,ee),ee+=3,se.width=1+g($,ee),ee+=3,se.height=1+g($,ee),ee+=3,se.duration=g($,ee),ee+=3,Re=$[ee++],se.dispose=1&Re,se.blend=Re>>1&1}be!="ANMF"&&(ee+=ie)}return I}}(v,0);C.response=v,C.rgbaoutput=!0,C.dataurl=!1;var j=C.header?C.header:null,L=C.frames?C.frames:null;if(j){j.loop_counter=j.loop_count,f=[j.canvas_height],x=[j.canvas_width];for(var B=0;B<L.length&&L[B].blend!=0;B++);}var Y=L[0],V=_.WebPDecodeRGBA(v,Y.src_off,Y.src_size,x,f);Y.rgba=V,Y.imgwidth=x[0],Y.imgheight=f[0];for(var D=0;D<x[0]*f[0]*4;D++)N[D]=V[D];return this.width=x,this.height=f,this.data=N,this}(function(t){var e,r,n,i,a,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var g=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=E;Object.defineProperty(this,"pdf",{get:function(){return U}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Oe){X=!!Oe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Oe){le=!!Oe}});var _e=0;Object.defineProperty(this,"posX",{get:function(){return _e},set:function(Oe){isNaN(Oe)||(_e=Oe)}});var Ne=0;Object.defineProperty(this,"posY",{get:function(){return Ne},set:function(Oe){isNaN(Oe)||(Ne=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Oe){var oe;typeof Oe=="number"?oe=[Oe,Oe,Oe,Oe]:((oe=new Array(4))[0]=Oe[0],oe[1]=Oe.length>=2?Oe[1]:oe[0],oe[2]=Oe.length>=3?Oe[2]:oe[0],oe[3]=Oe.length>=4?Oe[3]:oe[1]),u.margin=oe}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(Oe){Be=Oe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Oe){Ae=Oe}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(Oe){Ge=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Oe){Oe instanceof d&&(u=Oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Oe){u.path=Oe}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Oe){Qe=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var oe;oe=m(Oe),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var oe=m(Oe);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var at=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(Oe){at=null,Ye=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var oe;if(this.ctx.font=Oe,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Pt=oe[1];oe[2];var Et=oe[3],He=oe[4];oe[5];var Me=oe[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(dt==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var st=function(Nt){var Tt,wt,Kt=[],Pe=Nt.trim();if(Pe==="")return Wg;if(Pe in hb)return[hb[Pe]];for(;Pe!=="";){switch(wt=null,Tt=(Pe=gb(Pe)).charAt(0)){case'"':case"'":wt=q6(Pe.substring(1),Tt);break;default:wt=$6(Pe)}if(wt===null||(Kt.push(wt[0]),(Pe=gb(wt[1]))!==""&&Pe.charAt(0)!==","))return Wg;Pe=Pe.replace(/^,/,"")}return Kt}(Me);if(this.fontFaces){var _t=function(Nt,Tt){if(at===null){var wt=function(Kt){var Pe=[];return Object.keys(Kt).forEach(function(ve){Kt[ve].forEach(function(Te){var lt=null;switch(Te){case"bold":lt={family:ve,weight:"bold"};break;case"italic":lt={family:ve,style:"italic"};break;case"bolditalic":lt={family:ve,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:ve}}lt!==null&&(lt.ref={name:ve,style:Te},Pe.push(lt))})}),Pe}(Nt.getFontList());at=function(Kt){for(var Pe={},ve=0;ve<Kt.length;++ve){var Te=zg(Kt[ve]),lt=Te.family,ze=Te.stretch,We=Te.style,Vt=Te.weight;Pe[lt]=Pe[lt]||{},Pe[lt][ze]=Pe[lt][ze]||{},Pe[lt][ze][We]=Pe[lt][ze][We]||{},Pe[lt][ze][We][Vt]=Te}return Pe}(wt.concat(Tt))}return at}(this.pdf,this.fontFaces),Lt=st.map(function(Nt){return{family:Nt,stretch:"normal",weight:Et,style:Pt}}),Ot=function(Nt,Tt,wt){for(var Kt=(wt=wt||{}).defaultFontFamily||"times",Pe=Object.assign({},U6,wt.genericFontFamilies||{}),ve=null,Te=null,lt=0;lt<Tt.length;++lt)if(Pe[(ve=zg(Tt[lt])).family]&&(ve.family=Pe[ve.family]),Nt.hasOwnProperty(ve.family)){Te=Nt[ve.family];break}if(!(Te=Te||Nt[Kt]))throw new Error("Could not find a font-family for the rule '"+fb(ve)+"' and default family '"+Kt+"'.");if(Te=function(ze,We){if(We[ze])return We[ze];var Vt=b0[ze],Ut=Vt<=b0.normal?-1:1,qt=db(We,y_,Vt,Ut);if(!qt)throw new Error("Could not find a matching font-stretch value for "+ze);return qt}(ve.stretch,Te),Te=function(ze,We){if(We[ze])return We[ze];for(var Vt=b_[ze],Ut=0;Ut<Vt.length;++Ut)if(We[Vt[Ut]])return We[Vt[Ut]];throw new Error("Could not find a matching font-style for "+ze)}(ve.style,Te),!(Te=function(ze,We){if(We[ze])return We[ze];if(ze===400&&We[500])return We[500];if(ze===500&&We[400])return We[400];var Vt=M6[ze],Ut=db(We,x_,Vt,ze<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+ze);return Ut}(ve.weight,Te)))throw new Error("Failed to resolve a font for the rule '"+fb(ve)+"'.");return Te}(_t,Lt);this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var tt="";(Et==="bold"||parseInt(Et,10)>=700||Pt==="bold")&&(tt="bold"),Pt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var yt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<st.length;gt++){if(this.pdf.internal.getFont(st[gt],tt,{noFallback:!0,disableWarning:!0})!==void 0){yt=st[gt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(st[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=st[gt],tt="bold";else if(this.pdf.internal.getFont(st[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=st[gt],tt="normal";break}}if(yt===""){for(var jt=0;jt<st.length;jt++)if(Bt[st[jt]]){yt=Bt[st[jt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};g.prototype.setLineDash=function(E){this.lineDash=E},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){L.call(this,"fill",!1)},g.prototype.stroke=function(){L.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(E,U){if(isNaN(E)||isNaN(U))throw Dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(E,U)},g.prototype.closePath=function(){var E=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&kr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){E=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},g.prototype.lineTo=function(E,U){if(isNaN(E)||isNaN(U))throw Dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},g.prototype.quadraticCurveTo=function(E,U,X,le){if(isNaN(X)||isNaN(le)||isNaN(E)||isNaN(U))throw Dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var _e=this.ctx.transform.applyToPoint(new o(X,le)),Ne=this.ctx.transform.applyToPoint(new o(E,U));this.path.push({type:"qct",x1:Ne.x,y1:Ne.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},g.prototype.bezierCurveTo=function(E,U,X,le,_e,Ne){if(isNaN(_e)||isNaN(Ne)||isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le))throw Dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new o(_e,Ne)),Ae=this.ctx.transform.applyToPoint(new o(E,U)),Ge=this.ctx.transform.applyToPoint(new o(X,le));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Ge.x,y2:Ge.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new o(Be.x,Be.y)},g.prototype.arc=function(E,U,X,le,_e,Ne){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le)||isNaN(_e))throw Dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ne=!!Ne,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new o(E,U));E=Be.x,U=Be.y;var Ae=this.ctx.transform.applyToPoint(new o(0,X)),Ge=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(Ae.x-Ge.x,2)+Math.pow(Ae.y-Ge.y,2))}Math.abs(_e-le)>=2*Math.PI&&(le=0,_e=2*Math.PI),this.path.push({type:"arc",x:E,y:U,radius:X,startAngle:le,endAngle:_e,counterclockwise:Ne})},g.prototype.arcTo=function(E,U,X,le,_e){throw new Error("arcTo not implemented.")},g.prototype.rect=function(E,U,X,le){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le))throw Dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,U),this.lineTo(E+X,U),this.lineTo(E+X,U+le),this.lineTo(E,U+le),this.lineTo(E,U),this.lineTo(E+X,U),this.lineTo(E,U)},g.prototype.fillRect=function(E,U,X,le){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le))throw Dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var _e={};this.lineCap!=="butt"&&(_e.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(_e.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,U,X,le),this.fill(),_e.hasOwnProperty("lineCap")&&(this.lineCap=_e.lineCap),_e.hasOwnProperty("lineJoin")&&(this.lineJoin=_e.lineJoin)}},g.prototype.strokeRect=function(E,U,X,le){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le))throw Dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(E,U,X,le),this.stroke())},g.prototype.clearRect=function(E,U,X,le){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le))throw Dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,U,X,le))},g.prototype.save=function(E){E=typeof E!="boolean"||E;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},g.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(U),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(E){var U,X,le,_e;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))U=0,X=0,le=0,_e=0;else{var Ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(Ne!==null)U=parseInt(Ne[1]),X=parseInt(Ne[2]),le=parseInt(Ne[3]),_e=1;else if((Ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)U=parseInt(Ne[1]),X=parseInt(Ne[2]),le=parseInt(Ne[3]),_e=parseFloat(Ne[4]);else{if(_e=1,typeof E=="string"&&E.charAt(0)!=="#"){var Be=new d_(E);E=Be.ok?Be.toHex():"#000000"}E.length===4?(U=E.substring(1,2),U+=U,X=E.substring(2,3),X+=X,le=E.substring(3,4),le+=le):(U=E.substring(1,3),X=E.substring(3,5),le=E.substring(5,7)),U=parseInt(U,16),X=parseInt(X,16),le=parseInt(le,16)}}return{r:U,g:X,b:le,a:_e,style:E}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(E,U,X,le){if(isNaN(U)||isNaN(X)||typeof E!="string")throw Dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var _e=ie(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;G.call(this,{text:E,x:U,y:X,scale:Ne,angle:_e,align:this.textAlign,maxWidth:le})}},g.prototype.strokeText=function(E,U,X,le){if(isNaN(U)||isNaN(X)||typeof E!="string")throw Dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){le=isNaN(le)?void 0:le;var _e=ie(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;G.call(this,{text:E,x:U,y:X,scale:Ne,renderingMode:"stroke",angle:_e,align:this.textAlign,maxWidth:le})}},g.prototype.measureText=function(E){if(typeof E!="string")throw Dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,X=this.pdf.internal.scaleFactor,le=U.internal.getFontSize(),_e=U.getStringUnitWidth(E)*le/U.internal.scaleFactor;return new function(Ne){var Be=(Ne=Ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:_e*=Math.round(96*X/72*1e4)/1e4})},g.prototype.scale=function(E,U){if(isNaN(E)||isNaN(U))throw Dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(E,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.rotate=function(E){if(isNaN(E))throw Dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},g.prototype.translate=function(E,U){if(isNaN(E)||isNaN(U))throw Dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,E,U);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.transform=function(E,U,X,le,_e,Ne){if(isNaN(E)||isNaN(U)||isNaN(X)||isNaN(le)||isNaN(_e)||isNaN(Ne))throw Dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new c(E,U,X,le,_e,Ne);this.ctx.transform=this.ctx.transform.multiply(Be)},g.prototype.setTransform=function(E,U,X,le,_e,Ne){E=isNaN(E)?1:E,U=isNaN(U)?0:U,X=isNaN(X)?0:X,le=isNaN(le)?1:le,_e=isNaN(_e)?0:_e,Ne=isNaN(Ne)?0:Ne,this.ctx.transform=new c(E,U,X,le,_e,Ne)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(E,U,X,le,_e,Ne,Be,Ae,Ge){var Qe=this.pdf.getImageProperties(E),at=1,Ye=1,Oe=1,oe=1;le!==void 0&&Ae!==void 0&&(Oe=Ae/le,oe=Ge/_e,at=Qe.width/le*Ae/le,Ye=Qe.height/_e*Ge/_e),Ne===void 0&&(Ne=U,Be=X,U=0,X=0),le!==void 0&&Ae===void 0&&(Ae=le,Ge=_e),le===void 0&&Ae===void 0&&(Ae=Qe.width,Ge=Qe.height);for(var Pt,Et=this.ctx.transform.decompose(),He=ie(Et.rotate.shx),Me=new c,dt=(Me=(Me=(Me=Me.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new l(Ne-U*Oe,Be-X*oe,le*at,_e*Ye)),st=_.call(this,dt),_t=[],Lt=0;Lt<st.length;Lt+=1)_t.indexOf(st[Lt])===-1&&_t.push(st[Lt]);if(j(_t),this.autoPaging)for(var Ot=_t[0],tt=_t[_t.length-1],yt=Ot;yt<tt+1;yt++){this.pdf.setPage(yt);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=yt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=yt===1?0:jt+(yt-2)*Nt;if(this.ctx.clip_path.length!==0){var wt=this.path;Pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Pt,this.posX+this.margin[3],-Tt+gt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=wt}var Kt=JSON.parse(JSON.stringify(dt));Kt=C([Kt],this.posX+this.margin[3],-Tt+gt+this.ctx.prevPageLastElemOffset)[0];var Pe=(yt>Ot||yt<tt)&&N.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Nt,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,He),Pe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,He)};var _=function(E,U,X){var le=[];U=U||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var _e=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":le.push(Math.floor((E.y+_e)/X)+1);break;case"arc":le.push(Math.floor((E.y+_e-E.radius)/X)+1),le.push(Math.floor((E.y+_e+E.radius)/X)+1);break;case"qct":var Ne=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);le.push(Math.floor((Ne.y+_e)/X)+1),le.push(Math.floor((Ne.y+Ne.h+_e)/X)+1);break;case"bct":var Be=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);le.push(Math.floor((Be.y+_e)/X)+1),le.push(Math.floor((Be.y+Be.h+_e)/X)+1);break;case"rect":le.push(Math.floor((E.y+_e)/X)+1),le.push(Math.floor((E.y+E.h+_e)/X)+1)}for(var Ae=0;Ae<le.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<le[Ae];)v.call(this);return le},v=function(){var E=this.fillStyle,U=this.strokeStyle,X=this.font,le=this.lineCap,_e=this.lineWidth,Ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=U,this.font=X,this.lineCap=le,this.lineWidth=_e,this.lineJoin=Ne},C=function(E,U,X){for(var le=0;le<E.length;le++)switch(E[le].type){case"bct":E[le].x2+=U,E[le].y2+=X;case"qct":E[le].x1+=U,E[le].y1+=X;default:E[le].x+=U,E[le].y+=X}return E},j=function(E){return E.sort(function(U,X){return U-X})},L=function(E,U){for(var X,le,_e=this.fillStyle,Ne=this.strokeStyle,Be=this.lineCap,Ae=this.lineWidth,Ge=Math.abs(Ae*this.ctx.transform.scaleX),Qe=this.lineJoin,at=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),Oe=[],oe=0;oe<Ye.length;oe++)if(Ye[oe].x!==void 0)for(var Pt=_.call(this,Ye[oe]),Et=0;Et<Pt.length;Et+=1)Oe.indexOf(Pt[Et])===-1&&Oe.push(Pt[Et]);for(var He=0;He<Oe.length;He++)for(;this.pdf.internal.getNumberOfPages()<Oe[He];)v.call(this);if(j(Oe),this.autoPaging)for(var Me=Oe[0],dt=Oe[Oe.length-1],st=Me;st<dt+1;st++){this.pdf.setPage(st),this.fillStyle=_e,this.strokeStyle=Ne,this.lineCap=Be,this.lineWidth=Ge,this.lineJoin=Qe;var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=st===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=st===1?0:Ot+(st-2)*tt;if(this.ctx.clip_path.length!==0){var Bt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(X,this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset),B.call(this,E,!0),this.path=Bt}if(le=JSON.parse(JSON.stringify(at)),this.path=C(le,this.posX+this.margin[3],-yt+Lt+this.ctx.prevPageLastElemOffset),U===!1||st===0){var gt=(st>Me||st<dt)&&N.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,tt,null).clip().discardPath()),B.call(this,E,U),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Ge,B.call(this,E,U),this.lineWidth=Ae;this.path=at},B=function(E,U){if((E!=="stroke"||U||!x.call(this))&&(E==="stroke"||U||!f.call(this))){for(var X,le,_e=[],Ne=this.path,Be=0;Be<Ne.length;Be++){var Ae=Ne[Be];switch(Ae.type){case"begin":_e.push({begin:!0});break;case"close":_e.push({close:!0});break;case"mt":_e.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Ge=_e.length;if(Ne[Be-1]&&!isNaN(Ne[Be-1].x)&&(X=[Ae.x-Ne[Be-1].x,Ae.y-Ne[Be-1].y],Ge>0)){for(;Ge>=0;Ge--)if(_e[Ge-1].close!==!0&&_e[Ge-1].begin!==!0){_e[Ge-1].deltas.push(X),_e[Ge-1].abs.push(Ae);break}}break;case"bct":X=[Ae.x1-Ne[Be-1].x,Ae.y1-Ne[Be-1].y,Ae.x2-Ne[Be-1].x,Ae.y2-Ne[Be-1].y,Ae.x-Ne[Be-1].x,Ae.y-Ne[Be-1].y],_e[_e.length-1].deltas.push(X);break;case"qct":var Qe=Ne[Be-1].x+2/3*(Ae.x1-Ne[Be-1].x),at=Ne[Be-1].y+2/3*(Ae.y1-Ne[Be-1].y),Ye=Ae.x+2/3*(Ae.x1-Ae.x),Oe=Ae.y+2/3*(Ae.y1-Ae.y),oe=Ae.x,Pt=Ae.y;X=[Qe-Ne[Be-1].x,at-Ne[Be-1].y,Ye-Ne[Be-1].x,Oe-Ne[Be-1].y,oe-Ne[Be-1].x,Pt-Ne[Be-1].y],_e[_e.length-1].deltas.push(X);break;case"arc":_e.push({deltas:[],abs:[],arc:!0}),Array.isArray(_e[_e.length-1].abs)&&_e[_e.length-1].abs.push(Ae)}}le=U?null:E==="stroke"?"stroke":"fill";for(var Et=!1,He=0;He<_e.length;He++)if(_e[He].arc)for(var Me=_e[He].abs,dt=0;dt<Me.length;dt++){var st=Me[dt];st.type==="arc"?D.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,U,!Et):ue.call(this,st.x,st.y),Et=!0}else if(_e[He].close===!0)this.pdf.internal.out("h"),Et=!1;else if(_e[He].begin!==!0){var _t=_e[He].start.x,Lt=_e[He].start.y;M.call(this,_e[He].deltas,_t,Lt),Et=!0}le&&$.call(this,le),U&&ee.call(this)}},Y=function(E){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-X;case"top":return E+U-X;case"hanging":return E+U-2*X;case"middle":return E+U/2-X;default:return E}},V=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(U,X){this.colorStops.push([U,X])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(E,U,X,le,_e,Ne,Be,Ae,Ge){for(var Qe=be.call(this,X,le,_e,Ne),at=0;at<Qe.length;at++){var Ye=Qe[at];at===0&&(Ge?I.call(this,Ye.x1+E,Ye.y1+U):ue.call(this,Ye.x1+E,Ye.y1+U)),H.call(this,E,U,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}Ae?ee.call(this):$.call(this,Be)},$=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(E,U){this.pdf.internal.out(r(E)+" "+n(U)+" m")},G=function(E){var U;switch(E.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var X=this.pdf.getTextDimensions(E.text),le=Y.call(this,E.y),_e=V.call(this,le)-X.h,Ne=this.ctx.transform.applyToPoint(new o(E.x,le)),Be=this.ctx.transform.decompose(),Ae=new c;Ae=(Ae=(Ae=Ae.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Ge,Qe,at,Ye=this.ctx.transform.applyToRectangle(new l(E.x,le,X.w,X.h)),Oe=Ae.applyToRectangle(new l(E.x,_e,X.w,X.h)),oe=_.call(this,Oe),Pt=[],Et=0;Et<oe.length;Et+=1)Pt.indexOf(oe[Et])===-1&&Pt.push(oe[Et]);if(j(Pt),this.autoPaging)for(var He=Pt[0],Me=Pt[Pt.length-1],dt=He;dt<Me+1;dt++){this.pdf.setPage(dt);var st=dt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Ot=Lt-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],yt=tt-this.margin[3],Bt=dt===1?0:_t+(dt-2)*Ot;if(this.ctx.clip_path.length!==0){var gt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ge,this.posX+this.margin[3],-1*Bt+st),B.call(this,"fill",!0),this.path=gt}var jt=C([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Bt+st+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*E.scale),at=this.lineWidth,this.lineWidth=at*E.scale);var Nt=this.autoPaging!=="text";if(Nt||jt.y+jt.h<=Lt){if(Nt||jt.y>=st&&jt.x<=tt){var Tt=Nt?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||tt-jt.x)[0],wt=C([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Bt+st+this.ctx.prevPageLastElemOffset)[0],Kt=Nt&&(dt>He||dt<Me)&&N.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Ot,null).clip().discardPath()),this.pdf.text(Tt,wt.x,wt.y,{angle:E.angle,align:U,renderingMode:E.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else jt.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-jt.y);E.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=at)}else E.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*E.scale),at=this.lineWidth,this.lineWidth=at*E.scale),this.pdf.text(E.text,Ne.x+this.posX,Ne.y+this.posY,{angle:E.angle,align:U,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=at)},ue=function(E,U,X,le){X=X||0,le=le||0,this.pdf.internal.out(r(E+X)+" "+n(U+le)+" l")},M=function(E,U,X){return this.pdf.lines(E,U,X,null,null)},H=function(E,U,X,le,_e,Ne,Be,Ae){this.pdf.internal.out([e(i(X+E)),e(a(le+U)),e(i(_e+E)),e(a(Ne+U)),e(i(Be+E)),e(a(Ae+U)),"c"].join(" "))},be=function(E,U,X,le){for(var _e=2*Math.PI,Ne=Math.PI/2;U>X;)U-=_e;var Be=Math.abs(X-U);Be<_e&&le&&(Be=_e-Be);for(var Ae=[],Ge=le?-1:1,Qe=U;Be>1e-5;){var at=Qe+Ge*Math.min(Be,Ne);Ae.push(Ce.call(this,E,Qe,at)),Be-=Math.abs(at-Qe),Qe=at}return Ae},Ce=function(E,U,X){var le=(X-U)/2,_e=E*Math.cos(le),Ne=E*Math.sin(le),Be=_e,Ae=-Ne,Ge=Be*Be+Ae*Ae,Qe=Ge+Be*_e+Ae*Ne,at=4/3*(Math.sqrt(2*Ge*Qe)-Qe)/(Be*Ne-Ae*_e),Ye=Be-at*Ae,Oe=Ae+at*Be,oe=Ye,Pt=-Oe,Et=le+U,He=Math.cos(Et),Me=Math.sin(Et);return{x1:E*Math.cos(U),y1:E*Math.sin(U),x2:Ye*He-Oe*Me,y2:Ye*Me+Oe*He,x3:oe*He-Pt*Me,y3:oe*Me+Pt*He,x4:E*Math.cos(X),y4:E*Math.sin(X)}},ie=function(E){return 180*E/Math.PI},xe=function(E,U,X,le,_e,Ne){var Be=E+.5*(X-E),Ae=U+.5*(le-U),Ge=_e+.5*(X-_e),Qe=Ne+.5*(le-Ne),at=Math.min(E,_e,Be,Ge),Ye=Math.max(E,_e,Be,Ge),Oe=Math.min(U,Ne,Ae,Qe),oe=Math.max(U,Ne,Ae,Qe);return new l(at,Oe,Ye-at,oe-Oe)},Re=function(E,U,X,le,_e,Ne,Be,Ae){var Ge,Qe,at,Ye,Oe,oe,Pt,Et,He,Me,dt,st,_t,Lt,Ot=X-E,tt=le-U,yt=_e-X,Bt=Ne-le,gt=Be-_e,jt=Ae-Ne;for(Qe=0;Qe<41;Qe++)He=(Pt=(at=E+(Ge=Qe/40)*Ot)+Ge*((Oe=X+Ge*yt)-at))+Ge*(Oe+Ge*(_e+Ge*gt-Oe)-Pt),Me=(Et=(Ye=U+Ge*tt)+Ge*((oe=le+Ge*Bt)-Ye))+Ge*(oe+Ge*(Ne+Ge*jt-oe)-Et),Qe==0?(dt=He,st=Me,_t=He,Lt=Me):(dt=Math.min(dt,He),st=Math.min(st,Me),_t=Math.max(_t,He),Lt=Math.max(Lt,Me));return new l(Math.round(dt),Math.round(st),Math.round(_t-dt),Math.round(Lt-st))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,U,X=(E=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:U}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(At.API),function(t){var e=function(o){var l,c,u,d,g,m,f,x,N,_;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(g=((g=((g=((g=(g-(_=g%85))/85)-(N=g%85))/85)-(x=g%85))/85)-(f=g%85))/85)%85,c.push(m+33,f+33,x+33,N+33,_+33)):c.push(122);return function(v,C){for(var j=C;j>0;j--)v.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,g,m=String,f="length",x=255,N="charCodeAt",_="slice",v="replace";for(o[_](-2),o=o[_](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],d=0,g=(o+=l="uuuuu"[_](o[f]%5||5))[f];g>d;d+=5)c=52200625*(o[N](d)-33)+614125*(o[N](d+1)-33)+7225*(o[N](d+2)-33)+85*(o[N](d+3)-33)+(o[N](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(C,j){for(var L=j;L>0;L--)C.pop()}(u,l[f]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=d0(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var g=new XMLHttpRequest,m=0,f=function(x){var N=x.length,_=[],v=String.fromCharCode;for(m=0;m<N;m+=1)_.push(v(255&x.charCodeAt(m)));return _.join("")};if(g.open("GET",c,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?d(f(this.responseText)):d(void 0)}),g.send(null),u&&g.status===200)return f(g.responseText)}(i,a,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(tr.html2canvas?Promise.resolve(tr.html2canvas):ma(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(tr.DOMPurify?Promise.resolve(tr.DOMPurify):ma(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=kr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var x=d[f],N=x.src.find(function(_){return _.format==="truetype"});N&&u.addFont(N.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,g).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(g,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,At.getPageSize=function(l,c,u){if(kr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var g,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var x,N=0,_=0;if(f.hasOwnProperty(m))N=f[m][1]/g,_=f[m][0]/g;else try{N=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",_>N&&(x=_,_=N,N=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>_&&(x=_,_=N,N=x)}return{width:_,height:N,unit:c,k:g,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(zg):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(At.API),At.API.addJS=function(t){return mb=t,this.internal.events.subscribe("postPutResources",function(){Rd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rd!==void 0&&pb!==void 0&&this.internal.out("/Names <</JavaScript "+Rd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var g=r.internal.newObject();d.push(g);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(g){for(var m,f=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,N={width:0,height:0,numcomponents:1},_=4;_<x;_+=2){if(_+=f,e.indexOf(g.charCodeAt(_+1))!==-1){m=256*g.charCodeAt(_+5)+g.charCodeAt(_+6),N={width:256*g.charCodeAt(_+7)+g.charCodeAt(_+8),height:m,numcomponents:g.charCodeAt(_+9)};break}f=256*g.charCodeAt(_+2)+g.charCodeAt(_+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(At.API),At.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=N6(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;i=u&&c===1?function(V){for(var D=V.width,$=V.height,ee=V.data,I=V.palette,G=V.depth,ue=!1,M=[],H=[],be=void 0,Ce=!1,ie=0,xe=0;xe<I.length;xe++){var Re=xv(I[xe],4),se=Re[0],E=Re[1],U=Re[2],X=Re[3];M.push(se,E,U),X!=null&&(X===0?(ie++,H.length<1&&H.push(xe)):X<255&&(Ce=!0))}if(Ce||ie>1){ue=!0,H=void 0;var le=D*$;be=new Uint8Array(le);for(var _e=new DataView(ee.buffer),Ne=0;Ne<le;Ne++){var Be=Hg(_e,Ne,G),Ae=xv(I[Be],4)[3];be[Ne]=Ae}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:ee,alphaBytes:be,needSMask:ue,palette:M,mask:H}}(a):c===2||c===4?function(V){for(var D=V.data,$=V.width,ee=V.height,I=V.channels,G=V.depth,ue=I===2?"DeviceGray":"DeviceRGB",M=I-1,H=$*ee,be=M,Ce=H*be,ie=1*H,xe=Math.ceil(Ce*G/8),Re=Math.ceil(ie*G/8),se=new Uint8Array(xe),E=new Uint8Array(Re),U=new DataView(D.buffer),X=new DataView(se.buffer),le=new DataView(E.buffer),_e=!1,Ne=0;Ne<H;Ne++){for(var Be=Ne*I,Ae=0;Ae<be;Ae++)Nb(X,Hg(U,Be+Ae,G),Ne*be+Ae,G);var Ge=Hg(U,Be+be,G);Ge<(1<<G)-1&&(_e=!0),Nb(le,Ge,1*Ne,G)}return{colorSpace:ue,colorsPerPixel:M,colorBytes:se,alphaBytes:E,needSMask:_e}}(a):function(V){var D=V.data,$=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:D instanceof Uint8Array?D:new Uint8Array(D.buffer),needSMask:!1}}(a);var g,m,f,x=i,N=x.colorSpace,_=x.colorsPerPixel,v=x.colorBytes,C=x.alphaBytes,j=x.needSMask,L=x.palette,B=x.mask,Y=null;return n!==At.API.image_compression.NONE&&typeof d0=="function"?(Y=function(V){var D;switch(V){case At.API.image_compression.FAST:D=11;break;case At.API.image_compression.MEDIUM:D=13;break;case At.API.image_compression.SLOW:D=14;break;default:D=12}return D}(n),g=this.decode.FLATE_DECODE,m="/Predictor ".concat(Y," "),t=xb(v,o*_,_,n),j&&(f=xb(C,o,1,n))):(g=void 0,m="",t=v,j&&(f=C)),m+="/Colors ".concat(_," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:g,decodeParameters:m,transparency:B,palette:L,sMask:f,predictor:Y,width:o,height:l,bitsPerComponent:d,colorSpace:N}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new G6(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Gg(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(At.API),la.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},la.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Dr.log("bit decode error:"+r)}},la.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},la.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},la.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},la.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},la.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},la.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},la.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},la.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new la(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Gg(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),Lb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new Lb(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Gg(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),At.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],g=n[u+1],m=n[u+2],f=n[u+3];a[l++]=d,a[l++]=g,a[l++]=m,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fl=At.API,Od=fl.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,g=e.doKerning!==!1,m=0,f=t.length,x=0,N=l[0]||c,_=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=g&&kr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,_.push((l[n]||N)/c+m)),x=n;return _},vb=fl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fl.processArabic&&(t=fl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Od.apply(this,arguments).reduce(function(a,o){return a+o},0)},bb=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},yb=function(t,e,r){r||(r={});var n,i,a,o,l,c,u,d=[],g=[d],m=r.textIndent||0,f=0,x=0,N=t.split(" "),_=Od.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),C=[];N.map(function(L){(L=L.split(/\s*\n/)).length>1?C=C.concat(L.map(function(B,Y){return(Y&&B.length?`
`:"")+B})):C.push(L[0])}),N=C,c=vb.apply(this,[v,r])}for(a=0,o=N.length;a<o;a++){var j=0;if(n=N[a],c&&n[0]==`
`&&(n=n.substr(1),j=1),m+f+(x=(i=Od.apply(this,[n,r])).reduce(function(L,B){return L+B},0))>e||j){if(x>e){for(l=bb.apply(this,[n,i,e-(m+f),e]),d.push(l.shift()),d=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(L,B){return L+B},0)}else d=[n];g.push(d),m=x+c,f=_}else d.push(n),m+=f+x,f=_}return u=c?function(L,B){return(B?v:"")+L.join(" ")}:function(L){return L.join(" ")},g.map(u)},fl.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return g.metadata[m]?{widths:g.metadata[m].widths||{0:1},kerning:g.metadata[m].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(yb.apply(this,[n[l],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,x,N,_,v=["{"];for(var C in m){if(f=m[C],isNaN(parseInt(C,10))?x="'"+C+"'":(C=parseInt(C,10),x=(x=o(C).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof f=="number")f<0?(N=o(f).slice(3),_="-"):(N=o(f).slice(2),_=""),N=_+N.slice(0,-1)+i[N.slice(-1)];else{if(kr(f)!=="object")throw new Error("Don't know what to do with value type "+kr(f)+".");N=l(f)}v.push(x+N)}return v.push("}"),v.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,N,_,v={},C=1,j=v,L=[],B="",Y="",V=m.length-1,D=1;D<V;D+=1)(_=m[D])=="'"?f?(N=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(L.push([j,N]),j={},N=void 0):_=="}"?((x=L.pop())[0][x[1]]=j,N=void 0,j=x[0]):_=="-"?C=-1:N===void 0?n.hasOwnProperty(_)?(B+=n[_],N=parseInt(B,16)*C,C=1,B=""):B+=_:n.hasOwnProperty(_)?(Y+=n[_],j[N]=parseInt(Y,16)*C,C=1,N=void 0,Y=""):Y+=_;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,x=g.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var N=d.Unicode[f.postScriptName];N&&(f.metadata.Unicode.encoding=N,f.encoding=N.codePages[0])}])}(At.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Zd(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),At.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw Dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(tr.canvg?Promise.resolve(tr.canvg):ma(()=>import("./index.es-Dw40ehV1.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},At.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},At.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,g=0;function m(x,N){var _,v=!1;for(_=0;_<x.length;_+=1)x[_]===N&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(g=0;g<f;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(kr(t)==="object"){for(i in t)if(a=t[i],m(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,N=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?N.push("/"+x+" /"+r[x].value):N.push("/"+x+" "+r[x].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],g=0,m=a.length;g<m;++g){if(l=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(a){var o,l,c,u,d,g,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,m=(l=Object.keys(a).sort(function(f,x){return f-x})).length;g<m;g++)o=l[g],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<m.length;x++)f+=String.fromCharCode(m[x]);var N=u();d({data:f,addLength1:!0,objectId:N}),c("endobj");var _=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vl(l.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+vl(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+vl(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,m="",f=0;f<g.length;f++)m+=String.fromCharCode(g[f]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var N=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var _=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+vl(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+vl(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},g=a.mutex||{},m=g.pdfEscape,f=g.activeFontKey,x=g.fonts,N=f,_="",v=0,C="",j=x[N].encoding;if(x[N].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:g};for(C=l,N=f,Array.isArray(l)&&(C=l[0]),v=0;v<C.length;v+=1)x[N].metadata.hasOwnProperty("cmap")&&(o=x[N].metadata.cmap.unicode.codeMap[C[v].charCodeAt(0)]),o||C[v].charCodeAt(0)<256&&x[N].metadata.hasOwnProperty("Unicode")?_+=C[v]:_+="";var L="";return parseInt(N.slice(1))<14||j==="WinAnsiEncoding"?L=m(_,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(L=r(_,x[N])),g.isHex=!0,{text:L,x:c,y:u,options:d,mutex:g}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,d,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,j=0;this.__bidiEngine__={};var L=function(I){var G=I.charCodeAt(),ue=G>>8,M=N[ue];return M!==void 0?g[256*M+(255&G)]:ue===252||ue===253?"AL":v.test(ue)?"L":ue===8?"R":"N"},B=function(I){for(var G,ue=0;ue<I.length;ue++){if((G=L(I.charAt(ue)))==="L")return!1;if(G==="R")return!0}return!1},Y=function(I,G,ue,M){var H,be,Ce,ie,xe=G[M];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(xe="AN");break;case"AL":C=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":M<1||M+1>=G.length||(H=ue[M-1])!=="EN"&&H!=="AN"||(be=G[M+1])!=="EN"&&be!=="AN"?xe="N":C&&(be="AN"),xe=be===H?be:"N";break;case"ES":xe=(H=M>0?ue[M-1]:"B")==="EN"&&M+1<G.length&&G[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&ue[M-1]==="EN"){xe="EN";break}if(C){xe="N";break}for(Ce=M+1,ie=G.length;Ce<ie&&G[Ce]==="ET";)Ce++;xe=Ce<ie&&G[Ce]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ie=G.length,Ce=M+1;Ce<ie&&G[Ce]==="NSM";)Ce++;if(Ce<ie){var Re=I[M],se=Re>=1425&&Re<=2303||Re===64286;if(H=G[Ce],se&&(H==="R"||H==="AL")){xe="R";break}}}xe=M<1||(H=G[M-1])==="B"?"N":ue[M-1];break;case"B":C=!1,i=!0,xe=j;break;case"S":a=!0,xe="N"}return xe},V=function(I,G,ue){var M=I.split("");return ue&&D(M,ue,{hiLevel:j}),M.reverse(),G&&G.reverse(),M.join("")},D=function(I,G,ue){var M,H,be,Ce,ie,xe=-1,Re=I.length,se=0,E=[],U=j?f:m,X=[];for(C=!1,i=!1,a=!1,H=0;H<Re;H++)X[H]=L(I[H]);for(be=0;be<Re;be++){if(ie=se,E[be]=Y(I,X,E,be),M=240&(se=U[ie][x[E[be]]]),se&=15,G[be]=Ce=U[se][5],M>0)if(M===16){for(H=xe;H<be;H++)G[H]=1;xe=-1}else xe=-1;if(U[se][6])xe===-1&&(xe=be);else if(xe>-1){for(H=xe;H<be;H++)G[H]=Ce;xe=-1}X[be]==="B"&&(G[be]=0),ue.hiLevel|=Ce}a&&function(le,_e,Ne){for(var Be=0;Be<Ne;Be++)if(le[Be]==="S"){_e[Be]=j;for(var Ae=Be-1;Ae>=0&&le[Ae]==="WS";Ae--)_e[Ae]=j}}(X,G,Re)},$=function(I,G,ue,M,H){if(!(H.hiLevel<I)){if(I===1&&j===1&&!i)return G.reverse(),void(ue&&ue.reverse());for(var be,Ce,ie,xe,Re=G.length,se=0;se<Re;){if(M[se]>=I){for(ie=se+1;ie<Re&&M[ie]>=I;)ie++;for(xe=se,Ce=ie-1;xe<Ce;xe++,Ce--)be=G[xe],G[xe]=G[Ce],G[Ce]=be,ue&&(be=ue[xe],ue[xe]=ue[Ce],ue[Ce]=be);se=ie}se++}}},ee=function(I,G,ue){var M=I.split(""),H={hiLevel:j};return ue||(ue=[]),D(M,ue,H),function(be,Ce,ie){if(ie.hiLevel!==0&&d)for(var xe,Re=0;Re<be.length;Re++)Ce[Re]===1&&(xe=_.indexOf(be[Re]))>=0&&(be[Re]=_[xe+1])}(M,ue,H),$(2,M,G,ue,H),$(1,M,G,ue,H),M.join("")};return this.__bidiEngine__.doBidiReorder=function(I,G,ue){if(function(H,be){if(be)for(var Ce=0;Ce<H.length;Ce++)be[Ce]=Ce;l===void 0&&(l=B(H)),u===void 0&&(u=B(H))}(I,G),o||!c||u)if(o&&c&&l^u)j=l?1:0,I=V(I,G,ue);else if(!o&&c&&u)j=l?1:0,I=ee(I,G,ue),I=V(I,G);else if(!o||l||c||u){if(o&&!c&&l^u)I=V(I,G),l?(j=0,I=ee(I,G,ue)):(j=1,I=ee(I,G,ue),I=V(I,G));else if(o&&l&&!c&&u)j=1,I=ee(I,G,ue),I=V(I,G);else if(!o&&!c&&l^u){var M=d;l?(j=1,I=ee(I,G,ue),j=0,d=!1,I=ee(I,G,ue),d=M):(j=0,I=ee(I,G,ue),I=V(I,G),j=1,d=!1,I=ee(I,G,ue),d=M,I=V(I,G))}}else j=0,I=ee(I,G,ue);else j=l?1:0,I=ee(I,G,ue);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Xs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ok(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Y6(this.contents),this.head=new J6(this),this.name=new ek(this),this.cmap=new w_(this),this.toUnicode={},this.hhea=new K6(this),this.maxp=new tk(this),this.hmtx=new rk(this),this.post=new X6(this),this.os2=new Q6(this),this.loca=new sk(this),this.glyf=new nk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var xa,Xs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Y6=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,c,u,d,g,m,f,x,N;for(N in f=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(f)/c),o=Math.floor(g/c),d=16*f-g,(i=new Xs).writeInt(this.scalarType),i.writeShort(f),i.writeShort(g),i.writeShort(o),i.writeShort(d),a=16*f,u=i.pos+a,l=null,x=[],r)for(m=r[N],i.writeString(N),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),x=x.concat(m),N==="head"&&(l=u),u+=m.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=S_.call(r);r.length%4;)r.push(0);for(a=new Xs(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),V6={}.hasOwnProperty,Ba=function(t,e){for(var r in e)V6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var J6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Xs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Ab=function(){function t(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,N,_,v,C,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,a=function(){var L,B;for(B=[],c=L=0;0<=m?L<m:L>m;c=0<=m?++L:--L)B.push(e.readUInt16());return B}(),e.pos+=2,N=function(){var L,B;for(B=[],c=L=0;0<=m?L<m:L>m;c=0<=m?++L:--L)B.push(e.readUInt16());return B}(),u=function(){var L,B;for(B=[],c=L=0;0<=m?L<m:L>m;c=0<=m?++L:--L)B.push(e.readUInt16());return B}(),d=function(){var L,B;for(B=[],c=L=0;0<=m?L<m:L>m;c=0<=m?++L:--L)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,l=function(){var L,B;for(B=[],c=L=0;0<=i?L<i:L>i;c=0<=i?++L:--L)B.push(e.readUInt16());return B}(),c=v=0,j=a.length;v<j;c=++v)for(_=a[c],n=C=x=N[c];x<=_?C<=_:C>=_;n=x<=_?++C:--C)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=g}return t.encode=function(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,N,_,v,C,j,L,B,Y,V,D,$,ee,I,G,ue,M,H,be,Ce,ie,xe,Re,se,E,U,X,le,_e,Ne,Be,Ae,Ge,Qe,at;switch(M=new Xs,o=Object.keys(e).sort(function(Ye,Oe){return Ye-Oe}),r){case"macroman":for(N=0,_=function(){var Ye=[];for(x=0;x<256;++x)Ye.push(0);return Ye}(),C={0:0},a={},H=0,xe=o.length;H<xe;H++)C[Ae=e[i=o[H]]]==null&&(C[Ae]=++N),a[i]={old:e[i],new:C[e[i]]},_[i]=C[e[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(_),{charMap:a,subtable:M.data,maxGlyphID:N+1};case"unicode":for(G=[],g=[],j=0,C={},n={},v=u=null,be=0,Re=o.length;be<Re;be++)C[B=e[i=o[be]]]==null&&(C[B]=++j),n[i]={old:B,new:C[B]},l=C[B]-i,v!=null&&l===u||(v&&g.push(v),G.push(i),u=l),v=i;for(v&&g.push(v),g.push(65535),G.push(65535),ee=2*($=G.length),D=2*Math.pow(Math.log($)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,V=2*$-D,c=[],Y=[],f=[],x=Ce=0,se=G.length;Ce<se;x=++Ce){if(I=G[x],d=g[x],I===65535){c.push(0),Y.push(0);break}if(I-(ue=n[I].new)>=32768)for(c.push(0),Y.push(2*(f.length+$-x)),i=ie=I;I<=d?ie<=d:ie>=d;i=I<=d?++ie:--ie)f.push(n[i].new);else c.push(ue-I),Y.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*$+2*f.length),M.writeUInt16(0),M.writeUInt16(ee),M.writeUInt16(D),M.writeUInt16(m),M.writeUInt16(V),Ne=0,E=g.length;Ne<E;Ne++)i=g[Ne],M.writeUInt16(i);for(M.writeUInt16(0),Be=0,U=G.length;Be<U;Be++)i=G[Be],M.writeUInt16(i);for(Ge=0,X=c.length;Ge<X;Ge++)l=c[Ge],M.writeUInt16(l);for(Qe=0,le=Y.length;Qe<le;Qe++)L=Y[Qe],M.writeUInt16(L);for(at=0,_e=f.length;at<_e;at++)N=f[at],M.writeUInt16(N);return{charMap:n,subtable:M.data,maxGlyphID:j+1}}},t}(),w_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Ab(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Ab.encode(e,r),(i=new Xs).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),K6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Q6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),X6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t}(),Z6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ek=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,c,u,d,g,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=d=0,g=n.length;d<g;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new Z6(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),tk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),rk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,g,m;for(m=[],u=0,d=(g=this.metrics).length;u<d;u++)a=g[u],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),S_=[].slice,nk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,c,u,d,g;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new Xs(r.read(i))).readShort(),u=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new ak(l,u,g,c,d):new ik(l,o,u,g,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),ik=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ak=function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Xs(S_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),sk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ba(t,xa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),ok=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,c,u,d,g,m,f,x,N,_,v;for(i in n=w_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=n.charMap)f[(c=v[i]).old]=c.new;for(x in m=n.maxGlyphID,o)x in f||(f[x]=m++);return d=function(C){var j,L;for(j in L={},C)L[C[j]]=j;return L}(f),g=Object.keys(d).sort(function(C,j){return C-j}),N=function(){var C,j,L;for(L=[],C=0,j=g.length;C<j;C++)l=g[C],L.push(d[l]);return L}(),a=this.font.glyf.encode(o,N,f),u=this.font.loca.encode(a.offsets,N),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();function j_(t,e,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=l*c,d=/\r\n|\r|\n/g,g="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(d):t,m=g.length||1),r+=l*(2-a),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),g&&m>=1){for(var x=0;x<g.length;x++)i.text(g[x],e-i.getStringUnitWidth(g[x])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var kb={},ql=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:kb=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return kb||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),y0=function(t,e){return y0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},y0(t,e)};function N_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");y0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C_=function(t){N_(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function lk(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ck(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Dh(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function L_(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=A_(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function A_(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function df(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function k_(t,e){var r=df(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function uk(t,e,r,n,i){var a={},o=1.3333333333333333,l=Yg(e,function(j){return i.getComputedStyle(j).backgroundColor});l!=null&&(a.fillColor=l);var c=Yg(e,function(j){return i.getComputedStyle(j).color});c!=null&&(a.textColor=c);var u=hk(n,r);u&&(a.cellPadding=u);var d="borderTopColor",g=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var f=(parseFloat(m)||0)/g;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var x=Yg(e,function(j){return i.getComputedStyle(j)[d]});x!=null&&(a.lineColor=x);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(a.fontSize=_/o);var v=dk(n);v&&(a.fontStyle=v);var C=(n.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(a.font=C),a}function dk(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Yg(t,e){var r=P_(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function P_(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:P_(t.parentElement,e):r}function hk(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(l){return parseInt(l||"0")/n}),o=df(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function E_(t,e,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],g=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:g,foot:m};for(var f=0;f<l.rows.length;f++){var x=l.rows[f],N=(o=(a=x==null?void 0:x.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=fk(c,u,r,x,n,i);_&&(N==="thead"?d.push(_):N==="tfoot"?m.push(_):g.push(_))}return{head:d,body:g,foot:m}}function fk(t,e,r,n,i,a){for(var o=new C_(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(i||u.display!=="none"){var d=void 0;a&&(d=uk(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:gk(c)})}}var g=r.getComputedStyle(n);if(o.length>0&&(i||g.display!=="none"))return o}function gk(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function pk(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function ss(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function F_(t,e){var r=new ql(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();pk(i,n,e);var a=ss({},i,n,e),o;typeof window<"u"&&(o=window);var l=mk(i,n,e),c=vk(i,n,e),u=bk(r,a),d=xk(r,a,o);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function mk(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],g=r[c];n.columnStyles=ss({},u,d,g)}else{var m=[t,e,r],f=m.map(function(x){return x[c]||{}});n[c]=ss({},f[0],f[1],f[2])}},a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i(l)}return n}function vk(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function bk(t,e){var r,n,i,a,o,l,c,u,d,g,m,f,x=df(e.margin,40/t.scaleFactor()),N=(r=yk(t,e.startY))!==null&&r!==void 0?r:x.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var C=(a=e.useCss)!==null&&a!==void 0?a:!1,j=e.theme||(C?"plain":"striped"),L=!!e.horizontalPageBreak,B=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:C,theme:j,startY:N,margin:x,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:v,showFoot:_,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:L,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function yk(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function xk(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=E_(t,e.html,r,o,e.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||_k(n,i,a);return{columns:c,head:n,body:i,foot:a}}function _k(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};i.push(d)}}),i}var x0=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),wk=function(t){N_(e,t);function e(r,n,i,a,o,l){var c=t.call(this,r,n,l)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return e}(x0),Sk=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new wk(e,this,n,i,a,o),g=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new x0(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new x0(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),T_=function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof C_&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>i?u:i},0)},t}(),D_=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=df(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),jk=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function Nk(t,e){Ck(t,e);var r=[],n=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=_0(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=_0(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Ak(e),kk(e,t),Lk(e)}function Ck(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=k_(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,a,c,null);var g=u.padding("horizontal");u.contentWidth=Dh(u.text,u.styles,t)+g;var m=Dh(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=d.cellWidth||d.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function _0(t,e,r){for(var n=e,i=t.reduce(function(f,x){return f+x.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=o.wrappedWidth/i,c=n*l,u=o.width+c,d=r(o),g=u<d?d:u;e-=g-o.width,o.width=g}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>r(f):!0});m.length&&(e=_0(m,e,r))}return e}function Lk(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var g=n.length-i,m=d.rowSpan>g?g:d.rowSpan;e[c.index]={cell:d,left:m,row:a}}}}}function Ak(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function kk(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Pb(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Pb(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,d);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}function Pb(t,e,r,n,i){return t.map(function(a){return Pk(a,e,r,n,i)})}function Pk(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Dh(t,r,n))return t;for(;e<Dh(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function I_(t,e){var r=new ql(t),n=Ek(e,r.scaleFactor()),i=new Sk(e,n);return Nk(r,i),r.applyStyles(r.userStyles),i}function Ek(t,e){var r=t.content,n=Tk(r.columns);if(r.head.length===0){var i=Eb(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Eb(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:n,head:Vg("head",r.head,n,o,a,e),body:Vg("body",r.body,n,o,a,e),foot:Vg("foot",r.foot,n,o,a,e)}}function Vg(t,e,r,n,i,a){var o={},l=e.map(function(c,u){for(var d=0,g={},m=0,f=0,x=0,N=r;x<N.length;x++){var _=N[x];if(o[_.index]==null||o[_.index].left===0)if(f===0){var v=void 0;Array.isArray(c)?v=c[_.index-m-d]:v=c[_.dataKey];var C={};typeof v=="object"&&!Array.isArray(v)&&(C=(v==null?void 0:v.styles)||{});var j=Dk(t,_,u,i,n,a,C),L=new D_(v,j,t);g[_.dataKey]=L,g[_.index]=L,f=L.colSpan-1,o[_.index]={left:L.rowSpan-1,times:f}}else f--,m++;else o[_.index].left--,f=o[_.index].times,d++}return new T_(c,u,t,g)});return l}function Eb(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=Fk(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Fk(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Tk(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new jk(i,e,r)})}function Dk(t,e,r,n,i,a,o){var l=ck(n),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var u=ss({},l.table,l[t],i.styles,c),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=t==="body"?d:{},m=t==="body"&&r%2===0?ss({},l.alternateRow,i.alternateRowStyles):{},f=lk(a),x=ss({},f,u,m,g);return ss(x,o)}function Ik(t,e,r){var n;r===void 0&&(r={});var i=k_(t,e),a=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var f=e.columns.find(function(x){return x.dataKey===m||x.index===m});f&&!a.has(f.index)&&(a.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(a.has(d)){d++;continue}var g=e.columns[d].wrappedWidth;if(u||i>=g)u=!1,o.push(d),l.push(e.columns[d]),i-=g;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function Rk(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=Ik(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function R_(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(m,f){return m+f.height},0);l+=u}var d=new ql(t);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(B_(d),a.y=i.top),e.callWillDrawPageHooks(d,a);var g=ss({},a);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Ok(d,e,g,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return hs(d,e,m,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(m,f){var x=f===e.body.length-1;Ih(d,e,m,x,g,a,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return hs(d,e,m,a,e.columns)})),L_(d,e,g,a),e.callEndPageHooks(d,a),e.finalY=a.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function Ok(t,e,r,n){var i=Rk(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?cu(t,e,r,n,u.columns,!0):Fb(t,e,n,u.columns),Bk(t,e,r,n,u.columns),Jg(t,e,n,u.columns)});else for(var o=-1,l=i[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var d=l.columns;o>=0?cu(t,e,r,n,d,!0):Fb(t,e,n,d),u=Tb(t,e,o+1,n,d),Jg(t,e,n,d)}var g=u-o;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),cu(t,e,r,n,m.columns,!0),Tb(t,e,o+1,n,m.columns,g),Jg(t,e,n,m.columns)}),o=u};o<e.body.length-1;)c()}function Fb(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return hs(t,e,a,r,n)})}function Bk(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var l=o===e.body.length-1;Ih(t,e,a,l,r,n,i)})}function Tb(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(r+a,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var d=r+u===e.body.length-1,g=O_(t,e,d,n);c.canEntireRowFit(g,i)&&(hs(t,e,c,n,i),l=r+u)}),l}function Jg(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return hs(t,e,a,r,n)})}function Mk(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function Uk(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new D_(u.raw,u.styles,u.section);d=ss(d,u),d.text=[];var g=Mk(u,e,n);u.text.length>g&&(d.text=u.text.splice(g,u.text.length));var m=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,f),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,f),d.contentHeight>a&&(a=d.contentHeight),i[c.index]=d}}var x=new T_(t.raw,-1,t.section,i,!0);x.height=a;for(var N=0,_=r.columns;N<_.length;N++){var c=_[N],d=x.cells[c.index];d&&(d.height=x.height);var u=t.cells[c.index];u&&(u.height=t.height)}return x}function qk(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,l=i-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>l;return g?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Ih(t,e,r,n,i,a,o){var l=O_(t,e,n,a);if(r.canEntireRowFit(l,o))hs(t,e,r,a,o);else if(qk(t,r,l,e)){var c=Uk(r,l,e,t);hs(t,e,r,a,o),cu(t,e,i,a,o),Ih(t,e,c,n,i,a,o)}else cu(t,e,i,a,o),Ih(t,e,r,n,i,a,o)}function hs(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}$k(t,c,n);var d=c.getTextPos();j_(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function $k(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=A_(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),zk(t,e,r,n.lineWidth))}function zk(t,e,r,n){var i,a,o,l;n.top&&(i=r.x,a=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,o,l)),n.bottom&&(i=r.x,a=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,o,l)),n.left&&(i=r.x,a=r.y,o=r.x,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,o,l)),n.right&&(i=r.x+e.width,a=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,o,l));function c(u,d,g,m,f){t.getDocument().setLineWidth(u),t.getDocument().line(d,g,m,f,"S")}}function O_(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function cu(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return hs(t,e,l,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;L_(t,e,r,n),B_(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return hs(t,e,l,n,i)}),t.applyStyles(t.userStyles))}function B_(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Wk(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=F_(this,n),a=I_(this,i);return R_(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){j_(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return ql.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ql.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ql(this),a=E_(i,e,window,r,!1),o=a.head,l=a.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Kg;function mr(t,e){var r=F_(t,e),n=I_(t,r);R_(t,n)}try{if(typeof window<"u"&&window){var Db=window,Ib=Db.jsPDF||((Kg=Db.jspdf)===null||Kg===void 0?void 0:Kg.jsPDF);Ib&&Wk(Ib)}}catch(t){console.error("Could not apply autoTable plugin",t)}var ui={},Hk=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},M_={},zi={};let Fm;const Gk=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];zi.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};zi.getSymbolTotalCodewords=function(e){return Gk[e]};zi.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};zi.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Fm=e};zi.isKanjiModeEnabled=function(){return typeof Fm<"u"};zi.toSJIS=function(e){return Fm(e)};var hf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(hf);function U_(){this.buffer=[],this.length=0}U_.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Yk=U_;function $u(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}$u.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};$u.prototype.get=function(t,e){return this.data[t*this.size+e]};$u.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};$u.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Vk=$u,q_={};(function(t){const e=zi.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=e(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const i=[],a=t.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(q_);var $_={};const Jk=zi.getSymbolSize,Rb=7;$_.getPositions=function(e){const r=Jk(e);return[[0,0],[r-Rb,0],[0,r-Rb]]};var z_={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,d=null;for(let g=0;g<a;g++){l=c=0,u=d=null;for(let m=0;m<a;m++){let f=i.get(g,m);f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1),f=i.get(m,g),f===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=f,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function r(n,i,a){switch(n){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(z_);var ff={};const qs=hf,Bd=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Md=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ff.getBlocksCount=function(e,r){switch(r){case qs.L:return Bd[(e-1)*4+0];case qs.M:return Bd[(e-1)*4+1];case qs.Q:return Bd[(e-1)*4+2];case qs.H:return Bd[(e-1)*4+3];default:return}};ff.getTotalCodewordsCount=function(e,r){switch(r){case qs.L:return Md[(e-1)*4+0];case qs.M:return Md[(e-1)*4+1];case qs.Q:return Md[(e-1)*4+2];case qs.H:return Md[(e-1)*4+3];default:return}};var W_={},gf={};const uu=new Uint8Array(512),Rh=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)uu[r]=e,Rh[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)uu[r]=uu[r-255]})();gf.log=function(e){if(e<1)throw new Error("log("+e+")");return Rh[e]};gf.exp=function(e){return uu[e]};gf.mul=function(e,r){return e===0||r===0?0:uu[Rh[e]+Rh[r]]};(function(t){const e=gf;t.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(n[o],i[l]);return a},t.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(W_);const H_=W_;function Tm(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Tm.prototype.initialize=function(e){this.degree=e,this.genPoly=H_.generateECPolynomial(this.degree)};Tm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=H_.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var Kk=Tm,G_={},no={},Dm={};Dm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ma={};const Y_="[0-9]+",Qk="[A-Z $%*+\\-./:]+";let Tu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Tu=Tu.replace(/u/g,"\\u");const Xk="(?:(?![A-Z0-9 $%*+\\-./:]|"+Tu+`)(?:.|[\r
]))+`;Ma.KANJI=new RegExp(Tu,"g");Ma.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ma.BYTE=new RegExp(Xk,"g");Ma.NUMERIC=new RegExp(Y_,"g");Ma.ALPHANUMERIC=new RegExp(Qk,"g");const Zk=new RegExp("^"+Tu+"$"),eP=new RegExp("^"+Y_+"$"),tP=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ma.testKanji=function(e){return Zk.test(e)};Ma.testNumeric=function(e){return eP.test(e)};Ma.testAlphanumeric=function(e){return tP.test(e)};(function(t){const e=Dm,r=Ma;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return n(a)}catch{return o}}})(no);(function(t){const e=zi,r=ff,n=hf,i=no,a=Dm,o=7973,l=e.getBCHDigit(o);function c(m,f,x){for(let N=1;N<=40;N++)if(f<=t.getCapacity(N,x,m))return N}function u(m,f){return i.getCharCountIndicator(m,f)+4}function d(m,f){let x=0;return m.forEach(function(N){const _=u(N.mode,f);x+=_+N.getBitsLength()}),x}function g(m,f){for(let x=1;x<=40;x++)if(d(m,x)<=t.getCapacity(x,f,i.MIXED))return x}t.from=function(f,x){return a.isValid(f)?parseInt(f,10):x},t.getCapacity=function(f,x,N){if(!a.isValid(f))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=i.BYTE);const _=e.getSymbolTotalCodewords(f),v=r.getTotalCodewordsCount(f,x),C=(_-v)*8;if(N===i.MIXED)return C;const j=C-u(N,f);switch(N){case i.NUMERIC:return Math.floor(j/10*3);case i.ALPHANUMERIC:return Math.floor(j/11*2);case i.KANJI:return Math.floor(j/13);case i.BYTE:default:return Math.floor(j/8)}},t.getBestVersionForData=function(f,x){let N;const _=n.from(x,n.M);if(Array.isArray(f)){if(f.length>1)return g(f,_);if(f.length===0)return 1;N=f[0]}else N=f;return c(N.mode,N.getLength(),_)},t.getEncodedBits=function(f){if(!a.isValid(f)||f<7)throw new Error("Invalid QR Code version");let x=f<<12;for(;e.getBCHDigit(x)-l>=0;)x^=o<<e.getBCHDigit(x)-l;return f<<12|x}})(G_);var V_={};const w0=zi,J_=1335,rP=21522,Ob=w0.getBCHDigit(J_);V_.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;w0.getBCHDigit(i)-Ob>=0;)i^=J_<<w0.getBCHDigit(i)-Ob;return(n<<10|i)^rP};var K_={};const nP=no;function Kl(t){this.mode=nP.NUMERIC,this.data=t.toString()}Kl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Kl.prototype.getLength=function(){return this.data.length};Kl.prototype.getBitsLength=function(){return Kl.getBitsLength(this.data.length)};Kl.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,a*3+1))};var iP=Kl;const aP=no,Qg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ql(t){this.mode=aP.ALPHANUMERIC,this.data=t}Ql.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ql.prototype.getLength=function(){return this.data.length};Ql.prototype.getBitsLength=function(){return Ql.getBitsLength(this.data.length)};Ql.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Qg.indexOf(this.data[r])*45;n+=Qg.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Qg.indexOf(this.data[r]),6)};var sP=Ql;const oP=no;function Xl(t){this.mode=oP.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Xl.getBitsLength=function(e){return e*8};Xl.prototype.getLength=function(){return this.data.length};Xl.prototype.getBitsLength=function(){return Xl.getBitsLength(this.data.length)};Xl.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var lP=Xl;const cP=no,uP=zi;function Zl(t){this.mode=cP.KANJI,this.data=t}Zl.getBitsLength=function(e){return e*13};Zl.prototype.getLength=function(){return this.data.length};Zl.prototype.getBitsLength=function(){return Zl.getBitsLength(this.data.length)};Zl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=uP.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var dP=Zl,Q_={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var a={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,u,d,g,m,f,x,N,_;!l.empty();){c=l.pop(),u=c.value,g=c.cost,m=r[u]||{};for(d in m)m.hasOwnProperty(d)&&(f=m[d],x=g+f,N=o[d],_=typeof o[d]>"u",(_||N>x)&&(o[d]=x,l.push(d,x),a[d]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var v=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(v)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Q_);var hP=Q_.exports;(function(t){const e=no,r=iP,n=sP,i=lP,a=dP,o=Ma,l=zi,c=hP;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,C,j){const L=[];let B;for(;(B=v.exec(j))!==null;)L.push({data:B[0],index:B.index,mode:C,length:B[0].length});return L}function g(v){const C=d(o.NUMERIC,e.NUMERIC,v),j=d(o.ALPHANUMERIC,e.ALPHANUMERIC,v);let L,B;return l.isKanjiModeEnabled()?(L=d(o.BYTE,e.BYTE,v),B=d(o.KANJI,e.KANJI,v)):(L=d(o.BYTE_KANJI,e.BYTE,v),B=[]),C.concat(j,L,B).sort(function(V,D){return V.index-D.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function m(v,C){switch(C){case e.NUMERIC:return r.getBitsLength(v);case e.ALPHANUMERIC:return n.getBitsLength(v);case e.KANJI:return a.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function f(v){return v.reduce(function(C,j){const L=C.length-1>=0?C[C.length-1]:null;return L&&L.mode===j.mode?(C[C.length-1].data+=j.data,C):(C.push(j),C)},[])}function x(v){const C=[];for(let j=0;j<v.length;j++){const L=v[j];switch(L.mode){case e.NUMERIC:C.push([L,{data:L.data,mode:e.ALPHANUMERIC,length:L.length},{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.ALPHANUMERIC:C.push([L,{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.KANJI:C.push([L,{data:L.data,mode:e.BYTE,length:u(L.data)}]);break;case e.BYTE:C.push([{data:L.data,mode:e.BYTE,length:u(L.data)}])}}return C}function N(v,C){const j={},L={start:{}};let B=["start"];for(let Y=0;Y<v.length;Y++){const V=v[Y],D=[];for(let $=0;$<V.length;$++){const ee=V[$],I=""+Y+$;D.push(I),j[I]={node:ee,lastCount:0},L[I]={};for(let G=0;G<B.length;G++){const ue=B[G];j[ue]&&j[ue].node.mode===ee.mode?(L[ue][I]=m(j[ue].lastCount+ee.length,ee.mode)-m(j[ue].lastCount,ee.mode),j[ue].lastCount+=ee.length):(j[ue]&&(j[ue].lastCount=ee.length),L[ue][I]=m(ee.length,ee.mode)+4+e.getCharCountIndicator(ee.mode,C))}}B=D}for(let Y=0;Y<B.length;Y++)L[B[Y]].end=0;return{map:L,table:j}}function _(v,C){let j;const L=e.getBestModeForData(v);if(j=e.from(C,L),j!==e.BYTE&&j.bit<L.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(j)+`.
 Suggested mode is: `+e.toString(L));switch(j===e.KANJI&&!l.isKanjiModeEnabled()&&(j=e.BYTE),j){case e.NUMERIC:return new r(v);case e.ALPHANUMERIC:return new n(v);case e.KANJI:return new a(v);case e.BYTE:return new i(v)}}t.fromArray=function(C){return C.reduce(function(j,L){return typeof L=="string"?j.push(_(L,null)):L.data&&j.push(_(L.data,L.mode)),j},[])},t.fromString=function(C,j){const L=g(C,l.isKanjiModeEnabled()),B=x(L),Y=N(B,j),V=c.find_path(Y.map,"start","end"),D=[];for(let $=1;$<V.length-1;$++)D.push(Y.table[V[$]].node);return t.fromArray(f(D))},t.rawSplit=function(C){return t.fromArray(g(C,l.isKanjiModeEnabled()))}})(K_);const pf=zi,Xg=hf,fP=Yk,gP=Vk,pP=q_,mP=$_,S0=z_,j0=ff,vP=Kk,Oh=G_,bP=V_,yP=no,Zg=K_;function xP(t,e){const r=t.size,n=mP.getPositions(e);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(a+l,o+c,!0,!0):t.set(a+l,o+c,!1,!0))}}function _P(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function wP(t,e){const r=pP.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0)}}function SP(t,e){const r=t.size,n=Oh.getEncodedBits(e);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,o=(n>>l&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function ep(t,e,r){const n=t.size,i=bP.getEncodedBits(e,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(n-15+a,8,o,!0),a<8?t.set(8,n-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(n-8,8,1,!0)}function jP(t,e){const r=t.size;let n=-1,i=r-1,a=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let u=!1;o<e.length&&(u=(e[o]>>>a&1)===1),t.set(i,l-c,u),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function NP(t,e,r){const n=new fP;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),yP.getCharCountIndicator(c.mode,t)),c.write(n)});const i=pf.getSymbolTotalCodewords(t),a=j0.getTotalCodewordsCount(t,e),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return CP(n,t,e)}function CP(t,e,r){const n=pf.getSymbolTotalCodewords(e),i=j0.getTotalCodewordsCount(e,r),a=n-i,o=j0.getBlocksCount(e,r),l=n%o,c=o-l,u=Math.floor(n/o),d=Math.floor(a/o),g=d+1,m=u-d,f=new vP(m);let x=0;const N=new Array(o),_=new Array(o);let v=0;const C=new Uint8Array(t.buffer);for(let V=0;V<o;V++){const D=V<c?d:g;N[V]=C.slice(x,x+D),_[V]=f.encode(N[V]),x+=D,v=Math.max(v,D)}const j=new Uint8Array(n);let L=0,B,Y;for(B=0;B<v;B++)for(Y=0;Y<o;Y++)B<N[Y].length&&(j[L++]=N[Y][B]);for(B=0;B<m;B++)for(Y=0;Y<o;Y++)j[L++]=_[Y][B];return j}function LP(t,e,r,n){let i;if(Array.isArray(t))i=Zg.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=Zg.rawSplit(t);u=Oh.getBestVersionForData(d,r)}i=Zg.fromString(t,u||40)}else throw new Error("Invalid data");const a=Oh.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=NP(e,r,i),l=pf.getSymbolSize(e),c=new gP(l);return xP(c,e),_P(c),wP(c,e),ep(c,r,0),e>=7&&SP(c,e),jP(c,o),isNaN(n)&&(n=S0.getBestMask(c,ep.bind(null,c,r))),S0.applyMask(n,c),ep(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}M_.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Xg.M,i,a;return typeof r<"u"&&(n=Xg.from(r.errorCorrectionLevel,Xg.M),i=Oh.from(r.version),a=S0.from(r.maskPattern),r.toSJISFunc&&pf.setToSJISFunction(r.toSJISFunc)),LP(e,i,n,a)};var X_={},Im={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const a=t.getScale(n,i);return Math.floor((n+i.margin*2)*a)},t.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),u=Math.floor((o+a.margin*2)*c),d=a.margin*c,g=[a.color.light,a.color.dark];for(let m=0;m<u;m++)for(let f=0;f<u;f++){let x=(m*u+f)*4,N=a.color.light;if(m>=d&&f>=d&&m<u-d&&f<u-d){const _=Math.floor((m-d)/c),v=Math.floor((f-d)/c);N=g[l[_*o+v]?1:0]}n[x++]=N.r,n[x++]=N.g,n[x++]=N.b,n[x]=N.a}}})(Im);(function(t){const e=Im;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=e.getOptions(c);const d=e.getImageWidth(a.modules.size,c),g=u.getContext("2d"),m=g.createImageData(d,d);return e.qrToImageData(m.data,a,c),r(g,u,d),g.putImageData(m,0,0),u},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(a,o,c),d=c.type||"image/png",g=c.rendererOpts||{};return u.toDataURL(d,g.quality)}})(X_);var Z_={};const AP=Im;function Bb(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function tp(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function kP(t,e,r){let n="",i=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!a&&(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=a?tp("M",c+r,.5+u+r):tp("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(n+=tp("h",o),o=0)):i++}return n}Z_.render=function(e,r,n){const i=AP.getOptions(r),a=e.modules.size,o=e.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+Bb(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Bb(i.color.dark,"stroke")+' d="'+kP(o,a,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};const PP=Hk,N0=M_,ew=X_,EP=Z_;function Rm(t,e,r,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!PP())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,u){try{const d=N0.create(r,n);c(t(d,e,n))}catch(d){u(d)}})}try{const c=N0.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}ui.create=N0.create;ui.toCanvas=Rm.bind(null,ew.render);ui.toDataURL=Rm.bind(null,ew.renderToDataURL);ui.toString=Rm.bind(null,function(t,e,r){return EP.render(t,r)});const Om=Object.freeze(Object.defineProperty({__proto__:null,default:ui},Symbol.toStringTag,{value:"Module"})),cn=t=>{if(!t)return"";let e=String(t);for(let r=0;r<5;r++)e=e.replace(/%%%/g,"").replace(/%\s+%%%/g,"").replace(/%\s{1,}%%%/g,"").replace(/%%\s+%/g,"").replace(/%\s{1,}%\s{1,}%/g,"").replace(/\s*%\s*%\s*%\s*/g,"").replace(/\s*%\s{1,}%\s{1,}%\s*/g,"").replace(/%+/g,"").replace(/%/g,"");return e=e.replace(/[^\w\s\-\.]/g,"").replace(/\s+/g," ").trim(),e},Ct=t=>{if(!t)return"";let e=String(t);return e.includes("%")&&(console.log("🔍 SANITIZE DEBUG - Original text with %:",e),console.log("🔍 Character codes:",e.split("").map(r=>`${r}(${r.charCodeAt(0)})`).join(" "))),e=e.replace(/%%%/g,"").replace(/%\s+%%%/g,"").replace(/%\s{1,}%%%/g,"").replace(/%%\s+%/g,"").replace(/%\s{1,}%\s{1,}%/g,"").replace(/\s*%\s*%\s*%\s*/g,"").replace(/\s*%\s{1,}%\s{1,}%\s*/g,"").replace(/%+/g,"").replace(/%.*?%/g,"").replace(/\b%/g,"").replace(/%\b/g,"").replace(/\s*%\s*/g," ").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/[^\w\s]%[^\w\s]/g,""),e=e.replace(/Ø=UÈ/g,"").replace(/Ø<ða/g,"").replace(/Ø=Ud/g,"").replace(/Ø-ÜÈ/g,"").replace(/Ø-Üd/g,"").replace(/Ø<Ða/g,"").replace(/Ø<ßà/g,"").replace(/Ø/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/[^\w\s\-\.]/g,""),e=e.replace(/Ã¸/g,"ø").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã¡/g,"á").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã´/g,"ô").replace(/Ã»/g,"û").replace(/Ã®/g,"î").replace(/Ã¯/g,"ï").replace(/Ã¢/g,"â").replace(/Ã«/g,"ë").replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä"),e=e.replace(/\s+/g," ").trim(),e=e.replace(/%/g,""),String(t).includes("%")&&(console.log("🔍 SANITIZE DEBUG - Final cleaned text:",e),console.log("🔍 Still contains %?",e.includes("%"))),e},C0=(t,e="Export Data",r=[],n={})=>{const i=new At(n.orientation||"portrait","mm",n.pageSize||"a4");i.setFontSize(18),i.setTextColor(40,40,40);const a=cn(n.federationName||"Algerian Judo Federation");i.text(a,14,15),i.setFontSize(16),i.setTextColor(40,40,40);const o=cn(e);i.text(o,14,30),i.setFontSize(10);const l=new Date().toLocaleString();if(i.text(`Generated: ${l}`,14,37),n.logoUrl)try{i.addImage(n.logoUrl,"PNG",170,10,25,25)}catch(f){console.error("Error adding logo to PDF:",f)}let c=45;if(n.includePhotos&&n.photoField){const f=n.photoField||"photos_url",x=n.photoWidth||30,N=n.photoHeight||20,_=n.photosPerRow||5,v=n.photoSpacing||5,C=t.filter(j=>j[f]);if(C.length>0){const j=Math.ceil(C.length/_);let L=0,B=0;C.forEach((Y,V)=>{try{const D=14+B*(x+v),$=50+L*(N+v+10);if(i.addImage(Y[f],"PNG",D,$,x,N),Y.first_name&&Y.last_name?(i.setFontSize(8),i.text(`${Y.first_name} ${Y.last_name}`,D,$+N+5,{maxWidth:x})):(Y.first_name||Y.last_name)&&(i.setFontSize(8),i.text(`${Y.first_name||""} ${Y.last_name||""}`.trim(),D,$+N+5,{maxWidth:x})),Y.hasOwnProperty("confirmation")){i.setFontSize(6),Y.confirmation?i.setTextColor(0,128,0):i.setTextColor(255,0,0);const ee=Y.confirmation?"✓":"✗";i.text(ee,D+x-5,$+5),i.setTextColor(0,0,0)}B++,B>=_&&(B=0,L++)}catch(D){console.error(`Error adding photo for item ${V}:`,D)}}),j>0&&(c=30+j*(N+v+15))}}const u=r.length>0?r.map(f=>({header:f.header,dataKey:f.dataKey})):Object.keys(t[0]||{}).map(f=>({header:f.charAt(0).toUpperCase()+f.slice(1).replace(/_/g," "),dataKey:f})),d=(f,x)=>{if(x)return x.split(".").reduce((N,_)=>N==null?void 0:N[_],f)},g=t.map(f=>{const x={};return u.forEach(N=>{let _=d(f,N.dataKey)||f[N.dataKey];typeof _=="string"&&(_=cn(_)),x[N.dataKey]=_}),x});mr(i,{startY:c,head:[u.map(f=>f.header)],body:g.map(f=>u.map(x=>f[x.dataKey])),theme:n.theme||"striped",headStyles:{fillColor:n.headerColor||[40,40,40]},margin:{top:30},styles:{overflow:"linebreak"},columnStyles:n.columnStyles||{}});const m=i.lastAutoTable.finalY||200;if(i.setFontSize(12),i.setTextColor(0,0,0),i.text("Medical certificate",14,m+20),i.setDrawColor(0),i.line(14,m+40,80,m+40),t.length>0){i.setFontSize(10);const f=t.some(N=>N.club_id),x=t.some(N=>N.league_id);if(f){const N=t.find(_=>_.club_id);if(N){const _=N.club_id,v=n.clubNames&&n.clubNames[_]?n.clubNames[_]:`ID: ${_}`;i.text(`Club: ${Ct(v)}`,14,m+60),i.text("Club Visa: _________________",14,m+70)}}if(x){const N=t.find(_=>_.league_id);if(N){const _=N.league_id,v=n.leagueNames&&n.leagueNames[_]?n.leagueNames[_]:`ID: ${_}`;i.text(`League: ${Ct(v)}`,120,m+60),i.text("League Visa: _________________",120,m+70)}}}i.save(`${n.filename||e.toLowerCase().replace(/ /g,"_")}.pdf`)},Dn=async()=>{try{const{data:t,error:e}=await ae.from("nameclub").select("id, name_club");if(e)throw e;const r={};return t.forEach(n=>{r[n.id]=n.name_club}),r}catch(t){return console.error("Error fetching club names:",t),{}}},Xn=async()=>{try{const{data:t,error:e}=await ae.from("nameleague").select("id, name_league");if(e)throw e;const r={};return t.forEach(n=>{r[n.id]=n.name_league}),r}catch(t){return console.error("Error fetching league names:",t),{}}},FP=(t,e="export",r=[])=>{const n=r.length>0?r.map(d=>d.field):Object.keys(t[0]||{}),i=r.length>0?r.map(d=>d.header||d.field).join(","):n.join(","),a=t.map(d=>n.map(g=>{const m=d[g];if(m==null)return"";const f=String(m);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(",")),o=[i,...a].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(l),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download",`${e}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)};var tw={exports:{}};(function(t){(function(e){var r=e.URL||e.webkitURL;function n(u){return r?r.createObjectURL(u):!1}function i(u){return r?r.revokeObjectURL(u):!1}function a(u,d){u&&u.slice(0,5)==="blob:"&&!(d&&d.noRevoke)&&i(u)}function o(u,d,g,m){if(!e.FileReader)return!1;var f=new FileReader;f.onload=function(){d.call(f,this.result)},g&&(f.onabort=f.onerror=function(){g.call(f,this.error)});var x=f[m||"readAsDataURL"];if(x)return x.call(f,u),f}function l(u,d){return Object.prototype.toString.call(d)==="[object "+u+"]"}function c(u,d,g){function m(f,x){var N=document.createElement("img"),_;function v(j,L){if(f===x){f&&f(j,L);return}else if(j instanceof Error){x(j);return}L=L||{},L.image=j,f(L)}function C(j,L){L&&e.console&&console.log(L),j&&l("Blob",j)?(u=j,_=n(u)):(_=u,g&&g.crossOrigin&&(N.crossOrigin=g.crossOrigin)),N.src=_}if(N.onerror=function(j){a(_,g),x&&x.call(N,j)},N.onload=function(){a(_,g);var j={originalWidth:N.naturalWidth||N.width,originalHeight:N.naturalHeight||N.height};try{c.transform(N,g,v,u,j)}catch(L){x&&x(L)}},typeof u=="string")return c.requiresMetaData(g)?c.fetchBlob(u,C,g):C(),N;if(l("Blob",u)||l("File",u))return _=n(u),_?(N.src=_,N):o(u,function(j){N.src=j},x)}return e.Promise&&typeof d!="function"?(g=d,new Promise(m)):m(d,d)}c.requiresMetaData=function(u){return u&&u.meta},c.fetchBlob=function(u,d){d()},c.transform=function(u,d,g,m,f){g(u,f)},c.global=e,c.readFile=o,c.isInstanceOf=l,c.createObjectURL=n,c.revokeObjectURL=i,t.exports?t.exports=c:e.loadImage=c})(typeof window<"u"&&window||Mi)})(tw);var gs=tw.exports,rw={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.transform;e.createCanvas=function(n,i,a){if(a&&e.global.OffscreenCanvas)return new OffscreenCanvas(n,i);var o=document.createElement("canvas");return o.width=n,o.height=i,o},e.transform=function(n,i,a,o,l){r.call(e,e.scale(n,i,l),i,a,o,l)},e.transformCoordinates=function(){},e.getTransformedOptions=function(n,i){var a=i.aspectRatio,o,l,c,u;if(!a)return i;o={};for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=i[l]);return o.crop=!0,c=n.naturalWidth||n.width,u=n.naturalHeight||n.height,c/u>a?(o.maxWidth=u*a,o.maxHeight=u):(o.maxWidth=c,o.maxHeight=c/a),o},e.drawImage=function(n,i,a,o,l,c,u,d,g){var m=i.getContext("2d");return g.imageSmoothingEnabled===!1?(m.msImageSmoothingEnabled=!1,m.imageSmoothingEnabled=!1):g.imageSmoothingQuality&&(m.imageSmoothingQuality=g.imageSmoothingQuality),m.drawImage(n,a,o,l,c,0,0,u,d),m},e.requiresCanvas=function(n){return n.canvas||n.crop||!!n.aspectRatio},e.scale=function(n,i,a){i=i||{},a=a||{};var o=n.getContext||e.requiresCanvas(i)&&!!e.global.HTMLCanvasElement,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=l,d=c,g,m,f,x,N,_,v,C,j,L,B,Y;function V(){var $=Math.max((f||u)/u,(x||d)/d);$>1&&(u*=$,d*=$)}function D(){var $=Math.min((g||u)/u,(m||d)/d);$<1&&(u*=$,d*=$)}if(o&&(i=e.getTransformedOptions(n,i,a),v=i.left||0,C=i.top||0,i.sourceWidth?(N=i.sourceWidth,i.right!==void 0&&i.left===void 0&&(v=l-N-i.right)):N=l-v-(i.right||0),i.sourceHeight?(_=i.sourceHeight,i.bottom!==void 0&&i.top===void 0&&(C=c-_-i.bottom)):_=c-C-(i.bottom||0),u=N,d=_),g=i.maxWidth,m=i.maxHeight,f=i.minWidth,x=i.minHeight,o&&g&&m&&i.crop?(u=g,d=m,B=N/_-g/m,B<0?(_=m*N/g,i.top===void 0&&i.bottom===void 0&&(C=(c-_)/2)):B>0&&(N=g*_/m,i.left===void 0&&i.right===void 0&&(v=(l-N)/2))):((i.contain||i.cover)&&(f=g=g||f,x=m=m||x),i.cover?(D(),V()):(V(),D())),o){if(j=i.pixelRatio,j>1&&!(n.style.width&&Math.floor(parseFloat(n.style.width,10))===Math.floor(l/j))&&(u*=j,d*=j),e.orientationCropBug&&!n.getContext&&(v||C||N!==l||_!==c)&&(B=n,n=e.createCanvas(l,c,!0),e.drawImage(B,n,0,0,l,c,l,c,i)),L=i.downsamplingRatio,L>0&&L<1&&u<N&&d<_)for(;N*L>u;)Y=e.createCanvas(N*L,_*L,!0),e.drawImage(n,Y,v,C,N,_,Y.width,Y.height,i),v=0,C=0,N=Y.width,_=Y.height,n=Y;return Y=e.createCanvas(u,d),e.transformCoordinates(Y,i,a),j>1&&(Y.style.width=Y.width/j+"px"),e.drawImage(n,Y,v,C,N,_,u,d,i).setTransform(1,0,0,1,0,0),Y}return n.width=u,n.height=d,n}})})(rw);var TP=rw.exports,nw={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.global,n=e.transform,i=r.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a=r.ArrayBuffer&&ArrayBuffer.prototype.slice||function(d,g){g=g||this.byteLength-d;var m=new Uint8Array(this,d,g),f=new Uint8Array(g);return f.set(m),f.buffer},o={jpeg:{65505:[],65517:[]}};function l(d,g,m,f){var x=this;function N(_,v){if(!(r.DataView&&i&&d&&d.size>=12&&d.type==="image/jpeg"))return _(f);var C=m.maxMetaDataSize||262144;e.readFile(i.call(d,0,C),function(j){var L=new DataView(j);if(L.getUint16(0)!==65496)return v(new Error("Invalid JPEG file: Missing JPEG marker."));for(var B=2,Y=L.byteLength-4,V=B,D,$,ee,I;B<Y&&(D=L.getUint16(B),D>=65504&&D<=65519||D===65534);){if($=L.getUint16(B+2)+2,B+$>L.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if(ee=o.jpeg[D],ee&&!m.disableMetaDataParsers)for(I=0;I<ee.length;I+=1)ee[I].call(x,L,B,$,f,m);B+=$,V=B}!m.disableImageHead&&V>6&&(f.imageHead=a.call(j,0,V)),_(f)},v,"readAsArrayBuffer")||_(f)}return m=m||{},r.Promise&&typeof g!="function"?(m=g||{},f=m,new Promise(N)):(f=f||{},N(g,g))}function c(d,g,m){return!d||!g||!m?null:new Blob([m,i.call(d,g.byteLength)],{type:"image/jpeg"})}function u(d,g,m){var f={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!m&&r.Promise)return l(d,f).then(function(x){return c(d,x.imageHead,g)});l(d,function(x){m(c(d,x.imageHead,g))},f)}e.transform=function(d,g,m,f,x){e.requiresMetaData(g)?(x=x||{},l(f,function(N){N!==x&&(r.console&&console.log(N),N=x),n.call(e,d,g,m,f,N)},g,x)):n.apply(e,arguments)},e.blobSlice=i,e.bufferSlice=a,e.replaceHead=u,e.parseMetaData=l,e.metaDataParsers=o})})(nw);var Bm=nw.exports,DP={exports:{}};(function(t){(function(e){t.exports?e(gs):e(window.loadImage)})(function(e){var r=e.global;r.fetch&&r.Request&&r.Response&&r.Response.prototype.blob?e.fetchBlob=function(n,i,a){function o(l){return l.blob()}if(r.Promise&&typeof i!="function")return fetch(new Request(n,i)).then(o);fetch(new Request(n,a)).then(o).then(i).catch(function(l){i(null,l)})}:r.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(e.fetchBlob=function(n,i,a){function o(l,c){a=a||{};var u=new XMLHttpRequest;u.open(a.method||"GET",n),a.headers&&Object.keys(a.headers).forEach(function(d){u.setRequestHeader(d,a.headers[d])}),u.withCredentials=a.credentials==="include",u.responseType="blob",u.onload=function(){l(u.response)},u.onerror=u.onabort=u.ontimeout=function(d){l===c?c(null,d):c(d)},u.send(a.body)}return r.Promise&&typeof i!="function"?(a=i,new Promise(o)):o(i,i)})})})(DP);var iw={exports:{}};(function(t){(function(e){t.exports?e(gs,Bm):e(window.loadImage)})(function(e){function r(u){u&&(Object.defineProperty(this,"map",{value:this.ifds[u].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[u]||{}}))}r.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},r.prototype.ifds={ifd1:{name:"Thumbnail",map:r.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},r.prototype.get=function(u){return this[u]||this[this.map[u]]};function n(u,d,g){if(g){if(d+g>u.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return new Blob([e.bufferSlice.call(u.buffer,d,d+g)],{type:"image/jpeg"})}}var i={1:{getValue:function(u,d){return u.getUint8(d)},size:1},2:{getValue:function(u,d){return String.fromCharCode(u.getUint8(d))},size:1,ascii:!0},3:{getValue:function(u,d,g){return u.getUint16(d,g)},size:2},4:{getValue:function(u,d,g){return u.getUint32(d,g)},size:4},5:{getValue:function(u,d,g){return u.getUint32(d,g)/u.getUint32(d+4,g)},size:8},9:{getValue:function(u,d,g){return u.getInt32(d,g)},size:4},10:{getValue:function(u,d,g){return u.getInt32(d,g)/u.getInt32(d+4,g)},size:8}};i[7]=i[1];function a(u,d,g,m,f,x){var N=i[m],_,v,C,j,L,B;if(!N){console.log("Invalid Exif data: Invalid tag type.");return}if(_=N.size*f,v=_>4?d+u.getUint32(g+8,x):g+8,v+_>u.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(f===1)return N.getValue(u,v,x);for(C=[],j=0;j<f;j+=1)C[j]=N.getValue(u,v+j*N.size,x);if(N.ascii){for(L="",j=0;j<C.length&&(B=C[j],B!=="\0");j+=1)L+=B;return L}return C}function o(u,d,g){return(!u||u[g])&&(!d||d[g]!==!0)}function l(u,d,g,m,f,x,N,_){var v,C,j,L,B,Y;if(g+6>u.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}if(v=u.getUint16(g,m),C=g+2+12*v,C+4>u.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(j=0;j<v;j+=1)L=g+2+12*j,B=u.getUint16(L,m),o(N,_,B)&&(Y=a(u,d,L,u.getUint16(L+2,m),u.getUint32(L+4,m),m),f[B]=Y,x&&(x[B]=L));return u.getUint32(C,m)}function c(u,d,g,m,f,x,N){var _=u.exif[d];_&&(u.exif[d]=new r(d),u.exifOffsets&&(u.exifOffsets[d]=new r(d)),l(g,m,m+_,f,u.exif[d],u.exifOffsets&&u.exifOffsets[d],x&&x[d],N&&N[d]))}e.parseExifData=function(u,d,g,m,f){if(!f.disableExif){var x=f.includeExifTags,N=f.excludeExifTags||{34665:{37500:!0}},_=d+10,v,C,j;if(u.getUint32(d+4)===1165519206){if(_+8>u.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(u.getUint16(d+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(u.getUint16(_)){case 18761:v=!0;break;case 19789:v=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(u.getUint16(_+2,v)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}C=u.getUint32(_+4,v),m.exif=new r,f.disableExifOffsets||(m.exifOffsets=new r,m.exifTiffOffset=_,m.exifLittleEndian=v),C=l(u,_,_+C,v,m.exif,m.exifOffsets,x,N),C&&o(x,N,"ifd1")&&(m.exif.ifd1=C,m.exifOffsets&&(m.exifOffsets.ifd1=_+C)),Object.keys(m.exif.ifds).forEach(function(L){c(m,L,u,_,v,x,N)}),j=m.exif.ifd1,j&&j[513]&&(j[513]=n(u,_+j[513],j[514]))}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(u,d,g){var m=d.exifOffsets[274];if(!m)return u;var f=new DataView(u,m+8,2);return f.setUint16(0,g,d.exifLittleEndian),u}},e.writeExifData=function(u,d,g,m){return e.exifWriters[d.exif.map[g]](u,d,m)},e.ExifMap=r})})(iw);var IP=iw.exports,RP={exports:{}};(function(t){(function(e){t.exports?e(gs,IP):e(window.loadImage)})(function(e){var r=e.ExifMap.prototype;r.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},r.tags.ifd1=r.tags,r.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},r.getText=function(n){var i=this.get(n);switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[n][i];case"ExifVersion":case"FlashpixVersion":return i?String.fromCharCode(i[0],i[1],i[2],i[3]):void 0;case"ComponentsConfiguration":return i?this.stringValues[n][i[0]]+this.stringValues[n][i[1]]+this.stringValues[n][i[2]]+this.stringValues[n][i[3]]:void 0;case"GPSVersionID":return i?i[0]+"."+i[1]+"."+i[2]+"."+i[3]:void 0}return String(i)},r.getAll=function(){var n={},i,a,o;for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&(a=this[i],a&&a.getAll?n[this.ifds[i].name]=a.getAll():(o=this.tags[i],o&&(n[o]=this.getText(o))));return n},r.getName=function(n){var i=this.tags[n];return typeof i=="object"?this.ifds[n].name:i},function(){var n=r.tags,i,a,o;for(i in n)if(Object.prototype.hasOwnProperty.call(n,i))if(a=r.ifds[i],a){o=n[i];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a.map[o[i]]=Number(i))}else r.map[n[i]]=Number(i)}()})})(RP);var aw={exports:{}};(function(t){(function(e){t.exports?e(gs,Bm):e(window.loadImage)})(function(e){function r(){}r.prototype.map={ObjectName:5},r.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},r.prototype.get=function(u){return this[u]||this[this.map[u]]};function n(u,d,g){for(var m="",f=d+g,x=d;x<f;x+=1)m+=String.fromCharCode(u.getUint8(x));return m}function i(u,d,g,m,f){return d.types[u]==="binary"?new Blob([g.buffer.slice(m,m+f)]):d.types[u]==="Uint16"?g.getUint16(m):n(g,m,f)}function a(u,d){return u===void 0?d:u instanceof Array?(u.push(d),u):[u,d]}function o(u,d,g,m,f,x){for(var N,_,v,C=d+g,j=d;j<C;)u.getUint8(j)===28&&u.getUint8(j+1)===2&&(v=u.getUint8(j+2),(!f||f[v])&&(!x||!x[v])&&(_=u.getInt16(j+3),N=i(v,m.iptc,u,j+5,_),m.iptc[v]=a(m.iptc[v],N),m.iptcOffsets&&(m.iptcOffsets[v]=j))),j+=1}function l(u,d){return u.getUint32(d)===943868237&&u.getUint16(d+4)===1028}function c(u,d){var g=u.getUint8(d+7);return g%2!==0&&(g+=1),g===0&&(g=4),g}e.parseIptcData=function(u,d,g,m,f){if(!f.disableIptc)for(var x=d+g;d+8<x;){if(l(u,d)){var N=c(u,d),_=d+8+N;if(_>x){console.log("Invalid IPTC data: Invalid segment offset.");break}var v=u.getUint16(d+6+N);if(d+v>x){console.log("Invalid IPTC data: Invalid segment size.");break}m.iptc=new r,f.disableIptcOffsets||(m.iptcOffsets=new r),o(u,_,v,m,f.includeIptcTags,f.excludeIptcTags||{202:!0});return}d+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=r})})(aw);var OP=aw.exports,BP={exports:{}};(function(t){(function(e){t.exports?e(gs,OP):e(window.loadImage)})(function(e){var r=e.IptcMap.prototype;r.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},r.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},r.getText=function(n){var i=this.get(n),a=this.map[n],o=this.stringValues[a];return o?o[i]:String(i)},r.getAll=function(){var n={},i,a;for(i in this)Object.prototype.hasOwnProperty.call(this,i)&&(a=this.tags[i],a&&(n[a]=this.getText(a)));return n},r.getName=function(n){return this.tags[n]},function(){var n=r.tags,i=r.map||{},a;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[n[a]]=Number(a))}()})})(BP);var MP={exports:{}};(function(t){(function(e){t.exports?e(gs,TP,Bm):e(window.loadImage)})(function(e){var r=e.transform,n=e.requiresCanvas,i=e.requiresMetaData,a=e.transformCoordinates,o=e.getTransformedOptions;(function(d){if(d.global.document){var g="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=",m=document.createElement("img");m.onload=function(){if(d.orientation=m.width===2&&m.height===3,d.orientation){var f=d.createCanvas(1,1,!0),x=f.getContext("2d");x.drawImage(m,1,1,1,1,0,0,1,1),d.orientationCropBug=x.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},m.src=g}})(e);function l(d,g){var m=d&&d.orientation;return m===!0&&!e.orientation||m===1&&e.orientation||(!g||e.orientation)&&m>1&&m<9}function c(d,g){return d!==g&&(d===1&&g>1&&g<9||d>1&&d<9)}function u(d,g){if(g>1&&g<9)switch(d){case 2:case 4:return g>4;case 5:case 7:return g%2===0;case 6:case 8:return g===2||g===4||g===5||g===7}return!1}e.requiresCanvas=function(d){return l(d)||n.call(e,d)},e.requiresMetaData=function(d){return l(d,!0)||i.call(e,d)},e.transform=function(d,g,m,f,x){r.call(e,d,g,function(N,_){if(_){var v=e.orientation&&_.exif&&_.exif.get("Orientation");if(v>4&&v<9){var C=_.originalWidth,j=_.originalHeight;_.originalWidth=j,_.originalHeight=C}}m(N,_)},f,x)},e.getTransformedOptions=function(d,g,m){var f=o.call(e,d,g),x=m.exif&&m.exif.get("Orientation"),N=f.orientation,_=e.orientation&&x;if(N===!0&&(N=x),!c(N,_))return f;var v=f.top,C=f.right,j=f.bottom,L=f.left,B={};for(var Y in f)Object.prototype.hasOwnProperty.call(f,Y)&&(B[Y]=f[Y]);if(B.orientation=N,(N>4&&!(_>4)||N<5&&_>4)&&(B.maxWidth=f.maxHeight,B.maxHeight=f.maxWidth,B.minWidth=f.minHeight,B.minHeight=f.minWidth,B.sourceWidth=f.sourceHeight,B.sourceHeight=f.sourceWidth),_>1){switch(_){case 2:C=f.left,L=f.right;break;case 3:v=f.bottom,C=f.left,j=f.top,L=f.right;break;case 4:v=f.bottom,j=f.top;break;case 5:v=f.left,C=f.bottom,j=f.right,L=f.top;break;case 6:v=f.left,C=f.top,j=f.right,L=f.bottom;break;case 7:v=f.right,C=f.top,j=f.left,L=f.bottom;break;case 8:v=f.right,C=f.bottom,j=f.left,L=f.top;break}if(u(N,_)){var V=v,D=C;v=j,C=L,j=V,L=D}}switch(B.top=v,B.right=C,B.bottom=j,B.left=L,N){case 2:B.right=L,B.left=C;break;case 3:B.top=j,B.right=L,B.bottom=v,B.left=C;break;case 4:B.top=j,B.bottom=v;break;case 5:B.top=L,B.right=j,B.bottom=C,B.left=v;break;case 6:B.top=C,B.right=j,B.bottom=L,B.left=v;break;case 7:B.top=C,B.right=v,B.bottom=L,B.left=j;break;case 8:B.top=L,B.right=v,B.bottom=C,B.left=j;break}return B},e.transformCoordinates=function(d,g,m){a.call(e,d,g,m);var f=g.orientation,x=e.orientation&&m.exif&&m.exif.get("Orientation");if(c(f,x)){var N=d.getContext("2d"),_=d.width,v=d.height,C=_,j=v;switch((f>4&&!(x>4)||f<5&&x>4)&&(d.width=v,d.height=_),f>4&&(C=v,j=_),x){case 2:N.translate(C,0),N.scale(-1,1);break;case 3:N.translate(C,j),N.rotate(Math.PI);break;case 4:N.translate(0,j),N.scale(1,-1);break;case 5:N.rotate(-.5*Math.PI),N.scale(-1,1);break;case 6:N.rotate(-.5*Math.PI),N.translate(-C,0);break;case 7:N.rotate(-.5*Math.PI),N.translate(-C,j),N.scale(1,-1);break;case 8:N.rotate(.5*Math.PI),N.translate(0,-j);break}switch(u(f,x)&&(N.translate(C,j),N.rotate(Math.PI)),f){case 2:N.translate(_,0),N.scale(-1,1);break;case 3:N.translate(_,v),N.rotate(Math.PI);break;case 4:N.translate(0,v),N.scale(1,-1);break;case 5:N.rotate(.5*Math.PI),N.scale(1,-1);break;case 6:N.rotate(.5*Math.PI),N.translate(0,-v);break;case 7:N.rotate(.5*Math.PI),N.translate(_,-v),N.scale(-1,1);break;case 8:N.rotate(-.5*Math.PI),N.translate(-_,0);break}}}})})(MP);var UP=gs;const Ua=Mb(UP),Zn=()=>{const t=b.useRef(null),e=b.useRef(!1),r=b.useRef(0),n=b.useRef(0),i=b.useRef(0),a=b.useRef(0),o=g=>{if(!t.current)return;const m=g.target;m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.tagName==="SELECT"||m.tagName==="BUTTON"||m.closest("input")||m.closest("textarea")||m.closest("select")||m.closest("button")||(e.current=!0,r.current=g.pageX-t.current.offsetLeft,n.current=g.pageY-t.current.offsetTop,i.current=t.current.scrollLeft,a.current=t.current.scrollTop,t.current.style.cursor="grabbing",t.current.style.userSelect="none")},l=g=>{if(!e.current||!t.current)return;const m=g.target;m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.tagName==="SELECT"||m.tagName==="BUTTON"||m.closest("input")||m.closest("textarea")||m.closest("select")||m.closest("button")||g.preventDefault();const f=g.pageX-t.current.offsetLeft,x=g.pageY-t.current.offsetTop,N=(f-r.current)*2,_=(x-n.current)*2;t.current.scrollLeft=i.current-N,t.current.scrollTop=a.current-_},c=()=>{t.current&&(e.current&&(t.current.style.userSelect=""),e.current=!1,t.current.style.cursor="grab")},u=()=>{t.current&&(e.current&&(t.current.style.userSelect=""),e.current=!1,t.current.style.cursor="grab")};return g=>{g?(t.current=g,g.addEventListener("mousedown",o),g.addEventListener("mousemove",l),g.addEventListener("mouseup",c),g.addEventListener("mouseleave",u),g.style.cursor="grab"):t.current&&(t.current.removeEventListener("mousedown",o),t.current.removeEventListener("mousemove",l),t.current.removeEventListener("mouseup",c),t.current.removeEventListener("mouseleave",u))}},ta=({message:t="Loading..."})=>(console.log("CircleLoading component is rendering"),b.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(2px)"},children:s.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #22c55e",borderRadius:"20px",padding:"40px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",gap:"25px",minWidth:"300px"},children:[s.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid rgba(34, 197, 94, 0.2)",borderTop:"6px solid #22c55e",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{color:"#22c55e",fontWeight:"600",fontSize:"16px",textAlign:"center",animation:"pulse 2s ease-in-out infinite"},children:t})]})}));function qP(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState([]),[i,a]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,g]=b.useState(""),[m,f]=b.useState(null),[x,N]=b.useState(null),[_,v]=b.useState(""),[C,j]=b.useState(null),[L,B]=b.useState(""),Y="Algerian Judo Federation",V="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[D,$]=b.useState(null),[ee,I]=b.useState([]),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(""),[Re,se]=b.useState(""),[E,U]=b.useState(""),[X,le]=b.useState(""),[_e,Ne]=b.useState(""),[Be,Ae]=b.useState(""),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(null),[Pt,Et]=b.useState(""),[He,Me]=b.useState(""),[dt,st]=b.useState(""),[_t,Lt]=b.useState([]),[Ot,tt]=b.useState([]),[yt,Bt]=b.useState([]),[gt,jt]=b.useState((t==null?void 0:t.club_id)??""),[Nt,Tt]=b.useState((t==null?void 0:t.league_id)??""),[wt,Kt]=b.useState((t==null?void 0:t.club_id)||""),[Pe,ve]=b.useState((t==null?void 0:t.league_id)||""),[Te,lt]=b.useState(null),[ze,We]=b.useState({}),[Vt,Ut]=b.useState(null),[qt,Mt]=b.useState(""),Fe=Zn(),z=T=>T?T.startsWith("http")?T:`${V}${T}`:null;function De(T){return new Promise((w,K)=>{Ua(T,J=>{if(J.type==="error")console.warn("EXIF processing failed, using original image:",T),w(T);else try{const pe=J.toDataURL("image/png");w(pe)}catch(pe){console.warn("Canvas conversion failed, using original image:",pe),w(T)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const et=async()=>{try{a(!0),u(null);const{data:T}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(T!=null&&T.length&&f(z(T[0].logo_url)),Nt){const{data:pe}=await ae.from("nameleague").select("name_league").eq("id",Nt).single();pe&&v(pe.name_league);const{data:Ue}=await ae.from("league_members").select("logo_url").eq("league_id",Nt).order("id",{ascending:!1}).limit(1);Ue!=null&&Ue.length&&N(z(Ue[0].logo_url))}if(gt){const{data:pe}=await ae.from("nameclub").select("name_club, id").eq("id",gt).single();pe&&B(pe.name_club);const{data:Ue}=await ae.from("club_members").select("logo_url").eq("club_id",gt).order("id",{ascending:!1}).limit(1);Ue!=null&&Ue.length&&j(z(Ue[0].logo_url))}if(t!=null&&t.member_id){const{data:pe}=await ae.from("club_members").select("*").eq("id",t.member_id).single();pe&&$(pe)}if(gt&&Nt){const{data:pe}=await ae.from("athletes").select("*").eq("club_id",gt).eq("league_id",Nt).order("id",{ascending:!0});n(pe||[])}else n([]);const[{data:w},{data:K},{data:J}]=await Promise.all([ae.from("nameclub").select("id, name_club"),ae.from("nameleague").select("id, name_league"),ae.from("clubrole").select("*")]);w&&tt(w),K&&Bt(K),J&&I(J)}catch(T){console.error("fetchData error",T),u(T)}finally{a(!1)}};b.useEffect(()=>{t!=null&&t.club_id&&jt(t.club_id),t!=null&&t.league_id&&Tt(t.league_id),et()},[t,gt,Nt]),b.useEffect(()=>{(async()=>{if(!(!Pt||!He))try{const{data:w,error:K}=await ae.from("categories").select("weight").eq("genres",Pt).eq("categories",He);K?console.error("Erreur récupération poids:",K.message):Lt(w.map(J=>J.weight))}catch(w){console.error("Erreur inconnue:",w)}})()},[Pt,He]),b.useEffect(()=>{(async()=>{if(!(!ze.genres||!ze.categories))try{const{data:w,error:K}=await ae.from("categories").select("weight").eq("genres",ze.genres).eq("categories",ze.categories);K?console.error("Erreur récupération poids:",K.message):Lt(w.map(J=>J.weight))}catch(w){console.error("Erreur inconnue:",w)}})()},[ze.genres,ze.categories]);const Ze=async(T,w)=>{const{data:K}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",T).eq("year",w);if(K&&K.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:J}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",T);return(J||0)+1},bt=async()=>{if(!Oe)return null;const T=Oe.name.split(".").pop(),w=`athlete-${Date.now()}.${T}`,{error:K}=await ae.storage.from("logos").upload(w,Oe);if(K)return console.error("upload error",K),null;const{data:J}=ae.storage.from("logos").getPublicUrl(w);return(J==null?void 0:J.publicUrl)??null};b.useEffect(()=>{ti()},[]);const Zt=async T=>{if(T.preventDefault(),u(""),g(""),l(!0),!M||!G){u("First name and Last name are required."),l(!1);return}if(!/^\d{18}$/.test(X)){u("National ID (NID) must be exactly 18 digits."),l(!1);return}if(_e!==Be){u("Passwords do not match."),l(!1);return}if(!Pe&&!Nt){u("League must be selected or provided in state."),l(!1);return}if(!wt&&!gt){u("Club must be selected or provided in state."),l(!1);return}const w=re(be,He);if(!w.isValid){u(w.message),l(!1);return}if(G&&_e){const{data:pe}=await ae.from("athletes").select("*").eq("password",_e);if(pe&&pe.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}const K=new Date().getFullYear(),J=`${K}/${K+1}`;try{const{data:pe,error:Ue}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",X).eq("year",J);if(Ue)throw Ue;if(pe&&pe.length>0){u("An athlete with this National ID is already registered for this season."),l(!1);return}}catch(pe){u(pe.message||String(pe)),l(!1);return}try{const pe=await bt(),Ue=new Date().getFullYear(),F=`${Ue}/${Ue+1}`;let ce;try{ce=await Ze(X,F)}catch(Ee){u(Ee.message),setSubmitLoading(!1);return}const me={last_name:G,first_name:M,date_of_birth:be,place_of_birth:ie,role:Re,blood_type:E,national_id_number:X,password:_e,license_number:`ATH-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:pe,nationality:Ge,grade:at,renewal:ce,confirmation:!1,genres:Pt,categories:He,weight:dt,league_id:Nt,club_id:gt,year:F},{error:ye}=await ae.from("athletes").insert([me]);if(ye)throw ye;g("Athlete added successfully."),ue(""),H(""),Ce(""),xe(""),se(""),U(""),le(""),Ne(""),Ae(""),oe(null),Qe(""),Ye(""),Et(""),Me(""),st(""),await et()}catch(pe){console.error("handleSubmit error",pe),u((pe==null?void 0:pe.message)||String(pe))}finally{l(!1)}},Xt=T=>{lt(T.id),We({...T})},hr=()=>{lt(null),We({})},re=(T,w)=>{if(!T||!w)return{isValid:!1,message:"Date of birth and category are required."};const K=new Date(T),J=new Date,pe=J.getFullYear()-K.getFullYear()-(J.getMonth()<K.getMonth()||J.getMonth()===K.getMonth()&&J.getDate()<K.getDate()?1:0),F={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[w];return F?pe<F.min||pe>F.max?w==="Veterans"?{isValid:!1,message:`For ${w} category, athlete must be more than 35 years old. Current age: ${pe}`}:{isValid:!1,message:`For ${w} category, athlete must be between ${F.min} and ${F.max} years old. Current age: ${pe}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${w}`}},te=async()=>{l(!0);const T=re(ze.date_of_birth,ze.categories);if(!T.isValid){l(!1),u(T.message);return}const{error:w}=await ae.from("athletes").update({last_name:ze.last_name,first_name:ze.first_name,date_of_birth:ze.date_of_birth,place_of_birth:ze.place_of_birth,role:ze.role,blood_type:ze.blood_type,nationality:ze.nationality,grade:ze.grade,categories:ze.categories,weight:ze.weight,genres:ze.genres}).eq("id",Te);w?(l(!1),u("Update failed: "+w.message)):(await et(),hr(),l(!1),g("Athlete updated successfully!"))},we=async T=>{T&&typeof T.preventDefault=="function"&&T.preventDefault();try{await te()}catch(w){u((w==null?void 0:w.message)||String(w))}},Ke=async T=>{try{const{data:w,error:K}=await ae.from("athletes").select("id, registration_date, confirmation").eq("id",T).single();if(K)throw K;const J=new Date().toISOString().split("T")[0];if(!(w!=null&&w.registration_date)||w.registration_date!==J){u("Deletion allowed only on the same day of registration.");return}if(w!=null&&w.confirmation){u("You cannot delete on the same day if the athlete is confirmed.");return}if(!window.confirm("Delete this athlete?"))return;const{error:pe}=await ae.from("athletes").delete().eq("id",T);if(pe)throw pe;g("Athlete deleted successfully."),typeof et=="function"&&await et()}catch(w){console.error("deleteAthlete error",w),u((w==null?void 0:w.message)||"Error deleting athlete")}},It=T=>{if(!T||Object.keys(T).length===0){alert("No data available to export");return}Rt(T)},Rt=async T=>{let w=null,K=null;try{if(T.club_id){const ct=(await Dn()).find(nt=>nt.id===T.club_id);w=ct==null?void 0:ct.name_club}if(T.league_id){const ct=(await Xn()).find(nt=>nt.id===T.league_id);K=ct==null?void 0:ct.name_league}}catch(ft){console.error("Error fetching names:",ft)}const J=new At("portrait","mm","a4");J.setFontSize(18),J.setTextColor(40,40,40),J.text("Algerian Judo Federation",14,15);const pe=`Athlete Information - ${T.first_name} ${T.last_name}`;J.setFontSize(16),J.setTextColor(40,40,40),J.text(pe,14,30),J.setFontSize(10);const Ue=new Date().toLocaleString();if(J.text(`Generated: ${Ue}`,14,37),m)try{J.addImage(m,"PNG",170,10,25,25)}catch(ft){console.error("Error adding logo to PDF:",ft)}let F=70;if(T.photos_url)try{const ft=await De(T.photos_url),ct=ft.startsWith("data:")?"PNG":"JPEG";J.addImage(ft,ct,14,45,25,20),F=70}catch(ft){console.error("Error adding photo to PDF:",ft);try{J.addImage(T.photos_url,"JPEG",14,45,25,20)}catch(ct){console.error("Fallback image addition also failed:",ct)}F=70}J.setFontSize(12),T.confirmation?J.setTextColor(0,128,0):J.setTextColor(255,0,0);const ce=T.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";J.text(ce,160,50);const me=["last_name","first_name","date_of_birth","place_of_birth","role","blood_type","national_id_number","nationality","grade","genres","categories","weight","license_number","registration_date","year","renewal"],ye={last_name:"Last Name",first_name:"First Name",date_of_birth:"Date of Birth",place_of_birth:"Place of Birth",national_id_number:"National ID",license_number:"License Number",registration_date:"Registration Date"},Ee=me.map(ft=>[ye[ft]||ft.charAt(0).toUpperCase()+ft.slice(1).replace(/_/g," "),T[ft]||""]);mr(J,{startY:F,head:[["Field","Value"]],body:Ee,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const ke=J.lastAutoTable.finalY||200;if(J.setFontSize(12),J.setTextColor(0,0,0),J.text("Medical certificate",14,ke+20),J.setDrawColor(0),J.line(14,ke+40,80,ke+40),J.setFontSize(10),T.club_id||L){const ft=L||w||`ID: ${T.club_id}`;J.text(`Club: ${ft}`,14,ke+60),J.text("Club Visa: _________________",14,ke+70)}if(T.league_id||_){const ft=_||K||`ID: ${T.league_id}`;J.text(`League: ${ft}`,120,ke+60),J.text("League Visa: _________________",120,ke+70)}try{const ft=JSON.stringify({id:T.id,name:`${T.first_name||""} ${T.last_name||""}`.trim(),license:T.license_number||"",club_id:T.club_id||"",league_id:T.league_id||"",confirmation:T.confirmation||"Unconfirmed"}),ct=await ui.toDataURL(ft,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});J.addImage(ct,"PNG",180,ke+75,15,15)}catch(ft){console.error("Error generating QR code:",ft)}const ht=`athlete_${T.first_name}_${T.last_name}_${T.id||"record"}.pdf`;J.save(ht)},Xe=async()=>{if(!je||je.length===0){alert("No athletes data available to export");return}const T=new At("landscape","mm","a4"),w=T.internal.pageSize.getWidth(),K=new Date().getFullYear(),J=new Date().toLocaleDateString();let pe={},Ue={};try{pe=await Dn(),Ue=await Xn()}catch(ke){console.error("Error fetching club/league names:",ke)}const F=()=>{if(T.setFontSize(10),T.setFont("helvetica","normal"),T.setTextColor(40,40,40),T.text(`Date: ${J}`,14,15),T.setFontSize(16),T.setFont("helvetica","bold"),T.setTextColor(40,40,40),T.text("Algerian Judo Federation",w/2,15,{align:"center"}),m)try{T.addImage(m,"PNG",w-40,5,25,25)}catch(ke){console.error("Error adding logo to PDF:",ke)}T.setFontSize(14),T.setFont("helvetica","normal"),T.setTextColor(40,40,40),T.text(`League: ${_||"Unknown League"}`,w/2,30,{align:"center"}),T.setFontSize(14),T.setFont("helvetica","normal"),T.setTextColor(40,40,40),T.text(`Club: ${L||"Unknown Club"}`,w/2,37,{align:"center"}),T.setFontSize(14),T.setFont("helvetica","bold"),T.setTextColor(220,53,69),T.text("Athletes Members - Category Situation",w/2,47,{align:"center"})},ce=ke=>ke.sort((ft,ct)=>{const nt=new Date(ft.date_of_birth||"1900-01-01"),pt=new Date(ct.date_of_birth||"1900-01-01");return nt-pt}).map(ft=>[Ft(ft.last_name||""),Ft(ft.first_name||""),Ft(ft.date_of_birth||""),Ft(ft.place_of_birth||""),Ft(ft.blood_type||""),Ft(ft.nationality||""),Ft(ft.grade||""),Ft(ft.genres||""),Ft(ft.categories||""),Ft(ft.weight||""),Ft(ft.national_id_number||""),ft.confirmation?"Yes":"No",Ft(ft.license_number||"")]),me={};je.forEach(ke=>{const ht=ke.year||"Unknown Year",ft=ke.club_id,ct=ft?pe[ft]||`Club ID: ${ft}`:"Unknown Club",nt=ke.categories||"Uncategorized",pt=ke.genres||"Unspecified",kt=ke.weight||"Unspecified";me[ht]||(me[ht]={}),me[ht][ct]||(me[ht][ct]={}),me[ht][ct][nt]||(me[ht][ct][nt]={}),me[ht][ct][nt][pt]||(me[ht][ct][nt][pt]={}),me[ht][ct][nt][pt][kt]||(me[ht][ct][nt][pt][kt]=[]),me[ht][ct][nt][pt][kt].push(ke)}),F();let ye=50,Ee=!0;for(const[ke,ht]of Object.entries(me)){ye>180&&!Ee&&(T.addPage(),F(),ye=50),T.setFontSize(13),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`Year: ${ke}`,14,ye),ye+=15;for(const[ft,ct]of Object.entries(ht))for(const[nt,pt]of Object.entries(ct)){ye>210&&(T.addPage(),F(),ye=50,T.setFontSize(13),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`Year: ${ke}`,14,ye),ye+=15,T.setFontSize(12),T.text(`  Club: ${ft}`,20,ye),ye+=12),T.setFontSize(11),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`    Club: ${ft} - Category: ${nt}`,26,ye),ye+=10;for(const[kt,wr]of Object.entries(pt)){ye>220&&(T.addPage(),F(),ye=50,T.setFontSize(13),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`Year: ${ke}`,14,ye),ye+=15,T.setFontSize(11),T.text(`    Club: ${ft} - Category: ${nt}`,26,ye),ye+=10);for(const[br,dr]of Object.entries(wr)){ye>230&&(T.addPage(),F(),ye=50,T.setFontSize(13),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`Year: ${ke}`,14,ye),ye+=15,T.setFontSize(11),T.text(`    Club: ${ft} - Category: ${nt}`,26,ye),ye+=10),T.setFontSize(10),T.setTextColor(0,0,0),T.setFont(void 0,"bold"),T.text(`      Gender: ${kt} - Weight: ${br}`,32,ye),ye+=8;const Sr=ce(dr);mr(T,{startY:ye,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:Sr,theme:"grid",headStyles:{fillColor:[40,167,69],textColor:[255,255,255],fontSize:6},styles:{fontSize:5,overflow:"linebreak"},margin:{left:44},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}}}),ye=T.lastAutoTable.finalY+8,Ee=!1}ye+=3}ye+=5}ye+=12}T.save(`athletes_hierarchical_${K}.pdf`)},Ft=T=>T?String(T).replace(/Ø=UÈ/g,"").replace(/Ø<ða/g,"").replace(/Ø=Ud/g,"").replace(/Ø-ÜÈ/g,"").replace(/Ø-Üd/g,"").replace(/Ø<Ða/g,"").replace(/Ø<ßà/g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/Ã¸/g,"ø").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã¡/g,"á").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä").replace(/Ã±/g,"ñ").replace(/Ã­/g,"í").replace(/Ã³/g,"ó").replace(/Ãº/g,"ú").trim():"",A=(T,w,K,J)=>{const pe=T.internal.pageSize.getWidth();if(m)try{T.addImage(m,"PNG",pe-40,15,25,25)}catch(ce){console.warn("Could not add federation logo:",ce)}const Ue=new Date().toLocaleDateString();T.setFontSize(10),T.setFont("helvetica","normal"),T.text(`Print Date: ${Ue}`,15,20),T.setFontSize(16),T.setFont("helvetica","bold"),T.text(Ft(w),pe/2,25,{align:"center"});let F=40;return K&&(T.setFontSize(12),T.setFont("helvetica","normal"),T.text(`League: ${Ft(K)}`,pe/2,F,{align:"center"}),F+=15),J&&(T.setFontSize(12),T.setFont("helvetica","normal"),T.text(`Club: ${Ft(J)}`,pe/2,F,{align:"center"}),F+=15),F+2},k=async()=>{if(!wt&&!Pe){u("No club or league selected");return}try{let T=[];if(wt){const{data:ce,error:me}=await ae.from("athletes").select("*").eq("club_id",wt);if(me)throw me;T=ce||[]}else if(Pe){const{data:ce,error:me}=await ae.from("athletes").select("*").eq("league_id",Pe);if(me)throw me;T=ce||[]}if(!T||T.length===0){u("No athletes found");return}const w=new At("landscape");let K=A(w,Y,_,L);w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(255,0,0),w.text("Athletes - General Situation",w.internal.pageSize.getWidth()/2,K,{align:"center"}),w.setTextColor(0,0,0),K+=20;const J={};T.forEach(ce=>{const me=ce.year||"Unknown Year";J[me]||(J[me]=[]),J[me].push(ce)});const pe=Object.keys(J).sort();for(const ce of pe){const ye=J[ce].sort((ke,ht)=>{const ft=new Date(ke.date_of_birth||"1900-01-01"),ct=new Date(ht.date_of_birth||"1900-01-01");return ft-ct});w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(0,0,0),w.text(`Year: ${ce}`,20,K),K+=15;const Ee=ye.map(ke=>[Ft(ke.last_name||""),Ft(ke.first_name||""),Ft(ke.date_of_birth||""),Ft(ke.place_of_birth||""),Ft(ke.blood_type||""),Ft(ke.nationality||""),Ft(ke.grade||""),Ft(ke.genres||""),Ft(ke.categories||""),Ft(ke.weight||""),Ft(ke.national_id_number||""),ke.confirmation?"Yes":"No",Ft(ke.license_number||"")]);mr(w,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:Ee,startY:K,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(ke){ke.pageNumber>1&&A(w,Y,_,L)}}),K=w.lastAutoTable.finalY+20,K>w.internal.pageSize.getHeight()-50&&(w.addPage(),K=A(w,Y,_,L))}const Ue=new Date().getFullYear(),F=_||L||"athletes";w.save(`${Ft(F)}_general_athletes_${Ue}.pdf`)}catch(T){console.error("Error exporting general PDF:",T),u("Error exporting PDF. Please try again.")}},Q=async()=>{if(!wt&&!Pe){u("No club or league selected");return}try{let T=[];if(wt){const{data:ce,error:me}=await ae.from("athletes").select("*").eq("club_id",wt);if(me)throw me;T=ce||[]}else if(Pe){const{data:ce,error:me}=await ae.from("athletes").select("*").eq("league_id",Pe);if(me)throw me;T=ce||[]}if(!T||T.length===0){u("No athletes found");return}const w=new At("landscape");let K=A(w,Y,_,L);w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(255,0,0),w.text("Athletes - Grade and Role Situation",w.internal.pageSize.getWidth()/2,K,{align:"center"}),w.setTextColor(0,0,0),K+=20,w.setFontSize(12),w.setFont("helvetica","bold"),w.text("SECTION GRADE",20,K),K+=15;const J={};T.forEach(ce=>{const me=ce.year||"Unknown Year",ye=ce.grade||"Unknown Grade";J[me]||(J[me]={}),J[me][ye]||(J[me][ye]=[]),J[me][ye].push(ce)});const pe=Object.keys(J).sort();for(const ce of pe){const me=J[ce];w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(0,0,0),w.text(`Year: ${ce}`,20,K),K+=15;const ye=Object.keys(me).sort();for(const Ee of ye){const ht=me[Ee].sort((ct,nt)=>{const pt=new Date(ct.date_of_birth||"1900-01-01"),kt=new Date(nt.date_of_birth||"1900-01-01");return pt-kt});w.setFontSize(12),w.setFont("helvetica","bold"),w.text(`Grade: ${Ee}`,30,K),K+=10;const ft=ht.map(ct=>[Ft(ct.last_name||""),Ft(ct.first_name||""),Ft(ct.date_of_birth||""),Ft(ct.place_of_birth||""),Ft(ct.blood_type||""),Ft(ct.nationality||""),Ft(ct.genres||""),Ft(ct.categories||""),Ft(ct.weight||""),Ft(ct.national_id_number||""),ct.confirmation?"Yes":"No",Ft(ct.license_number||"")]);mr(w,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Gender","Category","Weight","NID","Confirmation","License #"]],body:ft,startY:K,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(ct){ct.pageNumber>1&&A(w,Y,_,L)}}),K=w.lastAutoTable.finalY+15,K>w.internal.pageSize.getHeight()-80&&(w.addPage(),K=A(w,Y,_,L),K+=20)}K+=10}const Ue=new Date().getFullYear(),F=_||L||"athletes";w.save(`${Ft(F)}_grade_role_athletes_${Ue}.pdf`)}catch(T){console.error("Error exporting grade role PDF:",T),u("Error exporting PDF. Please try again.")}},ge=["Algerian","Tunisian"],je=r.filter(T=>{var K,J;const w=qt.toLowerCase();return(((K=T.first_name)==null?void 0:K.toLowerCase())??"").includes(w)||(((J=T.last_name)==null?void 0:J.toLowerCase())??"").includes(w)||(T.national_id_number??"").includes(w)});return b.useEffect(()=>{const T=setTimeout(()=>{},300);return()=>clearTimeout(T)},[qt]),b.useEffect(()=>{const T=setTimeout(()=>{},300);return()=>clearTimeout(T)},[qt]),s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m?s.jsx("img",{src:m,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:Y})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[x?s.jsx("img",{src:x,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:_||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[C?s.jsx("img",{src:C,alt:"Club Logo",className:"member-logo"}):s.jsx("p",{children:"No club logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:L||"Club Name"})]})]})}),s.jsx("section",{className:"app-container",children:s.jsxs("div",{className:"form-table-wrapper",children:[s.jsx("h2",{children:"Club Member"}),D?s.jsxs("p",{children:[D.first_name," ",D.last_name," —"," ",s.jsx("strong",{children:(()=>{var K;const T=ee.find(J=>J.id===parseInt(D.role_id)),w=typeof D.club_role=="object"?(K=D.club_role)==null?void 0:K.club_role:D.club_role;return(T==null?void 0:T.club_role)||w||D.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"1",onClick:T=>{pr(T.target),gt&&D?e("/club-member-listC",{state:{club_id:gt,club_name:L,league_id:Nt,member_id:D==null?void 0:D.id,first_name:D==null?void 0:D.first_name,last_name:D==null?void 0:D.last_name,role:D==null?void 0:D.role_id}}):alert("Club or member not loaded yet.")},children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"2",onClick:T=>{pr(T.target),club&&D?(console.log("➡️ Navigating to /AthletePage with state:",{club_id:club.id,club_name:club.name_club,league_id:t==null?void 0:t.league_id,member_id:D.id,first_name:D.first_name,last_name:D.last_name,role:D.role_id,club_logo:C}),e("/AthletePage",{state:{club_id:club.id,club_name:club.name_club,league_id:t==null?void 0:t.league_id,member_id:D.id,first_name:D.first_name,last_name:D.last_name,role:D.role_id,club_logo:C}})):console.log("❌ No club or member found, cannot navigate.")},children:"List of Athletes"})]}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),s.jsxs("form",{onSubmit:Zt,className:"form-grid",children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:G,onChange:T=>ue(T.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:M,onChange:T=>H(T.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:be,onChange:T=>Ce(T.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:ie,onChange:T=>xe(T.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Ge,onChange:T=>Qe(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),ge.map((T,w)=>s.jsx("option",{value:T,children:T},w))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:at,onChange:T=>Ye(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"yellow belt"}),s.jsx("option",{children:"orange belt"}),s.jsx("option",{children:"green belt"}),s.jsx("option",{children:"blue belt"})]}),s.jsx("small",{style:{color:"#666"},children:"Temporary: select brown or black belt until the DB constraint is updated."})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:Pt,onChange:T=>Et(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:He,onChange:T=>Me(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"}),s.jsx("option",{value:"Cadets By Team",children:"Cadets By Team"}),s.jsx("option",{value:"Juniors By Team",children:"Juniors By Team"}),s.jsx("option",{value:"Seniors By Team",children:"Seniors By Team"}),s.jsx("option",{value:"Cadets By Mixed Team",children:"Cadets By Mixed Team"}),s.jsx("option",{value:"Juniors By Mixed Team",children:"Juniors By Mixed Team"}),s.jsx("option",{value:"Seniors By Mixed Team",children:"Seniors By Mixed Team"})]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:dt,onChange:T=>st(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),_t.map((T,w)=>s.jsx("option",{value:T,children:T},w))]})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:X,onChange:T=>le(T.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:E,onChange:T=>U(T.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_e,onChange:T=>Ne(T.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Be,onChange:T=>Ae(T.target.value),required:!0})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:wt,onChange:T=>Kt(T.target.value),required:!0,disabled:!!(t!=null&&t.club_id),children:[s.jsx("option",{value:"",children:"Select Club"}),Ot.map(T=>s.jsx("option",{value:T.id,children:T.name_club},T.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:Pe,onChange:T=>ve(T.target.value),required:!0,disabled:!!(t!=null&&t.league_id),children:[s.jsx("option",{value:"",children:"Select League"}),yt.map(T=>s.jsx("option",{value:T.id,children:T.name_league},T.id))]})]}),s.jsxs("label",{children:["Upload Athlete Photo *",s.jsx("input",{type:"file",onChange:T=>{var w;return oe(((w=T.target.files)==null?void 0:w[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Athlete"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsxs("h2",{className:"form-title",children:["Athletes of ",L," (",_,")"]}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"Search Athlete"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:qt,onChange:T=>Mt(T.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Fe,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"})," ",s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"})," ",s.jsx("th",{children:"Year"})," ",s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"})," ",s.jsx("th",{children:"Registration"})," ",s.jsx("th",{children:"Photos"})," ",s.jsx("th",{children:"Confirmation"})," ",s.jsx("th",{children:"conf_Request"})," ",s.jsx("th",{children:"Club ID"})," ",s.jsx("th",{children:"League ID"})," ",s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:je.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found for this club/league."})}):je.map(T=>s.jsxs("tr",{onDoubleClick:()=>It(T),style:{cursor:"pointer"},children:[s.jsx("td",{children:Te===T.id?s.jsx("input",{value:ze.last_name||"",onChange:w=>We({...ze,last_name:w.target.value})}):T.last_name}),s.jsx("td",{children:Te===T.id?s.jsx("input",{value:ze.first_name||"",onChange:w=>We({...ze,first_name:w.target.value})}):T.first_name}),s.jsx("td",{children:Te===T.id?s.jsx("input",{type:"date",value:ze.date_of_birth||"",onChange:w=>We({...ze,date_of_birth:w.target.value})}):T.date_of_birth}),s.jsx("td",{children:Te===T.id?s.jsx("input",{value:ze.place_of_birth||"",onChange:w=>We({...ze,place_of_birth:w.target.value})}):T.place_of_birth}),s.jsx("td",{children:T.role}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.blood_type||"",onChange:w=>We({...ze,blood_type:w.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):T.blood_type}),s.jsx("td",{children:T.national_id_number}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.nationality||"",onChange:w=>We({...ze,nationality:w.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),ge.map((w,K)=>s.jsx("option",{value:w,children:w},K))]}):T.nationality}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.grade||"",onChange:w=>We({...ze,grade:w.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"yellow belt",children:"yellow belt"}),s.jsx("option",{value:"orange belt",children:"orange belt"}),s.jsx("option",{value:"green belt",children:"green belt"}),s.jsx("option",{value:"blue belt",children:"blue belt"})]}):T.grade}),s.jsx("td",{children:T.renewal}),s.jsx("td",{children:T.year}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.genres||"",onChange:w=>{const K=w.target.value;We({...ze,genres:K,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]}):T.genres}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.categories||"",onChange:w=>{const K=w.target.value;We({...ze,categories:K,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"})]}):T.categories}),s.jsx("td",{children:Te===T.id?s.jsxs("select",{value:ze.weight||"",onChange:w=>We({...ze,weight:w.target.value}),disabled:!ze.genres||!ze.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),_t.map((w,K)=>s.jsx("option",{value:w,children:w},K))]}):T.weight}),s.jsx("td",{children:T.license_number}),s.jsx("td",{children:T.registration_date}),s.jsx("td",{children:T.photos_url?s.jsx("img",{src:T.photos_url,alt:`${T.first_name} ${T.last_name}`,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"}}):"No Photo"}),s.jsx("td",{children:T.confirmation?"✅":"❌"}),s.jsx("td",{children:T.confirmation_request?"conf_Request":"conf_Not_request"}),s.jsx("td",{children:T.club_id}),s.jsx("td",{children:T.league_id}),s.jsx("td",{children:Te===T.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"primary-S",onClick:we,children:"Save"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:hr,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"primary-M",onClick:()=>Xt(T),children:"Modify"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>Ke(T.id),children:"Delete"}),s.jsx("button",{type:"button",className:T.confirmation_request&&!T.confirmation?"cancel-btn":"confirm-btn",disabled:T.confirmation&&T.confirmation_request,onClick:()=>{const w=T.confirmation_request?"Cancel confirmation request for this athlete?":"Request confirmation for this athlete?";window.confirm(w)&&(async()=>{try{const{data:K,error:J}=await ae.from("athletes").select("confirmation, confirmation_request").eq("id",T.id).single();if(J)throw J;if(K!=null&&K.confirmation&&(K!=null&&K.confirmation_request)){u("Cannot cancel confirmation request for a confirmed athlete.");return}const pe=!(K!=null&&K.confirmation_request),{error:Ue}=await ae.from("athletes").update({confirmation_request:pe}).eq("id",T.id);if(Ue)throw Ue;n(F=>F.map(ce=>ce.id===T.id?{...ce,confirmation_request:pe}:ce)),g(pe?"✅ Confirmation requested.":"❌ Confirmation request canceled."),setTimeout(()=>g(""),2e3)}catch(K){u(K.message||"Failed to update confirmation request")}})()},children:T.confirmation_request?"Cancel Request Confirmation":"Request Confirmation"}),s.jsx("button",{type:"button",className:"primary-M",onClick:async()=>{try{const w=new Date().getFullYear(),K=`${w}/${w+1}`,{data:J,error:pe}=await ae.from("athletes").select("id").eq("national_id_number",T.national_id_number).eq("year",K);if(pe)throw pe;if(J&&J.length>0){u("we can not add this athlete because is ready existe");return}const{count:Ue,error:F}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",T.national_id_number);if(F)throw F;const ce=(Ue||0)+1,me={last_name:T.last_name,first_name:T.first_name,date_of_birth:T.date_of_birth,place_of_birth:T.place_of_birth,role:T.role,blood_type:T.blood_type,nationality:T.nationality,grade:T.grade,categories:T.categories,weight:T.weight,genres:T.genres,national_id_number:T.national_id_number,password:T.password,license_number:`ATH-${w}-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:T.photos_url,league_id:T.league_id,club_id:T.club_id,year:K,renewal:ce,confirmation:!1,confirmation_request:!1},{error:ye}=await ae.from("athletes").insert([me]);if(ye)throw ye;g("Renewal created successfully."),typeof et=="function"&&await et()}catch(w){u((w==null?void 0:w.message)||String(w))}},children:"renewal"})]})})]},T.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:k,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Xe,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:Q,children:"Export by Grade PDF"})]})}),c&&s.jsx(Pn,{error:c,onClose:()=>u(null)}),d&&s.jsx(Rn,{success:d,onClose:()=>g("")}),o&&s.jsx(ta,{message:"Processing athlete data..."}),s.jsx(gn,{}),s.jsx("footer",{className:"footer bg-red-600 text-white p-4 mt-6",children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function $P(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState(null),[i,a]=b.useState("Algerian Judo Federation"),[o,l]=b.useState(""),[c,u]=b.useState(null),[d,g]=b.useState(""),[m,f]=b.useState(null),[x,N]=b.useState(null),[_,v]=b.useState(null),[C,j]=b.useState([]),[L,B]=b.useState(!1),[Y,V]=b.useState(!1),[D,$]=b.useState(!1),[ee,I]=b.useState(""),[G,ue]=b.useState("");return b.useEffect(()=>{(async()=>{const{data:H,error:be}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!be&&H&&H.length>0&&n(H[0].logo_url)})()},[]),b.useEffect(()=>{if(!(t!=null&&t.league_id))return;(async()=>{const{data:H}=await ae.from("nameleague").select("name_league").eq("id",t.league_id).single();H&&l(H.name_league);const{data:be}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);be&&be.length>0&&be[0].logo_url&&u(be[0].logo_url)})()},[t==null?void 0:t.league_id]),b.useEffect(()=>{if(!(t!=null&&t.club_id))return;(async()=>{const{data:H}=await ae.from("nameclub").select("name_club").eq("id",t.club_id).single();H&&g(H.name_club);const{data:be}=await ae.from("club_members").select("logo_url").eq("club_id",t.club_id).order("id",{ascending:!1}).limit(1);be&&be.length>0&&be[0].logo_url&&f(be[0].logo_url);const{data:Ce}=await ae.from("nameclub").select("*").eq("id",t.club_id).single();Ce&&v(Ce)})()},[t==null?void 0:t.club_id]),b.useEffect(()=>{if(!(t!=null&&t.club_id)||!(t!=null&&t.league_id)||!(t!=null&&t.first_name)||!(t!=null&&t.last_name)||!(t!=null&&t.password))return;(async()=>{const{data:H,error:be}=await ae.from("club_members").select("*").eq("club_id",t.club_id).eq("league_id",t.league_id).eq("first_name",t.first_name).eq("last_name",t.last_name).eq("password",t.password).single();!be&&H&&N(H)})()},[t]),b.useEffect(()=>{(async()=>{const{data:H,error:be}=await ae.from("clubrole").select("*");be&&console.error("Error fetching roles:",be.message),H&&j(H)})()},[]),t?s.jsxs("div",{className:"app-container",children:[L&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[r?s.jsx("img",{src:r,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:i})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c?s.jsx("img",{src:c,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:o||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m&&s.jsx("img",{src:m,alt:"Club Logo",className:"member-logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:d||"Club Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Club Member"}),x?s.jsxs("p",{children:[x.first_name," ",x.last_name," —"," ",s.jsx("strong",{children:(()=>{const M=C.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{_&&x?(console.log("➡️ Navigating to /club-member-listC with state:",{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=C.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}),setTimeout(()=>{e("/club-member-listC",{state:{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=C.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}})},1500)):console.log("No club or member found, cannot navigate.")},disabled:Y,children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn",onClick:()=>{_&&x?($(!0),console.log("➡️ Navigating to /AthletePage with state:",{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=C.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}),setTimeout(()=>{e("/AthletePage",{state:{club_id:_.id,club_name:_.name_club,league_id:t==null?void 0:t.league_id,member_id:x.id,first_name:x.first_name,last_name:x.last_name,role:(()=>{const M=C.find(H=>H.id===parseInt(x.role_id));return(M==null?void 0:M.club_role)||x.club_role||x.role||"No Role"})(),club_logo:_.logo_url||m}})},1500)):console.log("No club or member found, cannot navigate.")},disabled:D,children:"List of Athletes"})]})]}),Y&&s.jsx("div",{children:"Loading..."}),D&&s.jsx("div",{children:"Loading..."}),ee&&s.jsx(Pn,{error:ee,onClose:()=>I("")}),G&&s.jsx(Rn,{success:G,onClose:()=>ue("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}const zP="/assets/certificat-de-judo2-CzQTdYUm.png";function WP(){const t=Ur(),e=fi(),[r,n]=b.useState(!1),[i,a]=b.useState(""),[o,l]=b.useState("Algeria Federation"),[c,u]=b.useState(null),[d,g]=b.useState(""),[m,f]=b.useState([]),[x,N]=b.useState(!1),[_,v]=b.useState([]),[C,j]=b.useState(!1),[L,B]=b.useState(""),[Y,V]=b.useState(""),[D,$]=b.useState("");b.useEffect(()=>{e.state?(console.log(" Athlete data received:",e.state),console.log(" Photo URL field (photos_url):",e.state.photos_url),console.log(" Photo URL field (photo_url):",e.state.photo_url),console.log(" All available fields:",Object.keys(e.state)),u(e.state)):(console.log("❌ No athlete data found in navigation state"),t("/"))},[e.state,t]),b.useEffect(()=>{(async()=>{if(!(!(c!=null&&c.club_id)&&!(c!=null&&c.league_id)))try{if(c.club_id){const be=(await Dn())[c.club_id];B(be||`Club ID: ${c.club_id}`)}if(c.league_id){const be=(await Xn())[c.league_id];V(be||`League ID: ${c.league_id}`)}}catch(H){console.error("Error fetching club/league names:",H),c.club_id&&B(`Club ID: ${c.club_id}`),c.league_id&&V(`League ID: ${c.league_id}`)}})()},[c]),b.useEffect(()=>{c&&(async()=>{try{const H=JSON.stringify({id:c.id,name:`${c.first_name||""} ${c.last_name||""}`.trim(),license:c.license_number||"",club_id:c.club_id||"",league_id:c.league_id||"",confirmation:c.confirmation||"Unconfirmed"}),be=await ui.toDataURL(H,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});g(be)}catch(H){console.error("Error generating QR code:",H)}})()},[c]),b.useEffect(()=>{if(c&&c.grade==="black belt"){const M={first_name:c.first_name||"",last_name:c.last_name||"",date_of_birth:c.date_of_birth||"",place_of_birth:c.place_of_birth||""};ui.toDataURL(JSON.stringify(M),{width:240,margin:1}).then(H=>$(H)).catch(H=>console.error("Error generating certificate QR:",H))}else $("")},[c]),b.useEffect(()=>{(async()=>{try{const{data:H,error:be}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!be&&H&&H.length>0&&a(H[0].logo_url)}catch(H){console.error("Error fetching federation logo:",H)}})()},[]),b.useEffect(()=>{(async()=>{j(!0);try{const{data:H,error:be}=await ae.from("athletes").select("*").order("id",{ascending:!1});!be&&H?(v(H),console.log("🏃‍♂️ All athletes fetched:",H.length,"athletes")):console.error("Error fetching all athletes:",be)}catch(H){console.error("Error fetching all athletes:",H)}finally{j(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(c!=null&&c.national_id_number){N(!0);try{const H=c.national_id_number,{data:be,error:Ce}=await ae.from("athletes").select("*").eq("national_id_number",H),{data:ie,error:xe}=await ae.from("league_members").select("*").eq("national_id_number",H),{data:Re,error:se}=await ae.from("club_members").select("*").eq("national_id_number",H),E=[];be&&!Ce&&be.forEach(U=>{E.push({...U,source:"Athletes",table_type:"athletes"})}),ie&&!xe&&ie.forEach(U=>{E.push({...U,source:"League Members",table_type:"league_members"})}),Re&&!se&&Re.forEach(U=>{E.push({...U,source:"Club Members",table_type:"club_members"})}),f(E),console.log("🔍 Related athletes found:",E)}catch(H){console.error("Error fetching related athletes:",H)}finally{N(!1)}}})()},[c]);const ee=async M=>{try{n(!0);const H=new At("landscape","pt","a4"),be=H.internal.pageSize.getWidth(),Ce=H.internal.pageSize.getHeight(),ie=`${M.first_name||""} ${M.last_name||""}`.trim();try{H.addImage(zP,"PNG",0,0,be,Ce),H.setTextColor(0,0,0),H.setFontSize(14),H.setFont("times","normal"),H.text("The Ministry of Youth and Sports",be/2+80,105,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("Algerian judo federation",be/2+80,130,{align:"center"}),H.setFontSize(24),H.setFont("times","bold"),H.text("Judo Certificate",be/2+80,200,{align:"center"}),H.setFontSize(16),H.setFont("times","normal"),H.text(`Mr. ${ie} belt Black is hereby awarded`,be/2+80,240,{align:"center"}),H.text("this certificate, in recognition of his progress, his sporting qualities,",be/2+80,280,{align:"center"}),H.text("his loyalty to his school, and to the spirit of Judo.",be/2+80,320,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("The President:",260,400),H.text("The Instructor:",600,400)}catch(Re){console.warn("Failed to load background image, using fallback design:",Re),H.setLineWidth(4),H.setDrawColor(0,0,0),H.rect(20,20,be-40,Ce-40),H.setLineWidth(1),H.rect(40,40,be-80,Ce-80),H.setTextColor(0,0,0),H.setFontSize(14),H.setFont("times","normal"),H.text("The Ministry of Youth and Sports",be/2+80,105,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("Algerian judo federation",be/2+80,130,{align:"center"}),H.setFontSize(24),H.setFont("times","bold"),H.text("Judo Certificate",be/2+80,200,{align:"center"}),H.setFontSize(16),H.setFont("times","normal"),H.text(`Mr. ${ie} belt Black is hereby awarded`,be/2+80,240,{align:"center"}),H.text("this certificate, in recognition of his progress, his sporting qualities,",be/2+80,280,{align:"center"}),H.text("his loyalty to his school, and to the spirit of Judo.",be/2+80,320,{align:"center"}),H.setFontSize(14),H.setFont("times","bold"),H.text("The President:",260,400),H.text("The Instructor:",600,400)}try{if(D){const se=be-32-60,E=Ce-32-80;H.addImage(D,"PNG",se,E,32,32),H.setFontSize(7),H.setFont("times","normal"),H.text("Scan to verify certificate",se+32/2,E+32+10,{align:"center"})}}catch(Re){console.warn("Failed to add certificate QR to PDF:",Re)}const xe=`Judo_Certificate_${ie.replace(/\s+/g,"_")}_${new Date().getFullYear()}.pdf`;H.save(xe),setSuccessMessage("Judo Certificate generated successfully!"),setShowSuccess(!0)}catch(H){console.error("Error generating Judo Certificate:",H),setErrorMessage("Failed to generate Judo Certificate. Please try again."),setShowError(!0)}finally{n(!1)}};function I(M){return new Promise((H,be)=>{Ua(M,Ce=>{if(Ce.type==="error")console.warn("EXIF processing failed, using original image:",M),H(M);else try{const ie=Ce.toDataURL("image/png");H(ie)}catch(ie){console.warn("Canvas conversion failed, using original image:",ie),H(M)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const G=M=>{if(console.log("🎯 handleExportPDF called with data:",M),console.log("📊 Data type:",typeof M),console.log("📋 Data keys:",M?Object.keys(M):"No data"),console.log("🆔 national_id_number in data:",M==null?void 0:M.national_id_number),!M||Object.keys(M).length===0){console.error("❌ No data available to export"),alert("No data available to export");return}console.log("✅ Data validation passed, calling exportPDFWithAutoOrientation..."),ue(M)},ue=async M=>{if(console.log("🚀 PDF Generation - Starting with data:",M),!M||!M.primary_id&&!M.national_id_number){console.error("❌ No data or primary_id/national_id_number provided for PDF generation"),alert("No valid data available for PDF generation");return}try{const be=M.table_source||"athletes",Ce="id",ie=M.primary_id||M.id;console.log("🔍 Fetching complete athlete data from database..."),console.log("📊 Table source:",be),console.log("🆔 ID field:",Ce),console.log("🔢 ID value:",ie);const{data:xe,error:Re}=await ae.from(be).select("*").eq(Ce,ie).single();if(Re||!xe){console.error("❌ Error fetching athlete data:",Re),console.log("🔄 Falling back to national_id_number query...");const{data:Ye,error:Oe}=await ae.from("athletes").select("*").eq("national_id_number",M.national_id_number).single();if(Oe||!Ye){console.error("❌ Fallback query also failed:",Oe),alert("Error fetching complete athlete data from database");return}console.log("✅ Fallback athlete data fetched:",Ye);var H=Ye}else{console.log("✅ Complete athlete data fetched:",xe);var H=xe}console.log("✅ Using complete athlete data for PDF:",H);let se=null,E=null;try{if(console.log("🔍 Fetching club and league names..."),H.club_id){console.log("🏢 Fetching club name for ID:",H.club_id);const Ye=await Dn();console.log("🏢 Club names object:",Ye),se=Ye[H.club_id],console.log("🏢 Fetched club name:",se)}else console.log("⚠️ No club_id found in athlete data");if(H.league_id){console.log("🏆 Fetching league name for ID:",H.league_id);const Ye=await Xn();console.log("🏆 League names object:",Ye),E=Ye[H.league_id],console.log("🏆 Fetched league name:",E)}else console.log("⚠️ No league_id found in athlete data")}catch(Ye){console.error("❌ Error fetching names:",Ye)}const U=new At("portrait","mm","a4");U.setFontSize(18),U.setTextColor(40,40,40),U.text("Algerian Judo Federation",14,15);const X=`Athlete Information - ${H.first_name} ${H.last_name}`;U.setFontSize(16),U.setTextColor(40,40,40),U.text(X,14,30),U.setFontSize(10);const le=new Date().toLocaleString();if(U.text(`Generated: ${le}`,14,37),i)try{U.addImage(i,"PNG",170,10,25,25)}catch(Ye){console.error("Error adding logo to PDF:",Ye)}let _e=70;if(M.photos_url)try{const Ye=await I(M.photos_url),Oe=Ye.startsWith("data:")?"PNG":"JPEG";U.addImage(Ye,Oe,14,45,25,20),_e=70}catch(Ye){console.error("Error adding photo to PDF:",Ye);try{U.addImage(M.photos_url,"JPEG",14,45,25,20)}catch(Oe){console.error("Fallback image addition also failed:",Oe)}_e=70}U.setFontSize(12),H.confirmation?U.setTextColor(0,128,0):U.setTextColor(255,0,0);const Ne=H.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";U.text(Ne,160,50);const Be={last_name:"Last Name",first_name:"First Name",date_of_birth:"Date of Birth",place_of_birth:"Place of Birth",role:"Role",blood_type:"Blood Type",national_id_number:"National ID",nationality:"Nationality",grade:"Grade",genres:"Gender",categories:"Category",weight:"Weight",license_number:"License Number",registration_date:"Registration Date",year:"Year",renewal:"Renewal",confirmation:"Confirmation Status"},Ae=Object.keys(Be).filter(Ye=>H[Ye]!==null&&H[Ye]!==void 0&&H[Ye]!==""&&H[Ye]!=="null");console.log("PDF Generation - All data fields:",Object.keys(H)),console.log("PDF Generation - Available fields with data:",Ae),console.log("PDF Generation - Fields with no data:",Object.keys(Be).filter(Ye=>!Ae.includes(Ye)));const Ge=Ae.map(Ye=>[Be[Ye]||Ye.charAt(0).toUpperCase()+Ye.slice(1).replace(/_/g," "),H[Ye]]);mr(U,{startY:_e,head:[["Field","Value"]],body:Ge,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Qe=U.lastAutoTable.finalY||200;if(U.setFontSize(12),U.setTextColor(0,0,0),U.text("Medical certificate",14,Qe+20),U.setDrawColor(0),U.line(14,Qe+40,80,Qe+40),U.setFontSize(10),H.club_id){const Ye=se||`Club ID: ${H.club_id}`;U.text(`Club: ${Ye}`,14,Qe+60),U.text("Club Visa: _________________",14,Qe+70)}if(H.league_id){const Ye=E||`League ID: ${H.league_id}`;U.text(`League: ${Ye}`,120,Qe+60),U.text("League Visa: _________________",120,Qe+70)}try{const Ye=JSON.stringify({id:H.id,name:`${H.first_name||""} ${H.last_name||""}`.trim(),license:H.license_number||"",club_id:H.club_id||"",league_id:H.league_id||"",confirmation:H.confirmation||"Unconfirmed"}),Oe=await ui.toDataURL(Ye,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});U.addImage(Oe,"PNG",180,Qe+75,15,15)}catch(Ye){console.error("Error generating QR code:",Ye)}const at=`athlete_${H.first_name}_${H.last_name}_${H.id||"record"}.pdf`;console.log("Saving PDF with filename:",at),U.save(at),console.log("PDF generation completed successfully")}catch(be){console.error("Error in PDF generation:",be),alert(`Error generating PDF: ${be.message}`)}};return c?s.jsxs("div",{className:"page-container",children:[r&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsxs("div",{className:"federation-header",children:[i?s.jsx("img",{src:i,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:o})]})}),s.jsx(Er,{}),s.jsxs("div",{className:"athlete-profile",children:[s.jsx("h2",{className:"form-title",children:"Athlete Profile"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[c.photos_url||c.photo_url?s.jsx("img",{src:c.photos_url||c.photo_url,alt:`${c.first_name} ${c.last_name}`,className:"athlete-photo"}):s.jsx("div",{className:"photo-placeholder",children:s.jsx(gv,{})}),s.jsxs("h3",{children:[c.first_name," ",c.last_name]}),s.jsx("p",{children:c.role||"Athlete"}),c.confirmation&&s.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm mt-2",children:"✓ Confirmed"})]}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(gv,{className:"w-5 h-5"}),"Personal Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"First Name:"}),s.jsx("span",{className:"info-value",children:c.first_name||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Last Name:"}),s.jsx("span",{className:"info-value",children:c.last_name||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Date of Birth:"}),s.jsx("span",{className:"info-value",children:c.date_of_birth||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Place of Birth:"}),s.jsx("span",{className:"info-value",children:c.place_of_birth||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Nationality:"}),s.jsx("span",{className:"info-value",children:c.nationality||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(Ng,{className:"w-5 h-5"}),"Athletic Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Grade:"}),s.jsx("span",{className:"info-value",children:c.grade||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Category:"}),s.jsx("span",{className:"info-value",children:c.categories||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Weight:"}),s.jsx("span",{className:"info-value",children:c.weight||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Gender:"}),s.jsx("span",{className:"info-value",children:c.genres||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"License Number:"}),s.jsx("span",{className:"info-value",children:c.license_number||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(eL,{className:"w-5 h-5"}),"Medical Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Blood Type:"}),s.jsx("span",{className:"info-value",children:c.blood_type||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"National ID:"}),s.jsx("span",{className:"info-value",children:c.national_id_number||"N/A"})]})]}),s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(WC,{className:"w-5 h-5"}),"Registration Information"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Registration Date:"}),s.jsx("span",{className:"info-value",children:c.registration_date||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Year:"}),s.jsx("span",{className:"info-value",children:c.year||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Renewal:"}),s.jsx("span",{className:"info-value",children:c.renewal||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Club:"}),s.jsx("span",{className:"info-value",children:L||"N/A"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"League:"}),s.jsx("span",{className:"info-value",children:Y||"N/A"})]})]})]})]}),c.description&&s.jsxs("div",{className:"athlete-description",children:[s.jsx("h3",{children:"Description:"}),s.jsx("p",{children:c.description})]}),s.jsxs("div",{className:"qr-code-section",children:[s.jsxs("h3",{children:[s.jsx(fv,{className:"w-5 h-5"}),"Athlete QR Code"]}),s.jsx("p",{children:"Scan to access athlete information"}),s.jsx("div",{className:"qr-code-container",children:d?s.jsx("img",{src:d,alt:"Athlete QR Code",className:"qr-code-centered"}):s.jsxs("div",{className:"qr-code-loading",children:[s.jsx(fv,{className:"w-16 h-16 text-gray-400"}),s.jsx("p",{children:"Generating QR Code..."})]})}),d&&s.jsx("div",{className:"qr-code-status",children:s.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:"✓ QR Code Ready"})})]})]}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[s.jsx("h3",{children:"Related Licenses"}),s.jsx("p",{children:"All athlete licenses with the same National ID Number"}),s.jsxs("div",{className:"related-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.length}),s.jsx("span",{className:"stat-label",children:"Total Licenses"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="athletes").length}),s.jsx("span",{className:"stat-label",children:"Athletes"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="league_members").length}),s.jsx("span",{className:"stat-label",children:"League Members"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-number",children:m.filter(M=>M.table_type==="club_members").length}),s.jsx("span",{className:"stat-label",children:"Club Members"})]})]})]}),s.jsx("div",{className:"info-grid",children:s.jsxs("div",{className:"info-card",children:[s.jsx("h4",{children:"Athlete Licenses Table"}),s.jsx("p",{children:"Double-click any row to generate PDF for that athlete"}),x?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading related athletes..."})]}):m.length>0?s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"athletes-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Source"}),s.jsx("th",{children:"Full Name"}),s.jsx("th",{children:"License Number"}),s.jsx("th",{children:"National ID"}),s.jsx("th",{children:"Club/League ID"}),s.jsx("th",{children:"Status"})]})}),s.jsxs("tbody",{children:[console.log("🔍 Rendering table with relatedAthletes:",m),m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No related athlete licenses found"})}):m.map((M,H)=>s.jsxs("tr",{onDoubleClick:()=>{console.log("🎯 Double-click fired on athlete:",M),console.log("📋 Available fields:",Object.keys(M)),console.log("🏷️ Table type:",M.table_type),console.log("🆔 Original national_id_number:",M.national_id_number),console.log("🆔 Fallback athlete_nid:",M.athlete_nid),console.log("🆔 Fallback nid:",M.nid);const be={...M,national_id_number:M.national_id_number||M.athlete_nid||M.nid,primary_id:M.id,table_source:M.table_type};console.log("✅ Safe data created with normalized national_id_number:",be.national_id_number),console.log("📦 Complete safe data object:",be),console.log("🚀 About to call handleExportPDF...");try{G(be),console.log("✅ handleExportPDF called successfully")}catch(Ce){console.error("❌ Error calling handleExportPDF:",Ce)}},className:"clickable-row",style:{cursor:"pointer"},title:"Double-click to generate PDF",children:[s.jsx("td",{children:s.jsx("span",{className:`source-badge ${M.table_type}`,children:M.source})}),s.jsx("td",{className:"name-cell",children:M.first_name&&M.last_name?`${M.first_name} ${M.last_name}`:M.full_name||"N/A"}),s.jsx("td",{className:"license-cell",children:M.license_number||M.athlete_license_number||"N/A"}),s.jsx("td",{className:"id-cell",children:M.national_id_number}),s.jsx("td",{className:"club-cell",children:M.club_id||M.league_id||"N/A"}),s.jsx("td",{children:s.jsx("span",{className:`status-badge ${M.status||"active"}`,children:M.status||"Active"})})]},`${M.table_type}-${M.id||H}`))]})]})}):s.jsx("div",{className:"no-data",children:s.jsx("p",{children:"No related athlete licenses found with the same National ID Number."})})]})})]}),c&&c.grade==="black belt"&&s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"photo-section",children:[s.jsx("h3",{children:"Judo Certificate"}),s.jsx("p",{children:"Generate official Judo certificate for black belt athletes"}),s.jsxs("div",{className:"certificate-preview",children:[s.jsxs("div",{className:"certificate-badge",children:[s.jsx(Ng,{className:"certificate-icon"}),s.jsx("span",{children:"Black Belt Certificate"})]}),s.jsxs("div",{className:"certificate-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Athlete:"})," ",c.first_name," ",c.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Grade:"})," ",c.grade]}),s.jsxs("p",{children:[s.jsx("strong",{children:"License:"})," ",c.license_number]})]}),s.jsxs("div",{className:"certificate-qr",style:{marginTop:"10px"},children:[s.jsx("h5",{style:{margin:0},children:"Certificate QR"}),D?s.jsx("img",{src:D,alt:"Certificate QR Code",style:{width:"32px",height:"32px",border:"1px solid #eee",borderRadius:"4px"}}):s.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"QR appears when data is complete."})]})]})]}),s.jsx("div",{className:"info-grid",children:s.jsxs("div",{className:"info-card",children:[s.jsx("h4",{children:"Certificate Generation"}),s.jsx("p",{children:"Click the button below to generate the official Judo certificate"}),s.jsx("div",{className:"certificate-actions",children:s.jsxs("button",{className:"primary-button certificate-btn",onClick:()=>ee(c),disabled:r,children:[s.jsx(Ng,{size:20}),r?"Generating...":"Generate Judo Certificate"]})}),s.jsxs("div",{className:"certificate-requirements",children:[s.jsx("h5",{children:"Certificate Requirements:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"✓ Black Belt Grade"}),s.jsx("li",{children:"✓ Valid License Number"}),s.jsx("li",{children:"✓ Complete Athlete Information"})]})]})]})})]}),s.jsx(gn,{})]})]}):s.jsxs("div",{className:"page-container",children:[s.jsx(rn,{}),s.jsx("div",{className:"content-box",children:s.jsx("div",{className:"text-center p-8",children:s.jsx("p",{children:"Loading athlete information..."})})})]})}function HP(){const[t,e]=b.useState(null),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,g]=b.useState(""),m=Ur(),f="https://example.com/federation-logo.png",x="Algerian Judo Federation",[N,_]=b.useState(""),[v,C]=b.useState(null),j=async(D,$)=>{if(!r||!i){l("Please enter both Name and Key before continuing.");return}let ee="",I="",G="";$==="federation"?(ee="members",I="last_name",G="password"):$==="league"?(ee="league_members",I="last_name",G="password"):$==="club"&&(ee="club_members",I="last_name",G="password");const{data:ue,error:M}=await ae.from(ee).select("*").eq(I,r).eq(G,i).single();if(M||!ue){l("❌ Invalid Name or Key. Please try again.");return}l("");let H={};$==="federation"?H={federationLogo:f,federationName:x}:$==="league"?H={league_id:ue.league_id,logo_url:ue.logo_url}:$==="club"&&(H={club_id:ue.club_id,league_id:ue.league_id,logo_url:ue.logo_url}),m(D,{state:{...ue,...H}})},L=D=>{m(D)},B=D=>{g(D),u(!0),e(D),l(""),n(""),a("")},Y=()=>{u(!1),g(""),e(null),l(""),n(""),a("")},V=(D,$,ee,I="secondary-btn")=>s.jsx("div",{className:"login-box",children:s.jsx("button",{className:I,onClick:()=>B(D),children:$})});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"gorgeous-buttons-layout horizontal-buttons-container",children:[s.jsx("div",{className:"gorgeous-button-wrapper",children:V("federation","Federation Account","/AddMemberPage","gorgeous-green-btn")}),s.jsx("div",{className:"gorgeous-button-wrapper",children:V("league","League Account","/AddMemberLeague","gorgeous-green-btn")}),s.jsx("div",{className:"gorgeous-button-wrapper",children:V("club","Amateur Sports Club","/AddMemberClub","gorgeous-green-btn")})]}),c&&s.jsx("div",{className:"modal-overlay",onClick:Y,children:s.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:Y,children:"×"}),s.jsxs("div",{className:"login-box",children:[s.jsx("h3",{style:{marginBottom:"1rem",color:"#15803d",textAlign:"center"},children:d==="federation"?"Federation Account Login":d==="league"?"League Account Login":"Amateur Sports Club Login"}),s.jsx("input",{type:"text",placeholder:"Enter Name",value:r,onChange:D=>n(D.target.value),className:"input-field mb-2"}),s.jsx("input",{type:"password",placeholder:"Enter Key",value:i,onChange:D=>a(D.target.value),className:"input-field mb-2"}),o&&s.jsx("p",{className:"error-text",children:o}),s.jsxs("div",{className:"btn-row mt-2 flex gap-2",children:[s.jsx("button",{className:"primary-btn",onClick:()=>j(`/${d==="federation"?"FederationPage":d==="league"?"LeaguePage":"AmateurSportsClubPage"}`,d),children:"Login"}),s.jsx("button",{className:"secondary-btn",onClick:()=>L(d==="federation"?"/AddMemberPage":d==="league"?"/AddMemberLeague":"/AddMemberClub"),children:"➕ Add Member"}),s.jsx("button",{className:"secondary-btn",onClick:Y,children:"Cancel"})]})]})]})})]})}const GP=({announcements:t=[]})=>t.length===0?null:s.jsx("div",{className:"green-tape-banner relative overflow-hidden",children:s.jsx("div",{className:"text-white py-20 shadow-2xl relative",children:s.jsxs("div",{className:"relative z-20",children:[s.jsx("h2",{className:"header-text-massive font-bold text-center mb-8 tracking-wider",children:"OFFICIAL ANNOUNCEMENTS - JUDO ALGERIA"}),s.jsx("div",{className:"overflow-hidden whitespace-nowrap",children:s.jsx("div",{className:"animate-marquee",children:t.map((e,r)=>s.jsxs("span",{className:"announcement-text-huge mx-8 text-white font-bold tracking-wider whitespace-nowrap",children:["⭐ ",e," ⭐"]},r))})})]})})}),YP=({id:t,image:e,title:r,description:n,link:i,type:a="website",onClick:o})=>{const l=()=>{if(o)o();else if(i)if(a==="pdf"){const c=document.createElement("a");c.href=i,c.download=r||"document.pdf",document.body.appendChild(c),c.click(),document.body.removeChild(c)}else window.open(i,"_blank","noopener,noreferrer")};return s.jsxs("div",{className:"circle-button-container",children:[s.jsx("div",{className:"circle-button",onClick:l,role:"button",tabIndex:0,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),l())},children:s.jsxs("div",{className:"circle-button-inner",children:[s.jsx("div",{className:"circle-image-container",children:e?s.jsx("img",{src:e,alt:r||"Button",className:"circle-image"}):s.jsx("div",{className:"circle-placeholder",children:a==="pdf"?s.jsx(dv,{className:"w-8 h-8 text-white"}):s.jsx(hv,{className:"w-8 h-8 text-white"})})}),s.jsx("div",{className:"circle-overlay",children:a==="pdf"?s.jsx(dv,{className:"w-6 h-6 text-white"}):s.jsx(hv,{className:"w-6 h-6 text-white"})})]})}),(r||n)&&s.jsxs("div",{className:"circle-button-info",children:[r&&s.jsx("h3",{className:"circle-button-title",children:r}),n&&s.jsx("p",{className:"circle-button-description",children:n})]})]})};function VP(){const[t,e]=b.useState(null),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,g]=b.useState(""),m=Ur(),[f,x]=b.useState(""),[N,_]=b.useState(null),v=async(B,Y)=>{if(!r||!i){l("Please enter both Name and Key before continuing.");return}let V="",D="",$="";Y==="Athlete"&&(V="athletes",D="last_name",$="password");const{data:ee,error:I}=await ae.from(V).select("*").eq(D,r).eq($,i).single();if(console.log("Authentication attempt:",{tableName:V,nameColumn:D,keyColumn:$,name:r,key:i}),console.log("Database response:",{data:ee,supaError:I}),I||!ee){console.log("Authentication failed:",(I==null?void 0:I.message)||"No data returned"),l("❌ Invalid Name or Key. Please try again.");return}l("");let G={};Y==="Athlete"&&(G={club_id:ee.club_id,league_id:ee.league_id}),console.log("🔍 AthleteB.jsx - Raw database data:",ee),console.log("🔍 AthleteB.jsx - Extra data being added:",G),console.log("🔍 AthleteB.jsx - Final state being passed:",{...ee,...G}),console.log("🔍 AthleteB.jsx - Navigating to:",B,"with state:",{...ee,...G}),m(B,{state:{...ee,...G}})},C=B=>{g(B),u(!0),e(B),l(""),n(""),a("")},j=()=>{u(!1),g(""),e(null),l(""),n(""),a("")},L=(B,Y,V,D="secondary-btn")=>s.jsx("div",{className:"login-box",children:s.jsx("button",{className:D,onClick:()=>C(B),children:Y})});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"gorgeous-buttons-layout horizontal-buttons-container",children:s.jsx("div",{className:"gorgeous-button-wrapper",children:L("Athlete","Athletes Account Login","/Athlete","gorgeous-green-btn")})}),c&&s.jsx("div",{className:"modal-overlay",onClick:j,children:s.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:j,children:"×"}),s.jsxs("div",{className:"login-box",children:[s.jsx("h3",{style:{marginBottom:"1rem",color:"#15803d",textAlign:"center"},children:d==="Athlete"?"Athletes Account Login":"Login"}),s.jsx("input",{type:"text",placeholder:"Enter Name",value:r,onChange:B=>n(B.target.value),className:"input-field mb-2"}),s.jsx("input",{type:"password",placeholder:"Enter Key",value:i,onChange:B=>a(B.target.value),className:"input-field mb-2"}),o&&s.jsx("p",{className:"error-text",children:o}),s.jsxs("div",{className:"btn-row mt-2 flex gap-2",children:[s.jsx("button",{className:"primary-btn",onClick:()=>v(`/${d==="Athlete"?"Athlete":""}`,d),children:"Login"}),s.jsx("button",{className:"secondary-btn",onClick:j,children:"Cancel"})]})]})]})})]})}const sw="home/circle_buttons.json",ow="publications",lw="algerian_judo_circle_buttons";async function cw(){try{const{data:t,error:e}=await ae.storage.from(ow).download(sw);if(e)throw e;const r=await t.text(),n=JSON.parse(r);return Array.isArray(n)?n:[]}catch{try{const e=localStorage.getItem(lw);return e?JSON.parse(e):[]}catch{return[]}}}async function JP(t){try{localStorage.setItem(lw,JSON.stringify(t))}catch{}try{const e=new Blob([JSON.stringify(t)],{type:"application/json"}),{error:r}=await ae.storage.from(ow).upload(sw,e,{upsert:!0});if(r)throw r;return!0}catch(e){return console.warn("Failed to save circle buttons to Supabase, kept local copy:",(e==null?void 0:e.message)||e),!1}}function KP(){const[t,e]=b.useState(!1),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState(!1),[m,f]=b.useState([]),[x,N]=b.useState(0),[_,v]=b.useState(null),[C,j]=b.useState("Algerian Judo Federation"),[L,B]=b.useState(!0),[Y,V]=b.useState([]),[D,$]=b.useState([]),[ee,I]=b.useState([]),[G,ue]=b.useState([]);b.useRef(null);const M=b.useRef(null);Ur();const[H,be]=b.useState(""),[Ce,ie]=b.useState(null);b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!U&&E&&f(E)})()},[]),b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!U&&E.length>0&&v(E[0].logo_url)})()},[]),b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("pub").select("photo_url").order("created_at",{ascending:!1});!U&&E&&V(E)})()},[]),b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publica").select("title, description, photo_url").order("created_at",{ascending:!1});!U&&E&&$(E)})()},[]),b.useEffect(()=>{try{const se=localStorage.getItem("algerian_judo_banner_announcements");if(se){const E=JSON.parse(se);I(E)}}catch(se){console.error("Erreur lors du chargement des annonces:",se)}},[]),b.useEffect(()=>{(async()=>{try{const se=await cw();se&&se.length>0?ue(se):ue([{id:1,title:"Official Website",description:"Visit our main website",image:"",link:"https://example.com",type:"website"},{id:2,title:"Rules PDF",description:"Download competition rules",image:"",link:"",type:"pdf"},{id:3,title:"Training Center",description:"Find training locations",image:"",link:"https://maps.google.com",type:"website"},{id:4,title:"Registration Form",description:"Download registration form",image:"",link:"",type:"pdf"},{id:5,title:"Contact Us",description:"Get in touch with us",image:"",link:"mailto:contact@judoalgeria.com",type:"website"}])}catch(se){console.error("Erreur lors du chargement des boutons:",se)}})()},[]),b.useEffect(()=>{const se=E=>{if(E.key==="algerian_judo_circle_buttons")try{const U=E.newValue?JSON.parse(E.newValue):[];ue(U||[])}catch(U){console.error("Error parsing circle buttons from storage event:",U)}if(E.key==="algerian_judo_banner_announcements")try{const U=E.newValue?JSON.parse(E.newValue):[];I(U||[])}catch(U){console.error("Error parsing announcements from storage event:",U)}};return window.addEventListener("storage",se),()=>window.removeEventListener("storage",se)},[]),b.useEffect(()=>{if(m.length>0){const se=setInterval(()=>{N(E=>(E+1)%m.length)},5e3);return()=>clearInterval(se)}},[m]);const xe=()=>{N(se=>(se+1)%m.length)},Re=()=>{N(se=>(se-1+m.length)%m.length)};return b.useEffect(()=>{const se=E=>{(E.key==="Escape"||E.code==="Space")&&Ce&&ie(null)};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[Ce]),s.jsxs("div",{className:"app-container",children:[d&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[_?s.jsx("img",{src:_,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:C||"Algerian Judo Federation"})]})})}),s.jsx("div",{style:{height:"08rem"}}),s.jsxs("section",{id:"showcase",style:{backgroundImage:Y.length>0?`linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(${Y[0].photo_url})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:"white",padding:"6rem 0",textAlign:"center",height:"200px",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.6), 0 8px 15px rgba(0, 0, 0, 0.3)",transform:"perspective(1000px) rotateX(2deg) rotateY(-2deg)",transition:"transform 0.5s ease, box-shadow 0.5s ease"},onMouseMove:se=>{const E=se.currentTarget,U=E.getBoundingClientRect(),X=se.clientX-U.left,le=se.clientY-U.top,_e=U.width/2,Ne=U.height/2,Be=(le-Ne)/Ne*5,Ae=(X-_e)/_e*-5;E.style.transform=`perspective(1000px) rotateX(${Be}deg) rotateY(${Ae}deg)`},onMouseLeave:se=>{se.currentTarget.style.transform="perspective(1000px) rotateX(2deg) rotateY(-2deg)"},children:[s.jsx("h1",{children:"Welcome to the Federation"}),s.jsx("p",{children:"Promoting Judo Excellence in Algeria"})]}),s.jsx("div",{style:{height:"03rem"}}),s.jsx("section",{children:s.jsx("div",{className:"circle-buttons-container",children:G.map(se=>s.jsx(YP,{title:se.title,description:se.description,image:se.image,link:se.link,type:se.type},se.id))})}),s.jsx("div",{style:{height:"6rem"}}),ee.length>0&&s.jsx(GP,{announcements:ee}),s.jsx("div",{style:{height:"6rem"}}),s.jsxs("section",{className:"carousel-section",style:{backgroundImage:H?`url(${H})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onMouseMove:se=>{if(!M.current)return;const E=M.current.getBoundingClientRect(),U=se.clientX-E.left,X=se.clientY-E.top,le=E.width/2,_e=E.height/2,Ne=(X-_e)/10,Be=(le-U)/10;M.current.style.transform=`perspective(1000px) rotateX(${Ne}deg) rotateY(${Be}deg)`},onMouseLeave:()=>{M.current&&(M.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg)")},onMouseDown:se=>window.dragStart=se.clientX,onMouseUp:se=>{if(!window.dragStart)return;const E=se.clientX-window.dragStart;E>50&&Re(),E<-50&&xe(),window.dragStart=null},onTouchStart:se=>window.touchStart=se.touches[0].clientX,onTouchEnd:se=>{if(!window.touchStart)return;const E=se.changedTouches[0].clientX-window.touchStart;E>50&&Re(),E<-50&&xe(),window.touchStart=null},children:[s.jsx("button",{className:"carousel-button left",onClick:Re,children:"❮"}),s.jsx("div",{className:"carousel-track",children:m.map((se,E)=>{const U=(E-x+m.length)%m.length;let X="";return U===0?X="active":U===1?X="next":U===m.length-1?X="prev":X="hidden",s.jsxs("div",{className:`carousel-slide ${X}`,onClick:()=>{X==="active"&&ie({photo:se.photo_url,title:se.title,description:se.description})},children:[s.jsx("img",{src:se.photo_url,alt:se.title,className:"carousel-image"}),s.jsxs("div",{className:"carousel-caption",children:[s.jsx("h3",{children:se.title}),s.jsx("p",{children:se.description})]})]},se.id)})}),s.jsx("button",{className:"carousel-button right",onClick:xe,children:"❯"}),Ce&&s.jsx("div",{className:"fullscreen-overlay",onClick:()=>ie(null),children:s.jsxs("div",{className:"fullscreen-content",onClick:se=>se.stopPropagation(),children:[s.jsx("button",{className:"close-button",onClick:()=>ie(null),children:"×"}),s.jsx("img",{src:Ce.photo,alt:Ce.title,className:"fullscreen-image"}),s.jsxs("div",{className:"fullscreen-text",children:[s.jsx("h2",{children:Ce.title}),s.jsx("p",{children:Ce.description})]})]})})]}),s.jsx("div",{style:{height:"50rem"}}),s.jsx(VP,{}),s.jsx("div",{style:{height:"8rem"}}),s.jsx("div",{className:"moving-image-container",children:s.jsx("div",{className:"moving-image-track",children:D.length>0?D.map((se,E)=>s.jsxs("div",{className:"moving-image-card",children:[s.jsx("img",{src:se.photo_url,alt:se.title,onError:U=>{U.currentTarget.src=Zi}}),s.jsxs("div",{className:"moving-image-overlay",children:[s.jsx("h3",{children:se.title}),s.jsx("p",{children:se.description})]})]},E)):s.jsxs("div",{className:"moving-image-card",children:[s.jsx("img",{src:Zi,alt:"Judo athletes"}),s.jsxs("div",{className:"moving-image-overlay",children:[s.jsx("h3",{children:"Welcome to the Federation"}),s.jsx("p",{children:"Promoting Judo Excellence in Algeria"})]})]})})}),s.jsx("div",{style:{height:"5rem"}}),s.jsx(HP,{}),o&&s.jsx(Pn,{error:o,onClose:()=>l("")}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function QP(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState(""),[i,a]=b.useState(null),[o,l]=b.useState("Algerian Judo Federation"),[c,u]=b.useState(null),[d,g]=b.useState([]),[m,f]=b.useState(null),[x,N]=b.useState(null),[_,v]=b.useState(!1),[C,j]=b.useState(""),[L,B]=b.useState(""),Y=Zi;return b.useEffect(()=>{ti()},[]),b.useEffect(()=>{(async()=>{const{data:D,error:$}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!$&&D.length>0&&a(D[0].logo_url)})()},[]),b.useEffect(()=>{if(!(t!=null&&t.league_id))return;N(t),(async()=>{const{data:D,error:$}=await ae.from("nameleague").select("*").eq("id",t.league_id).single();!$&&D&&(n(D.name_league),u(D));const{data:ee,error:I}=await ae.from("club_members").select("club_id").eq("league_id",t.league_id).limit(1).single();if(!I&&ee){const{data:M,error:H}=await ae.from("nameclub").select("*").eq("id",ee.club_id).single();!H&&M&&f(M)}const{data:G,error:ue}=await ae.from("nameclub").select("*").eq("league_id",t.league_id);!ue&&G?g(G):console.error("Error fetching clubs:",ue)})()},[t]),b.useEffect(()=>{ti()},[]),t?s.jsxs("div",{className:"app-container",children:[_&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i?s.jsx("img",{src:i,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Y,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:o||"Algerian Judo Federation"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:r||"League Name"})]})]})}),s.jsxs("section",{className:"content",children:[s.jsxs("h2",{children:["Welcome ",t.first_name," ",t.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",t.role]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(pr(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/member-list-l",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(pr(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn",onClick:async V=>{if(pr(V.currentTarget),!c){alert("League data not loaded yet.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:c==null?void 0:c.id,league_name:c==null?void 0:c.name_league,league_logo:c==null?void 0:c.logo_url}})},children:"The Athlete List Add"})]}),C&&s.jsx(Pn,{error:C,onClose:()=>j("")}),L&&s.jsx(Rn,{success:L,onClose:()=>B("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}function Mm({data:t=[],title:e="Exported Data",columns:r=[],pdfOptions:n={},filename:i="export",buttonText:a="Export",className:o=""}){const[l,c]=b.useState({}),[u,d]=b.useState({});b.useEffect(()=>{(async()=>{const v=await Dn(),C=await Xn();c(v),d(C)})()},[]);const[g,m]=b.useState(!1),f=()=>{if(!t||t.length===0){alert("No data available to export");return}x()},x=()=>{C0(t,e,r,{...n,filename:i,clubNames:l,leagueNames:u}),m(!1)},N=()=>{if(!t||t.length===0){alert("No data available to export");return}FP(t,i,r),m(!1)};return s.jsxs("div",{className:"export-container relative",children:[s.jsx("button",{onClick:()=>m(!g),className:`export-button bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded ${o}`,children:a}),g&&s.jsxs("div",{className:"export-options absolute right-0 mt-2 bg-white border border-gray-300 rounded shadow-lg z-10",children:[s.jsx("button",{onClick:f,className:"primary-b block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Export as PDF"}),s.jsx("button",{onClick:N,className:"primary-b block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Export as CSV"})]})]})}function XP({data:t={},title:e="Member Information",fields:r=[],labels:n={},buttonText:i="Export",className:a="",logoUrl:o=null,includePhoto:l=!0,clubName:c=null,leagueName:u=null}){const[d,g]=b.useState(null),[m,f]=b.useState(null);b.useEffect(()=>{(async()=>{if(t.club_id){const v=await Dn();v[t.club_id]&&g(v[t.club_id])}if(t.league_id){const v=await Xn();v[t.league_id]&&f(v[t.league_id])}})()},[t.club_id,t.league_id]);const x=()=>{if(!t||Object.keys(t).length===0){alert("No data available to export");return}N()},N=async()=>{const _=new At("portrait","mm","a4");_.setFontSize(18),_.setTextColor(40,40,40),_.text("Algerian Judo Federation",14,15),_.setFontSize(16),_.setTextColor(40,40,40),_.text(e,14,30),_.setFontSize(10);const v=new Date().toLocaleString();if(_.text(`Generated: ${v}`,14,37),o)try{_.addImage(o,"PNG",170,10,25,25)}catch(D){console.error("Error adding logo to PDF:",D)}let C=45;if(l&&t.photos_url)try{_.addImage(t.photos_url,"PNG",14,45,25,20),C=70}catch(D){console.error("Error adding person photo to PDF:",D),C=45}_.setFontSize(12),t.confirmation?_.setTextColor(0,128,0):_.setTextColor(255,0,0);const j=t.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";_.text(j,160,50);const B=(r.length>0?r:Object.keys(t)).map(D=>[n[D]||D.charAt(0).toUpperCase()+D.slice(1).replace(/_/g," "),t[D]||""]);mr(_,{startY:C,head:[["Field","Value"]],body:B,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Y=_.lastAutoTable.finalY||200;if(_.setFontSize(12),_.setTextColor(0,0,0),_.text("Medical certificate",14,Y+20),_.setDrawColor(0),_.line(14,Y+40,80,Y+40),_.setFontSize(10),t.club_id||c){const D=c||d||(t.club_name?t.club_name:`ID: ${t.club_id}`);_.text(`Club: ${D}`,14,Y+60),_.text("Club Visa: _________________",14,Y+70)}if(t.league_id||u){const D=u||m||(t.league_name?t.league_name:`ID: ${t.league_id}`);_.text(`League: ${D}`,120,Y+60),_.text("League Visa: _________________",120,Y+70)}try{const D=JSON.stringify({id:t.id,name:`${t.first_name||""} ${t.last_name||""}`.trim(),license:t.license_number||"",club_id:t.club_id||"",league_id:t.league_id||""}),$=await ui.toDataURL(D,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});_.addImage($,"PNG",180,Y+75,15,15)}catch(D){console.error("Error generating QR code:",D)}const V=`${e.toLowerCase().replace(/ /g,"_")}_${t.id||"record"}.pdf`;_.save(V)};return s.jsx("button",{onClick:x,className:`export-row-button bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-2 rounded text-sm ${a}`,title:"Export this record as PDF",children:i})}function ZP(){const[t,e]=b.useState([]),[r,n]=b.useState([]),[i,a]=b.useState(null),[o,l]=b.useState({}),[c,u]=b.useState(!0),[d,g]=b.useState(null),[m,f]=b.useState(!1),[x,N]=b.useState(""),[_,v]=b.useState(""),[C,j]=b.useState([]),[L,B]=b.useState(0),[Y,V]=b.useState(null),[D,$]=b.useState("Algerian Judo Federation"),[ee,I]=b.useState(!0);Ur();const G=Zn(),ue=Zi;b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!U&&E&&j(E)})()},[]),b.useEffect(()=>{(async()=>{const{data:E,error:U}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!U&&E.length>0&&V(E[0].logo_url)})()},[]);const M=async()=>{try{u(!0);const{data:se,error:E}=await ae.from("members").select("*");E?g(E):e(se||[])}catch(se){g(se)}finally{u(!1)}};b.useEffect(()=>{M()},[]),b.useEffect(()=>{(async()=>{try{const{data:E,error:U}=await ae.from("federationrole").select("*");U?console.error("Error fetching roles:",U):n(E||[])}catch(E){console.error("Error fetching roles:",E)}})()},[]);const H=async se=>{if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:E}=await ae.from("members").delete().eq("id",se);E?console.error("Error deleting member:",E):e(t.filter(U=>U.id!==se))},be=se=>{a(se.id),l({...se})},Ce=async se=>{const{error:E}=await ae.from("members").update({last_name:o.last_name,first_name:o.first_name,date_of_birth:o.date_of_birth,place_of_birth:o.place_of_birth,role_id:o.role_id,blood_type:o.blood_type,national_id_number:o.national_id_number}).eq("id",se);E?console.error("Error updating member:",E):(e(t.map(U=>U.id===se?o:U)),a(null))},ie=(se,E)=>{l({...o,[E]:se.target.value})},xe=[{header:"Role",field:"role_name"},{header:"Blood Type",field:"blood_type"},{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"National ID Number",field:"national_id_number"},{header:"License Number",field:"license_number"},{header:"Registration Date",field:"registration_date"}],Re=()=>t.map(se=>{const E=r.find(U=>U.id===se.role_id);return{...se,role_name:E?E.federation_role:se.role_id||"N/A"}});return d?s.jsxs("p",{children:["Error fetching members: ",d.message]}):s.jsxs("div",{className:"app-container",children:[c&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Y?s.jsx("img",{src:Y,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:D||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Member List"}),s.jsx("div",{className:"table-container",ref:G,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood Type"}),s.jsx("th",{children:"Last Name"}),s.jsx("th",{children:"First Name"}),s.jsx("th",{children:"Date of Birth"}),s.jsx("th",{children:"Place of Birth"}),s.jsx("th",{children:"National ID Number"}),s.jsx("th",{children:"License Number"}),s.jsx("th",{children:"Registration Date"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:t.map(se=>s.jsxs("tr",{children:[s.jsx("td",{children:i===se.id?s.jsxs("select",{value:o.role_id||"",onChange:E=>l({...o,role_id:E.target.value}),children:[s.jsx("option",{value:"",children:"Select Role"}),r.map(E=>s.jsx("option",{value:E.id,children:E.federation_role},E.id))]}):(()=>{const E=r.find(U=>U.id===se.role_id);return E?E.federation_role:se.role_id||"N/A"})()}),s.jsx("td",{children:i===se.id?s.jsx("input",{value:o.blood_type||"",onChange:E=>ie(E,"blood_type")}):se.blood_type}),s.jsx("td",{children:i===se.id?s.jsx("input",{value:o.last_name||"",onChange:E=>ie(E,"last_name")}):se.last_name}),s.jsx("td",{children:i===se.id?s.jsx("input",{value:o.first_name||"",onChange:E=>ie(E,"first_name")}):se.first_name}),s.jsx("td",{children:i===se.id?s.jsx("input",{type:"date",value:o.date_of_birth||"",onChange:E=>ie(E,"date_of_birth")}):se.date_of_birth}),s.jsx("td",{children:i===se.id?s.jsx("input",{value:o.place_of_birth||"",onChange:E=>ie(E,"place_of_birth")}):se.place_of_birth}),s.jsx("td",{children:se.national_id_number}),s.jsx("td",{children:se.license_number}),s.jsx("td",{children:se.registration_date}),s.jsx("td",{children:i===se.id?s.jsx("button",{className:"primary-b",onClick:()=>Ce(se.id),children:"Save"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>be(se),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>H(se.id),children:"Delete"}),s.jsx(XP,{data:se,title:`Member - ${se.first_name} ${se.last_name}`,buttonText:s.jsx(KC,{size:16}),className:"ml-1",logoUrl:Y||ue})]})})]},se.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Er,{}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(Mm,{data:Re(),title:`${D} - Member List`,columns:xe,filename:"federation_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:Y||ue}})})]})]}),d&&s.jsx(Pn,{message:d,onClose:()=>g(null)}),c&&s.jsx("div",{children:"Loading..."}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function e8(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState(""),[m,f]=b.useState(""),[x,N]=b.useState(""),[_,v]=b.useState(""),[C,j]=b.useState([]),[L,B]=b.useState(""),[Y,V]=b.useState(""),[D,$]=b.useState(""),[ee,I]=b.useState(null),[G,ue]=b.useState("Algerian Judo Federation"),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(!1),[Re,se]=b.useState(!1);Ur(),b.useEffect(()=>{(async()=>{const{data:le,error:_e}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!_e&&le.length>0&&I(le[0].logo_url)})()},[]),b.useEffect(()=>{(async()=>{const{data:le,error:_e}=await ae.from("federationrole").select("federation_role").order("federation_role",{ascending:!0});!_e&&le&&j(le)})()},[]);const E=async()=>{if(!photoFile||photoFile.size===0)return"";const X=photoFile.name.split(".").pop(),le=`photo-${Date.now()}.${X}`,{error:_e}=await ae.storage.from("logos").upload(le,photoFile);if(_e)return H(`Photo upload failed: ${_e.message}`),"";const{data:Ne}=ae.storage.from("logos").getPublicUrl(le);return(Ne==null?void 0:Ne.publicUrl)??""},U=async X=>{if(X.preventDefault(),H(""),Ce(""),se(!0),!_||!c||!t||!r||!i||!o||!d||!m||!x||!L||!Y||!D){H("All fields are required."),se(!1);return}if(d.length!==18){H("National Identity Number must be exactly 18 digits."),se(!1);return}if(m!==x){H("Passwords do not match."),se(!1);return}try{const le=await E(),_e=new Date().getFullYear(),Ne=`${_e}/${_e+1}`;if(roleName!=="League President"){H("Only members with the role 'League President' can be submitted."),se(!1);return}const Be={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:_,blood_type:c,national_id_number:d,password:m,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],nationality:L,holder_of:Y,grade:D,photo_url:le,confirmation:!1,year:Ne},{error:Ae}=await ae.from("members").insert([Be]);Ae?H(`❌ Failed to add member: ${Ae.message}`):(Ce(`✅ Member "${r} ${t}" added successfully!`),e(""),n(""),a(""),l(""),g(""),f(""),N(""),v(""),u(""),B(""),V(""),$(""),setPhotoFile(null))}catch(le){H(`❌ An unexpected error occurred: ${le.message}`)}finally{se(!1)}};return s.jsxs("div",{className:"page-container",children:[ie&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[ee?s.jsx("img",{src:ee,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:G||"Algerian Judo Federation"})]})})}),s.jsx("h2",{className:"form-title",children:"Add a New Member"}),s.jsxs("form",{onSubmit:U,className:"form-grid",children:[s.jsxs("label",{children:["Federation Role *",s.jsxs("select",{value:_,onChange:X=>v(X.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Federation Role"}),C.map(X=>s.jsx("option",{value:X.federation_role,children:X.federation_role},X.federation_role))]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:X=>e(X.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:X=>n(X.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:X=>a(X.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:X=>l(X.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:c,onChange:X=>u(X.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:d,onChange:X=>g(X.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:m,onChange:X=>f(X.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:x,onChange:X=>N(X.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsx("input",{type:"text",value:L,onChange:X=>B(X.target.value),required:!0})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Y,onChange:X=>V(X.target.value),placeholder:"Licenses, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:D,onChange:X=>$(X.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:X=>{var le;return setPhotoFile(((le=X.target.files)==null?void 0:le[0])??null)}})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),M&&s.jsx(Pn,{error:M,onClose:()=>H("")}),be&&s.jsx(Rn,{success:be,onClose:()=>Ce("")}),Re&&s.jsx(ta,{message:"Adding member..."}),s.jsx(gn,{})]})]})}function t8(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState([]),[m,f]=b.useState(""),[x,N]=b.useState(""),[_,v]=b.useState(""),[C,j]=b.useState(""),[L,B]=b.useState(""),[Y,V]=b.useState([]),[D,$]=b.useState(null),[ee,I]=b.useState(null),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(""),[Re,se]=b.useState(""),[E,U]=b.useState(!1),[X,le]=b.useState(!1),[_e,Ne]=b.useState(null),[Be,Ae]=b.useState("Algerian Judo Federation"),[Ge,Qe]=b.useState([]),[at,Ye]=b.useState(null),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState(""),He=Ur(),{state:Me}=fi(),dt=tt=>tt?tt.startsWith("http")?tt:`https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/${tt}`:null;b.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("leaguerole").select("id, league_role");!Bt&&yt&&g(yt)})()},[]),b.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("nameleague").select("id, name_league");!Bt&&yt&&V(yt)})()},[]),b.useEffect(()=>{(async()=>{const{data:yt,error:Bt}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!Bt&&yt.length>0&&Ne(yt[0].logo_url)})()},[]);const st=async()=>{if(!D)return null;const tt=D.name.split(".").pop(),Bt=`${Date.now()}.${tt}`,{error:gt}=await ae.storage.from("logos").upload(Bt,D);if(gt)return xe(`Upload failed: ${gt.message}`),null;const{data:jt}=ae.storage.from("logos").getPublicUrl(Bt);return(jt==null?void 0:jt.publicUrl)??null},_t=async()=>{if(!ee||ee.size===0)return"";const tt=ee.name.split(".").pop(),yt=`photo-${Date.now()}.${tt}`,{error:Bt}=await ae.storage.from("logos").upload(yt,ee);if(Bt)return xe(`Photo upload failed: ${Bt.message}`),"";const{data:gt}=ae.storage.from("logos").getPublicUrl(yt);return(gt==null?void 0:gt.publicUrl)??""},Lt=async(tt,yt,Bt,gt)=>{const{data:jt}=await ae.from("league_members").select("*").eq("national_id_number",tt).eq("league_id",yt).eq("role",Bt).eq("year",gt);if(jt&&jt.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:Nt}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",tt).eq("league_id",yt).eq("role",Bt);return(Nt||0)+1},Ot=async tt=>{var Kt;if(tt.preventDefault(),xe(""),se(""),le(!0),!r||!t||!i||!o||!c||!L||!_||!C||!ee||!D){const Pe=[];r||Pe.push("First Name"),t||Pe.push("Last Name"),i||Pe.push("Date of Birth"),o||Pe.push("Place of Birth"),c||Pe.push("League Role"),L||Pe.push("League (in the table is league_id)"),_||Pe.push("Password"),C||Pe.push("Confirm Password"),ee||Pe.push("Member Photo"),D||Pe.push("League Logo"),xe(`Please fill in the following required fields: ${Pe.join(", ")}`),le(!1);return}const yt=Number(L);if(!yt||isNaN(yt)){xe("Please select a valid league."),le(!1);return}if(x.length!==18){xe("National ID must be exactly 18 digits."),le(!1);return}if(_!==C){xe("Passwords do not match."),le(!1);return}const Bt=new Date(i),gt=new Date,jt=gt.getFullYear()-Bt.getFullYear(),Nt=gt.getMonth()-Bt.getMonth(),Tt=gt.getDate()-Bt.getDate();if((Nt<0||Nt===0&&Tt<0?jt-1:jt)<=21){xe("Member must be more than 21 years old to register."),le(!1);return}try{const{data:Pe,error:ve}=await ae.from("league_members").select("id, last_name, password").eq("last_name",t).eq("password",_);if(ve){xe(`Failed to validate member data: ${ve.message}`),le(!1);return}if(Pe&&Pe.length>0){xe(`A member with the last name "${t}" and this password already exists. Please change the password.`),le(!1);return}}catch(Pe){xe(`Validation error: ${Pe.message}`),le(!1);return}try{const Pe=await _t(),ve=await st(),Te=new Date().getFullYear(),lt=`${Te}/${Te+1}`,ze=((Kt=d.find(qt=>qt.id===parseInt(c)))==null?void 0:Kt.league_role)||"";if(ze!=="League President"){xe("Only members with the role 'League President' can be submitted."),le(!1);return}const We=await Lt(x,L,ze,lt),Vt={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:ze,blood_type:m,national_id_number:x,password:_,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:ve,league_id:yt,photo_url:Pe,renewal:We,year:lt,nationality:G,holder_of:M,grade:be,confirmation:!1},{error:Ut}=await ae.from("league_members").insert([Vt]);if(Ut){xe(`Failed to save member: ${Ut.message}`),le(!1);return}if(ve&&L&&await ae.from("nameleague").update({logo_url:ve}).eq("id",L),se(`Member "${r} ${t}" has been successfully added to the League!`),e(""),n(""),a(""),l(""),N(""),v(""),j(""),u(""),f(""),B(""),I(null),$(null),ue(""),H(""),Ce(""),L){const{data:qt}=await ae.from("league_members").select("*").eq("league_id",Number(L));Qe(qt||[]);const{data:Mt}=await ae.from("nameleague").select("logo_url").eq("id",L).single();Mt!=null&&Mt.logo_url&&Ye(dt(Mt.logo_url))}le(!1)}catch(Pe){xe(`Unexpected error: ${Pe.message}`),le(!1)}};return s.jsxs("div",{className:"page-container",children:[E&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[_e?s.jsx("img",{src:_e,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Be||"Algerian Judo Federation"})]})})}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:Ot,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:c,onChange:tt=>u(tt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),d.map(tt=>s.jsx("option",{value:tt.id,children:tt.league_role},tt.id))]})]}),s.jsxs("label",{children:["League *",s.jsx("select",{value:L,onChange:tt=>{B(tt.target.value),oe(tt.target.value)},required:!0,disabled:!!(Me!=null&&Me.league_id),children:Me!=null&&Me.league_id?s.jsx("option",{value:Me.league_id,children:Pt||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Y.map(tt=>s.jsx("option",{value:tt.id,children:tt.name_league},tt.id))]})})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:tt=>f(tt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:tt=>e(tt.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:tt=>n(tt.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:tt=>a(tt.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:tt=>l(tt.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:tt=>N(tt.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:tt=>v(tt.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:C,onChange:tt=>j(tt.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:G,onChange:tt=>ue(tt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:M,onChange:tt=>H(tt.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:be,onChange:tt=>Ce(tt.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:tt=>{var yt;return I(((yt=tt.target.files)==null?void 0:yt[0])??null)}})]}),s.jsxs("label",{children:["Upload League Logo *",s.jsx("input",{type:"file",required:!0,onChange:tt=>{var yt;return $(((yt=tt.target.files)==null?void 0:yt[0])??null)}})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>He("/member-list"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),ie&&s.jsx(Pn,{error:ie,onClose:()=>xe(null)}),Re&&s.jsx(Rn,{success:Re,onClose:()=>se("")}),E&&s.jsx("div",{children:"Loading..."}),s.jsx(gn,{})]})]})}function r8(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState([]),[m,f]=b.useState(""),[x,N]=b.useState(""),[_,v]=b.useState(""),[C,j]=b.useState(""),[L,B]=b.useState([]),[Y,V]=b.useState([]),[D,$]=b.useState(null),[ee,I]=b.useState(null),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(""),[Re,se]=b.useState(""),[E,U]=b.useState(!1),[X,le]=b.useState(!1),[_e,Ne]=b.useState(null),Be="Algerian Judo Federation",[Ae,Ge]=b.useState(""),[Qe,at]=b.useState(""),Ye=Ur();b.useEffect(()=>{(async()=>{const{data:Me,error:dt}=await ae.from("clubrole").select("id, club_role");dt&&console.error("Error fetching roles:",dt.message),Me&&g(Me)})()},[]),b.useEffect(()=>{(async()=>{const{data:Me,error:dt}=await ae.from("nameleague").select("id, name_league");dt&&console.error("Error fetching leagues:",dt.message),Me&&V(Me)})()},[]),b.useEffect(()=>{if(!Ae){B([]);return}(async()=>{const{data:Me,error:dt}=await ae.from("nameclub").select("id, name_club").eq("league_i",Ae);dt?console.error("Error fetching clubs:",dt.message):B(Me||[])})()},[Ae]),b.useEffect(()=>{(async()=>{const{data:Me,error:dt}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);dt&&console.error("Error fetching logo:",dt.message),Me!=null&&Me.length&&Ne(Me[0].logo_url)})()},[]);const Oe=async He=>{if(!He)return null;try{const Me=He.name.split(".").pop(),dt=`${Date.now()}-${Math.random()}.${Me}`;console.log(`Uploading logo file: ${dt}`);const{error:st}=await ae.storage.from("logos").upload(dt,He);if(st)throw console.error("Logo upload error:",st),new Error(`Logo upload failed: ${st.message}`);const{data:_t}=ae.storage.from("logos").getPublicUrl(dt),Lt=_t==null?void 0:_t.publicUrl;if(!Lt)throw new Error("Failed to get public URL for uploaded logo");return console.log(`Logo uploaded successfully: ${Lt}`),Lt}catch(Me){throw console.error("uploadFile error:",Me),Me}},oe=async()=>{if(!ee)return null;try{const He=ee.name.split(".").pop(),Me=`club_member-${Date.now()}.${He}`;console.log(`Uploading photo file: ${Me}`);const{error:dt}=await ae.storage.from("logos").upload(Me,ee);if(dt)throw console.error("Photo upload error:",dt),new Error(`Photo upload failed: ${dt.message}`);const{data:st}=ae.storage.from("logos").getPublicUrl(Me),_t=st==null?void 0:st.publicUrl;if(!_t)throw new Error("Failed to get public URL for uploaded photo");return console.log(`Photo uploaded successfully: ${_t}`),_t}catch(He){throw console.error("handlePhotoUpload error:",He),He}},Pt=async(He,Me,dt,st)=>{console.log("getNextRenewal called with:",{nidVal:He,clubIdVal:Me,roleVal:dt,currentSeasonYear:st});const{data:_t,error:Lt}=await ae.from("club_members").select("*").eq("national_id_number",He).eq("club_id",Me).eq("role",dt).eq("year",st);if(console.log("Query result:",{existingInCurrentYear:_t,queryError:Lt}),_t&&_t.length>0)throw console.log("Found existing member, throwing error"),new Error("This member is already registered for the current season with the same role and club.");const{count:Ot}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",He).eq("club_id",Me).eq("role",dt);return(Ot||0)+1},Et=async He=>{var Tt;if(He.preventDefault(),xe(""),se(""),console.log("Setting submitLoading to true"),le(!0),await new Promise(wt=>setTimeout(wt,100)),!r||!t||!i||!o||!c||!Qe||!Ae||!_||!C){const wt=[];r||wt.push("First Name"),t||wt.push("Last Name"),i||wt.push("Date of Birth"),o||wt.push("Place of Birth"),c||wt.push("Role"),Qe||wt.push("Club"),Ae||wt.push("League"),_||wt.push("Password"),C||wt.push("Confirm Password"),xe(`Please fill in the following required fields: ${wt.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),le(!1);return}const Me=Number(Qe),dt=Number(Ae);if(!Me||isNaN(Me)){xe("Please select a valid club."),le(!1);return}if(!dt||isNaN(dt)){xe("Please select a valid league."),le(!1);return}if(x.length!==18){xe("National ID must be exactly 18 digits."),le(!1);return}if(_!==C){xe("Passwords do not match."),le(!1);return}const st=new Date(i),_t=new Date,Lt=_t.getFullYear()-st.getFullYear(),Ot=_t.getMonth()-st.getMonth(),tt=_t.getDate()-st.getDate();if((Ot<0||Ot===0&&tt<0?Lt-1:Lt)<=21){xe("Member must be more than 21 years old to register."),le(!1);return}if(t&&_){const{data:wt}=await ae.from("club_members").select("*").eq("last_name",t).eq("password",_);if(wt&&wt.length>0){xe("Change your Password for this name because is already exist"),le(!1);return}}const Bt=((Tt=d.find(wt=>wt.id===parseInt(c)))==null?void 0:Tt.club_role)||"",gt=new Date().getFullYear(),jt=`${gt}/${gt+1}`;let Nt;try{Nt=await Pt(x,Me,Bt,jt)}catch(wt){xe(wt.message),le(!1);return}try{console.log("Starting file uploads...");const wt=await oe(),Kt=await Oe(D);if(console.log("File uploads completed:",{photoUrl:wt,uploadedClubLogo:Kt}),Bt!=="president of the club"){xe("Only members with the role 'president of the club' can be submitted."),le(!1);return}const Pe={last_name:t,first_name:r,date_of_birth:i,place_of_birth:o,role:Bt,blood_type:m,national_id_number:x,password:_,photo_url:wt,logo_url:Kt,nationality:G,grade:M,holder_of:be,club_id:Me,league_id:dt,license_number:`LIC-${Date.now()}`,renewal:Nt,year:jt,confirmation:!1},{error:ve}=await ae.from("club_members").insert([Pe]);ve?(console.error("insert club member error",ve),xe("Error saving club member: "+ve.message),le(!1)):(se(`Member "${r} ${t}" has been successfully added to the club!`),e(""),n(""),a(""),l(""),u(""),f(""),N(""),v(""),j(""),ue(""),H(""),Ce(""),I(null),$(null),le(!1))}catch(wt){console.error("handleSubmit error",wt),xe("Unexpected error: "+wt.message),le(!1)}};return s.jsxs("div",{className:"page-container",children:[E&&s.jsx(rn,{}),s.jsxs("div",{className:"content-box",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsxs("div",{className:"federation-header",children:[_e?s.jsx("img",{src:_e,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Be})]})}),s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:Et,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:c,onChange:He=>u(He.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),d.map(He=>s.jsx("option",{value:He.id,children:He.club_role},He.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:Ae,onChange:He=>{Ge(He.target.value),at("")},required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),Y.map(He=>s.jsx("option",{value:He.id,children:He.name_league},He.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:Qe,onChange:He=>at(He.target.value),disabled:!Ae,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),L.map(He=>s.jsx("option",{value:He.id,children:He.name_club},He.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:G,onChange:He=>ue(He.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:M,onChange:He=>H(He.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:be,onChange:He=>Ce(He.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:He=>f(He.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:t,onChange:He=>e(He.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:r,onChange:He=>n(He.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:i,onChange:He=>a(He.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:o,onChange:He=>l(He.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:He=>N(He.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:He=>v(He.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:C,onChange:He=>j(He.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:He=>{var Me;return $(((Me=He.target.files)==null?void 0:Me[0])??null)},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:He=>{var Me;return I(((Me=He.target.files)==null?void 0:Me[0])??null)},required:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>Ye("/club-member-list"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),X&&s.jsx(ta,{message:"Adding member..."}),ie&&s.jsx(Pn,{error:ie,onClose:()=>xe("")}),Re&&s.jsx(Rn,{success:Re,onClose:()=>se("")}),s.jsx(gn,{})]})]})}function n8(){b.useEffect(()=>{ti()},[]);const{state:t}=fi(),[e,r]=b.useState(null),[n,i]=b.useState(null),[a,o]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[g,m]=b.useState(null),[f,x]=b.useState(null),[N,_]=b.useState(null),[v,C]=b.useState(""),[j,L]=b.useState(""),[B,Y]=b.useState(""),[V,D]=b.useState(""),[$,ee]=b.useState(""),[I,G]=b.useState(""),[ue,M]=b.useState([]),[H,be]=b.useState(!0),[Ce,ie]=b.useState("");b.useEffect(()=>{console.log("📊 Loading state changed to:",H),console.log(H?"🔄 BarLoading should be visible now":"✅ BarLoading should be hidden now")},[H]);const[xe,Re]=b.useState(0),se=Zn(),E=Zn(),U=Zn(),X=Zn(),[le,_e]=b.useState(null),[Ne]=b.useState("Algerian Judo Federation"),[Be]=b.useState(!0),Ae=Ur(),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState([]),[Oe,oe]=b.useState(null),[Pt,Et]=b.useState(""),[He,Me]=b.useState([{id:1,title:"Official Website",description:"Visit our main website",image:"",link:"https://example.com",type:"website"},{id:2,title:"Rules PDF",description:"Download competition rules",image:"",link:"",type:"pdf"},{id:3,title:"Training Center",description:"Find training locations",image:"",link:"https://maps.google.com",type:"website"},{id:4,title:"Registration Form",description:"Download registration form",image:"",link:"",type:"pdf"},{id:5,title:"Contact Us",description:"Get in touch with us",image:"",link:"mailto:contact@judoalgeria.com",type:"website"}]),[dt,st]=b.useState(null),[_t,Lt]=b.useState(null);b.useEffect(()=>{(async()=>{const{data:z,error:De}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!De&&z&&c(z)})()},[]),b.useEffect(()=>{(async()=>{const{data:z,error:De}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!De&&z.length>0&&_e(z[0].logo_url)})()},[]),b.useEffect(()=>{try{const Fe=localStorage.getItem("algerian_judo_banner_announcements");if(Fe){const z=JSON.parse(Fe);Ye(z)}}catch(Fe){console.error("Erreur lors du chargement des annonces:",Fe)}},[]);const Ot=async()=>{const{data:Fe,error:z}=await ae.from("pub").select("*").order("created_at",{ascending:!1});z||o(Fe)},tt=async Fe=>{const{error:z}=await ae.from("pub").delete().eq("id",Fe);z||Ot()},yt=async()=>{const{data:Fe,error:z}=await ae.from("publications").select("*").order("created_at",{ascending:!1});z||c(Fe)},Bt=async()=>{const{data:Fe,error:z}=await ae.from("publica").select("*").order("created_at",{ascending:!1});z||d(Fe)},gt=async()=>{const{data:Fe,error:z}=await ae.from("logo").select("*").order("id",{ascending:!1});z||M(Fe)},jt=async()=>{if(!e){alert("Please select a logo first.");return}be(!0);const Fe=`logo-${Date.now()}-${e.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,e,{upsert:!0});if(z){alert("Upload failed: "+z.message),be(!1);return}const{data:De}=ae.storage.from("publications").getPublicUrl(Fe),{error:et}=await ae.from("logo").insert([{logo_url:De.publicUrl}]);if(et){alert("Failed to save to DB: "+et.message),be(!1);return}r(null),gt(),be(!1)},Nt=async Fe=>{const{error:z}=await ae.from("logo").delete().eq("id",Fe);z?alert("Error deleting logo: "+z.message):gt()};b.useEffect(()=>{(async()=>{console.log("🚀 Starting to load initial data...");const z=Date.now();try{console.log(" Fetching all data..."),await Promise.all([gt(),Ot(),yt(),Bt()]);const De=Date.now();console.log(`✅ All data loaded successfully in ${De-z}ms`)}catch(De){console.error("❌ Error loading data:",De),ie("Failed to load data. Please try again.")}finally{console.log("🏁 Setting loading to false"),be(!1)}})()},[]);const Tt=async()=>{if(!f){alert("Please choose an image for publication.");return}be(!0);const Fe=`publication-${Date.now()}-${f.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,f,{upsert:!0});if(z){alert("Publication upload failed: "+z.message);return}const{data:De}=ae.storage.from("publications").getPublicUrl(Fe),{error:et}=await ae.from("publications").insert([{title:$,description:I,photo_url:De.publicUrl}]);if(et){alert("Insert failed: "+et.message),be(!1);return}x(null),C(""),L(""),yt(),be(!1)},wt=async()=>{if(!N){alert("Please choose an image for publica.");return}be(!0);const Fe=`publica-${Date.now()}-${N.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,N,{upsert:!0});if(z){alert("Publica upload failed: "+z.message),be(!1);return}const{data:De}=ae.storage.from("publications").getPublicUrl(Fe),{error:et}=await ae.from("publica").insert([{title:B,description:V,photo_url:De.publicUrl}]);if(et){alert("Insert failed: "+et.message),be(!1);return}_(null),Y(""),D(""),Bt(),be(!1)},Kt=async Fe=>{const{error:z}=await ae.from("publications").delete().eq("id",Fe);z||yt()},Pe=async Fe=>{const{error:z}=await ae.from("publica").delete().eq("id",Fe);z||Bt()},ve=Fe=>{Ye(Fe)},Te=()=>{if(Ge.trim()){const Fe=[...at,Ge.trim()];ve(Fe);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(Fe))}catch(z){console.error("Erreur lors de la sauvegarde des annonces:",z)}Qe("")}},lt=Fe=>{const z=at.filter((De,et)=>et!==Fe);ve(z);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(z))}catch(De){console.error("Erreur lors de la sauvegarde des annonces:",De)}},ze=Fe=>{oe(Fe),Et(at[Fe])},We=()=>{if(Oe!==null&&Pt.trim()){const Fe=[...at];Fe[Oe]=Pt.trim(),ve(Fe);try{localStorage.setItem("algerian_judo_banner_announcements",JSON.stringify(Fe))}catch(z){console.error("Erreur lors de la sauvegarde des annonces:",z)}oe(null),Et("")}},Vt=()=>{oe(null),Et("")},Ut=(Fe,z,De)=>{const et=[...He];et[Fe][z]=De,Me(et);try{localStorage.setItem("algerian_judo_circle_buttons",JSON.stringify(et))}catch(Ze){console.error("Erreur lors de la sauvegarde des boutons:",Ze)}JP(et)},qt=async(Fe,z)=>{if(z)try{const De=z.name.split(".").pop(),Ze=`circle-buttons/${`circle-button-${Fe}-${Date.now()}.${De}`}`,{data:bt,error:Zt}=await ae.storage.from("publications").upload(Ze,z);if(Zt)throw Zt;const{data:{publicUrl:Xt}}=ae.storage.from("publications").getPublicUrl(Ze);Ut(Fe,"image",Xt)}catch(De){console.error("Erreur lors du téléchargement de l'image:",De),alert("Erreur lors du téléchargement de l'image: "+De.message)}},Mt=async(Fe,z)=>{if(z)try{const De=z.name.split(".").pop(),Ze=`pdfs/${`circle-button-pdf-${Fe}-${Date.now()}.${De}`}`,{data:bt,error:Zt}=await ae.storage.from("publications").upload(Ze,z);if(Zt)throw Zt;const{data:{publicUrl:Xt}}=ae.storage.from("publications").getPublicUrl(Ze);Ut(Fe,"link",Xt)}catch(De){console.error("Erreur lors du téléchargement du PDF:",De),alert("Erreur lors du téléchargement du PDF: "+De.message)}};return b.useEffect(()=>{(async()=>{try{const Fe=await cw();Fe&&Fe.length>0&&Me(Fe)}catch(Fe){console.error("Erreur lors du chargement des boutons:",Fe)}})()},[]),s.jsxs(s.Fragment,{children:[H&&s.jsx(rn,{}),s.jsxs("section",{className:"app-container",children:[s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[le?s.jsx("img",{src:le,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Ne||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1",onLoadingStart:()=>be(!0)}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:Fe=>{pr(Fe.currentTarget),Ae("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:Fe=>{pr(Fe.currentTarget),Ae("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:Fe=>{pr(Fe.currentTarget),Ae("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:Fe=>{pr(Fe.currentTarget),Ae("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("div",{className:"table-container",ref:se,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Logo"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:ue.length>0?ue.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.logo_url?s.jsx("img",{src:Fe.logo_url,alt:"Logo",width:"80"}):"No logo"}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>Nt(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"2",children:"No logos found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",onChange:Fe=>r(Fe.target.files[0])}),s.jsx("button",{className:"primary-b",onClick:jt,children:"Upload Logo"})]}),s.jsx("h2",{children:"Update Federation Publication"}),s.jsx("div",{className:"table-container",ref:U,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:l.length>0?l.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:Fe.title,width:"80"}):"No photo"}),s.jsx("td",{children:Fe.title}),s.jsx("td",{children:Fe.description}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>Kt(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",children:"No publications found."})})})]})}),s.jsxs("div",{className:"form-grid",style:{marginTop:"1rem"},children:[s.jsx("input",{type:"file",onChange:Fe=>x(Fe.target.files[0])}),s.jsx("input",{type:"text",placeholder:"Title",value:$,onChange:Fe=>ee(Fe.target.value)}),s.jsx("input",{type:"text",placeholder:"Description",value:I,onChange:Fe=>G(Fe.target.value)}),s.jsx("button",{className:"primary-b",onClick:Tt,children:"Save Publication"})]}),s.jsx("h2",{children:"Federation Photos"}),s.jsx("div",{className:"table-container",ref:E,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:a.length>0?a.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:"photo",width:"80"}):"No photo"}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>tt(Fe.id,Fe.photo_url),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"3",children:"No photos found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Fe=>{Fe.target.files&&Fe.target.files.length>0&&(m(Fe.target.files[0]),console.log("✅ File selected:",Fe.target.files[0].name))}}),s.jsx("button",{className:"primary-b",onClick:async()=>{if(!g){alert("⚠️ Please select a photo first.");return}console.log(" Uploading file:",g.name);const Fe=`photos/pub-${Date.now()}-${g.name}`,{error:z}=await ae.storage.from("publications").upload(Fe,g,{upsert:!0});if(z){alert("Upload failed: "+z.message);return}const{data:De}=ae.storage.from("publications").getPublicUrl(Fe),{error:et}=await ae.from("pub").insert([{photo_url:De.publicUrl}]);if(et){alert("Failed to save to DB: "+et.message);return}alert("Photo uploaded successfully!"),m(null),Ot()},children:"Save Photo"})]}),s.jsx("h2",{children:"PUBLICA UPLOAD (Add New Publication)"}),s.jsx("div",{className:"table-container",ref:X,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:u.length>0?u.map(Fe=>s.jsxs("tr",{children:[s.jsx("td",{children:Fe.photo_url?s.jsx("img",{src:Fe.photo_url,alt:Fe.title,width:"80"}):"No photo"}),s.jsx("td",{children:Fe.title}),s.jsx("td",{children:Fe.description}),s.jsx("td",{children:new Date(Fe.created_at).toLocaleString()}),s.jsx("td",{children:s.jsx("button",{className:"primary-b",onClick:()=>Pe(Fe.id),children:"Delete"})})]},Fe.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",children:"No publica entries found."})})})]})}),s.jsxs("div",{className:"form-grid",children:[s.jsx("input",{type:"file",onChange:Fe=>_(Fe.target.files[0])}),s.jsx("input",{type:"text",placeholder:"Title",value:B,onChange:Fe=>Y(Fe.target.value)}),s.jsx("input",{type:"text",placeholder:"Description",value:V,onChange:Fe=>D(Fe.target.value)}),s.jsx("button",{className:"primary-b",onClick:wt,children:"Save Publica"})]})]}),s.jsx("div",{className:"form-grid",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(iL,{className:"w-6 h-6 text-purple-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gestion des Annonces Publicitaires"})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouvelle annonce"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:Ge,onChange:Fe=>Qe(Fe.target.value),className:"w-full px-24 py-6 border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-xl font-medium shadow-lg",placeholder:" Your ad here announcement...",style:{minWidth:"600px",width:"100%"}}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{className:"primary-b px-8 py-4 text-lg font-semibold rounded-xl shadow-lg",onClick:Te,children:[s.jsx(sL,{className:"w-6 h-6 mr-2"}),"Ajouter l'annonce"]})})]})]})}),s.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Annonces actuelles :"}),at.map((Fe,z)=>s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border",children:Oe===z?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:Pt,onChange:De=>Et(De.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"primary-S",onClick:We,children:[s.jsx(cL,{className:"w-3 h-3"}),"Sauvegarder"]}),s.jsxs("button",{className:"secondary-btn",onClick:Vt,children:[s.jsx($C,{className:"w-3 h-3"}),"Annuler"]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm flex-1 mr-3",children:Fe}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{className:"primary-S",onClick:()=>ze(z),children:s.jsx(hL,{className:"w-3 h-3"})}),s.jsx("button",{className:"secondary-btn",onClick:()=>lt(z),children:s.jsx(gL,{className:"w-3 h-3"})})]})]})},z))]})]})}),s.jsx("div",{className:"form-grid",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(GC,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Gestion des Boutons Circulaires 3D"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:He.map((Fe,z)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),s.jsx("input",{type:"text",value:Fe.title,onChange:De=>Ut(z,"title",De.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Titre du bouton"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:Fe.description,onChange:De=>Ut(z,"description",De.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Description du bouton"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:Fe.type,onChange:De=>Ut(z,"type",De.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"website",children:"Site Web"}),s.jsx("option",{value:"pdf",children:"Fichier PDF"})]})]}),Fe.type==="website"?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(rL,{className:"w-4 h-4 inline mr-1"}),"Lien du site web"]}),s.jsx("input",{type:"url",value:Fe.link,onChange:De=>Ut(z,"link",De.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com"})]}):s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(XC,{className:"w-4 h-4 inline mr-1"}),"Fichier PDF"]}),s.jsx("input",{type:"file",accept:".pdf",onChange:De=>{const et=De.target.files[0];et&&Mt(z,et)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Fe.link&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"PDF téléchargé avec succès"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(vL,{className:"w-4 h-4 inline mr-1"}),"Image du bouton"]}),s.jsx("input",{type:"file",accept:"image/*",onChange:De=>{const et=De.target.files[0];et&&qt(z,et)},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Fe.image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:Fe.image,alt:Fe.title,className:"w-16 h-16 object-cover rounded-full border-2 border-gray-300"})})]})]})},Fe.id))})]})})]}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function i8(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[i,a]=b.useState(null),[o,l]=b.useState(""),[c,u]=b.useState([]),[d,g]=b.useState(null),[m,f]=b.useState("Algerian Judo Federation"),[x,N]=b.useState([]);Ur();const _=Zn();b.useEffect(()=>{(async()=>{const{data:D,error:$}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!$&&D&&u(D)})()},[]),b.useEffect(()=>{(async()=>{const{data:D,error:$}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!$&&D.length>0&&g(D[0].logo_url)})()},[]);const v=async()=>{try{n(!0);const{data:V,error:D}=await ae.from("league_members").select(`
          *,
          nameleague!league_id(
            name_league
          )
        `);if(D)a(D);else{const $=(V||[]).map(ee=>{var I;return{...ee,league_name:((I=ee.nameleague)==null?void 0:I.name_league)||"Unknown League"}});e($)}}catch(V){a(V)}finally{n(!1)}};b.useEffect(()=>{v()},[]),b.useEffect(()=>{(async()=>{try{const{data:D,error:$}=await ae.from("leaguerole").select("*");$?console.error("Error fetching roles:",$):N(D||[])}catch(D){console.error("Error fetching roles:",D)}})()},[]);const C=V=>V?V.startsWith("http")?V:`${ae.storageUrl}/object/public/logos/${V}`:null,j=t,L=[{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"Role",field:"role"},{header:"Blood Type",field:"blood_type"},{header:"Nationality",field:"nationality"},{header:"Grade",field:"grade"},{header:"Holder Of",field:"holder_of"},{header:"National ID",field:"national_id_number"},{header:"Renewal",field:"renewal"},{header:"Year",field:"year"},{header:"License Number",field:"license_number"},{header:"Registration Date",field:"registration_date"},{header:"Confirmation",field:"confirmation"},{header:"League ID",field:"league_id"}],B=()=>t.map(V=>({...V,confirmation:V.confirmation?"Yes":"No"})),Y=V=>{if(!V||Object.keys(V).length===0){a("No member data available to export");return}console.log("Exporting PDF for member:",V),l(`PDF export initiated for ${V.first_name} ${V.last_name}`)};return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"League Member List"}),s.jsx("div",{className:"table-container",ref:_,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League Name"})]})}),s.jsx("tbody",{children:j.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:17,children:"No members found."})}):j.map(V=>s.jsxs("tr",{onDoubleClick:()=>Y(V),style:{cursor:"pointer"},children:[s.jsx("td",{children:V.last_name}),s.jsx("td",{children:V.first_name}),s.jsx("td",{children:V.date_of_birth}),s.jsx("td",{children:V.place_of_birth}),s.jsx("td",{children:V.role||"No Role"}),s.jsx("td",{children:V.blood_type}),s.jsx("td",{children:V.nationality}),s.jsx("td",{children:V.grade}),s.jsx("td",{children:V.holder_of}),s.jsx("td",{children:V.national_id_number}),s.jsx("td",{children:V.renewal}),s.jsx("td",{children:V.year}),s.jsx("td",{children:V.license_number}),s.jsx("td",{children:V.registration_date}),s.jsx("td",{children:V.photo_url?s.jsx("img",{src:C(V.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:V.confirmation?"✅":"❌"}),s.jsx("td",{children:V.league_name||"Unknown League"})]},V.id))})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx(Mm,{className:"primary-b",data:B(),title:`${m} - League Members List`,columns:L,filename:"league_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:d||Zi}})]})})]}),i&&s.jsx(Pn,{error:i.message||i,onClose:()=>a(null)}),o&&s.jsx(Rn,{success:o,onClose:()=>l("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function a8(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[i,a]=b.useState(null),[o,l]=b.useState(""),[c,u]=b.useState([]),[d,g]=b.useState(null),[m,f]=b.useState("Algerian Judo Federation");Ur();const x=Zn(),N=async()=>{try{n(!0);const{data:j,error:L}=await ae.from("club_members").select(`
          *,
          nameleague!league_id(name_league)
        `);L?a(L):e(j||[])}catch(j){a(j)}finally{n(!1)}},_=async()=>{const{data:j,error:L}=await ae.from("logo").select("logo_url").order("id",{ascending:!1}).limit(1);L&&console.error("Error fetching logo:",L.message),j!=null&&j.length&&g(j[0].logo_url)};b.useEffect(()=>{N(),_()},[]),b.useEffect(()=>{(async()=>{const{data:L,error:B}=await ae.from("clubrole").select("id, club_role");B&&console.error("Error fetching roles:",B.message),L&&u(L)})()},[]);const v=[{header:"Role",field:"role_name"},{header:"Blood Type",field:"blood_type"},{header:"Last Name",field:"last_name"},{header:"First Name",field:"first_name"},{header:"Date of Birth",field:"date_of_birth"},{header:"Place of Birth",field:"place_of_birth"},{header:"League Name",field:"league_name"}],C=()=>t.map(j=>{var B;const L=c.find(Y=>Y.id===j.role_id);return{...j,role_name:(L==null?void 0:L.club_role)||"No Role",league_name:((B=j.nameleague)==null?void 0:B.name_league)||j.league_id||"No League"}});return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Club Member List"}),s.jsx("div",{className:"table-container",ref:x,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):t.map(j=>{var L;return s.jsxs("tr",{children:[s.jsx("td",{children:j.last_name}),s.jsx("td",{children:j.first_name}),s.jsx("td",{children:j.date_of_birth}),s.jsx("td",{children:j.place_of_birth}),s.jsx("td",{children:j.role||"No Role"}),s.jsx("td",{children:j.blood_type}),s.jsx("td",{children:j.nationality}),s.jsx("td",{children:j.grade}),s.jsx("td",{children:j.holder_of}),s.jsx("td",{children:j.national_id_number}),s.jsx("td",{children:j.renewal}),s.jsx("td",{children:j.year}),s.jsx("td",{children:j.license_number}),s.jsx("td",{children:j.registration_date}),s.jsx("td",{children:j.photo_url?s.jsx("img",{src:j.photo_url,alt:"Photo",style:{width:"50px",height:"50px"}}):"No Photo"}),s.jsx("td",{children:j.confirmation?"✅":"❌"}),s.jsx("td",{children:j.club_id}),s.jsx("td",{children:((L=j.nameleague)==null?void 0:L.name_league)||j.league_id})]},j.id)})})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx(Mm,{className:"primary-b",data:C(),title:`${m} - Club Members List`,columns:v,filename:"club_members",buttonText:"Export Data",pdfOptions:{orientation:"landscape",logoUrl:d||Zi}})]})})]}),i&&s.jsx(Pn,{error:i.message||i,onClose:()=>a(null)}),o&&s.jsx(Rn,{success:o,onClose:()=>l("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function s8(){b.useEffect(()=>{ti()},[]);const{state:t}=fi(),[e,r]=b.useState([]),[n,i]=b.useState(""),[a,o]=b.useState(null),[l,c]=b.useState({}),[u,d]=b.useState(!0),[g,m]=b.useState(null),[f,x]=b.useState(""),[N,_]=b.useState(""),[v,C]=b.useState(""),[j,L]=b.useState([]),[B,Y]=b.useState(""),[V,D]=b.useState(""),[$,ee]=b.useState(""),[I,G]=b.useState(""),[ue,M]=b.useState(""),[H,be]=b.useState(""),[Ce,ie]=b.useState(""),[xe,Re]=b.useState(""),[se,E]=b.useState(""),[U,X]=b.useState(""),[le,_e]=b.useState(""),[Ne,Be]=b.useState(null),[Ae,Ge]=b.useState(!1),[Qe,at]=b.useState([]),[Ye,Oe]=b.useState(null),[oe,Pt]=b.useState("Algerian Judo Federation"),[Et,He]=b.useState(!0),Me=Ur(),dt=Zn();b.useEffect(()=>{(async()=>{const{data:Te,error:lt}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!lt&&Te&&at(Te)})()},[]),b.useEffect(()=>{(async()=>{const{data:Te,error:lt}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!lt&&Te.length>0&&Oe(Te[0].logo_url)})()},[]);const st=async()=>{try{d(!0);const{data:ve,error:Te}=await ae.from("members").select("*").order("created_at",{ascending:!1});Te?(console.error("Error fetching members:",Te),m(Te)):r(ve||[])}catch(ve){console.error("Exception in fetchMembers:",ve),m(ve)}finally{d(!1)}};b.useEffect(()=>{st()},[]);const _t=async()=>{if(!Ne||Ne.size===0)return"";const ve=Ne.name.split(".").pop(),Te=`photo-${Date.now()}.${ve}`,{error:lt}=await ae.storage.from("logos").upload(Te,Ne);if(lt)return m(`Photo upload failed: ${lt.message}`),"";const{data:ze}=ae.storage.from("logos").getPublicUrl(Te);return(ze==null?void 0:ze.publicUrl)??""},Lt=async ve=>{if(ve.preventDefault(),m(""),x(""),Ge(!0),!v||!B||!V||!$||!I||!ue||!H||!Ce||!xe||!se||!U||!le){m("All fields are required."),Ge(!1);return}if(H.length!==18){m("National Identity Number must be exactly 18 digits."),Ge(!1);return}if(Ce!==xe){m("Passwords do not match."),Ge(!1);return}try{const Te=await _t(),lt=new Date().getFullYear(),ze=`${lt}/${lt+1}`;if(N!=="League President"){m("Only members with the role 'League President' can be submitted."),Ge(!1);return}const We={last_name:V,first_name:$,date_of_birth:I,place_of_birth:ue,role:v,blood_type:B,national_id_number:H,password:Ce,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],nationality:se,holder_of:U,grade:le,photo_url:Te,confirmation:!1,year:ze},{error:Vt}=await ae.from("members").insert([We]);Vt?m(`❌ Failed to add member: ${Vt.message}`):(x(`✅ Member "${$} ${V}" added successfully!`),D(""),ee(""),G(""),M(""),be(""),ie(""),Re(""),C(""),Y(""),E(""),X(""),_e(""),Be(null))}catch(Te){m(`❌ An unexpected error occurred: ${Te.message}`)}finally{Ge(!1)}},Ot=e.filter(ve=>{if(!n)return!0;const Te=n.toLowerCase();return ve.first_name&&ve.first_name.toLowerCase().includes(Te)||ve.last_name&&ve.last_name.toLowerCase().includes(Te)||ve.national_id_number&&String(ve.national_id_number).toLowerCase().includes(Te)||ve.role&&ve.role.toLowerCase().includes(Te)||ve.blood_type&&ve.blood_type.toLowerCase().includes(Te)||ve.place_of_birth&&ve.place_of_birth.toLowerCase().includes(Te)||ve.license_number&&String(ve.license_number).toLowerCase().includes(Te)||ve.registration_date&&String(ve.registration_date).toLowerCase().includes(Te)||ve.date_of_birth&&String(ve.date_of_birth).toLowerCase().includes(Te)}),tt=async ve=>{if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:Te}=await ae.from("members").delete().eq("id",ve);Te?console.error("Error deleting member:",Te):r(e.filter(lt=>lt.id!==ve))},yt=ve=>{o(ve.id),c({...ve})},Bt=async ve=>{const{error:Te}=await ae.from("members").update({last_name:l.last_name,first_name:l.first_name,date_of_birth:l.date_of_birth,place_of_birth:l.place_of_birth,role:l.role,blood_type:l.blood_type}).eq("id",ve);Te?console.error("Error updating member:",Te):(r(e.map(lt=>lt.id===ve?l:lt)),o(null))},gt=(ve,Te)=>{c({...l,[Te]:ve.target.value})},jt=async()=>{const ve=[{header:"Role",dataKey:"role"},{header:"Blood Type",dataKey:"blood_type"},{header:"Last Name",dataKey:"last_name"},{header:"First Name",dataKey:"first_name"},{header:"Date of Birth",dataKey:"date_of_birth"},{header:"Place of Birth",dataKey:"place_of_birth"},{header:"National ID",dataKey:"national_id_number"},{header:"License Number",dataKey:"license_number"},{header:"Registration Date",dataKey:"registration_date"}],Te={includePhotos:!1,federationName:oe};try{const{data:lt,error:ze}=await ae.from("members").select("*").order("created_at",{ascending:!1});if(ze){console.error("Error fetching members for PDF:",ze),m(ze);return}C0(lt||[],"Members List",ve,Te)}catch(lt){console.error("Exception exporting members PDF:",lt),m(lt)}};function Nt(ve){return new Promise(Te=>{Ua(ve,lt=>{if(lt.type==="error")console.warn("EXIF processing failed, using original image:",ve),Te(ve);else try{const ze=lt.toDataURL("image/png");Te(ze)}catch(ze){console.warn("Canvas conversion failed, using original image:",ze),Te(ve)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Tt=async ve=>{if(!ve||Object.keys(ve).length===0){alert("No data available to export");return}let Te=null,lt=null;try{ve.club_id&&(Te=(await Dn())[ve.club_id]),ve.league_id&&(lt=(await Xn())[ve.league_id])}catch(z){console.error("Error fetching names:",z)}const ze=new At("portrait","mm","a4");ze.setFontSize(18),ze.setTextColor(40,40,40),ze.text("Algerian Judo Federation",14,15);const We=`Member Information - ${ve.first_name||""} ${ve.last_name||""}`.trim();ze.setFontSize(16),ze.setTextColor(40,40,40),ze.text(We,14,30),ze.setFontSize(10);const Vt=new Date().toLocaleString();if(ze.text(`Generated: ${Vt}`,14,37),Ye)try{ze.addImage(Ye,"PNG",170,10,25,25)}catch(z){console.error("Error adding logo to PDF:",z)}let Ut=70;if(ve.photo_url)try{const z=await Nt(ve.photo_url),De=z.startsWith("data:")?"PNG":"JPEG";ze.addImage(z,De,14,45,25,20),Ut=70}catch(z){console.error("Error adding photo to PDF:",z);try{ze.addImage(ve.photo_url,"JPEG",14,45,25,20)}catch(De){console.error("Fallback image addition also failed:",De)}Ut=70}ze.setFontSize(12),ve.confirmation?ze.setTextColor(0,128,0):ze.setTextColor(255,0,0);const qt=ve.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";ze.text(qt,160,50),ze.setTextColor(0,0,0);const Mt=[["First Name",ve.first_name||""],["Last Name",ve.last_name||""],["Date of Birth",ve.date_of_birth||""],["Place of Birth",ve.place_of_birth||""],["National ID",ve.national_id_number||""],["Nationality",ve.nationality||""],["Blood Type",ve.blood_type||""],["Grade",ve.grade||""],["Role",ve.role||""],["Holder Of",ve.holder_of||""],["License Number",ve.license_number||""],["Registration Date",ve.registration_date||""],["Year",ve.year||""],["Renewal",ve.renewal||""]];mr(ze,{head:[["Field","Value"]],body:Mt,startY:Ut,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Fe=ze.lastAutoTable.finalY||200;ze.setFontSize(12),ze.setTextColor(0,0,0),ze.text("Medical certificate",14,Fe+20),ze.setDrawColor(0),ze.line(14,Fe+40,80,Fe+40),ze.text("Federation Visa: _________________",120,Fe+70);try{const z=JSON.stringify({id:ve.id,name:`${ve.first_name||""} ${ve.last_name||""}`.trim(),license:ve.license_number||"",club_id:ve.club_id||"",league_id:ve.league_id||"",confirmation:ve.confirmation||"Unconfirmed"}),De=await ui.toDataURL(z,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});ze.addImage(De,"PNG",175,Fe+75,15,15)}catch(z){console.error("Error generating QR code:",z)}ze.save(`member_${ve.first_name||""}_${ve.last_name||""}.pdf`)},wt=ve=>{if(!ve||Object.keys(ve).length===0){alert("No data available to export");return}Tt(ve)},Kt=async()=>{const ve=[{header:"Role",dataKey:"role"},{header:"Last Name",dataKey:"last_name"},{header:"First Name",dataKey:"first_name"},{header:"National ID",dataKey:"national_id_number"}],Te={includePhotos:!1,federationName:oe};try{const{data:lt,error:ze}=await ae.from("members").select("*").order("role",{ascending:!0});if(ze){console.error("Error fetching members for role export:",ze),m(ze);return}C0(lt||[],"Role-focused Members Export",ve,Te)}catch(lt){console.error("Exception exporting role-focused PDF:",lt),m(lt)}},Pe=async(ve,Te)=>{try{const{data:lt,error:ze}=await ae.from("members").update({confirmation:!Te}).eq("id",ve).select();if(ze){console.error("Error updating confirmation:",ze),m(ze);return}r(We=>We.map(Vt=>Vt.id===ve?{...Vt,confirmation:!Te}:Vt)),x(Te?"Confirmation unset":"Confirmation set")}catch(lt){console.error("Exception in toggleConfirmation:",lt),m(lt)}};return g?s.jsxs("p",{children:["Error fetching members: ",g.message]}):s.jsxs("div",{className:"app-container",children:[u&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Ye?s.jsx("img",{src:Ye,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:oe||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"content",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:ve=>{pr(ve.currentTarget),Me("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:ve=>{pr(ve.currentTarget),Me("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:ve=>{pr(ve.currentTarget),Me("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:ve=>{pr(ve.currentTarget),Me("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add a New Member"}),s.jsxs("form",{onSubmit:Lt,className:"form-grid",children:[s.jsxs("label",{children:["Federation Role *",s.jsxs("select",{value:v,onChange:ve=>C(ve.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Federation Role"}),j.map(ve=>s.jsx("option",{value:ve.federation_role,children:ve.federation_role},ve.federation_role))]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:V,onChange:ve=>D(ve.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:$,onChange:ve=>ee(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:I,onChange:ve=>G(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:ue,onChange:ve=>M(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:B,onChange:ve=>Y(ve.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:H,onChange:ve=>be(ve.target.value),maxLength:"18",minLength:"18",required:!0})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:Ce,onChange:ve=>ie(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:xe,onChange:ve=>Re(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsx("input",{type:"text",value:se,onChange:ve=>E(ve.target.value),required:!0})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:U,onChange:ve=>X(ve.target.value),placeholder:"Licenses, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:le,onChange:ve=>_e(ve.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:ve=>{var Te;return Be(((Te=ve.target.files)==null?void 0:Te[0])??null)}})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",children:"Add Member"}),s.jsx("button",{type:"button",className:"secondary-btn",onClick:()=>Me("/MemberListPage"),children:"The Member List"}),s.jsx(Er,{})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"Federation Member List"}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:n,onChange:ve=>i(ve.target.value)})})]}),s.jsx("div",{className:"table-container",ref:dt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Ot.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:17,children:"No members found."})}):Ot.map(ve=>s.jsxs("tr",{onDoubleClick:()=>wt(ve),style:{cursor:"pointer"},children:[s.jsx("td",{children:a===ve.id?s.jsx("input",{value:l.last_name||"",onChange:Te=>gt(Te,"last_name")}):ve.last_name}),s.jsx("td",{children:a===ve.id?s.jsx("input",{value:l.first_name||"",onChange:Te=>gt(Te,"first_name")}):ve.first_name}),s.jsx("td",{children:a===ve.id?s.jsx("input",{type:"date",value:l.date_of_birth||"",onChange:Te=>gt(Te,"date_of_birth")}):ve.date_of_birth}),s.jsx("td",{children:a===ve.id?s.jsx("input",{value:l.place_of_birth||"",onChange:Te=>gt(Te,"place_of_birth")}):ve.place_of_birth}),s.jsx("td",{children:a===ve.id?s.jsx("input",{value:l.role||"",onChange:Te=>gt(Te,"role")}):ve.role}),s.jsx("td",{children:a===ve.id?s.jsx("input",{value:l.blood_type||"",onChange:Te=>gt(Te,"blood_type")}):ve.blood_type}),s.jsx("td",{children:ve.nationality||""}),s.jsx("td",{children:ve.grade||""}),s.jsx("td",{children:ve.holder_of||""}),s.jsx("td",{children:ve.national_id_number}),s.jsx("td",{children:ve.renewal||""}),s.jsx("td",{children:ve.year||""}),s.jsx("td",{children:ve.license_number}),s.jsx("td",{children:ve.registration_date}),s.jsx("td",{children:ve.photo_url?s.jsx("img",{src:ve.photo_url,alt:"Member",style:{width:40,height:40,objectFit:"cover",borderRadius:4}}):"—"}),s.jsx("td",{children:ve.confirmation?"Confirmed":"Pending"}),s.jsx("td",{children:a===ve.id?s.jsx("button",{className:"primary-b",onClick:()=>Bt(ve.id),children:"Save"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>yt(ve),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>tt(ve.id),children:"Delete"}),s.jsx("button",{className:"primary-b",onClick:()=>Pe(ve.id,!!ve.confirmation),children:ve.confirmation?"Unset Confirm":"Set Confirm"})]})})]},ve.id))})]})}),s.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"12px"},children:[s.jsx("button",{className:"primary-btn",onClick:jt,children:"Export General PDF"}),s.jsx("button",{className:"primary-btn",onClick:Kt,children:"Export Grade/Role PDF"})]}),s.jsx(Er,{})]}),g&&s.jsx(Pn,{error:g.message||g,onClose:()=>m(null)}),f&&s.jsx(Rn,{success:f,onClose:()=>x("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function o8(){const[t,e]=b.useState([]),[r,n]=b.useState(null),[i,a]=b.useState({}),[o,l]=b.useState(!0),[c,u]=b.useState(!1),[d,g]=b.useState(!1),[m,f]=b.useState(null),[x,N]=b.useState(""),[_,v]=b.useState([]),[C,j]=b.useState(null),[L]=b.useState("Algerian Judo Federation"),[B,Y]=b.useState(""),[V,D]=b.useState(null),[$,ee]=b.useState(""),[I,G]=b.useState(""),[ue,M]=b.useState(""),[H,be]=b.useState(""),[Ce,ie]=b.useState(""),[xe,Re]=b.useState([]),[se,E]=b.useState(""),[U,X]=b.useState(""),[le,_e]=b.useState(""),[Ne,Be]=b.useState(""),[Ae,Ge]=b.useState(null),[Qe,at]=b.useState(""),[Ye,Oe]=b.useState(""),[oe,Pt]=b.useState(""),[Et,He]=b.useState(""),[Me,dt]=b.useState([]),[st,_t]=b.useState(null),[Lt,Ot]=b.useState(""),[tt,yt]=b.useState(""),Bt=Zn(),[gt,jt]=b.useState([]),[Nt,Tt]=b.useState(""),[wt,Kt]=b.useState(""),[Pe,ve]=b.useState(null),[Te,lt]=b.useState(null),ze=Ur(),{state:We}=fi();function Vt(A){return A??""}function Ut(A){return new Promise((k,Q)=>{Ua(A,ge=>{if(ge.type==="error")console.warn("EXIF processing failed, using original image:",A),k(A);else try{const je=ge.toDataURL("image/png");k(je)}catch(je){console.warn("Canvas conversion failed, using original image:",je),k(A)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}function qt(){n(null),a({})}b.useEffect(()=>{(async()=>{const{data:k,error:Q}=await ae.from("leaguerole").select("*");Q?console.error(Q):Re(k)})()},[]),b.useEffect(()=>{ti()},[]),b.useEffect(()=>{(async()=>{const{data:k,error:Q}=await ae.from("nameleague").select("id, name_league");Q?console.error("Error fetching leagues:",Q):dt(k||[])})()},[]),b.useEffect(()=>{We!=null&&We.league_id&&(He(We.league_id.toString()),Ot(We.league_id.toString()))},[We==null?void 0:We.league_id]);const Mt=async A=>{const k=typeof A=="object"?A.id:A;if(!window.confirm("Are you sure you want to delete this member?"))return;const{error:Q}=await ae.from("league_members").delete().eq("id",k);Q||e(ge=>ge.filter(je=>je.id!==k))},Fe=async()=>{try{l(!0),f(null);const{data:A}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(A!=null&&A.length&&j(Vt(A[0].logo_url)),We!=null&&We.league_id){const{data:k}=await ae.from("nameleague").select("*").eq("id",We.league_id).single();k&&(ve(k),Y(k.name_league));const{data:Q}=await ae.from("league_members").select("logo_url").eq("league_id",We.league_id).order("id",{ascending:!1}).limit(1);Q!=null&&Q.length&&D(Vt(Q[0].logo_url))}if(We!=null&&We.member_id){const{data:k}=await ae.from("league_members").select("*").eq("id",We.member_id).single();k&&lt(k)}if(We!=null&&We.league_id){const{data:k}=await ae.from("league_members").select("*").eq("league_id",We.league_id);e(k||[])}}catch(A){f(A.message),console.error("Error fetching data:",A.message)}finally{l(!1)}};b.useEffect(()=>{Fe()},[wt,Et]),b.useEffect(()=>{We!=null&&We.league_id&&He(We.league_id.toString())},[We==null?void 0:We.league_id]),b.useEffect(()=>{(async()=>{const k=(We==null?void 0:We.league_id)||Et;if(!k)return;const{data:Q,error:ge}=await ae.from("nameclub").select("id, name_club, league_i").eq("league_i",k);ge?console.error("Error fetching clubs:",ge):jt(Q||[])})()},[We==null?void 0:We.league_id,Et]),b.useEffect(()=>{Fe()},[We==null?void 0:We.league_id]);const z=async()=>{if(!Ae||Ae.size===0)return"";const A=Ae.name.split(".").pop(),k=`photo-${Date.now()}.${A}`,{error:Q}=await ae.storage.from("logos").upload(k,Ae);if(Q)return f(`Photo upload failed: ${Q.message}`),"";const{data:ge}=ae.storage.from("logos").getPublicUrl(k);return(ge==null?void 0:ge.publicUrl)??""},De=async()=>{if(!st)return null;const A=st.name.split(".").pop(),Q=`${Date.now()}.${A}`,{error:ge}=await ae.storage.from("logos").upload(Q,st);if(ge)return f(`Upload failed: ${ge.message}`),null;const{data:je}=ae.storage.from("logos").getPublicUrl(Q);return(je==null?void 0:je.publicUrl)??null},et=async(A,k,Q,ge)=>{const{data:je}=await ae.from("league_members").select("*").eq("national_id_number",A).eq("league_id",k).eq("role",Q).eq("year",ge);if(je&&je.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:T}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",A).eq("league_id",k).eq("role",Q);return(T||0)+1},Ze=async A=>{var J;if(A.preventDefault(),f(""),N(""),u(!0),!I||!$||!ue||!H||!Ce||!Et||!le||!Ne||!Ae){const pe=[];I||pe.push("First Name"),$||pe.push("Last Name"),ue||pe.push("Date of Birth"),H||pe.push("Place of Birth"),Ce||pe.push("League Role"),Et||pe.push("League (in the table is league_id)"),le||pe.push("Password"),Ne||pe.push("Confirm Password"),Ae||pe.push("Member Photo"),f(`Please fill in the following required fields: ${pe.join(", ")}`),u(!1);return}const k=Number(Et);if(!k||isNaN(k)){f("Please select a valid league."),u(!1);return}if(U.length!==18){f("National ID must be exactly 18 digits."),u(!1);return}if(le!==Ne){f("Passwords do not match."),u(!1);return}const Q=new Date(ue),ge=new Date,je=ge.getFullYear()-Q.getFullYear(),T=ge.getMonth()-Q.getMonth(),w=ge.getDate()-Q.getDate();if((T<0||T===0&&w<0?je-1:je)<=21){f("Member must be more than 21 years old to register."),u(!1);return}try{const{data:pe,error:Ue}=await ae.from("league_members").select("id, last_name, password").eq("last_name",$).eq("password",le);if(Ue){f(`Failed to validate member data: ${Ue.message}`),u(!1);return}if(pe&&pe.length>0){f(`A member with the last name "${$}" and this password already exists. Please change the password.`),u(!1);return}}catch(pe){f(`Validation error: ${pe.message}`),u(!1);return}try{const pe=await z(),Ue=await De(),F=new Date().getFullYear(),ce=`${F}/${F+1}`,me=((J=xe.find(ht=>ht.id===parseInt(Ce)))==null?void 0:J.league_role)||"",ye=await et(U,Et,me,ce),Ee={last_name:$,first_name:I,date_of_birth:ue,place_of_birth:H,role:me,blood_type:se,national_id_number:U,password:le,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:We.logo_url||"",league_id:k,photo_url:pe,renewal:ye,year:ce,nationality:Qe,holder_of:Ye,grade:oe,confirmation:!1},{error:ke}=await ae.from("league_members").insert([Ee]);if(ke){f(`Failed to save member: ${ke.message}`),u(!1);return}if(Ue&&Et&&await ae.from("nameleague").update({logo_url:Ue}).eq("id",Et),N(`Member "${I} ${$}" has been successfully added to the League!`),ee(""),G(""),M(""),be(""),X(""),_e(""),Be(""),ie(""),E(""),He(""),Ge(null),at(""),Oe(""),Pt(""),Et){const{data:ht}=await ae.from("league_members").select("*").eq("league_id",Number(Et));e(ht||[]);const{data:ft}=await ae.from("nameleague").select("logo_url").eq("id",Et).single();ft!=null&&ft.logo_url&&D(Vt(ft.logo_url))}u(!1)}catch(pe){f(`Unexpected error: ${pe.message}`),u(!1)}},bt=A=>{n(A.id),a({...A})},Zt=async A=>{if(g(!0),f(""),N(""),!i.first_name||!i.last_name||!i.date_of_birth||!i.place_of_birth){const k=[];i.first_name||k.push("First Name"),i.last_name||k.push("Last Name"),i.date_of_birth||k.push("Date of Birth"),i.place_of_birth||k.push("Place of Birth"),f(`Please fill in the following required fields: ${k.join(", ")}`),g(!1);return}if(i.national_id_number&&i.national_id_number.length!==18){f("National ID must be exactly 18 digits."),g(!1);return}if(i.date_of_birth){const k=new Date(i.date_of_birth),Q=new Date,ge=Q.getFullYear()-k.getFullYear(),je=Q.getMonth()-k.getMonth(),T=Q.getDate()-k.getDate();if((je<0||je===0&&T<0?ge-1:ge)<=21){f("Member must be more than 21 years old."),g(!1);return}}try{const k=new Date().getFullYear(),Q=`${k}/${k+1}`,ge=await et(i.national_id_number,i.league_id||Et,i.role,Q),{role_id:je,...T}=i,w={...T,renewal:ge,year:Q},{error:K}=await ae.from("league_members").update(w).eq("id",A);if(K){f(`Failed to save member: ${K.message}`),g(!1);return}e(J=>J.map(pe=>pe.id===A?{...pe,...w}:pe)),n(null),N(`Member "${w.first_name} ${w.last_name}" has been successfully updated!`),g(!1)}catch(k){f(`Unexpected error: ${k.message}`),g(!1)}},Xt=(A,k)=>{a({...i,[k]:A.target.value})},hr=t.filter(A=>{const k=(tt||"").toLowerCase();return k?(A.first_name||"").toLowerCase().includes(k)||(A.last_name||"").toLowerCase().includes(k)||(A.national_id_number||"").includes(k):!0}),re=(A,k,Q)=>{const ge=A.internal.pageSize.width;if(C)try{A.addImage(C,"PNG",ge-50,10,30,30)}catch(w){console.warn("Could not add federation logo to PDF:",w)}const je=new Date().toLocaleDateString();A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Print Date: ${je}`,20,20),A.setFontSize(16),A.setFont("helvetica","bold"),A.text("Algerian Judo Federation",ge/2,20,{align:"center"}),A.setFontSize(14),A.setFont("helvetica","normal"),A.text(`League: ${Q||"League Name"}`,ge/2,35,{align:"center"});const T=A.internal.getNumberOfPages();return A.text(`Page ${T}`,ge/2,A.internal.pageSize.height-10,{align:"center"}),50},te=(A,k,Q,ge=null)=>{const je=A.internal.pageSize.width,T=A.internal.pageSize.height;if(C)try{A.addImage(C,"PNG",je-50,10,30,30)}catch(J){console.warn("Could not add federation logo to PDF:",J)}const w=new Date().toLocaleDateString();A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Print Date: ${w}`,20,20),A.setFontSize(16),A.setFont("helvetica","bold"),A.text(k||"Federation Name",je/2,20,{align:"center"}),A.setFontSize(14),A.text(Q||"League Name",je/2,30,{align:"center"}),ge&&(A.setFontSize(12),A.text(ge,je/2,40,{align:"center"}));const K=A.internal.getCurrentPageInfo().pageNumber;return A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Page ${K}`,je-20,T-10,{align:"right"}),ge?50:40},we=A=>A?String(A).replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim():"",Ke=A=>[we(A.last_name||""),we(A.first_name||""),we(A.date_of_birth||""),we(A.place_of_birth||""),we(A.blood_type||""),we(A.nationality||""),we(A.grade||""),we(A.role||""),we(A.holder_of||""),we(A.national_id_number||""),we(A.renewal||""),A.confirmation?"Yes":"No",we(A.license_number||""),we(A.club_name||"")],It=async()=>{if(!(We!=null&&We.league_id)){alert("No league selected");return}try{const{data:A,error:k}=await ae.from("league_members").select("*").eq("league_id",We.league_id);if(k)throw k;if(!A||A.length===0){alert("No members found in this league");return}const Q=new At("landscape");let ge=re(Q,L,B);Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.setTextColor(255,0,0),Q.text("League Members - General Situation",Q.internal.pageSize.getWidth()/2,ge,{align:"center"}),Q.setTextColor(0,0,0),ge+=20;const je={};A.forEach(K=>{const J=K.year||"Unknown Year";je[J]||(je[J]=[]),je[J].push(K)});const T=Object.keys(je).sort();for(const K of T){const pe=je[K].sort((F,ce)=>{const me=new Date(F.registration_date||"1900-01-01"),ye=new Date(ce.registration_date||"1900-01-01");return me-ye});Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.setTextColor(0,0,0),Q.text(`Year: ${K}`,20,ge),ge+=15;const Ue=pe.map(F=>[we(F.last_name||""),we(F.first_name||""),we(F.date_of_birth||""),we(F.place_of_birth||""),we(F.blood_type||""),we(F.nationality||""),we(F.grade||""),we(F.holder_of||""),we(F.national_id_number||""),we(F.password||""),we(F.renewal||""),F.confirmation?"Yes":"No",we(F.license_number||"")]);mr(Q,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Ue,startY:ge,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(F){F.pageNumber>1&&re(Q,L,B)}}),ge=Q.lastAutoTable.finalY+20,ge>Q.internal.pageSize.getHeight()-50&&(Q.addPage(),ge=re(Q,L,B))}const w=new Date().getFullYear();Q.save(`league_${we(B)}_general_members_${w}.pdf`)}catch(A){console.error("Error exporting general PDF:",A),alert("Error exporting PDF. Please try again.")}},Rt=async()=>{if(!(We!=null&&We.league_id)){alert("No league selected");return}try{const{data:A,error:k}=await ae.from("league_members").select("*").eq("league_id",We.league_id);if(k)throw k;if(!A||A.length===0){alert("No members found in this league");return}const Q=new At("landscape");let je=te(Q,L,B);Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.setTextColor(255,0,0),Q.text("League Members - Grade and Role Situation",Q.internal.pageSize.getWidth()/2,je,{align:"center"}),Q.setTextColor(0,0,0),je+=20;const T={};A.forEach(K=>{const J=K.year||"Unknown Year",pe=K.club_name||"No Club";T[J]||(T[J]={}),T[J][pe]||(T[J][pe]=[]),T[J][pe].push(K)}),Q.setFontSize(16),Q.setFont("helvetica","bold"),Q.setTextColor(0,0,0),Q.text("SECTION ROLE",20,je),je+=25;for(const[K,J]of Object.entries(T)){if(Object.keys(J).length===0)continue;Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.setTextColor(0,0,0),Q.text(`Year: ${K}`,20,je),je+=15;const pe=[];for(const[F,ce]of Object.entries(J))pe.push(...ce);const Ue={};pe.forEach(F=>{const ce=F.role||"No Role";Ue[ce]||(Ue[ce]=[]),Ue[ce].push(F)});for(const[F,ce]of Object.entries(Ue)){if(ce.length===0)continue;Q.setFontSize(12),Q.setFont("helvetica","bold"),Q.text(`Role: ${we(F)}`,30,je),je+=8;const me=ce.map(ye=>Ke(ye));mr(Q,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #"]],body:me,startY:je,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:20,right:10}}),je=Q.lastAutoTable.finalY+15,je>160&&(Q.addPage(),je=te(Q,L,B)+5)}je+=10}Q.setFontSize(16),Q.setFont("helvetica","bold"),Q.setTextColor(0,0,0),Q.text("SECTION GRADE",20,je),je+=25;for(const[K,J]of Object.entries(T)){if(Object.keys(J).length===0)continue;Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.setTextColor(0,0,0),Q.text(`Year: ${K}`,20,je),je+=15;const pe=[];for(const[F,ce]of Object.entries(J))pe.push(...ce);const Ue={};pe.forEach(F=>{const ce=F.grade||"No Grade";Ue[ce]||(Ue[ce]=[]),Ue[ce].push(F)});for(const[F,ce]of Object.entries(Ue)){if(ce.length===0)continue;Q.setFontSize(12),Q.setFont("helvetica","bold"),Q.text(`Grade: ${we(F)}`,30,je),je+=8;const me=ce.map(ye=>Ke(ye));mr(Q,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #"]],body:me,startY:je,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:20,right:10}}),je=Q.lastAutoTable.finalY+15,je>160&&(Q.addPage(),je=te(Q,L,B)+5)}je+=10}const w=new Date().getFullYear();Q.save(`league_${we(B)}_grade_role_members_${w}.pdf`)}catch(A){console.error("Error exporting grade role PDF:",A),alert("Error exporting PDF. Please try again.")}},Xe=A=>{if(!A||Object.keys(A).length===0){alert("No data available to export");return}Ft(A)},Ft=async A=>{let k=null,Q=null;try{A.club_id&&(k=(await Dn())[A.club_id]),A.league_id&&(Q=(await Xn())[A.league_id])}catch(Ue){console.error("Error fetching names:",Ue)}const ge=new At("portrait","mm","a4");ge.setFontSize(18),ge.setTextColor(40,40,40),ge.text("Algerian Judo Federation",14,15);const je=`League Member Information - ${A.first_name} ${A.last_name}`;ge.setFontSize(16),ge.setTextColor(40,40,40),ge.text(je,14,30),ge.setFontSize(10);const T=new Date().toLocaleString();if(ge.text(`Generated: ${T}`,14,37),C)try{ge.addImage(C,"PNG",170,10,25,25)}catch(Ue){console.error("Error adding logo to PDF:",Ue)}let w=70;if(A.photo_url)try{const Ue=await Ut(A.photo_url),F=Ue.startsWith("data:")?"PNG":"JPEG";ge.addImage(Ue,F,14,45,25,20),w=70}catch(Ue){console.error("Error adding photo to PDF:",Ue);try{ge.addImage(A.photo_url,"JPEG",14,45,25,20)}catch(F){console.error("Fallback image addition also failed:",F)}w=70}ge.setFontSize(12),A.confirmation?ge.setTextColor(0,128,0):ge.setTextColor(255,0,0);const K=A.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";ge.text(K,160,50);const J=[["First Name",A.first_name||""],["Last Name",A.last_name||""],["Date of Birth",A.date_of_birth||""],["Place of Birth",A.place_of_birth||""],["National ID",A.national_id_number||""],["Nationality",A.nationality||""],["Blood Type",A.blood_type||""],["Grade",A.grade||""],["Role",A.role||""],["License Number",A.license_number||""],["Registration Date",A.registration_date||""],["Year",A.year||""],["Renewal",A.renewal||""]];mr(ge,{head:[["Field","Value"]],body:J,startY:w,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const pe=ge.lastAutoTable.finalY||200;if(ge.setFontSize(12),ge.setTextColor(0,0,0),ge.text("Medical certificate",14,pe+20),ge.setDrawColor(0),ge.line(14,pe+40,80,pe+40),ge.setFontSize(10),A.league_id||Q){const Ue=Q||`ID: ${A.league_id}`;ge.text(`League: ${Ue}`,120,pe+60),ge.text("League Visa: _________________",120,pe+70)}try{const Ue=JSON.stringify({id:A.id,name:`${A.first_name||""} ${A.last_name||""}`.trim(),license:A.license_number||"",club_id:A.club_id||"",league_id:A.league_id||"",confirmation:A.confirmation||"Unconfirmed"}),F=await ui.toDataURL(Ue,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});ge.addImage(F,"PNG",175,pe+75,15,15)}catch(Ue){console.error("Error generating QR code:",Ue)}ge.save(`member_${A.first_name}_${A.last_name}.pdf`)};return We?s.jsxs("div",{className:"app-container",children:[o&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("img",{src:C||Zi,alt:"Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:L})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[We.logo_url?s.jsx("img",{src:We.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:B||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",We.first_name," ",We.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",We.role]}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async A=>{if(pr(A.currentTarget),!Pe){alert("League data not loaded yet.");return}ze("/member-list-l",{state:{...We,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async A=>{if(pr(A.currentTarget),!Pe){alert("League data not loaded yet.");return}ze("/TheClubListAddFed-League",{state:{...We,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async A=>{if(pr(A.currentTarget),!Pe){alert("League data not loaded yet.");return}ze("/TheAthleteListAdd-League",{state:{...We,league_id:Pe==null?void 0:Pe.id,league_name:Pe==null?void 0:Pe.name_league,league_logo:Pe==null?void 0:Pe.logo_url}})},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:Ze,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:Ce,onChange:A=>ie(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),xe.map(A=>s.jsx("option",{value:A.id,children:A.league_role},A.id))]})]}),s.jsxs("label",{children:["League *",s.jsx("select",{value:Et,onChange:A=>{He(A.target.value),Ot(A.target.value)},required:!0,disabled:!!(We!=null&&We.league_id),children:We!=null&&We.league_id?s.jsx("option",{value:We.league_id,children:B||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Me.map(A=>s.jsx("option",{value:A.id,children:A.name_league},A.id))]})})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:se,onChange:A=>E(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:$,onChange:A=>ee(A.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:I,onChange:A=>G(A.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:ue,onChange:A=>M(A.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:H,onChange:A=>be(A.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:U,onChange:A=>X(A.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:le,onChange:A=>_e(A.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ne,onChange:A=>Be(A.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Qe,onChange:A=>at(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Ye,onChange:A=>Oe(A.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:oe,onChange:A=>Pt(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:A=>{var k;return Ge(((k=A.target.files)==null?void 0:k[0])??null)}})]}),s.jsxs("label",{children:["League Logo",s.jsx("input",{type:"text",value:We.logo_url||"",disabled:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",disabled:c,children:c?"Adding...":"Add Member"}),c&&s.jsx(ta,{message:"Adding member..."})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),m&&s.jsx(Pn,{error:m,onClose:()=>f(null)}),x&&s.jsx(Rn,{success:x,onClose:()=>N("")}),s.jsx("h2",{className:"form-title",children:"List Of League Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsx("select",{value:Et,onChange:A=>{He(A.target.value),Ot(A.target.value)},required:!0,disabled:!!(We!=null&&We.league_id),children:We!=null&&We.league_id?s.jsx("option",{value:We.league_id,children:B||"Selected League"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select League"}),Me.map(A=>s.jsx("option",{value:A.id,children:A.name_league},A.id))]})})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:tt,onChange:A=>yt(A.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Bt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:hr.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):hr.map(A=>s.jsxs("tr",{onDoubleClick:()=>Xe(A),style:{cursor:"pointer"},children:[s.jsx("td",{children:r===A.id?s.jsx("input",{value:i.last_name||"",onChange:k=>Xt(k,"last_name")}):A.last_name}),s.jsx("td",{children:r===A.id?s.jsx("input",{value:i.first_name||"",onChange:k=>Xt(k,"first_name")}):A.first_name}),s.jsx("td",{children:r===A.id?s.jsx("input",{type:"date",value:i.date_of_birth||"",onChange:k=>Xt(k,"date_of_birth")}):A.date_of_birth}),s.jsx("td",{children:r===A.id?s.jsx("input",{value:i.place_of_birth||"",onChange:k=>Xt(k,"place_of_birth")}):A.place_of_birth}),s.jsx("td",{children:r===A.id?s.jsxs("select",{value:i.role||"",onChange:k=>Xt(k,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),xe.map(k=>s.jsx("option",{value:k.league_role??k.name??"",children:k.league_role??k.name??""},k.id))]}):A.role||"No Role"}),s.jsx("td",{children:r===A.id?s.jsxs("select",{value:i.blood_type||"",onChange:k=>Xt(k,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):A.blood_type}),s.jsx("td",{children:r===A.id?s.jsxs("select",{value:i.nationality||"",onChange:k=>Xt(k,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):A.nationality}),s.jsx("td",{children:r===A.id?s.jsxs("select",{value:i.grade||"",onChange:k=>Xt(k,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):A.grade}),s.jsx("td",{children:r===A.id?s.jsx("input",{value:i.holder_of||"",onChange:k=>Xt(k,"holder_of")}):A.holder_of}),s.jsx("td",{children:A.national_id_number}),s.jsx("td",{children:A.renewal}),s.jsx("td",{children:A.year}),s.jsx("td",{children:A.license_number}),s.jsx("td",{children:A.registration_date}),s.jsx("td",{children:A.photo_url?s.jsx("img",{src:Vt(A.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:A.confirmation?"✅":"❌"}),s.jsx("td",{children:A.league_id}),s.jsx("td",{children:r===A.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>Zt(A.id),disabled:d,children:d?"Saving...":"Save"}),s.jsx("button",{className:"secondary-btn",onClick:qt,disabled:d,children:"Cancel"}),d&&s.jsx(ta,{message:"Saving changes..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>bt(A),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Mt(A),children:"Delete"})]})})]},A.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:It,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Rt,children:"Export Grade Role PDF"})]})]}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]}):s.jsx("p",{children:"No account data found."})}function l8(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState([]),[i,a]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(""),[d,g]=b.useState(null),[m,f]=b.useState(null),[x,N]=b.useState(null),[_,v]=b.useState({}),[C,j]=b.useState(null),[L,B]=b.useState(""),[Y,V]=b.useState(""),[D,$]=b.useState(null),[ee,I]=b.useState(""),[G,ue]=b.useState((t==null?void 0:t.club_id)||""),[M,H]=b.useState((t==null?void 0:t.league_id)||""),be="Algerian Judo Federation",Ce="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[ie,xe]=b.useState([]),[Re,se]=b.useState([]),[E,U]=b.useState([]),[X,le]=b.useState({}),[_e,Ne]=b.useState({}),[Be,Ae]=b.useState(""),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState(""),[He,Me]=b.useState(""),[dt,st]=b.useState(""),[_t,Lt]=b.useState(""),[Ot,tt]=b.useState(""),[yt,Bt]=b.useState(null),[gt,jt]=b.useState(null),[Nt,Tt]=b.useState(""),[wt,Kt]=b.useState(""),[Pe,ve]=b.useState(""),[Te,lt]=b.useState(""),[ze,We]=b.useState(!1),[Vt,Ut]=b.useState(!1),qt=Zn(),Mt=k=>k?k.startsWith("http")?k:`${Ce}${k}`:null;function Fe(k){return new Promise((Q,ge)=>{Ua(k,je=>{if(je.type==="error")console.warn("EXIF processing failed, using original image:",k),Q(k);else try{const T=je.toDataURL("image/png");Q(T)}catch(T){console.warn("Canvas conversion failed, using original image:",T),Q(k)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const z=async()=>{try{a(!0),l(null);const{data:k}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(k!=null&&k.length&&j(Mt(k[0].logo_url)),t!=null&&t.league_id){const{data:Q}=await ae.from("nameleague").select("name_league").eq("id",t.league_id).single();Q&&V(Q.name_league);const{data:ge}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);ge!=null&&ge.length&&B(Mt(ge[0].logo_url))}if(t!=null&&t.club_id){const{data:Q}=await ae.from("nameclub").select("name_club, id").eq("id",t.club_id).single();Q&&(I(Q.name_club),g(Q));const{data:ge,error:je}=await ae.from("club_members").select("logo_url").eq("club_id",t.club_id).not("logo_url","is",null).order("id",{ascending:!1}).limit(1);je?console.error("Error fetching club logo:",je.message):ge!=null&&ge.length&&ge[0].logo_url&&$(Mt(ge[0].logo_url))}if(t!=null&&t.member_id){const{data:Q}=await ae.from("club_members").select("*").eq("id",t.member_id).single();Q&&f(Q)}if(t!=null&&t.club_id){const{data:Q}=await ae.from("club_members").select("*").eq("club_id",t.club_id);n(Q||[])}}catch(k){l(k),console.error("Error fetching data:",k.message)}finally{a(!1)}};b.useEffect(()=>{z()},[t]),b.useEffect(()=>{(async()=>{const{data:Q}=await ae.from("clubrole").select("id, club_role");Q&&xe(Q)})()},[]),b.useEffect(()=>{(async()=>{const{data:Q}=await ae.from("nameclub").select("id, name_club");Q&&se(Q)})()},[]),b.useEffect(()=>{(async()=>{const{data:Q}=await ae.from("nameleague").select("id, name_league");Q&&U(Q)})()},[]),b.useEffect(()=>{(async()=>{const Q=G||(t==null?void 0:t.club_id);if(!Q){$(null),I("");return}try{const{data:ge}=await ae.from("nameclub").select("name_club, id").eq("id",Number(Q)).single();ge&&I(ge.name_club);const{data:je,error:T}=await ae.from("club_members").select("logo_url").eq("club_id",Number(Q)).not("logo_url","is",null).order("id",{ascending:!1}).limit(1);T?(console.error("Error fetching club logo:",T.message),$(null)):je!=null&&je.length&&je[0].logo_url?$(Mt(je[0].logo_url)):$(null)}catch(ge){console.error("Error loading club header:",ge),$(null),I("")}})()},[G,t==null?void 0:t.club_id]);const De=async k=>{if(!k)return null;const Q=k.name.split(".").pop(),ge=`${Date.now()}-${Math.random()}.${Q}`,{error:je}=await ae.storage.from("logos").upload(ge,k);if(je)return l(`Upload failed: ${je.message}`),null;const{data:T}=ae.storage.from("logos").getPublicUrl(ge);return(T==null?void 0:T.publicUrl)??null},et=async(k,Q,ge,je)=>{const{data:T}=await ae.from("club_members").select("*").eq("national_id_number",k).eq("club_id",Q).eq("role",ge).eq("year",je);if(T&&T.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:w}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",k).eq("club_id",Q).eq("role",ge);return(w||0)+1};b.useEffect(()=>{ti()},[]);const Ze=async k=>{var ye,Ee;if(k.preventDefault(),l(""),u(""),console.log("Setting submitLoading to true"),We(!0),await new Promise(ke=>setTimeout(ke,100)),!Ge||!Be||!at||!Oe||!Pt||!G||!M||!_t||!Ot){const ke=[];Ge||ke.push("First Name"),Be||ke.push("Last Name"),at||ke.push("Date of Birth"),Oe||ke.push("Place of Birth"),Pt||ke.push("Role"),G||ke.push("Club"),M||ke.push("League"),_t||ke.push("Password"),Ot||ke.push("Confirm Password"),l(`Please fill in the following required fields: ${ke.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),We(!1);return}const Q=Number(G),ge=Number(M);if(!Q||isNaN(Q)){l("Please select a valid club."),We(!1);return}if(!ge||isNaN(ge)){l("Please select a valid league."),We(!1);return}const je=new Date(at),T=new Date,w=T.getFullYear()-je.getFullYear(),K=T.getMonth()-je.getMonth(),J=T.getDate()-je.getDate();if((K<0||K===0&&J<0?w-1:w)<=21){l("Member must be more than 21 years old to register."),We(!1);return}if(dt.length!==18){l("National ID must be exactly 18 digits."),We(!1);return}if(_t!==Ot){l("Passwords do not match."),We(!1);return}if(Be&&_t){const{data:ke}=await ae.from("club_members").select("*").eq("last_name",Be).eq("password",_t);if(ke&&ke.length>0){l("Change your Password for this name because is already exist"),We(!1);return}}const Ue=((ye=ie.find(ke=>ke.id===parseInt(Pt)))==null?void 0:ye.club_role)||"",F=new Date().getFullYear(),ce=`${F}/${F+1}`;let me;try{me=await et(dt,Q,Ue,ce)}catch(ke){l(ke.message),We(!1);return}try{const ke=await De(gt),ht=((Ee=ie.find(kt=>kt.id===parseInt(Pt)))==null?void 0:Ee.club_role)||"",ft=await et(dt,G,ht),ct=`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,nt={last_name:Be,first_name:Ge,date_of_birth:at,place_of_birth:Oe,role:ht,blood_type:He,nationality:Nt,grade:wt,holder_of:Pe,national_id_number:dt,password:_t,photo_url:ke,logo_url:D,renewal:ft,year:ct,confirmation:!1,club_id:G,league_id:M,license_number:`LIC-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0]},{error:pt}=await ae.from("club_members").insert([nt]);if(pt)throw pt;u(`Member ${Ge} ${Be} added successfully!`),z(),Ae(""),Qe(""),Ye(""),oe(""),Et(""),Me(""),st(""),Lt(""),tt(""),ue(""),H(""),Bt(null),jt(null),Tt(""),Kt(""),ve(""),console.log("Setting submitLoading to false - success"),We(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(ke){l(ke.message),console.log("Setting submitLoading to false - error"),We(!1)}},bt=k=>{N(k.id),v(k)},Zt=()=>{N(null),v({})},Xt=(k,Q)=>{v({..._,[Q]:k.target.value})},hr=async k=>{if(l(""),u(""),Ut(!0),!_.first_name||!_.last_name||!_.date_of_birth||!_.place_of_birth||!_.role){const J=[];_.first_name||J.push("First Name"),_.last_name||J.push("Last Name"),_.date_of_birth||J.push("Date of Birth"),_.place_of_birth||J.push("Place of Birth"),_.role||J.push("Role"),l(`Please fill in the following required fields: ${J.join(", ")}`),Ut(!1);return}const Q=new Date(_.date_of_birth),ge=new Date,je=ge.getFullYear()-Q.getFullYear(),T=ge.getMonth()-Q.getMonth(),w=ge.getDate()-Q.getDate();if((T<0||T===0&&w<0?je-1:je)<=21){l("Member must be more than 21 years old to register."),Ut(!1);return}try{const{error:J}=await ae.from("club_members").update(_).eq("id",k);if(J)throw J;u(`Member ${_.first_name} ${_.last_name} updated successfully!`),Zt(),z(),Ut(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(J){l(J.message),Ut(!1)}},re=async k=>{try{const Q=new Date(k.registration_date).toISOString().split("T")[0],ge=new Date().toISOString().split("T")[0];if(Q!==ge){alert("You can only delete members on the same day of registration.");return}const{error:je}=await ae.from("club_members").delete().eq("id",k.id);if(je)throw je;n(T=>T.filter(w=>w.id!==k.id))}catch(Q){l(Q.message)}},te=r.filter(k=>{var ge,je;const Q=Te.toLowerCase();return(((ge=k.first_name)==null?void 0:ge.toLowerCase())??"").includes(Q)||(((je=k.last_name)==null?void 0:je.toLowerCase())??"").includes(Q)||(k.national_id_number??"").includes(Q)}),we=k=>k?String(k).replace(/Ø=UÈ/g,"").replace(/Ø<ða/g,"").replace(/Ø=Ud/g,"").replace(/Ø-ÜÈ/g,"").replace(/Ø-Üd/g,"").replace(/Ø<Ða/g,"").replace(/Ø<ßà/g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/Ã¸/g,"ø").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã¡/g,"á").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã´/g,"ô").replace(/Ã»/g,"û").replace(/Ã®/g,"î").replace(/Ã¯/g,"ï").replace(/Ã¢/g,"â").replace(/Ã«/g,"ë").replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä").trim():"",Ke=k=>{console.log("👆 handleMemberDoubleClick called with member:",k),It(k)},It=k=>{if(console.log("🎯 generateIndividualMemberPDF called with member:",k),!k||Object.keys(k).length===0){l("No member data available to export");return}Rt(k)},Rt=async k=>{try{console.log("🔥 exportPDFWithAutoOrientation called with member:",k);const Q=new At,ge=Q.internal.pageSize.width,je=Q.internal.pageSize.height;let T=ee;if(console.log("Initial clubName:",ee,"member.club_id:",k.club_id),k.club_id)try{const ye=await Dn();console.log("Fetched clubNames:",ye),ye[k.club_id]?(T=ye[k.club_id],console.log("Found memberClubName:",T)):console.log("Club ID not found in clubNames:",k.club_id)}catch(ye){console.error("Error fetching club name:",ye)}Q.setFontSize(18),Q.setTextColor(40,40,40),Q.text(we(be),14,15),Q.setFontSize(16),Q.setTextColor(40,40,40),Q.text(`Club Member Information - ${we(k.first_name)} ${we(k.last_name)}`,14,30),Q.setFontSize(10);const w=new Date().toLocaleString();if(Q.text(`Generated: ${w}`,14,37),C)try{Q.addImage(C,"PNG",170,10,25,25)}catch(ye){console.error("Error adding federation logo to PDF:",ye)}let K=70;if(k.photos_url||k.photo_url)try{const ye=k.photos_url||k.photo_url,Ee=await Fe(ye),ke=Ee.startsWith("data:")?"PNG":"JPEG";Q.addImage(Ee,ke,14,45,25,20),K=70}catch(ye){console.error("Error adding photo to PDF:",ye);try{const Ee=k.photos_url||k.photo_url;Q.addImage(Ee,"JPEG",14,45,25,20),K=70}catch(Ee){console.error("Fallback image addition also failed:",Ee),K=70}}Q.setFontSize(12),k.confirmation?Q.setTextColor(0,128,0):Q.setTextColor(255,0,0);const J=k.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";Q.text(J,160,50),Q.setTextColor(0,0,0);const pe=ie.find(ye=>ye.id===parseInt(k.role_id)),Ue=(pe==null?void 0:pe.club_role)||k.role||"No Role",F=[["Last Name",we(k.last_name)||""],["First Name",we(k.first_name)||""],["Date of Birth",we(k.date_of_birth)||""],["Place of Birth",we(k.place_of_birth)||""],["Role",we(Ue)],["Blood type",we(k.blood_type)||""],["National ID",we(k.national_id_number)||""],["Nationality",we(k.nationality)||""],["Grade",we(k.grade)||""],["License Number",we(k.license_number)||""],["Registration Date",we(k.registration_date)||""],["Year",we(k.year)||""],["Renewal",we(k.renewal)||""]];mr(Q,{startY:K,head:[["Field","Value"]],body:F,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const ce=Q.lastAutoTable.finalY||200;Q.setFontSize(12),Q.setTextColor(0,0,0),Q.text("Medical certificate",14,ce+20),Q.setDrawColor(0),Q.line(14,ce+40,80,ce+40),Q.setFontSize(10),console.log("memberClubName:",T,"finalY:",ce),T?(Q.text(`Club: ${we(T)}`,14,ce+60),Q.text("Club Visa: _________________",14,ce+70)):console.log("No memberClubName found, member.club_id:",k.club_id),Y&&(Q.text(`League: ${we(Y)}`,120,ce+60),Q.text("League Visa: _________________",120,ce+70));try{const ye=JSON.stringify({id:k.id,name:`${k.first_name||""} ${k.last_name||""}`.trim(),license:k.license_number||"",club_id:k.club_id||"",league_id:k.league_id||""}),ke=await(await ma(async()=>{const{default:ht}=await Promise.resolve().then(()=>Om);return{default:ht}},void 0)).default.toDataURL(ye,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Q.addImage(ke,"PNG",180,ce+75,15,15)}catch(ye){console.error("Error generating QR code:",ye)}const me=`athlete_${we(k.first_name)}_${we(k.last_name)}_${k.id||"record"}.pdf`;console.log("💾 About to save PDF with filename:",me),Q.save(me),console.log("✅ PDF save completed")}catch(Q){console.error("❌ Error in exportPDFWithAutoOrientation:",Q),l(`Error generating PDF: ${Q.message}`)}},Xe=(k,Q=1,ge="",je="")=>{const T=k.internal.pageSize.getWidth(),w=k.internal.pageSize.getHeight();if(C)try{k.addImage(C,"PNG",T-40,15,25,25)}catch(J){console.warn("Could not add federation logo:",J)}const K=new Date().toLocaleDateString();return k.setFontSize(10),k.setFont("helvetica","normal"),k.text(`Print Date: ${K}`,15,20),k.setFontSize(16),k.setFont("helvetica","bold"),k.text("Algerian Judo Federation",T/2,25,{align:"center"}),k.setFontSize(12),k.setFont("helvetica","normal"),k.text(`League: ${je}`,T/2,35,{align:"center"}),k.text(`Club: ${ge}`,T/2,45,{align:"center"}),k.setFontSize(10),k.text(`Page ${Q}`,T-20,w-10,{align:"right"}),55},Ft=async()=>{try{if(!te||te.length===0){l("No members found to export");return}const k=new At("landscape");let ge=Xe(k,1,ee||"Unknown Club",Y||"");k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(255,0,0),k.text("Club Members - General Situation",k.internal.pageSize.getWidth()/2,ge,{align:"center"}),k.setTextColor(0,0,0),ge+=20;const je={};te.forEach(K=>{const J=K.year||"Unknown Year";je[J]||(je[J]=[]),je[J].push(K)});const T=Object.keys(je).sort();for(const K of T){const pe=je[K].sort((F,ce)=>{const me=new Date(F.registration_date||"1900-01-01"),ye=new Date(ce.registration_date||"1900-01-01");return me-ye});k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(0,0,0),k.text(`Year: ${K}`,20,ge),ge+=12;const Ue=pe.map(F=>{var me;const ce=((me=ie.find(ye=>ye.id===parseInt(F.role_id)))==null?void 0:me.club_role)||F.role||"No Role";return[we(F.last_name),we(F.first_name),we(F.date_of_birth),we(F.place_of_birth),we(F.blood_type),we(F.nationality),we(ce),we(F.grade),we(F.holder_of),we(F.national_id_number),we(F.password),we(F.renewal),F.confirmation?"Yes":"No",we(F.license_number)]});mr(k,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Ue,startY:ge,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ge=k.lastAutoTable.finalY+15,ge>180&&K!==T[T.length-1]&&(k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||"")+10)}const w=new Date().getFullYear();k.save(`club_members_general_${w}.pdf`)}catch(k){console.error("Error generating PDF:",k),l("Error generating PDF: "+k.message)}},A=async()=>{try{if(!te||te.length===0){l("No members found to export");return}const k=new At("landscape");let ge=Xe(k,1,ee||"Unknown Club",Y||"");k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(255,0,0),k.text("Club Members - Grade & Role Report",k.internal.pageSize.getWidth()/2,ge,{align:"center"}),k.setTextColor(0,0,0),ge+=20,k.setFontSize(12),k.setFont("helvetica","bold"),k.text(we("ROLES SECTION"),20,ge),ge+=15;const je={};te.forEach(J=>{const pe=J.year||"No Year",Ue=ie.find(ce=>ce.id===parseInt(J.role_id)),F=(Ue==null?void 0:Ue.club_role)||J.role||"No Role";je[pe]||(je[pe]={}),je[pe][F]||(je[pe][F]=[]),je[pe][F].push(J)});const T=Object.keys(je).sort();for(const J of T){k.setFontSize(12),k.setFont("helvetica","bold"),k.text(`Year: ${we(J)}`,20,ge),ge+=10;for(const[pe,Ue]of Object.entries(je[J])){if(Ue.length===0)continue;k.setFontSize(11),k.setFont("helvetica","bold"),k.text(`Role: ${we(pe)}`,30,ge),ge+=8;const ce=Ue.sort((me,ye)=>new Date(me.registration_date)-new Date(ye.registration_date)).map(me=>{var Ee;const ye=((Ee=ie.find(ke=>ke.id===parseInt(me.role_id)))==null?void 0:Ee.club_role)||me.role||"No Role";return[we(me.last_name),we(me.first_name),we(me.date_of_birth),we(me.place_of_birth),we(me.blood_type),we(me.nationality),we(ye),we(me.grade),we(me.holder_of),we(me.national_id_number),we(me.password),we(me.renewal),me.confirmation?"Yes":"No",we(me.license_number)]});mr(k,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:ce,startY:ge,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ge=k.lastAutoTable.finalY+8,ge>180&&(k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||"")+5)}ge+=10,ge>170&&J!==T[T.length-1]&&(k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||"")+10)}k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||""),k.setFontSize(12),k.setFont("helvetica","bold"),k.text(we("GRADES SECTION"),20,ge),ge+=15;const w={};te.forEach(J=>{const pe=J.year||"No Year",Ue=J.grade||"No Grade";w[pe]||(w[pe]={}),w[pe][Ue]||(w[pe][Ue]=[]),w[pe][Ue].push(J)});for(const J of T){k.setFontSize(12),k.setFont("helvetica","bold"),k.text(`Year: ${we(J)}`,20,ge),ge+=10;for(const[pe,Ue]of Object.entries(w[J]||{})){if(Ue.length===0)continue;k.setFontSize(11),k.setFont("helvetica","bold"),k.text(`Grade: ${we(pe)}`,30,ge),ge+=8;const ce=Ue.sort((me,ye)=>new Date(me.registration_date)-new Date(ye.registration_date)).map(me=>{const ye=ie.find(ke=>ke.id===parseInt(me.role_id)),Ee=(ye==null?void 0:ye.club_role)||me.role||"No Role";return[we(me.last_name),we(me.first_name),we(me.date_of_birth),we(me.place_of_birth),we(me.blood_type),we(me.nationality),we(Ee),we(me.grade),we(me.holder_of),we(me.national_id_number),we(me.password),we(me.renewal),me.confirmation?"Yes":"No",we(me.license_number)]});mr(k,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:ce,startY:ge,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),ge=k.lastAutoTable.finalY+8,ge>180&&(k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||"")+5)}ge+=10,ge>170&&J!==T[T.length-1]&&(k.addPage(),ge=Xe(k,k.internal.getNumberOfPages(),ee||"Unknown Club",Y||"")+10)}const K=new Date().getFullYear();k.save(`club_members_grade_role_${K}.pdf`)}catch(k){console.error("Error exporting complete club report PDF:",k),l("Error exporting PDF: "+k.message)}};return s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[C?s.jsx("img",{src:C,alt:"Federation Logo",className:"federation-logo"}):s.jsx(ri,{className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:be})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[L?s.jsx("img",{src:L,alt:"League Logo",className:"member-logo"}):s.jsx("p",{children:"No league logo"}),s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:Y||"League Name"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[D?s.jsx("img",{src:D,alt:"Club Logo",className:"member-logo"}):s.jsx("p",{children:"No club logo"}),s.jsx("h3",{className:"federation-title",style:{fontSize:"1.2rem"},children:ee||"Club Name"})]})]})}),s.jsx("section",{className:"app-container",children:s.jsxs("div",{className:"form-table-wrapper",children:[s.jsx("h2",{children:"Club Member"}),m?s.jsxs("p",{children:[m.first_name," ",m.last_name," —"," ",s.jsx("strong",{children:(()=>{const k=ie.find(Q=>Q.id===parseInt(m.role_id));return(k==null?void 0:k.club_role)||m.club_role||m.role||"No role"})()})]}):s.jsx("p",{children:"No member found with these credentials."}),s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"1",onClick:k=>{pr(k.target),d&&m?(console.log("➡️ Navigating to /club-member-listC with state:",{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:D}),e("/club-member-listC",{state:{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:D}})):console.log("❌ No club or member found, cannot navigate.")},children:"The Club Member List"}),s.jsx("button",{type:"button",className:"primary-btn","data-id":"2",onClick:k=>{pr(k.target),d&&m?e("/AthletePage",{state:{club_id:d.id,club_name:d.name_club,league_id:t==null?void 0:t.league_id,member_id:m.id,first_name:m.first_name,last_name:m.last_name,role:m.role,club_logo:D,...t,club:d,member:m}}):console.log("❌ No club or member found, cannot navigate.")},children:"List of Athletes"})]}),s.jsxs("section",{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:Ze,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:Pt,onChange:k=>Et(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),ie.map(k=>s.jsx("option",{value:k.id,children:k.club_role},k.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:G,onChange:k=>ue(k.target.value),required:!0,disabled:!!(t!=null&&t.club_id),children:[s.jsx("option",{value:"",children:"Select Club"}),Re.map(k=>s.jsx("option",{value:k.id,children:k.name_club},k.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:M,onChange:k=>H(k.target.value),required:!0,disabled:!!(t!=null&&t.league_id),children:[s.jsx("option",{value:"",children:"Select League"}),E.map(k=>s.jsx("option",{value:k.id,children:k.name_league},k.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Nt,onChange:k=>Tt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:wt,onChange:k=>Kt(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Pe,onChange:k=>ve(k.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:He,onChange:k=>Me(k.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Be,onChange:k=>Ae(k.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:Ge,onChange:k=>Qe(k.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:at,onChange:k=>Ye(k.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Oe,onChange:k=>oe(k.target.value),required:!0})]}),s.jsxs("label",{children:["National ID *",s.jsx("input",{value:dt,onChange:k=>st(k.target.value),maxLength:"18",required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_t,onChange:k=>Lt(k.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ot,onChange:k=>tt(k.target.value),required:!0})]}),s.jsxs("label",{children:["Club Logo *",s.jsx("input",{type:"text",value:D||"",disabled:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:k=>{var Q;return jt(((Q=k.target.files)==null?void 0:Q[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",disabled:ze,children:ze?"Saving...":"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsx("h2",{className:"form-title",children:"List of Members Club"}),s.jsxs("div",{className:"form-grid",children:[s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"Search Members Club"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:Te,onChange:k=>lt(k.target.value)})})]}),s.jsx("div",{className:"table-container",ref:qt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):te.map(k=>s.jsxs("tr",{onDoubleClick:()=>Ke(k),style:{cursor:"pointer"},children:[s.jsx("td",{children:x===k.id?s.jsx("input",{value:_.last_name||"",onChange:Q=>Xt(Q,"last_name")}):k.last_name}),s.jsx("td",{children:x===k.id?s.jsx("input",{value:_.first_name||"",onChange:Q=>Xt(Q,"first_name")}):k.first_name}),s.jsx("td",{children:x===k.id?s.jsx("input",{type:"date",value:_.date_of_birth||"",onChange:Q=>Xt(Q,"date_of_birth")}):k.date_of_birth}),s.jsx("td",{children:x===k.id?s.jsx("input",{value:_.place_of_birth||"",onChange:Q=>Xt(Q,"place_of_birth")}):k.place_of_birth}),s.jsx("td",{children:x===k.id?s.jsxs("select",{value:_.role||"",onChange:Q=>Xt(Q,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),ie.map(Q=>s.jsx("option",{value:Q.club_role,children:Q.club_role},Q.id))]}):k.role||"No Role"}),s.jsx("td",{children:x===k.id?s.jsxs("select",{value:_.blood_type||"",onChange:Q=>Xt(Q,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):k.blood_type}),s.jsx("td",{children:x===k.id?s.jsxs("select",{value:_.nationality||"",onChange:Q=>Xt(Q,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):k.nationality}),s.jsx("td",{children:x===k.id?s.jsxs("select",{value:_.grade||"",onChange:Q=>Xt(Q,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):k.grade}),s.jsx("td",{children:x===k.id?s.jsx("input",{value:_.holder_of||"",onChange:Q=>Xt(Q,"holder_of")}):k.holder_of}),s.jsx("td",{children:k.national_id_number}),s.jsx("td",{children:k.renewal}),s.jsx("td",{children:k.year}),s.jsx("td",{children:k.license_number}),s.jsx("td",{children:k.registration_date}),s.jsx("td",{children:k.photo_url?s.jsx("img",{src:k.photo_url,alt:"Photo",style:{width:"50px",height:"50px"}}):"No Photo"}),s.jsx("td",{children:k.confirmation?"Yes":"No"}),s.jsx("td",{children:k.club_id}),s.jsx("td",{children:k.league_id}),s.jsx("td",{children:x===k.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>hr(k.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Zt,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>bt(k),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>re(k),children:"Delete"})]})})]},k.id))})]})}),s.jsxs("div",{children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:Ft,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:A,children:"Export Grade & Role PDF"})]})]})]})}),o&&s.jsx(Pn,{error:o,onClose:()=>l(null)}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),i&&s.jsx("div",{children:"Loading..."}),ze&&s.jsx(ta,{message:"Adding member..."}),Vt&&s.jsx(ta,{message:"Saving changes..."}),s.jsx(gn,{}),s.jsx("footer",{className:"footer bg-red-600 text-white p-4 mt-6",children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function c8(){b.useEffect(()=>{ti()},[]),b.useEffect(()=>{ti()},[]);const t=Ur(),r=fi().state||{},[n,i]=b.useState(null),[a]=b.useState("Algerian Judo Federation"),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,g]=b.useState([]),[m,f]=b.useState([]),[x,N]=b.useState((r==null?void 0:r.league_id)||""),[_,v]=b.useState((r==null?void 0:r.club_id)||""),[C,j]=b.useState(""),[L,B]=b.useState(""),[Y,V]=b.useState(""),[D,$]=b.useState(""),[ee,I]=b.useState(""),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(""),[Re,se]=b.useState(""),[E,U]=b.useState(""),[X,le]=b.useState(""),[_e,Ne]=b.useState(null),[Be,Ae]=b.useState(null),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState(null),[He,Me]=b.useState({}),[dt,st]=b.useState(!0),[_t,Lt]=b.useState(""),[Ot,tt]=b.useState(""),[yt,Bt]=b.useState([]),[gt,jt]=b.useState([]),Nt="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",Tt=Zn(),wt=re=>re?re.startsWith("http")?re:`${Nt}${re}`:null;function Kt(re){return new Promise((te,we)=>{Ua(re,Ke=>{if(Ke.type==="error")console.warn("EXIF processing failed, using original image:",re),te(re);else try{const It=Ke.toDataURL("image/png");te(It)}catch(It){console.warn("Canvas conversion failed, using original image:",It),te(re)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Pe=async re=>{try{if(!re||Object.keys(re).length===0){alert("No data available to export");return}let te=null,we=null;try{re.club_id&&(te=(await Dn())[re.club_id]),re.league_id&&(we=(await Xn())[re.league_id])}catch(je){console.error("Error fetching names:",je)}const Ke=new At;Ke.setFontSize(18),Ke.setTextColor(40,40,40),Ke.text(a,14,15),Ke.setFontSize(16),Ke.setTextColor(40,40,40),Ke.text(`Club Member Information - ${cn(re.first_name)} ${cn(re.last_name)}`,14,30),Ke.setFontSize(10);const It=new Date().toLocaleString();if(Ke.text(`Generated: ${It}`,14,37),n)try{Ke.addImage(n,"PNG",170,10,25,25)}catch(je){console.error("Error adding federation logo to PDF:",je)}let Rt=45;const Xe=re.photos_url||re.photo_url;if(Xe)try{const je=await Kt(Xe),T=je.startsWith("data:")?"PNG":"JPEG";Ke.addImage(je,T,14,45,25,20),Rt=70}catch(je){console.error("Error adding normalized photo, attempting original:",je);try{Ke.addImage(Xe,"JPEG",14,45,25,20),Rt=70}catch(T){console.error("Fallback image addition also failed:",T),Rt=45}}Ke.setFontSize(12),re.confirmation?Ke.setTextColor(0,128,0):Ke.setTextColor(255,0,0);const Ft=re.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";Ke.text(Ft,160,50),Ke.setTextColor(0,0,0);const A=o.find(je=>je.id===re.role_id),k=[["Last Name",cn(re.last_name)||""],["First Name",cn(re.first_name)||""],["Date of Birth",cn(re.date_of_birth)||""],["Place of Birth",cn(re.place_of_birth)||""],["Role",cn(A==null?void 0:A.club_role)||"No Role"],["Blood type",cn(re.blood_type)||""],["National ID",cn(re.national_id_number)||""],["Nationality",cn(re.nationality)||""],["Grade",cn(re.grade)||""],["License Number",cn(re.license_number)||""],["Registration Date",cn(re.registration_date)||""],["Year",cn(re.year)||""],["Renewal",cn(re.renewal)||""]];mr(Ke,{startY:Rt,head:[["Field","Value"]],body:k,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const Q=Ke.lastAutoTable.finalY||200;if(Ke.setFontSize(12),Ke.setTextColor(0,0,0),Ke.text("Medical certificate",14,Q+20),Ke.setDrawColor(0),Ke.line(14,Q+40,80,Q+40),Ke.setFontSize(10),re.club_id||te){const je=te||`ID: ${re.club_id}`;Ke.text(`${je}`,14,Q+60),Ke.text("Club Visa: _________________",14,Q+70)}if(re.league_id||we){const je=we||`ID: ${re.league_id}`;Ke.text(`${je}`,120,Q+60),Ke.text("League Visa: _________________",120,Q+70)}try{const je=JSON.stringify({id:re.id,name:`${re.first_name||""} ${re.last_name||""}`.trim(),license:re.license_number||"",club_id:re.club_id||"",league_id:re.league_id||""}),w=await(await ma(async()=>{const{default:K}=await Promise.resolve().then(()=>Om);return{default:K}},void 0)).default.toDataURL(je,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Ke.addImage(w,"PNG",180,Q+75,15,15)}catch(je){console.error("Error generating QR code:",je)}const ge=`athlete_${re.first_name}_${re.last_name}_${re.id||"record"}.pdf`;Ke.save(ge)}catch(te){console.error("❌ Error in exportPDFWithAutoOrientation:",te),alert(`Error exporting PDF: ${te.message}`)}},ve=async()=>{try{console.log("Force refreshing all data..."),typeof Storage<"u"&&(localStorage.clear(),sessionStorage.clear()),"caches"in window&&caches.keys().then(Rt=>{Rt.forEach(Xe=>{caches.delete(Xe)})});const re=Date.now();console.log("🔍 Cache cleared at:",re);const{data:te,error:we}=await ae.from("nameleague").select("id, name_league");!we&&te&&(console.log("🔍 RAW DATABASE LEAGUES:",te),te.forEach(Rt=>{var Xe;(Xe=Rt.name_league)!=null&&Xe.includes("%")&&(console.log("🚨 DATABASE CORRUPTION FOUND - League:",Rt.name_league),console.log("🚨 Character codes:",Rt.name_league.split("").map(Ft=>`${Ft}(${Ft.charCodeAt(0)})`).join(" ")))}),te.forEach(Rt=>{Rt.name_league&&(Rt.name_league=Ct(Rt.name_league))}),g(te));const{data:Ke,error:It}=await ae.from("nameclub").select("id, name_club, league_i");!It&&Ke&&(console.log("🔍 RAW DATABASE CLUBS:",Ke),Ke.forEach(Rt=>{var Xe;(Xe=Rt.name_club)!=null&&Xe.includes("%")&&(console.log("🚨 DATABASE CORRUPTION FOUND - Club:",Rt.name_club),console.log("🚨 Character codes:",Rt.name_club.split("").map(Ft=>`${Ft}(${Ft.charCodeAt(0)})`).join(" ")))}),Ke.forEach(Rt=>{Rt.name_club&&(Rt.name_club=Ct(Rt.name_club))}),u(Ke)),console.log("Data refresh completed")}catch(re){console.error("Error refreshing data:",re)}};b.useEffect(()=>{(async()=>{try{const{data:te,error:we}=await ae.from("clubrole").select("*");if(we)throw we;l(te||[]);const{data:Ke,error:It}=await ae.from("nameleague").select("id, name_league");if(It)throw It;g(Ke||[]);const{data:Rt,error:Xe}=await ae.from("nameclub").select("id, name_club, league_i");if(Xe)throw Xe;u(Rt||[])}catch(te){console.error("Error fetching initial data:",te.message)}finally{st(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(!x){u([]),v("");return}try{const{data:te,error:we}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(x));if(we)throw we;u(te||[]),v("")}catch(te){console.error("Error fetching clubs:",te.message),u([])}})()},[x]),b.useEffect(()=>{(async()=>{if(!_){Lt("");return}try{console.log("Fetching club name for selectedClub:",_);const{data:te,error:we}=await ae.from("nameclub").select("name_club").eq("id",Number(_)).single();if(we)throw we;console.log("Club data retrieved:",te),Lt((te==null?void 0:te.name_club)||""),console.log("Club name set to:",(te==null?void 0:te.name_club)||"")}catch(te){console.error("Error fetching club name:",te.message),Lt("")}})()},[_]),b.useEffect(()=>{(async()=>{if(!x){tt("");return}try{console.log("Fetching league name for selectedLeague:",x);const{data:te,error:we}=await ae.from("nameleague").select("name_league").eq("id",Number(x)).single();if(we)throw we;console.log("League data retrieved:",te),tt((te==null?void 0:te.name_league)||""),console.log("League name set to:",(te==null?void 0:te.name_league)||"")}catch(te){console.error("Error fetching league name:",te.message),tt("")}})()},[x]),b.useEffect(()=>{(async()=>{const{data:te}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);te!=null&&te.length&&i(te[0].logo_url)})()},[]);const Te=async()=>{const{data:re}=await ae.from("club_members").select("*");f(re||[])};b.useEffect(()=>{Te()},[]);const lt=async re=>{if(!re)return null;const te=re.name.split(".").pop(),we=`${Date.now()}-${Math.random()}.${te}`,{error:Ke}=await ae.storage.from("logos").upload(we,re);if(Ke)return Ye(`Upload failed: ${Ke.message}`),null;const{data:It}=ae.storage.from("logos").getPublicUrl(we);return(It==null?void 0:It.publicUrl)??null},ze=async(re,te,we)=>{const{count:Ke}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",re).eq("club_id",te).eq("role",we);return(Ke||0)+1},We=async re=>{var te;if(re.preventDefault(),Ye(""),oe(""),!L||!C||!Y||!D||!ee||!_||!x||!be||!ie){Ye("Please fill in all required fields.");return}if(M.length!==18){Ye("National ID must be exactly 18 digits.");return}if(be!==ie){Ye("Passwords do not match.");return}try{const we=await lt(Be),Ke=await lt(_e),It=((te=o.find(Q=>Q.id===parseInt(ee)))==null?void 0:te.club_role)||"",Rt=await ze(M,_,It),Xe=new Date().getFullYear(),Ft=`${Xe}/${Xe+1}`,A={last_name:C,first_name:L,date_of_birth:Y,place_of_birth:D,role:It,blood_type:G,national_id_number:M,password:be,nationality:Re,grade:E,holder_of:X,photo_url:Ke,renewal:Rt,year:Ft,confirmation:!1,logo_url:we,club_id:_,league_id:x,license_number:`LIC-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0]},{error:k}=await ae.from("club_members").insert([A]);if(k){Ye(`Failed to save member: ${k.message}`);return}oe(`Member "${L} ${C}" added successfully!`),j(""),B(""),V(""),$(""),I(""),ue(""),H(""),Ce(""),xe(""),v(""),N(""),Ae(null),Ne(null),se(""),U(""),le("")}catch(we){Ye(`Unexpected error: ${we.message}`)}},Vt=re=>{Et(re.id),Me(re)},Ut=()=>{Et(null),Me({})},qt=(re,te)=>{Me({...He,[te]:re.target.value})},Mt=async re=>{try{const{error:te}=await ae.from("club_members").update(He).eq("id",re);if(te)throw te;Ut(),Te()}catch(te){Ye(te.message)}},Fe=async re=>{try{const te=new Date(re.registration_date).toISOString().split("T")[0],we=new Date().toISOString().split("T")[0];if(te!==we){alert("You can only delete members on the same day of registration.");return}const{error:Ke}=await ae.from("club_members").delete().eq("id",re.id);if(Ke)throw Ke;f(It=>It.filter(Rt=>Rt.id!==re.id))}catch(te){Ye(te.message)}},z=async(re,te)=>{try{const{error:we}=await ae.from("club_members").update({confirmation:!te}).eq("id",re);if(we)throw we;f(Ke=>Ke.map(It=>It.id===re?{...It,confirmation:!te}:It))}catch(we){Ye(`Failed to update confirmation: ${we.message}`)}},De=m.filter(re=>{const te=Ge.toLowerCase();return re.first_name.toLowerCase().includes(te)||re.last_name.toLowerCase().includes(te)||re.national_id_number.includes(te)}),et=re=>{Ze(re)},Ze=re=>{if(!re||Object.keys(re).length===0){alert("No data available to export");return}Pe(re)},bt=(re,te=1)=>{var A,k;const we=re.internal.pageSize.getWidth(),Ke=re.internal.pageSize.getHeight();if(n)try{re.addImage(n,"PNG",we-40,15,25,25)}catch(Q){console.warn("Could not add federation logo:",Q)}re.setFontSize(10),re.setFont("helvetica","normal");const It=new Date().toLocaleDateString();re.text(`Print Date: ${It}`,15,20);const Rt=c.find(Q=>Q.id===_);if(Rt!=null&&Rt.logo_club)try{const Q=Rt.logo_club.startsWith("http")?Rt.logo_club:`https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/${Rt.logo_club}`;re.addImage(Q,"PNG",we-70,15,25,25)}catch(Q){console.warn("Could not add club logo:",Q)}re.setFontSize(16),re.setFont("helvetica","bold"),re.text(a,we/2,30,{align:"center"}),re.setFontSize(12),re.setFont("helvetica","normal");const Xe=((A=d.find(Q=>Q.id===x))==null?void 0:A.name_league)||"",Ft=((k=c.find(Q=>Q.id===_))==null?void 0:k.name_club)||"";return re.text(`${Ct(Xe)}`,we/2,35,{align:"center"}),re.text(`${Ct(Ft)}`,we/2,45,{align:"center"}),re.setFontSize(10),re.text(`Page ${te}`,we-20,Ke-10,{align:"right"}),45},Zt=re=>re.map(te=>{var It,Rt;const we=((It=c.find(Xe=>Xe.id===te.club_id))==null?void 0:It.name_club)||"",Ke=((Rt=d.find(Xe=>Xe.id===te.league_id))==null?void 0:Rt.name_league)||"";return[Ct(te.last_name)||"",Ct(te.first_name)||"",Ct(te.date_of_birth)||"",Ct(te.place_of_birth)||"",Ct(te.role_name)||"",Ct(te.blood_type)||"",Ct(te.nationality)||"",Ct(te.national_id_number)||"",Ct(te.license_number)||"",Ct(te.registration_date)||"",Ct(we),Ct(Ke),"",""]}),Xt=async()=>{try{if(console.log("Starting General PDF export..."),await ve(),console.log("Filtered members count:",(De==null?void 0:De.length)||0),!De||De.length===0){alert("No member data available to export. Please ensure members are loaded.");return}const re=new At("landscape");let te=bt(re);re.setFontSize(14),re.setFont("helvetica","bold"),re.text("Federation Club Members - General Report",re.internal.pageSize.getWidth()/2,te+10,{align:"center"});const we=Zt(De);console.log("Table data prepared, rows:",we.length),mr(re,{head:[["Last Name","First Name","DOB","POB","Role","Blood","Nationality","NID","License #","Registration","Club","League","Club Visa","League Visa"]],body:we,startY:te+20,styles:{fontSize:7,cellPadding:1},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{10:{cellWidth:25},11:{cellWidth:25},12:{cellWidth:20},13:{cellWidth:20}},didDrawPage:Rt=>{Rt.pageNumber>1&&bt(re,Rt.pageNumber)}});const It=`federation_club_members_general_${new Date().getFullYear()}.pdf`;console.log("Saving PDF as:",It),re.save(It),console.log("General PDF export completed successfully")}catch(re){console.error("Error exporting General PDF:",re),console.error("Error details:",{message:re.message,stack:re.stack,name:re.name}),alert(`Error exporting General PDF: ${re.message}`)}},hr=async()=>{try{console.log("Starting Grade & Role PDF export..."),await ve(),console.log("Fetching leagues...");const{data:re,error:te}=await ae.from("nameleague").select("id, name_league");if(te)throw console.error("Error fetching leagues:",te),new Error(`Failed to fetch leagues: ${te.message}`);if(console.log("Leagues fetched:",(re==null?void 0:re.length)||0),!re||re.length===0){alert("No leagues found");return}re.forEach(T=>{T.name_league&&(console.log("Original league name:",T.name_league),T.name_league=Ct(T.name_league),console.log("Sanitized league name:",T.name_league))}),console.log("Fetching clubs...");const{data:we,error:Ke}=await ae.from("nameclub").select("id, name_club, league_i");if(Ke)throw console.error("Error fetching clubs:",Ke),new Error(`Failed to fetch clubs: ${Ke.message}`);if(console.log("Clubs fetched:",(we==null?void 0:we.length)||0),!we||we.length===0){alert("No clubs found");return}we.forEach(T=>{T.name_club&&(console.log("Original club name:",T.name_club),T.name_club=Ct(T.name_club),console.log("Sanitized club name:",T.name_club))}),console.log("Fetching members...");const{data:It,error:Rt}=await ae.from("club_members").select("*");if(Rt)throw console.error("Error fetching members:",Rt),new Error(`Failed to fetch members: ${Rt.message}`);if(console.log("Members fetched:",(It==null?void 0:It.length)||0),!It||It.length===0){alert("No members found");return}const Xe=new At("landscape");let A=bt(Xe);const k={};console.log("🔍 DEBUG: Starting member processing..."),It.forEach(T=>{var F,ce;const w=we.find(me=>me.id===T.club_id),K=re.find(me=>me.id===(w==null?void 0:w.league_i));(F=K==null?void 0:K.name_league)!=null&&F.includes("%")&&console.log("🔍 DEBUG: Raw league name contains %:",K.name_league),(ce=w==null?void 0:w.name_club)!=null&&ce.includes("%")&&console.log("🔍 DEBUG: Raw club name contains %:",w.name_club);const J=K?Ct(K.name_league):"Unknown League",pe=w?Ct(w.name_club):"Unknown Club",Ue=T.year||"Unknown Year";k[Ue]||(k[Ue]={}),k[Ue][J]||(k[Ue][J]={}),k[Ue][J][pe]||(k[Ue][J][pe]=[]),k[Ue][J][pe].push(T)}),Xe.setFontSize(16),Xe.setFont("helvetica","bold"),Xe.text("Club Members - Grade & Role Report",Xe.internal.pageSize.getWidth()/2,A,{align:"center"}),A+=20,Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(Ct("ROLES SECTION"),20,A),A+=10;let Q=!0;for(const[T,w]of Object.entries(k))if(Object.keys(w).length!==0){Q||(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5),Q=!1,Xe.setFontSize(11),Xe.setFont("helvetica","bold"),Xe.text(`Year: ${cn(T)}`,20,A),A+=15;for(const[K,J]of Object.entries(w))if(Object.keys(J).length!==0){Xe.setFontSize(14),Xe.setFont("helvetica","bold"),Xe.text(`League: ${cn(K)}`,35,A),A+=12;for(const[pe,Ue]of Object.entries(J)){if(Ue.length===0)continue;Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(`Club: ${cn(pe)}`,50,A),A+=10;const F={};Ue.forEach(ce=>{const me=o.find(Ee=>Ee.id===ce.role_id),ye=(me==null?void 0:me.club_role)||"No Role";F[ye]||(F[ye]=[]),F[ye].push(ce)});for(const[ce,me]of Object.entries(F)){if(me.length===0)continue;Xe.setFontSize(10),Xe.setFont("helvetica","bold"),Xe.text(`Role: ${Ct(ce)}`,65,A),A+=6;const ye=me.map(Ee=>[Ct(Ee.last_name),Ct(Ee.first_name),Ct(Ee.date_of_birth),Ct(Ee.place_of_birth),Ct(Ee.blood_type),Ct(Ee.nationality),Ct(Ee.grade),Ct(Ee.holder_of),Ct(Ee.nid),Ct(Ee.password),Ct(Ee.renewal),Ee.confirmation?"Yes":"No",Ct(Ee.license_number)]);mr(Xe,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:ye,startY:A,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[52,152,219],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),A=Xe.lastAutoTable.finalY+8,A>180&&(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5)}A+=8,A>160&&(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5)}A+=10}A+=15}Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages()),Xe.setFontSize(16),Xe.setFont("helvetica","bold"),Xe.text("Federation Club Members - Grade & Role Report",Xe.internal.pageSize.getWidth()/2,A,{align:"center"}),A+=20,Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(Ct("GRADES SECTION"),20,A),A+=10;let ge=!0;for(const[T,w]of Object.entries(k))if(Object.keys(w).length!==0){ge||(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5),ge=!1,Xe.setFontSize(11),Xe.setFont("helvetica","bold"),Xe.text(`Year: ${Ct(T)}`,20,A),A+=15;for(const[K,J]of Object.entries(w))if(Object.keys(J).length!==0){Xe.setFontSize(14),Xe.setFont("helvetica","bold"),Xe.text(`League: ${Ct(K)}`,35,A),A+=12;for(const[pe,Ue]of Object.entries(J)){if(Ue.length===0)continue;Xe.setFontSize(12),Xe.setFont("helvetica","bold"),Xe.text(`Club: ${Ct(pe)}`,50,A),A+=10;const F={};Ue.forEach(ce=>{const me=ce.grade||"No Grade";F[me]||(F[me]=[]),F[me].push(ce)});for(const[ce,me]of Object.entries(F)){if(me.length===0)continue;Xe.setFontSize(10),Xe.setFont("helvetica","bold"),Xe.text(`Grade: ${Ct(ce)}`,65,A),A+=6;const ye=me.map(Ee=>{const ke=o.find(ft=>ft.id===Ee.role_id),ht=(ke==null?void 0:ke.club_role)||"No Role";return[Ct(Ee.last_name),Ct(Ee.first_name),Ct(Ee.date_of_birth),Ct(Ee.place_of_birth),Ct(Ee.blood_type),Ct(Ee.nationality),Ct(ht),Ct(Ee.holder_of),Ct(Ee.nid),Ct(Ee.password),Ct(Ee.renewal),Ee.confirmation?"Yes":"No",Ct(Ee.license_number),Ct(pe)]});mr(Xe,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Holder Of","NID","Password","Renewal","Confirmation","License #","Club"]],body:ye,startY:A,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[52,152,219],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),A=Xe.lastAutoTable.finalY+8,A>180&&(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5)}A+=8,A>160&&(Xe.addPage(),A=bt(Xe,Xe.internal.getNumberOfPages())+5)}A+=10}A+=15}const je=new Date().getFullYear();Xe.save(`federation_complete_league_club_report_${je}.pdf`)}catch(re){console.error("Error exporting complete federation report PDF:",re),console.error("Error details:",{message:re.message,stack:re.stack,name:re.name});let te="Error exporting PDF: ";re.message.includes("Failed to fetch")?te+="Network connection error. Please check your internet connection and try again.":re.message.includes("Failed to fetch leagues")?te+="Unable to load league data from database.":re.message.includes("Failed to fetch clubs")?te+="Unable to load club data from database.":re.message.includes("Failed to fetch members")?te+="Unable to load member data from database.":te+=re.message,alert(te)}};return b.useEffect(()=>{const re=setTimeout(()=>{},300);return()=>clearTimeout(re)},[Ge]),b.useEffect(()=>{(async()=>{if(!x){u([]),v(""),f([]);return}try{st(!0);const{data:te,error:we}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(x));if(we)throw we;u(te||[]),v("");const{data:Ke,error:It}=await ae.from("club_members").select("*").eq("league_id",Number(x));if(It)throw It;f(Ke||[])}catch(te){console.error("Error fetching league data:",te),u([]),f([])}finally{st(!1)}})()},[x]),b.useEffect(()=>{(async()=>{if(!(!x||!_)){st(!0);try{const{data:te,error:we}=await ae.from("club_members").select("*").eq("league_id",Number(x)).eq("club_id",Number(_));if(we)throw we;f(te||[])}catch(te){console.error("Error fetching members by club:",te),f([])}finally{st(!1)}}})()},[_,x]),s.jsxs("div",{className:"app-container",children:[dt&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[n?s.jsx("img",{src:n,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:a||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:re=>{pr(re.currentTarget),t("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:re=>{pr(re.currentTarget),t("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:re=>{pr(re.currentTarget),t("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:re=>{pr(re.currentTarget),t("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:We,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:ee,onChange:re=>I(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),o.map(re=>s.jsx("option",{value:re.id,children:re.club_role},re.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:x,onChange:re=>N(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select League"}),d.map(re=>s.jsx("option",{value:re.id,children:re.name_league},re.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:_,onChange:re=>v(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Club"}),c.map(re=>s.jsx("option",{value:re.id,children:re.name_club},re.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Re,onChange:re=>se(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:E,onChange:re=>U(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{value:X,onChange:re=>le(re.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:G,onChange:re=>ue(re.target.value),required:!0,children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:C,onChange:re=>j(re.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:L,onChange:re=>B(re.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:Y,onChange:re=>V(re.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:D,onChange:re=>$(re.target.value),required:!0})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:M,onChange:re=>H(re.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:be,onChange:re=>Ce(re.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:ie,onChange:re=>xe(re.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:re=>{var te;return Ae((te=re.target.files)==null?void 0:te[0])},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:re=>{var te;return Ne((te=re.target.files)==null?void 0:te[0])},required:!0})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"List Of Clubs Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsxs("select",{value:x,onChange:re=>N(re.target.value),children:[s.jsx("option",{value:"",children:"-- All Leagues --"}),d.map(re=>s.jsx("option",{value:re.id,children:re.name_league},re.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:_,onChange:re=>v(re.target.value),disabled:!x,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),c.map(re=>s.jsx("option",{value:re.id,children:re.name_club},re.id))]})]}),s.jsx("p",{children:s.jsx("h2",{className:"form-title",children:"search Club Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:Ge,onChange:re=>Qe(re.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Tt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:De.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):De.map(re=>s.jsxs("tr",{onDoubleClick:te=>{if(Date.now()-(window.lastDragEndTime||0)<200){console.log("🚫 Preventing double-click after drag"),te.preventDefault(),te.stopPropagation();return}et(re)},style:{cursor:"pointer"},children:[s.jsx("td",{children:Pt===re.id?s.jsx("input",{value:He.last_name||"",onChange:te=>qt(te,"last_name")}):re.last_name}),s.jsx("td",{children:Pt===re.id?s.jsx("input",{value:He.first_name||"",onChange:te=>qt(te,"first_name")}):re.first_name}),s.jsx("td",{children:Pt===re.id?s.jsx("input",{type:"date",value:He.date_of_birth||"",onChange:te=>qt(te,"date_of_birth")}):re.date_of_birth}),s.jsx("td",{children:Pt===re.id?s.jsx("input",{value:He.place_of_birth||"",onChange:te=>qt(te,"place_of_birth")}):re.place_of_birth}),s.jsx("td",{children:Pt===re.id?s.jsxs("select",{value:He.role_id||"",onChange:te=>qt(te,"role_id"),children:[s.jsx("option",{value:"",children:"-- Select --"}),o.map(te=>s.jsx("option",{value:te.id,children:te.club_role},te.id))]}):(()=>{const te=o.find(we=>we.id===re.role_id);return(te==null?void 0:te.club_role)||"No Role"})()}),s.jsx("td",{children:Pt===re.id?s.jsxs("select",{value:He.blood_type||"",onChange:te=>qt(te,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):re.blood_type}),s.jsx("td",{children:Pt===re.id?s.jsxs("select",{value:He.nationality||"",onChange:te=>qt(te,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):re.nationality}),s.jsx("td",{children:Pt===re.id?s.jsxs("select",{value:He.grade||"",onChange:te=>qt(te,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):re.grade}),s.jsx("td",{children:Pt===re.id?s.jsx("input",{value:He.holder_of||"",onChange:te=>qt(te,"holder_of")}):re.holder_of}),s.jsx("td",{children:re.national_id_number}),s.jsx("td",{children:re.renewal}),s.jsx("td",{children:re.year}),s.jsx("td",{children:re.license_number}),s.jsx("td",{children:re.registration_date}),s.jsx("td",{children:re.photos_url||re.photo_url?s.jsx("img",{src:wt(re.photos_url||re.photo_url),alt:"Member",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:re.confirmation?"✅":"❌"}),s.jsx("td",{children:re.club_id}),s.jsx("td",{children:re.league_id}),s.jsx("td",{children:Pt===re.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>Mt(re.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Ut,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-b",onClick:()=>Vt(re),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Fe(re),children:"Delete"}),s.jsx("button",{className:re.confirmation?"cancel-btn":"confirm-btn",onClick:()=>z(re.id,re.confirmation),children:re.confirmation?"Cancel Confirmation":"Confirm"})]})})]},re.id))})]})}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:Xt,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:hr,children:"Export Grade & Role PDF"})]})]}),at&&s.jsx(Pn,{error:at,onClose:()=>Ye("")}),Oe&&s.jsx(Rn,{success:Oe,onClose:()=>oe("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function u8(){b.useEffect(()=>{ti()},[]);const{state:t}=fi(),e=Ur(),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState([]),[c,u]=b.useState(0),[d,g]=b.useState(null),[m,f]=b.useState("Algerian Judo Federation"),[x,N]=b.useState(!0),[_,v]=b.useState(!0),[C,j]=b.useState(!1),[L,B]=b.useState(null),[Y,V]=b.useState(""),[D,$]=b.useState(""),[ee,I]=b.useState(""),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(""),[ie,xe]=b.useState(""),[Re,se]=b.useState(""),[E,U]=b.useState(""),[X,le]=b.useState(""),[_e,Ne]=b.useState(""),[Be,Ae]=b.useState(null),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState([]),[He,Me]=b.useState([]),[dt,st]=b.useState([]),[_t,Lt]=b.useState([]),[Ot,tt]=b.useState((t==null?void 0:t.club_id)??""),[yt,Bt]=b.useState((t==null?void 0:t.league_id)??""),[gt,jt]=b.useState(""),[Nt,Tt]=b.useState(""),[wt,Kt]=b.useState(null),[Pe,ve]=b.useState({}),[Te,lt]=b.useState(""),[ze,We]=b.useState(""),[Vt,Ut]=b.useState([]),[qt,Mt]=b.useState(""),Fe=Zn();function z(w){return new Promise((K,J)=>{Ua(w,pe=>{if(pe.type==="error")console.warn("EXIF processing failed, using original image:",w),K(w);else try{const Ue=pe.toDataURL("image/png");K(Ue)}catch(Ue){console.warn("Canvas conversion failed, using original image:",Ue),K(w)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}b.useEffect(()=>{(async()=>{const{data:K,error:J}=await ae.from("publications").select("id, title, description, photo_url, created_at").order("created_at",{ascending:!1});!J&&K&&l(K)})()},[]),b.useEffect(()=>{(async()=>{const{data:K,error:J}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!J&&K.length>0&&g(K[0].logo_url)})()},[]),b.useEffect(()=>{(async()=>{try{const[{data:K,error:J},{data:pe,error:Ue}]=await Promise.all([ae.from("nameclub").select("id, name_club"),ae.from("nameleague").select("id, name_league")]);J||Ue?console.error("Error fetching clubs/leagues:",J||Ue):(console.log("Clubs:",K),console.log("Leagues:",pe),st(K),Lt(pe))}catch(K){console.error("Unexpected error:",K)}finally{v(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(!(!Ge||!at))try{const{data:K,error:J}=await ae.from("categories").select("weight").eq("genres",Ge).eq("categories",at);J?console.error("Erreur récupération poids:",J.message):Et(K.map(pe=>pe.weight))}catch(K){console.error("Erreur inconnue:",K)}})()},[Ge,at]),b.useEffect(()=>{(async()=>{if(!(!Pe.genres||!Pe.categories))try{const{data:K,error:J}=await ae.from("categories").select("weight").eq("genres",Pe.genres).eq("categories",Pe.categories);J?console.error("Erreur récupération poids:",J.message):Et(K.map(pe=>pe.weight))}catch(K){console.error("Erreur inconnue:",K)}})()},[Pe.genres,Pe.categories]),b.useEffect(()=>{(async()=>{try{const{data:K,error:J}=await ae.from("nameleague").select("id, name_league");if(J)throw J;Lt(K||[]);const{data:pe,error:Ue}=await ae.from("athletes").select("*");if(Ue)throw Ue;Me(pe||[]),Ut(pe||[])}catch(K){console.error(K)}})()},[]),b.useEffect(()=>{(async()=>{if(!Te){st([]),We(""),Me(Vt);return}try{const{data:K,error:J}=await ae.from("nameclub").select("id, name_club").eq("league_i",Number(Te));if(J)throw J;st(K||[]),We("");const pe=Vt.filter(Ue=>Ue.league_id===Number(Te));Me(pe)}catch(K){console.error(K)}})()},[Te]),b.useEffect(()=>{(async()=>{if(!Te){Tt("");return}try{const{data:K,error:J}=await ae.from("nameleague").select("name_league").eq("id",Number(Te)).single();J||Tt((K==null?void 0:K.name_league)||"")}catch(K){console.error("Error fetching league name:",K)}})()},[Te]),b.useEffect(()=>{(async()=>{if(!ze){jt("");return}try{const{data:K,error:J}=await ae.from("nameclub").select("name_club").eq("id",Number(ze)).single();J||jt((K==null?void 0:K.name_club)||"")}catch(K){console.error("Error fetching club name:",K)}})()},[ze]),b.useEffect(()=>{if(!Te&&!ze){Me(Vt);return}let w=Vt;Te&&(w=w.filter(K=>K.league_id===Number(Te))),ze&&(w=w.filter(K=>K.club_id===Number(ze))),Me(w)},[Te,ze,Vt]);const De=async(w,K,J)=>{try{const{count:pe,error:Ue}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",w).eq("club_id",K).eq("league_id",J);return Ue?(console.error("getNextRenewal count error",Ue),1):(pe||0)+1}catch(pe){return console.error("getNextRenewal unexpected",pe),1}},et=async()=>{if(!Be)return null;const w=Be.name.split(".").pop(),K=`athlete-${Date.now()}.${w}`,{error:J}=await ae.storage.from("logos").upload(K,Be);if(J)return console.error("upload error",J),null;const{data:pe}=ae.storage.from("logos").getPublicUrl(K);return(pe==null?void 0:pe.publicUrl)??null},Ze=(w,K)=>{if(!w||!K)return{isValid:!1,message:"Date of birth and category are required."};const J=new Date(w),pe=new Date,Ue=pe.getFullYear()-J.getFullYear()-(pe.getMonth()<J.getMonth()||pe.getMonth()===J.getMonth()&&pe.getDate()<J.getDate()?1:0),ce={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[K];return ce?Ue<ce.min||Ue>ce.max?K==="Veterans"?{isValid:!1,message:`For ${K} category, athlete must be more than 35 years old. Current age: ${Ue}`}:{isValid:!1,message:`For ${K} category, athlete must be between ${ce.min} and ${ce.max} years old. Current age: ${Ue}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${K}`}},bt=async()=>{try{v(!0);let w=ae.from("athletes").select("*");ze?w=w.eq("club_id",Number(ze)):Te&&(w=w.eq("league_id",Number(Te)));const{data:K,error:J}=await w.order("id",{ascending:!1});if(J)throw J;const pe=Array.isArray(K)?K:[];Me(pe),Ut(pe)}catch(w){console.error("fetchData error",w),n(w.message||String(w))}finally{v(!1)}},Zt=async w=>{if(w.preventDefault(),n(""),a(""),!D||!Y){n("First name and Last name are required.");return}if(!/^\d{18}$/.test(ie)){n("National ID (NID) must be exactly 18 digits.");return}if(Re!==E){n("Passwords do not match.");return}if(!Te&&!yt){n("League must be selected or provided in state.");return}if(!ze&&!Ot){n("Club must be selected or provided in state.");return}const K=Ze(ee,at);if(!K.isValid){n(K.message);return}if(Y&&Re){const{data:Ue}=await ae.from("athletes").select("*").eq("password",Re);if(Ue&&Ue.length>0){n("Change your Password for this name because is already exist");return}}const J=new Date().getFullYear(),pe=`${J}/${J+1}`;try{const{data:Ue,error:F}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",ie).eq("year",pe);if(F)throw F;if(Ue&&Ue.length>0){n("An athlete with this National ID is already registered for this season.");return}}catch(Ue){n(Ue.message||String(Ue));return}try{v(!0),j(!0);const Ue=await et(),F=await De(ie,Ot,yt),ce={last_name:Y,first_name:D,date_of_birth:ee,place_of_birth:G,role:M,blood_type:be,national_id_number:ie,password:Re,license_number:`ATH-${J}-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:Ue,nationality:X,grade:_e,renewal:F,confirmation:!1,genres:Ge,categories:at,weight:Oe,league_id:Te||yt,club_id:ze||Ot,year:pe},{error:me}=await ae.from("athletes").insert([ce]);me?(console.error("insert athlete error",me),alert("Error saving athlete: "+me.message)):(V(""),$(""),I(""),ue(""),H(""),Ce(""),xe(""),se(""),U(""),le(""),Ne(""),Qe(""),Ye(""),oe(""),Ae(null),window.location.reload())}catch(Ue){console.error("handleSubmit error",Ue),alert("Unexpected error: "+Ue.message)}finally{j(!1),v(!1)}},Xt=w=>{Kt(w.id),ve({...w})},hr=()=>{Kt(null),ve({})},re=async()=>{const w=Ze(Pe.date_of_birth,Pe.categories);if(!w.isValid){alert(w.message);return}try{j(!0);const{error:K}=await ae.from("athletes").update({last_name:Pe.last_name,first_name:Pe.first_name,date_of_birth:Pe.date_of_birth,place_of_birth:Pe.place_of_birth,role:Pe.role,blood_type:Pe.blood_type,nationality:Pe.nationality,grade:Pe.grade,categories:Pe.categories,weight:Pe.weight,genres:Pe.genres}).eq("id",wt);K?alert("Update failed: "+K.message):(await bt(),hr())}catch(K){console.error("saveEdit error",K),alert("Unexpected error: "+K.message)}finally{j(!1)}},te=async w=>{const K=new Date().toISOString().split("T")[0];if(w.registration_date!==K){alert("You can only delete athletes the same day they were added.");return}if(window.confirm("Delete this athlete?"))try{const{error:J}=await ae.from("athletes").delete().eq("id",w.id);if(J)throw J;await bt()}catch(J){console.error("deleteAthlete error",J),alert("Error deleting athlete: "+J.message)}},we=["Admin","Coach","Athlete"],Ke=["Algerian","Tunisian"],It=["brown belt","black belt"],Rt=async(w,K)=>{try{const{error:J}=await ae.from("athletes").update({confirmation:!K}).eq("id",w);if(J)throw J;Me(pe=>pe.map(Ue=>Ue.id===w?{...Ue,confirmation:!K}:Ue))}catch(J){n(`Failed to update athlete confirmation: ${J.message}`)}},Xe=He.filter(w=>{var J,pe;const K=(qt||"").toLowerCase();return(((J=w.first_name)==null?void 0:J.toLowerCase())??"").includes(K)||(((pe=w.last_name)==null?void 0:pe.toLowerCase())??"").includes(K)||(w.national_id_number??"").includes(K)}),Ft=w=>{if(!w||Object.keys(w).length===0){alert("No data available to export");return}A(w)},A=async w=>{let K=null,J=null;try{w.club_id&&(K=(await Dn())[w.club_id]),w.league_id&&(J=(await Xn())[w.league_id])}catch(ke){console.error("Error fetching names:",ke)}const pe=new At("portrait","mm","a4");pe.setFontSize(18),pe.setTextColor(40,40,40),pe.text("Algerian Judo Federation",14,15);const Ue=`Athlete Information - ${w.first_name} ${w.last_name}`;pe.setFontSize(16),pe.setTextColor(40,40,40),pe.text(Ue,14,30),pe.setFontSize(10);const F=new Date().toLocaleString();if(pe.text(`Generated: ${F}`,14,37),d)try{pe.addImage(d,"PNG",170,10,25,25)}catch(ke){console.error("Error adding logo to PDF:",ke)}let ce=70;if(w.photos_url)try{const ke=await z(w.photos_url),ht=ke.startsWith("data:")?"PNG":"JPEG";pe.addImage(ke,ht,14,45,25,20),ce=70}catch(ke){console.error("Error adding photo to PDF:",ke);try{pe.addImage(w.photos_url,"JPEG",14,45,25,20)}catch(ht){console.error("Fallback image addition also failed:",ht)}ce=70}pe.setFontSize(12),w.confirmation?pe.setTextColor(0,128,0):pe.setTextColor(255,0,0);const me=w.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";pe.text(me,160,50);const ye=[["First Name",w.first_name||""],["Last Name",w.last_name||""],["Date of Birth",w.date_of_birth||""],["Place of Birth",w.place_of_birth||""],["National ID",w.national_id_number||""],["Nationality",w.nationality||""],["Blood Type",w.blood_type||""],["Grade",w.grade||""],["Role",w.role||""],["Gender",w.genres||""],["Category",w.categories||""],["Weight",w.weight||""],["License Number",w.license_number||""],["Registration Date",w.registration_date||""],["Year",w.year||""],["Renewal",w.renewal||""],["Club",K||`Club ID: ${w.club_id}`],["League",J||`League ID: ${w.league_id}`],["Confirmation",w.confirmation?"Confirmed":"Not Confirmed"]];mr(pe,{head:[["Field","Value"]],body:ye,startY:ce,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{fontSize:10},columnStyles:{0:{cellWidth:50},1:{cellWidth:120}}});const Ee=pe.lastAutoTable.finalY||200;if(pe.setFontSize(12),pe.setTextColor(0,0,0),pe.text("Medical certificate",14,Ee+10),pe.setDrawColor(0),pe.line(14,Ee+25,80,Ee+25),pe.setFontSize(10),w.club_id||K){const ke=K||`ID: ${w.club_id}`;pe.text(`Club: ${ke}`,14,Ee+40),pe.text("Club Visa: _________________",14,Ee+50)}if(w.league_id||J){const ke=J||`ID: ${w.league_id}`;pe.text(`League: ${ke}`,120,Ee+40),pe.text("League Visa: _________________",120,Ee+50)}try{const ke=JSON.stringify({id:w.id,name:`${w.first_name||""} ${w.last_name||""}`.trim(),license:w.license_number||"",club_id:w.club_id||"",league_id:w.league_id||"",confirmation:w.confirmation||"Unconfirmed"}),ht=await ui.toDataURL(ke,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});pe.addImage(ht,"PNG",170,Ee+55,15,15)}catch(ke){console.error("Error generating QR code:",ke)}pe.save(`athlete_${w.first_name}_${w.last_name}_${w.id||"record"}.pdf`)},k=async()=>{if(!Xe||Xe.length===0){alert("No athletes data available to export");return}const w=new At("landscape","mm","a4"),K=new Date().getFullYear(),J=`${K}/${K+1}`;let pe=je(w,m,Nt,gt);w.setFont("helvetica","bold"),w.setFontSize(14),w.setTextColor(220,53,69),w.text("Athletes - General Situation",w.internal.pageSize.getWidth()/2,pe,{align:"center"}),w.setTextColor(0,0,0),pe+=15,w.setFontSize(12),w.setFont("helvetica","bold"),w.text(`Year: ${J}`,20,pe),pe+=10;const Ue=Xe.map(F=>[ge(F.last_name||""),ge(F.first_name||""),ge(F.date_of_birth||""),ge(F.place_of_birth||""),ge(F.blood_type||""),ge(F.nationality||""),ge(F.grade||""),ge(F.genres||""),ge(F.categories||""),ge(F.weight||""),ge(F.national_id_number||""),F.confirmation?"Yes":"No",ge(F.license_number||"")]);mr(w,{startY:pe,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:Ue,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:[255,255,255],fontSize:6,fontStyle:"bold"},styles:{fontSize:5,overflow:"linebreak"},margin:{left:10,right:10},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}},didDrawPage:function(F){F.pageNumber>1&&je(w,m,Nt,gt)}}),w.save(`athletes_general_${J}.pdf`)},Q=async()=>{if(!Xe||Xe.length===0){alert("No athletes data available to export");return}const w=new At("landscape","mm","a4"),K=w.internal.pageSize.getWidth(),J=new Date().getFullYear(),pe=new Date().toLocaleDateString();let Ue={},F={};try{Ue=await Dn(),F=await Xn()}catch(ht){console.error("Error fetching club/league names:",ht)}const ce=()=>{if(w.setFontSize(10),w.setFont("helvetica","normal"),w.setTextColor(40,40,40),w.text(`Date: ${pe}`,14,15),w.setFontSize(16),w.setFont("helvetica","bold"),w.setTextColor(40,40,40),w.text("Algerian Judo Federation",K/2,15,{align:"center"}),d)try{w.addImage(d,"PNG",K-40,5,25,25)}catch(ht){console.error("Error adding logo to PDF:",ht)}w.setFontSize(14),w.setFont("helvetica","normal"),w.setTextColor(40,40,40),w.text(`League: ${Nt||"Unknown League"}`,K/2,30,{align:"center"}),w.setFontSize(14),w.setFont("helvetica","normal"),w.setTextColor(40,40,40),w.text(`Club: ${gt||"Unknown Club"}`,K/2,37,{align:"center"}),w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(220,53,69),w.text("Athletes Members - Category Situation",K/2,47,{align:"center"})},me=ht=>ht.sort((ct,nt)=>{const pt=new Date(ct.date_of_birth||"1900-01-01"),kt=new Date(nt.date_of_birth||"1900-01-01");return pt-kt}).map(ct=>[ge(ct.last_name||""),ge(ct.first_name||""),ge(ct.date_of_birth||""),ge(ct.place_of_birth||""),ge(ct.blood_type||""),ge(ct.nationality||""),ge(ct.grade||""),ge(ct.genres||""),ge(ct.categories||""),ge(ct.weight||""),ge(ct.national_id_number||""),ct.confirmation?"Yes":"No",ge(ct.license_number||"")]),ye={};Xe.forEach(ht=>{const ft=ht.year||"Unknown Year",ct=ht.club_id,nt=ct?Ue[ct]||`Club ID: ${ct}`:"Unknown Club",pt=ht.categories||"Uncategorized",kt=ht.genres||"Unspecified",wr=ht.weight||"Unspecified";ye[ft]||(ye[ft]={}),ye[ft][nt]||(ye[ft][nt]={}),ye[ft][nt][pt]||(ye[ft][nt][pt]={}),ye[ft][nt][pt][kt]||(ye[ft][nt][pt][kt]={}),ye[ft][nt][pt][kt][wr]||(ye[ft][nt][pt][kt][wr]=[]),ye[ft][nt][pt][kt][wr].push(ht)}),ce();let Ee=50,ke=!0;for(const[ht,ft]of Object.entries(ye)){Ee>180&&!ke&&(w.addPage(),ce(),Ee=50),w.setFontSize(13),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`Year: ${ht}`,14,Ee),Ee+=15;for(const[ct,nt]of Object.entries(ft))for(const[pt,kt]of Object.entries(nt)){Ee>210&&(w.addPage(),ce(),Ee=50,w.setFontSize(13),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`Year: ${ht}`,14,Ee),Ee+=15,w.setFontSize(12),w.text(`  Club: ${ct}`,20,Ee),Ee+=12),w.setFontSize(11),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`    Club: ${ct} - Category: ${pt}`,26,Ee),Ee+=10;for(const[wr,br]of Object.entries(kt)){Ee>220&&(w.addPage(),ce(),Ee=50,w.setFontSize(13),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`Year: ${ht}`,14,Ee),Ee+=15,w.setFontSize(11),w.text(`    Club: ${ct} - Category: ${pt}`,26,Ee),Ee+=10);for(const[dr,Sr]of Object.entries(br)){Ee>230&&(w.addPage(),ce(),Ee=50,w.setFontSize(13),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`Year: ${ht}`,14,Ee),Ee+=15,w.setFontSize(11),w.text(`    Club: ${ct} - Category: ${pt}`,26,Ee),Ee+=10),w.setFontSize(10),w.setTextColor(0,0,0),w.setFont(void 0,"bold"),w.text(`      Gender: ${wr} - Weight: ${dr}`,32,Ee),Ee+=8;const nr=me(Sr);mr(w,{startY:Ee,head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Gender","Category","Weight","NID","Confirmation","License #"]],body:nr,theme:"grid",headStyles:{fillColor:[40,40,40],textColor:[255,255,255],fontSize:6},styles:{fontSize:5,overflow:"linebreak"},margin:{left:44},columnStyles:{0:{cellWidth:18},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:18},6:{cellWidth:12},7:{cellWidth:12},8:{cellWidth:18},9:{cellWidth:12},10:{cellWidth:20},11:{cellWidth:15},12:{cellWidth:20}}}),Ee=w.lastAutoTable.finalY+8,ke=!1}Ee+=3}Ee+=5}Ee+=12}w.save(`athletes_hierarchical_${J}.pdf`)};b.useEffect(()=>{const w=setTimeout(()=>{},300);return()=>clearTimeout(w)},[qt]);const ge=w=>w?String(w).replace(/Ø=UÈ/g,"").replace(/Ø<ða/g,"").replace(/Ø=Ud/g,"").replace(/Ø-ÜÈ/g,"").replace(/Ø-Üd/g,"").replace(/Ø<Ða/g,"").replace(/Ø<ßà/g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/Ã¸/g,"ø").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã¡/g,"á").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä").replace(/Ã±/g,"ñ").replace(/Ã­/g,"í").replace(/Ã³/g,"ó").replace(/Ãº/g,"ú").trim():"",je=(w,K,J,pe)=>{const Ue=w.internal.pageSize.getWidth();if(d)try{w.addImage(d,"PNG",Ue-40,15,25,25)}catch(me){console.warn("Could not add federation logo:",me)}const F=new Date().toLocaleDateString();w.setFontSize(10),w.setFont("helvetica","normal"),w.text(`Print Date: ${F}`,15,20),w.setFontSize(16),w.setFont("helvetica","bold"),w.text(ge(K||"Algerian Judo Federation"),Ue/2,25,{align:"center"});let ce=40;return J&&(w.setFontSize(12),w.setFont("helvetica","normal"),w.text(`League: ${ge(J)}`,Ue/2,ce,{align:"center"}),ce+=15),pe&&(w.setFontSize(12),w.setFont("helvetica","normal"),w.text(`Club: ${ge(pe)}`,Ue/2,ce,{align:"center"}),ce+=15),ce+2},T=async()=>{try{let w=[];if(ze){const{data:me,error:ye}=await ae.from("athletes").select("*").eq("club_id",Number(ze));if(ye)throw ye;w=me||[]}else if(Te){const{data:me,error:ye}=await ae.from("athletes").select("*").eq("league_id",Number(Te));if(ye)throw ye;w=me||[]}else if(w=Array.isArray(He)&&He.length?He:Array.isArray(Vt)?Vt:[],!w||w.length===0){const{data:me,error:ye}=await ae.from("athletes").select("*");if(ye)throw ye;w=me||[]}if(!w||w.length===0){alert("No athletes found");return}const K=new At("landscape");let J=je(K,m,Nt,gt);K.setFontSize(14),K.setFont("helvetica","bold"),K.setTextColor(255,0,0),K.text("Athletes - Grade and Role Situation",K.internal.pageSize.getWidth()/2,J,{align:"center"}),K.setTextColor(0,0,0),J+=20,K.setFontSize(12),K.setFont("helvetica","bold"),K.text("SECTION GRADE",20,J),J+=15;const pe={};w.forEach(me=>{const ye=me.year||"Unknown Year",Ee=me.grade||"Unknown Grade";pe[ye]||(pe[ye]={}),pe[ye][Ee]||(pe[ye][Ee]=[]),pe[ye][Ee].push(me)});const Ue=Object.keys(pe).sort();for(const me of Ue){const ye=pe[me];K.setFontSize(14),K.setFont("helvetica","bold"),K.setTextColor(0,0,0),K.text(`Year: ${me}`,20,J),J+=15;const Ee=Object.keys(ye).sort();for(const ke of Ee){const ft=ye[ke].sort((nt,pt)=>{const kt=new Date(nt.date_of_birth||"1900-01-01"),wr=new Date(pt.date_of_birth||"1900-01-01");return kt-wr});K.setFontSize(12),K.setFont("helvetica","bold"),K.text(`Grade: ${ke}`,30,J),J+=10;const ct=ft.map(nt=>[ge(nt.last_name||""),ge(nt.first_name||""),ge(nt.date_of_birth||""),ge(nt.place_of_birth||""),ge(nt.blood_type||""),ge(nt.nationality||""),ge(nt.genres||""),ge(nt.categories||""),ge(nt.weight||""),ge(nt.national_id_number||""),nt.confirmation?"Yes":"No",ge(nt.license_number||"")]);mr(K,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Gender","Category","Weight","NID","Confirmation","License #"]],body:ct,startY:J,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10},didDrawPage:function(nt){nt.pageNumber>1&&je(K,m,Nt,gt)}}),J=K.lastAutoTable.finalY+15,J>K.internal.pageSize.getHeight()-80&&(K.addPage(),J=je(K,m,Nt,gt),J+=20)}J+=10}const F=new Date().getFullYear(),ce=Nt||gt||"athletes";K.save(`${ge(ce)}_grade_role_athletes_${F}.pdf`)}catch(w){console.error("Error exporting grade role PDF:",w),alert("Error exporting PDF. Please try again.")}};return b.useEffect(()=>{Ot&&yt&&bt()},[Ot,yt]),s.jsxs("div",{className:"app-container",children:[_&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[d?s.jsx("img",{src:d,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:m||"Algerian Judo Federation"})]})})}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{children:"Welcome to the Federation Account"}),s.jsx("p",{children:"This is the Federation Account page."}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:()=>e("/MemberListPageP"),children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:w=>{pr(w.currentTarget),e("/TheLeagueList-Add",{state:{...t,league_id:(t==null?void 0:t.league_id)??Te??"",league_name:(t==null?void 0:t.league_name)??"",league_logo:(t==null?void 0:t.league_logo)??""}})},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:w=>{pr(w.currentTarget),e("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:w=>{pr(w.currentTarget),e("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),s.jsxs("form",{onSubmit:Zt,className:"form-grid",children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Y,onChange:w=>V(w.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:D,onChange:w=>$(w.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:ee,onChange:w=>I(w.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:G,onChange:w=>ue(w.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:X,onChange:w=>le(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Ke.map((w,K)=>s.jsx("option",{value:w,children:w},K))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:_e,onChange:w=>Ne(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),It.map((w,K)=>s.jsx("option",{value:w,children:w},K))]})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:Ge,onChange:w=>Qe(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:at,onChange:w=>Ye(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"}),s.jsx("option",{value:"Cadets By Team",children:"Cadets By Team"}),s.jsx("option",{value:"Juniors By Team",children:"Juniors By Team"}),s.jsx("option",{value:"Seniors By Team",children:"Seniors By Team"}),s.jsx("option",{value:"Cadets By Mixed Team",children:"Cadets By Mixed Team"}),s.jsx("option",{value:"Juniors By Mixed Team",children:"Juniors By Mixed Team"}),s.jsx("option",{value:"Seniors By Mixed Team",children:"Seniors By Mixed Team"})]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:Oe,onChange:w=>oe(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Pt.map((w,K)=>s.jsx("option",{value:w,children:w},K))]})]}),s.jsxs("label",{children:["National ID Number *",s.jsx("input",{value:ie,onChange:w=>xe(w.target.value.replace(/\D/g,"")),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:be,onChange:w=>Ce(w.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:Re,onChange:w=>se(w.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:E,onChange:w=>U(w.target.value),required:!0})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:Te,onChange:w=>{lt(w.target.value),We("")},required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),_t.map(w=>s.jsx("option",{value:w.id,children:w.name_league},w.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:ze,onChange:w=>We(w.target.value),disabled:!Te,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),dt.map(w=>s.jsx("option",{value:w.id,children:w.name_club},w.id))]})]}),s.jsxs("label",{children:["Upload Athlete Photo *",s.jsx("input",{type:"file",onChange:w=>{var K;return Ae(((K=w.target.files)==null?void 0:K[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Athlete"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsx("h2",{className:"form-title",children:"List Of Athletes"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsxs("select",{value:Te,onChange:w=>lt(w.target.value),children:[s.jsx("option",{value:"",children:"-- All Leagues --"}),_t.map(w=>s.jsx("option",{value:w.id,children:w.name_league},w.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:ze,onChange:w=>We(w.target.value),disabled:!Te,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),dt.map(w=>s.jsx("option",{value:w.id,children:w.name_club},w.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Athlete"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:qt,onChange:w=>Mt(w.target.value)})})]}),s.jsxs("div",{className:"table-container",ref:Fe,children:[s.jsxs("div",{style:{marginBottom:8,fontSize:14},children:[s.jsx("strong",{children:"Selected:"}),Te?` League: ${Nt||"ID "+Te}`:" All Leagues",Te&&!ze?" | All Clubs in League":"",ze?` | Club: ${gt||"ID "+ze}`:""]}),s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{style:{backgroundColor:"#000",color:"#fff"},children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"conf_request"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Xe.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found for this club/league."})}):Xe.map(w=>s.jsxs("tr",{onDoubleClick:()=>Ft(w),style:{cursor:"pointer"},children:[s.jsx("td",{children:wt===w.id?s.jsx("input",{value:Pe.last_name||"",onChange:K=>handleChange(K,"last_name")}):w.last_name}),s.jsx("td",{children:wt===w.id?s.jsx("input",{value:Pe.first_name||"",onChange:K=>ve({...Pe,first_name:K.target.value})}):w.first_name}),s.jsx("td",{children:wt===w.id?s.jsx("input",{type:"date",value:Pe.date_of_birth||"",onChange:K=>ve({...Pe,date_of_birth:K.target.value})}):w.date_of_birth}),s.jsx("td",{children:wt===w.id?s.jsx("input",{value:Pe.place_of_birth||"",onChange:K=>ve({...Pe,place_of_birth:K.target.value})}):w.place_of_birth}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.role||"",onChange:K=>ve({...Pe,role:K.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),we.map((K,J)=>s.jsx("option",{value:typeof K=="object"?K.club_role??K.name??"":K,children:typeof K=="object"?K.club_role??K.name??"":K},J))]}):w.role}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.blood_type||"",onChange:K=>ve({...Pe,blood_type:K.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):w.blood_type}),s.jsx("td",{children:w.national_id_number}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.nationality||"",onChange:K=>ve({...Pe,nationality:K.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),Ke.map((K,J)=>s.jsx("option",{value:K,children:K},J))]}):w.nationality}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.grade||"",onChange:K=>ve({...Pe,grade:K.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),It.map((K,J)=>s.jsx("option",{value:K,children:K},J))]}):w.grade}),s.jsx("td",{children:w.renewal}),s.jsx("td",{children:w.year}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.genres||"",onChange:K=>{ve({...Pe,genres:K.target.value,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Men",children:"Men"}),s.jsx("option",{value:"Women",children:"Women"})]}):w.genres}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.categories||"",onChange:K=>{ve({...Pe,categories:K.target.value,weight:""})},children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"Benjamins",children:"Benjamins"}),s.jsx("option",{value:"Minimes",children:"Minimes"}),s.jsx("option",{value:"Cadets",children:"Cadets"}),s.jsx("option",{value:"Juniors",children:"Juniors"}),s.jsx("option",{value:"Hopefuls",children:"Hopefuls"}),s.jsx("option",{value:"Seniors",children:"Seniors"}),s.jsx("option",{value:"Veterans",children:"Veterans"})]}):w.categories}),s.jsx("td",{children:wt===w.id?s.jsxs("select",{value:Pe.weight||"",onChange:K=>ve({...Pe,weight:K.target.value}),disabled:!Pe.genres||!Pe.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),Pt.map((K,J)=>s.jsx("option",{value:K,children:K},J))]}):w.weight}),s.jsx("td",{children:w.license_number}),s.jsx("td",{children:w.registration_date}),s.jsx("td",{children:w.photos_url?s.jsx("img",{src:w.photos_url,alt:`${w.first_name} ${w.last_name}`,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"}}):"No Photo"}),s.jsx("td",{children:w.confirmation?"✅":"❌"}),s.jsx("td",{children:w.confirmation_request?"conf_request":"conf_Not_request"}),s.jsx("td",{children:w.club_id}),s.jsx("td",{children:w.league_id}),s.jsx("td",{children:wt===w.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:re,children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:hr,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>Xt(w),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>te(w),disabled:w.registration_date!==new Date().toISOString().split("T")[0],title:w.registration_date!==new Date().toISOString().split("T")[0]?"Delete allowed only on the day of registration":"Delete",children:"Delete"}),s.jsx("button",{className:w.confirmation?"cancel-btn":"confirm-btn",disabled:(w.confirmation_request?"conf_request":"conf_Not_request")!="conf_request",onClick:()=>{if((w.confirmation_request?"conf_request":"conf_Not_request")!="conf_request"){n("you not confirme because is not requested");return}Rt(w.id,w.confirmation)},children:w.confirmation?"Cancel Confirmation":"Confirm"})]})})]},w.id))})]})]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:k,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Q,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:T,children:"Export by Grade PDF"})]})]}),r&&s.jsx(Pn,{error:r.message||r,onClose:()=>n("")}),i&&s.jsx(Rn,{success:i,onClose:()=>a("")}),C&&s.jsx(ta,{message:"Processing athlete data..."}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function d8(){b.useEffect(()=>{ti()},[]);const[t,e]=b.useState([]),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState(""),[m,f]=b.useState(""),[x,N]=b.useState(""),[_,v]=b.useState(""),[C,j]=b.useState(""),[L,B]=b.useState(null),[Y,V]=b.useState(null),[D,$]=b.useState(""),[ee,I]=b.useState(""),[G,ue]=b.useState(""),[M,H]=b.useState(""),[be,Ce]=b.useState(!1),[ie,xe]=b.useState(!1),[Re,se]=b.useState(null),[E,U]=b.useState({}),[X,le]=b.useState([]),[_e,Ne]=b.useState(null),[Be,Ae]=b.useState(!0),[Ge,Qe]=b.useState(null),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(null),[Pt,Et]=b.useState("Algerian Judo Federation"),[He,Me]=b.useState([]),[dt,st]=b.useState(""),_t=Ur(),Lt=Zn();b.useEffect(()=>{(async()=>{const{data:De,error:et}=await ae.from("nameleague").select("*");!et&&De&&le(De),Ae(!1)})()},[]),b.useEffect(()=>{(async()=>{const{data:De,error:et}=await ae.from("leaguerole").select("*");!et&&De&&Me(De)})()},[]),b.useEffect(()=>{(async()=>{if(!M){Ae(!1);return}const{data:De,error:et}=await ae.from("league_members").select("*").eq("league_id",Number(M));et?Qe(`Error fetching members: ${et.message}`):e(De||[]),Ae(!1)})()},[M]);const Ot=async()=>{try{Ae(!0),Qe(null);const{data:z,error:De}=await ae.from("league_members").select("*").order("id",{ascending:!1});De?Qe(De):(e(z||[]),Ye(`Loaded ${(z==null?void 0:z.length)||0} league members`))}catch(z){Qe(z)}finally{Ae(!1)}};b.useEffect(()=>{Ot()},[]),b.useEffect(()=>{(async()=>{const{data:De,error:et}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);!et&&De&&De.length>0&&oe(tt(De[0].logo_url)||De[0].logo_url)})()},[]);const tt=z=>z?z.startsWith("http")?z:`${ae.storageUrl}/object/public/logos/${z}`:null,yt=(Array.isArray(t)?t:[]).filter(z=>{if(M&&String(z.league_id)!==String(M))return!1;const De=(dt||"").trim().toLowerCase();return De?[z.first_name,z.last_name,z.national_id_number,z.club_name,z.role,z.grade].filter(Ze=>Ze!=null).some(Ze=>String(Ze).toLowerCase().includes(De)):!0}),Bt=z=>{const De=z.registration||z.registration_date||"";return[Ct(z.last_name||""),Ct(z.first_name||""),Ct(z.date_of_birth||""),Ct(z.place_of_birth||""),Ct(z.role||""),Ct(z.blood_type||""),Ct(z.nationality||""),Ct(z.grade||""),Ct(z.holder_of||""),Ct(z.national_id_number||""),Ct(z.renewal||""),Ct(z.license_number||""),Ct(De),z.confirmation?"Yes":"No",Ct(z.password||""),String(z.league_id||"")]},gt=z=>{const De=z.internal.pageSize.width;z.internal.pageSize.height;try{Oe?z.addImage(Oe,"PNG",De-50,10,30,30):Zi&&z.addImage(Zi,"PNG",De-50,10,30,30)}catch(Ze){console.warn("Could not add logo to PDF header:",Ze)}const et=new Date().toLocaleDateString();return z.setFontSize(10),z.setFont("helvetica","normal"),z.text(`Print Date: ${et}`,14,18),z.setFontSize(16),z.setFont("helvetica","bold"),z.text("Algerian Judo Federation",De/2,24,{align:"center"}),40},jt=z=>[Ct(z.last_name||""),Ct(z.first_name||""),Ct(z.date_of_birth||""),Ct(z.place_of_birth||""),Ct(z.blood_type||""),Ct(z.nationality||""),Ct(z.grade||""),Ct(z.role||""),Ct(z.holder_of||""),Ct(z.national_id_number||""),Ct(z.renewal||""),z.confirmation?"Yes":"No",Ct(z.license_number||""),Ct(z.club_name||"")],Nt=async()=>{const z=Number(M);try{let De=Array.isArray(t)?t.slice():[];if(z&&!isNaN(z)&&(De=De.filter(te=>String(te.league_id)===String(z))),!De||De.length===0){alert("No members found");return}const et=new At("landscape"),Ze=te=>{const we=X.find(Ke=>String(Ke.id)===String(te));return Ct((we==null?void 0:we.name_league)||`League ${te}`)},bt=["Last","First","DOB","POB","Role","Blood","Nationality","Grade","Holder Of","NID","Renewal","License #","Registration","Confirmation","Password","League ID"],Zt={};De.forEach(te=>{const we=te.league_id||"Unknown League";Zt[we]||(Zt[we]=[]),Zt[we].push(te)});const Xt=Object.keys(Zt);Xt.forEach((te,we)=>{let Ke=gt(et);et.setFontSize(14),et.setFont("helvetica","bold"),et.setTextColor(255,0,0),et.text("League Members - General Situation",et.internal.pageSize.getWidth()/2,Ke,{align:"center"}),et.setTextColor(0,0,0),Ke+=20;const It=Ze(te);et.setFontSize(12),et.setFont("helvetica","bold"),et.text(`${It}`,14,Ke),Ke+=8;const Rt=Zt[te],Xe={};Rt.forEach(A=>{const k=A.year?String(A.year):"Unknown Year";Xe[k]||(Xe[k]=[]),Xe[k].push(A)});const Ft=Object.keys(Xe).sort();Ft.forEach((A,k)=>{et.setFontSize(11),et.setFont("helvetica","bold"),et.text(`Year: ${A}`,14,Ke),Ke+=8;const Q=Xe[A];mr(et,{head:[bt],body:Q.map(Bt),startY:Ke,styles:{fontSize:8},headStyles:{fillColor:[0,128,0],textColor:[255,255,255]},margin:{left:14,right:10}}),Ke=et.lastAutoTable.finalY+10,Ke>et.internal.pageSize.getHeight()-50&&k<Ft.length-1&&(et.addPage(),Ke=gt(et),et.setFontSize(14),et.setFont("helvetica","bold"),et.setTextColor(255,0,0),et.text("League Members - General Situation",et.internal.pageSize.getWidth()/2,Ke,{align:"center"}),et.setTextColor(0,0,0),Ke+=20,et.setFontSize(12),et.setFont("helvetica","bold"),et.text(`${It}`,14,Ke),Ke+=8)}),we<Xt.length-1&&et.addPage()});const hr=new Date().getFullYear(),re=!z||isNaN(z)?`league_all_general_members_${hr}.pdf`:`league_general_members_${hr}.pdf`;et.save(re)}catch(De){console.error("Error exporting general PDF:",De),alert("Error exporting PDF. Please try again.")}},Tt=async()=>{Ae(!0),Qe(null);try{const{data:z,error:De}=await ae.from("league_members").select("*");if(De)throw De;if(!z||z.length===0){alert("No league members found"),Ae(!1);return}const et={};z.forEach(re=>{const te=re.league_id||"Unknown League";et[te]||(et[te]=[]),et[te].push(re)});const Ze=new At("landscape"),bt=re=>{const te=X.find(we=>String(we.id)===String(re));return Ct((te==null?void 0:te.name_league)||`League ${re}`)},Zt=(re,te)=>{const we=bt(re);let Ke=gt(Ze);Ze.setFontSize(14),Ze.setFont("helvetica","bold"),Ze.setTextColor(255,0,0),Ze.text("League Members - Grade and Role Situation",Ze.internal.pageSize.getWidth()/2,Ke,{align:"center"}),Ze.setTextColor(0,0,0),Ke+=20,Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${we}`,14,Ke),Ke+=12;const It={};te.forEach(Xe=>{const Ft=Xe.club_name||"No Club";It[Ft]||(It[Ft]=[]),It[Ft].push(Xe)});const Rt=Object.keys(It).sort();Rt.forEach((Xe,Ft)=>{const A=It[Xe],k={};A.forEach(ge=>{const je=ge.year||"Unknown Year";k[je]||(k[je]=[]),k[je].push(ge)}),Object.keys(k).sort().forEach((ge,je)=>{Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${Ct(Xe)}   Year ${Ct(ge)}`,14,Ke),Ke+=10;const T=k[ge],w={};T.forEach(J=>{const pe=J.role||"No Role";w[pe]||(w[pe]=[]),w[pe].push(J)}),Object.entries(w).forEach(([J,pe])=>{pe.length&&(Ze.setFontSize(11),Ze.setFont("helvetica","bold"),Ze.text(`Role: ${Ct(J)}`,18,Ke),Ke+=6,mr(Ze,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #","Club"]],body:pe.map(jt),startY:Ke,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:10}}),Ke=Ze.lastAutoTable.finalY+12,Ke>160&&(Ze.addPage(),Ke=gt(Ze),Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${we}`,14,Ke),Ke+=12,Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${Ct(Xe)}   Year ${Ct(ge)}`,14,Ke),Ke+=10))});const K={};T.forEach(J=>{const pe=J.grade||"No Grade";K[pe]||(K[pe]=[]),K[pe].push(J)}),Object.entries(K).forEach(([J,pe])=>{pe.length&&(Ze.setFontSize(11),Ze.setFont("helvetica","bold"),Ze.text(`Grade: ${Ct(J)}`,18,Ke),Ke+=6,mr(Ze,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Role","Holder Of","NID","Renewal","Confirmation","License #","Club"]],body:pe.map(jt),startY:Ke,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:10}}),Ke=Ze.lastAutoTable.finalY+12,Ke>160&&(Ze.addPage(),Ke=gt(Ze),Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${we}`,14,Ke),Ke+=12,Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${Ct(Xe)}   Year ${Ct(ge)}`,14,Ke),Ke+=10))}),Ke+=8}),Ke+=10,Ke>160&&Ft<Rt.length-1&&(Ze.addPage(),Ke=gt(Ze),Ze.setFontSize(12),Ze.setFont("helvetica","bold"),Ze.text(`${we}`,14,Ke),Ke+=12)})},Xt=Object.keys(et);if(Xt.length===0){alert("No league members found"),Ae(!1);return}Xt.forEach((re,te)=>{te>0&&Ze.addPage(),Zt(re,et[re])});const hr=new Date().getFullYear();Ze.save(`league_grade_role_all_leagues_${hr}.pdf`)}catch(z){Qe(`Error exporting grade role PDF: ${z.message}`)}finally{Ae(!1)}},wt=z=>{if(!z||Object.keys(z).length===0){alert("No data available to export");return}Pe(z)};function Kt(z){return new Promise((De,et)=>{Ua(z,Ze=>{if(Ze.type==="error")console.warn("EXIF processing failed, using original image:",z),De(z);else try{const bt=Ze.toDataURL("image/png");De(bt)}catch(bt){console.warn("Canvas conversion failed, using original image:",bt),De(z)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Pe=async z=>{let De=null,et=null;try{z.club_id&&(De=(await Dn())[z.club_id]),z.league_id&&(et=(await Xn())[z.league_id])}catch(we){console.error("Error fetching names:",we)}const Ze=new At("portrait","mm","a4");Ze.setFontSize(18),Ze.setTextColor(40,40,40),Ze.text("Algerian Judo Federation",14,15);const bt=`Member Information - ${z.first_name} ${z.last_name}`;Ze.setFontSize(16),Ze.setTextColor(40,40,40),Ze.text(bt,14,30),Ze.setFontSize(10);const Zt=new Date().toLocaleString();if(Ze.text(`Generated: ${Zt}`,14,37),Oe)try{Ze.addImage(Oe,"PNG",170,10,25,25)}catch(we){console.error("Error adding logo to PDF:",we)}let Xt=70;if(z.photo_url)try{const we=await Kt(z.photo_url),Ke=we.startsWith("data:")?"PNG":"JPEG";Ze.addImage(we,Ke,14,45,25,20),Xt=70}catch(we){console.error("Error adding photo to PDF:",we);try{Ze.addImage(z.photo_url,"JPEG",14,45,25,20)}catch(Ke){console.error("Fallback image addition also failed:",Ke)}Xt=70}Ze.setFontSize(12),z.confirmation?Ze.setTextColor(0,128,0):Ze.setTextColor(255,0,0);const hr=z.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";Ze.text(hr,160,50);const re=[["First Name",z.first_name||""],["Last Name",z.last_name||""],["Date of Birth",z.date_of_birth||""],["Place of Birth",z.place_of_birth||""],["National ID",z.national_id_number||""],["Nationality",z.nationality||""],["Blood Type",z.blood_type||""],["Grade",z.grade||""],["Role",z.role||""],["License Number",z.license_number||""],["Registration Date",z.registration_date||""],["Year",z.year||""],["Renewal",z.renewal||""]];mr(Ze,{head:[["Field","Value"]],body:re,startY:Xt,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const te=Ze.lastAutoTable.finalY||200;if(Ze.setFontSize(12),Ze.setTextColor(0,0,0),Ze.text("Medical certificate",14,te+20),Ze.setDrawColor(0),Ze.line(14,te+40,80,te+40),Ze.setFontSize(10),z.league_id||et){const we=et||`ID: ${z.league_id}`;Ze.text(`League: ${we}`,120,te+60),Ze.text("League Visa: _________________",120,te+70)}try{const we=JSON.stringify({id:z.id,name:`${z.first_name||""} ${z.last_name||""}`.trim(),license:z.license_number||"",club_id:z.club_id||"",league_id:z.league_id||"",confirmation:z.confirmation||"Unconfirmed"}),Ke=await ui.toDataURL(we,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Ze.addImage(Ke,"PNG",175,te+75,15,15)}catch(we){console.error("Error generating QR code:",we)}Ze.save(`member_${z.first_name}_${z.last_name}.pdf`)},ve=async()=>{if(!L||L.size===0)return"";const z=L.name.split(".").pop(),De=`photo-${Date.now()}.${z}`,{error:et}=await ae.storage.from("logos").upload(De,L);if(et)return Qe(`Photo upload failed: ${et.message}`),"";const{data:Ze}=ae.storage.from("logos").getPublicUrl(De);return(Ze==null?void 0:Ze.publicUrl)??""},Te=async()=>{if(!Y)return null;const z=Y.name.split(".").pop(),et=`${Date.now()}.${z}`,{error:Ze}=await ae.storage.from("logos").upload(et,Y);if(Ze)return Qe(`Upload failed: ${Ze.message}`),null;const{data:bt}=ae.storage.from("logos").getPublicUrl(et);return(bt==null?void 0:bt.publicUrl)??null},lt=async(z,De,et,Ze)=>{const{data:bt}=await ae.from("league_members").select("*").eq("national_id_number",z).eq("league_id",De).eq("role",et).eq("year",Ze);if(bt&&bt.length>0)throw new Error("This member is already registered for the current season with the same role and league.");const{count:Zt}=await ae.from("league_members").select("*",{count:"exact",head:!0}).eq("national_id_number",z).eq("league_id",De).eq("role",et);return(Zt||0)+1},ze=async z=>{var re;if(z.preventDefault(),Qe(""),Ye(""),Ce(!0),!i||!r||!o||!c||!d||!M||!_||!C||!L){const te=[];i||te.push("First Name"),r||te.push("Last Name"),o||te.push("Date of Birth"),c||te.push("Place of Birth"),d||te.push("League Role"),M||te.push("League (in the table is league_id)"),_||te.push("Password"),C||te.push("Confirm Password"),L||te.push("Member Photo"),Qe(`Please fill in the following required fields: ${te.join(", ")}`),Ce(!1);return}const De=Number(M);if(!De||isNaN(De)){Qe("Please select a valid league."),Ce(!1);return}if(x.length!==18){Qe("National ID must be exactly 18 digits."),Ce(!1);return}if(_!==C){Qe("Passwords do not match."),Ce(!1);return}const et=new Date(o),Ze=new Date,bt=Ze.getFullYear()-et.getFullYear(),Zt=Ze.getMonth()-et.getMonth(),Xt=Ze.getDate()-et.getDate();if((Zt<0||Zt===0&&Xt<0?bt-1:bt)<=21){Qe("Member must be more than 21 years old to register."),Ce(!1);return}try{const{data:te,error:we}=await ae.from("league_members").select("id, last_name, password").eq("last_name",r).eq("password",_);if(we){Qe(`Failed to validate member data: ${we.message}`),Ce(!1);return}if(te&&te.length>0){Qe(`A member with the last name "${r}" and this password already exists. Please change the password.`),Ce(!1);return}}catch(te){Qe(`Validation error: ${te.message}`),Ce(!1);return}try{const te=await ve(),we=await Te(),Ke=new Date().getFullYear(),It=`${Ke}/${Ke+1}`,Rt=((re=He.find(k=>k.id===parseInt(d)))==null?void 0:re.league_role)||"",Xe=await lt(x,M,Rt,It),Ft={last_name:r,first_name:i,date_of_birth:o,place_of_birth:c,role:Rt,blood_type:m,national_id_number:x,password:_,license_number:"LIC-"+Date.now(),registration_date:new Date().toISOString().split("T")[0],logo_url:we,league_id:De,photo_url:te,renewal:Xe,year:It,nationality:D,holder_of:ee,grade:G,confirmation:!1},{error:A}=await ae.from("league_members").insert([Ft]);if(A){Qe(`Failed to save member: ${A.message}`),Ce(!1);return}if(we&&M&&await ae.from("nameleague").update({logo_url:we}).eq("id",M),Ye(`Member "${i} ${r}" has been successfully added to the League!`),n(""),a(""),l(""),u(""),N(""),v(""),j(""),g(""),f(""),H(""),B(null),$(""),I(""),ue(""),M){const{data:k}=await ae.from("league_members").select("*").eq("league_id",Number(M));e(k||[]);const{data:Q}=await ae.from("nameleague").select("logo_url").eq("id",M).single();Q!=null&&Q.logo_url&&Ne(tt(Q.logo_url))}Ce(!1)}catch(te){Qe(`Unexpected error: ${te.message}`),Ce(!1)}},We=z=>{se(z.id),U({...z})},Vt=()=>{se(null),U({})},Ut=(z,De)=>{U({...E,[De]:z.target.value})},qt=async z=>{try{xe(!0),e(t.map(De=>De.id===z?{...De,...E}:De)),Ye("Member updated."),Vt()}catch(De){Qe(De.message||String(De))}finally{xe(!1)}},Mt=async z=>{try{e(t.filter(De=>De.id!==z.id)),Ye("Member removed.")}catch(De){Qe(De.message||String(De))}};async function Fe(z,De){try{const{error:et}=await ae.from("league_members").update({confirmation:!De}).eq("id",z);if(et){console.error("toggleConfirmation error:",et);return}e(Ze=>Ze.map(bt=>bt.id===z?{...bt,confirmation:!De}:bt))}catch(et){console.error(et)}}return s.jsxs("div",{className:"app-container",children:[Be&&s.jsx(rn,{}),s.jsx("header",{className:"bg-white text-gray-800 p-6 shadow-lg border-b-4 border-red-500",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"federation-header",children:[Oe?s.jsx("img",{src:Oe,alt:"Logo Fédération",className:"federation-logo"}):s.jsx(ri,{className:"w-16 h-16 text-green-700"}),s.jsx("h1",{className:"federation-title",children:Pt})]})})}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx(oc,{"data-id":"1"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:z=>{pr(z.currentTarget),_t("/MemberListPageP")},children:"The Member List Add"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:z=>{pr(z.currentTarget),_t("/TheLeagueList-Add")},children:"The League List Add"}),s.jsx("button",{className:"primary-btn","data-id":"4",onClick:z=>{pr(z.currentTarget),_t("/TheClubListAdd-Fed")},children:"The Club List Add"}),s.jsx("button",{className:"primary-btn","data-id":"5",onClick:z=>{pr(z.currentTarget),_t("/TheAthleteList-Add")},children:"The Athlete List Add"})]}),s.jsx("h2",{className:"form-title",children:"Add League Member"}),s.jsxs("form",{onSubmit:ze,className:"form-grid",children:[s.jsxs("label",{children:["League Role *",s.jsxs("select",{value:d,onChange:z=>g(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),He.map(z=>s.jsx("option",{value:z.id,children:z.league_role},z.id))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:M,onChange:z=>H(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select League"}),X.map(z=>s.jsx("option",{value:z.id,children:z.name_league},z.id))]})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:m,onChange:z=>f(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Blood Type --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{type:"text",value:r,onChange:z=>n(z.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{type:"text",value:i,onChange:z=>a(z.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:o,onChange:z=>l(z.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{type:"text",value:x,onChange:z=>N(z.target.value),maxLength:"18",minLength:"18",required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_,onChange:z=>v(z.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:C,onChange:z=>j(z.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:D,onChange:z=>$(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"}),s.jsx("option",{children:"Moroccan"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:ee,onChange:z=>I(z.target.value),placeholder:"Licences, Coach degree...",required:!0})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:G,onChange:z=>ue(z.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",required:!0,onChange:z=>{var De;return B(((De=z.target.files)==null?void 0:De[0])??null)}})]}),s.jsxs("label",{children:["Upload League Logo *",s.jsx("input",{type:"file",onChange:z=>{var De;return V(((De=z.target.files)==null?void 0:De[0])??null)},required:!0})]}),s.jsxs("div",{className:"btn-row",children:[s.jsx("button",{type:"submit",className:"primary-b",disabled:be,children:be?"Adding...":"Add Member"}),be&&s.jsx(ta,{message:"Adding member..."})]}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{className:"form-title",children:"League Member List"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsxs("select",{value:M,onChange:z=>H(z.target.value),children:[s.jsx("option",{value:"",children:"Select League"}),X.map(z=>s.jsx("option",{value:z.id,children:z.name_league},z.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:dt,onChange:z=>st(z.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Lt,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Holder Of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photo"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:yt.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:18,children:"No members found."})}):yt.map(z=>s.jsxs("tr",{onDoubleClick:()=>wt(z),style:{cursor:"pointer"},children:[s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.last_name||"",onChange:De=>Ut(De,"last_name")}):z.last_name}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.first_name||"",onChange:De=>Ut(De,"first_name")}):z.first_name}),s.jsx("td",{children:Re===z.id?s.jsx("input",{type:"date",value:E.date_of_birth||"",onChange:De=>Ut(De,"date_of_birth")}):z.date_of_birth}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.place_of_birth||"",onChange:De=>Ut(De,"place_of_birth")}):z.place_of_birth}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.role||"",onChange:De=>Ut(De,"role"),children:[s.jsx("option",{value:"",children:"-- Select --"}),He.map(De=>s.jsx("option",{value:De.league_role??De.name??"",children:De.league_role??De.name??""},De.id))]}):z.role||"No Role"}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.blood_type||"",onChange:De=>Ut(De,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):z.blood_type}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.nationality||"",onChange:De=>Ut(De,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):z.nationality}),s.jsx("td",{children:Re===z.id?s.jsxs("select",{value:E.grade||"",onChange:De=>Ut(De,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):z.grade}),s.jsx("td",{children:Re===z.id?s.jsx("input",{value:E.holder_of||"",onChange:De=>Ut(De,"holder_of")}):z.holder_of}),s.jsx("td",{children:z.national_id_number}),s.jsx("td",{children:z.renewal}),s.jsx("td",{children:z.year}),s.jsx("td",{children:z.license_number}),s.jsx("td",{children:z.registration_date}),s.jsx("td",{children:z.photo_url?s.jsx("img",{src:tt(z.photo_url),alt:"Member",style:{width:50,height:50,objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:z.confirmation?"✅":"❌"}),s.jsx("td",{children:z.league_id}),s.jsx("td",{children:Re===z.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>qt(z.id),disabled:ie,children:ie?"Saving...":"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Vt,disabled:ie,children:"Cancel"}),ie&&s.jsx(ta,{message:"Saving changes..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>We(z),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>Mt(z),children:"Delete"}),s.jsx("button",{className:z.confirmation?"cancel-btn":"confirm-btn",onClick:()=>Fe(z.id,z.confirmation),children:z.confirmation?"Cancel Confirmation":"Confirm"})]})})]},z.id))})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"btn-row",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:Nt,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Tt,children:"Export Grade Role PDF"})]})})]})]}),Ge&&s.jsx(Pn,{error:Ge.message||Ge,onClose:()=>Qe(null)}),at&&s.jsx(Rn,{success:at,onClose:()=>Ye("")}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function h8(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState([]),[i,a]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,g]=b.useState(null),[m,f]=b.useState(null),[x,N]=b.useState(null),[_,v]=b.useState(null),[C,j]=b.useState(null),[L,B]=b.useState({}),[Y,V]=b.useState(null),[D,$]=b.useState(null),[ee,I]=b.useState(""),[G,ue]=b.useState(null),[M,H]=b.useState(""),[be,Ce]=b.useState((t==null?void 0:t.club_id)||""),[ie,xe]=b.useState((t==null?void 0:t.league_id)||""),Re="Algerian Judo Federation",se="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",[E,U]=b.useState([]),[X,le]=b.useState([]),[_e,Ne]=b.useState([]),[Be,Ae]=b.useState(""),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState(""),[He,Me]=b.useState(""),[dt,st]=b.useState(""),[_t,Lt]=b.useState(""),[Ot,tt]=b.useState(""),[yt,Bt]=b.useState(null),[gt,jt]=b.useState(null),[Nt,Tt]=b.useState(""),[wt,Kt]=b.useState(""),[Pe,ve]=b.useState(""),[Te,lt]=b.useState(""),ze=Zn(),We=A=>A?A.startsWith("http")?A:`${se}${A}`:null;b.useEffect(()=>{ti()},[]);function Vt(A){return new Promise((k,Q)=>{Ua(A,ge=>{if(ge.type==="error")console.warn("EXIF processing failed, using original image:",A),k(A);else try{const je=ge.toDataURL("image/png");k(je)}catch(je){console.warn("Canvas conversion failed, using original image:",je),k(A)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const Ut=A=>{u(A),g(null)};b.useEffect(()=>{(async()=>{const{data:k,error:Q}=await ae.from("clubrole").select("id, club_role");Q&&console.error("Error fetching roles:",Q.message),k&&U(k)})()},[]);const qt=async()=>{try{a(!0),u(null);const{data:A}=await ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1);if(A!=null&&A.length&&V(We(A[0].logo_url)),t!=null&&t.league_id){const{data:Q}=await ae.from("nameleague").select("*").eq("id",t.league_id).single();Q&&(N(Q),I(Q.name_league));const{data:ge}=await ae.from("league_members").select("logo_url").eq("league_id",t.league_id).order("id",{ascending:!1}).limit(1);ge!=null&&ge.length&&$(We(ge[0].logo_url))}let k=t==null?void 0:t.club_id;if(!k&&(t!=null&&t.league_id)){const{data:Q}=await ae.from("nameclub").select("id").eq("league_id",t.league_id);if(Q!=null&&Q.length){const{data:ge}=await ae.from("club_members").select("club_id").in("club_id",Q.map(je=>je.id));if(ge!=null&&ge.length){const je=new Set(ge.map(w=>w.club_id)),T=Q.find(w=>je.has(w.id));T&&(k=T.id)}}}if(k){const{data:Q}=await ae.from("nameclub").select("name_club, id").eq("id",k).single();Q&&(H(Q.name_club),f(Q));const{data:ge}=await ae.from("club_members").select("logo_url").eq("club_id",k).order("id",{ascending:!1}).limit(1);ge!=null&&ge.length&&ue(We(ge[0].logo_url))}if(t!=null&&t.member_id){const{data:Q}=await ae.from("club_members").select("*").eq("id",t.member_id).single();Q&&v(Q)}if(t!=null&&t.league_id){let Q=ae.from("club_members").select("*, nameclub!inner(league_i)").eq("nameclub.league_i",t.league_id);be&&(Q=Q.eq("club_id",be));const{data:ge,error:je}=await Q;if(je)throw je;n(ge||[])}}catch(A){Ut(`Error fetching data: ${A.message}`),console.error("Error fetching data:",A.message)}finally{a(!1)}};b.useEffect(()=>{(async()=>{if(console.log("fetchClubs called with state?.league_id:",t==null?void 0:t.league_id,"selectedLeagueId:",ie),!(t!=null&&t.league_id)&&!ie){console.log("No league_id available, returning early");return}const k=(t==null?void 0:t.league_id)||ie;console.log("Using league_id:",k);const{data:Q,error:ge}=await ae.from("nameclub").select("id, name_club, league_i").eq("league_i",k);ge?console.error("Error fetching clubs:",ge):(console.log("Fetched clubs:",Q),le(Q||[]))})()},[t==null?void 0:t.league_id,ie]),b.useEffect(()=>{qt()},[be,ie]),b.useEffect(()=>()=>{u(""),g("")},[]);const Mt=A=>{j(A.id),B({...A})},Fe=()=>{j(null),B({})},z=(A,k)=>{B({...L,[k]:A.target.value})},De=async A=>{var K;if(u(""),g(""),l(!0),!L.first_name||!L.last_name||!L.date_of_birth||!L.place_of_birth||!L.role_id){const J=[];L.first_name||J.push("First Name"),L.last_name||J.push("Last Name"),L.date_of_birth||J.push("Date of Birth"),L.place_of_birth||J.push("Place of Birth"),L.role_id||J.push("Role"),u(`Please fill in the following required fields: ${J.join(", ")}`),l(!1);return}const k=new Date(L.date_of_birth),Q=new Date,ge=Q.getFullYear()-k.getFullYear(),je=Q.getMonth()-k.getMonth(),T=Q.getDate()-k.getDate();if((je<0||je===0&&T<0?ge-1:ge)<=21){u("Member must be more than 21 years old to register."),l(!1);return}if(L.last_name&&L.password){const{data:J}=await ae.from("club_members").select("*").eq("last_name",L.last_name).eq("password",L.password).neq("id",A);if(J&&J.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}try{const J=((K=E.find(F=>F.id===parseInt(L.role_id)))==null?void 0:K.club_role)||"",pe={...L,role:J};delete pe.role_id;const{error:Ue}=await ae.from("club_members").update(pe).eq("id",A);if(Ue)throw Ue;g(`Member "${L.first_name} ${L.last_name}" has been successfully updated!`),Fe(),qt(),l(!1)}catch(J){u(`Failed to update member: ${J.message}`),l(!1)}},et=async A=>{try{const k=new Date(A.registration_date).toISOString().split("T")[0],Q=new Date().toISOString().split("T")[0];if(k!==Q){u("You can only delete members on the same day of registration.");return}const{error:ge}=await ae.from("club_members").delete().eq("id",A.id);if(ge)throw ge;await qt()}catch(k){u(k.message)}},Ze=async(A,k)=>{try{const{error:Q}=await ae.from("club_members").update({confirmation:!k}).eq("id",A);if(Q)throw Q;n(ge=>ge.map(je=>je.id===A?{...je,confirmation:!k}:je))}catch(Q){Ut(`Failed to update member confirmation: ${Q.message}`)}},bt=r.filter(A=>{const k=Te.toLowerCase();return A.first_name.toLowerCase().includes(k)||A.last_name.toLowerCase().includes(k)||A.national_id_number.includes(k)}),Zt=A=>{console.log("👆 handleMemberDoubleClick called with member:",A),Xt(A)},Xt=A=>{if(console.log("🎯 generateIndividualMemberPDF called with member:",A),!A||Object.keys(A).length===0){u("No member data available to export");return}hr(A)},hr=async A=>{try{console.log("🔥 exportPDFWithAutoOrientation called with member:",A);const k=new At,Q=k.internal.pageSize.width,ge=k.internal.pageSize.height;let je=M;if(console.log("Initial clubName:",M,"member.club_id:",A.club_id),A.club_id)try{const me=await Dn();console.log("Fetched clubNames:",me),me[A.club_id]?(je=me[A.club_id],console.log("Found memberClubName:",je)):console.log("Club ID not found in clubNames:",A.club_id)}catch(me){console.error("Error fetching club name:",me)}k.setFontSize(18),k.setTextColor(40,40,40),k.text(te(Re),14,15),k.setFontSize(16),k.setTextColor(40,40,40),k.text(`Club Member Information - ${te(A.first_name)} ${te(A.last_name)}`,14,30),k.setFontSize(10);const T=new Date().toLocaleString();if(k.text(`Generated: ${T}`,14,37),Y)try{k.addImage(Y,"PNG",170,10,25,25)}catch(me){console.error("Error adding federation logo to PDF:",me)}let w=70;if(A.photos_url||A.photo_url)try{const me=A.photos_url||A.photo_url,ye=await Vt(me),Ee=ye.startsWith("data:")?"PNG":"JPEG";k.addImage(ye,Ee,14,45,25,20),w=70}catch(me){console.error("Error adding photo to PDF:",me);try{const ye=A.photos_url||A.photo_url;k.addImage(ye,"JPEG",14,45,25,20),w=70}catch(ye){console.error("Fallback image addition also failed:",ye),w=70}}k.setFontSize(12),A.confirmation?k.setTextColor(0,128,0):k.setTextColor(255,0,0);const K=A.confirmation?"CONFIRMED":"NOT CONFIRMED";k.text(K,160,50),k.setTextColor(0,0,0);const J=E.find(me=>me.id===A.role_id),pe=(J==null?void 0:J.club_role)||"No Role",Ue=[["Last Name",te(A.last_name)||""],["First Name",te(A.first_name)||""],["Date of Birth",te(A.date_of_birth)||""],["Place of Birth",te(A.place_of_birth)||""],["Role",te(pe)],["Blood type",te(A.blood_type)||""],["National ID",te(A.national_id_number)||""],["Nationality",te(A.nationality)||""],["Grade",te(A.grade)||""],["License Number",te(A.license_number)||""],["Registration Date",te(A.registration_date)||""],["Year",te(A.year)||""],["Renewal",te(A.renewal)||""]];mr(k,{startY:w,head:[["Field","Value"]],body:Ue,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const F=k.lastAutoTable.finalY||200;k.setFontSize(12),k.setTextColor(0,0,0),k.text("Medical certificate",14,F+20),k.setDrawColor(0),k.line(14,F+40,80,F+40),k.setFontSize(10),console.log("memberClubName:",je,"finalY:",F),je?(k.text(`Club: ${te(je)}`,14,F+60),k.text("Club Visa: _________________",14,F+70)):console.log("No memberClubName found, member.club_id:",A.club_id),ee&&(k.text(`League: ${te(ee)}`,120,F+60),k.text("League Visa: _________________",120,F+70));try{const me=JSON.stringify({id:A.id,name:`${A.first_name||""} ${A.last_name||""}`.trim(),license:A.license_number||"",club_id:A.club_id||"",league_id:A.league_id||""}),Ee=await(await ma(async()=>{const{default:ke}=await Promise.resolve().then(()=>Om);return{default:ke}},void 0)).default.toDataURL(me,{width:60,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});k.addImage(Ee,"PNG",180,F+75,15,15)}catch(me){console.error("Error generating QR code:",me)}const ce=`athlete_${te(A.first_name)}_${te(A.last_name)}_${A.id||"record"}.pdf`;console.log("💾 About to save PDF with filename:",ce),k.save(ce),console.log("✅ PDF save completed")}catch(k){console.error("❌ Error in exportPDFWithAutoOrientation:",k),u(`Error generating PDF: ${k.message}`)}},re=(A,k=1,Q="",ge="")=>{const je=A.internal.pageSize.getWidth(),T=A.internal.pageSize.getHeight();if(Y)try{A.addImage(Y,"PNG",je-40,15,25,25)}catch(K){console.warn("Could not add federation logo:",K)}const w=new Date().toLocaleDateString();return A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Print Date: ${w}`,15,20),A.setFontSize(16),A.setFont("helvetica","bold"),A.text(te("Algerian Judo Federation"),je/2,25,{align:"center"}),ge&&(A.setFontSize(12),A.setFont("helvetica","normal"),A.text(`League: ${te(ge)}`,je/2,40,{align:"center"})),Q&&(A.setFontSize(12),A.setFont("helvetica","normal"),A.text(`Club: ${te(Q)}`,je/2,53,{align:"center"})),A.setFontSize(10),A.text(`Page ${k}`,je-20,T-10,{align:"right"}),Q?70:ge?57:40},te=A=>A?String(A).replace(/Ø=UÈ/g,"").replace(/Ø<ða/g,"").replace(/Ø=Ud/g,"").replace(/Ø-ÜÈ/g,"").replace(/Ø-Üd/g,"").replace(/Ø<Ða/g,"").replace(/Ø<ßà/g,"").replace(/%[0-9A-Fa-f]{2}/g,"").replace(/% % %/g,"").replace(/%%%/g,"").replace(/%%/g,"").replace(/%\s+%/g,"").replace(/%+/g,"").replace(/\s*%\s*/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/\uFFFD/g,"").replace(/Ã¸/g,"ø").replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ã¡/g,"á").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã´/g,"ô").replace(/Ã»/g,"û").replace(/Ã®/g,"î").replace(/Ã¯/g,"ï").replace(/Ã¢/g,"â").replace(/Ã«/g,"ë").replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä").trim():"",we=async()=>{const A=(t==null?void 0:t.league_id)||ie;if(!A){Ut("No league selected");return}try{const{data:k,error:Q}=await ae.from("nameclub").select("id, name_club").eq("league_i",A);if(Q)throw Q;if(!k||k.length===0){Ut("No clubs found in this league");return}const ge=k.map(ce=>ce.id),{data:je,error:T}=await ae.from("club_members").select("*").in("club_id",ge);if(T)throw T;if(!je||je.length===0){Ut("No members found in any clubs of this league");return}const w=new At("landscape");let J=re(w,1,"",ee||"Unknown League");w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(255,0,0),w.text("Club Members - General Situation",w.internal.pageSize.getWidth()/2,J,{align:"center"}),w.setTextColor(0,0,0),J+=20;const pe={};je.forEach(ce=>{const me=ce.year||"Unknown Year";pe[me]||(pe[me]={});const ye=k.find(ke=>ke.id===ce.club_id),Ee=ye?te(ye.name_club):"Unknown Club";pe[me][Ee]||(pe[me][Ee]=[]),pe[me][Ee].push(ce)});const Ue={};je.forEach(ce=>{const me=k.find(Ee=>Ee.id===ce.club_id),ye=me?te(me.name_club):"Unknown Club";Ue[ye]||(Ue[ye]=[]),Ue[ye].push(ce)});for(const[ce,me]of Object.entries(Ue)){if(me.length===0)continue;const ye=me.sort((ke,ht)=>{const ft=new Date(ke.registration_date||"1900-01-01"),ct=new Date(ht.registration_date||"1900-01-01");return ft-ct});w.setFontSize(14),w.setFont("helvetica","bold"),w.text(`${te(ce)}`,20,J),J+=12;const Ee=ye.map(ke=>[te(ke.last_name),te(ke.first_name),te(ke.date_of_birth),te(ke.place_of_birth),te(ke.blood_type),te(ke.nationality),te(ke.grade),te(ke.holder_of),te(ke.national_id_number),te(ke.password),te(ke.renewal),ke.confirmation?"Yes":"No",te(ke.license_number)]);mr(w,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:Ee,startY:J,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),J=w.lastAutoTable.finalY+8,J>180&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee||"Unknown League")+5),J+=8,J>160&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee)+5)}const F=new Date().getFullYear();w.save(`federation_league_club_members_general_${F}.pdf`)}catch(k){console.error("Error generating PDF:",k),u("Error generating PDF: "+k.message)}},Ke=async()=>{const A=(t==null?void 0:t.league_id)||ie;if(!A){Ut("No league selected");return}try{const{data:k,error:Q}=await ae.from("nameclub").select("id, name_club").eq("league_i",A);if(Q)throw Q;if(!k||k.length===0){Ut("No clubs found in this league");return}const ge=k.map(me=>me.id),{data:je,error:T}=await ae.from("club_members").select("*").in("club_id",ge);if(T)throw T;if(!je||je.length===0){Ut("No members found in any clubs of this league");return}const w=new At("landscape");let J=re(w,1,"",ee);const pe={};je.forEach(me=>{const ye=k.find(ht=>ht.id===me.club_id),Ee=ye?te(ye.name_club):"Unknown Club",ke=me.year||"Unknown Year";pe[ke]||(pe[ke]={}),pe[ke][Ee]||(pe[ke][Ee]=[]),pe[ke][Ee].push(me)}),w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(255,0,0),w.text("Club Members - Grade & Role Report",w.internal.pageSize.getWidth()/2,J,{align:"center"}),w.setTextColor(0,0,0),J+=20;let Ue=!0;for(const[me,ye]of Object.entries(pe)){Ue||(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee||"Unknown League")+5),Ue=!1,w.setFontSize(12),w.setFont("helvetica","bold"),w.text(te(`ROLES SECTION - ${me}`),20,J),J+=15;for(const[Ee,ke]of Object.entries(ye)){if(ke.length===0)continue;w.setFontSize(12),w.setFont("helvetica","bold"),w.text(`Club: ${te(Ee)}`,35,J),J+=10;const ht={};ke.forEach(ft=>{const ct=E.find(pt=>pt.id===ft.role_id),nt=(ct==null?void 0:ct.club_role)||"No Role";ht[nt]||(ht[nt]=[]),ht[nt].push(ft)});for(const[ft,ct]of Object.entries(ht)){if(ct.length===0)continue;w.setFontSize(11),w.setFont("helvetica","bold"),w.text(`Role: ${te(ft)}`,30,J),J+=8;const nt=ct.map(pt=>[te(pt.last_name),te(pt.first_name),te(pt.date_of_birth),te(pt.place_of_birth),te(pt.blood_type),te(pt.nationality),te(pt.grade),te(pt.holder_of),te(pt.national_id_number),te(pt.password),te(pt.renewal),pt.confirmation?"Yes":"No",te(pt.license_number)]);mr(w,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Grade","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:nt,startY:J,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),J=w.lastAutoTable.finalY+8,J>180&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee||"Unknown League")+5)}J+=8,J>160&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee||"Unknown League")+5)}J+=10}w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee),w.setFontSize(14),w.setFont("helvetica","bold"),w.setTextColor(255,0,0),w.text("Club Members - Grade & Role Report",w.internal.pageSize.getWidth()/2,J,{align:"center"}),w.setTextColor(0,0,0),J+=20;let F=!0;for(const[me,ye]of Object.entries(pe)){F||(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee)+5),F=!1,w.setFontSize(12),w.setFont("helvetica","bold"),w.text(te(`GRADES SECTION - ${me}`),20,J),J+=15;for(const[Ee,ke]of Object.entries(ye)){if(ke.length===0)continue;w.setFontSize(12),w.setFont("helvetica","bold"),w.text(`Club: ${te(Ee)}`,35,J),J+=10;const ht={};ke.forEach(ft=>{const ct=ft.grade||"No Grade";ht[ct]||(ht[ct]=[]),ht[ct].push(ft)});for(const[ft,ct]of Object.entries(ht)){if(ct.length===0)continue;w.setFontSize(11),w.setFont("helvetica","bold"),w.text(`Grade: ${te(ft)}`,30,J),J+=8;const nt=ct.map(pt=>{const kt=E.find(br=>br.id===pt.role_id),wr=(kt==null?void 0:kt.club_role)||"No Role";return[te(pt.last_name),te(pt.first_name),te(pt.date_of_birth),te(pt.place_of_birth),te(pt.blood_type),te(pt.nationality),te(wr),te(pt.holder_of),te(pt.national_id_number),te(pt.password),te(pt.renewal),pt.confirmation?"Yes":"No",te(pt.license_number)]});mr(w,{head:[["Last Name","First Name","DOB","POB","Blood Type","Nationality","Role","Holder Of","NID","Password","Renewal","Confirmation","License #"]],body:nt,startY:J,styles:{fontSize:5,cellPadding:1},headStyles:{fillColor:[34,139,34],textColor:255,fontStyle:"bold",fontSize:5},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:10,right:10}}),J=w.lastAutoTable.finalY+8,J>180&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee)+5)}J+=8,J>160&&(w.addPage(),J=re(w,w.internal.getNumberOfPages(),"",ee)+5)}J+=10}const ce=new Date().getFullYear();w.save(`league_${te(ee)}_complete_report_${ce}.pdf`)}catch(k){console.error("Error exporting complete league report PDF:",k),u("Error exporting PDF: "+k.message)}};b.useEffect(()=>{const A=setTimeout(()=>{},300);return()=>clearTimeout(A)},[Te]),b.useEffect(()=>{qt()},[be,ie]);const It=async A=>{if(!A)return null;const k=A.name.split(".").pop(),Q=`${Date.now()}-${Math.random()}.${k}`,{error:ge}=await ae.storage.from("logos").upload(Q,A);if(ge)return u(`Upload failed: ${ge.message}`),null;const{data:je}=ae.storage.from("logos").getPublicUrl(Q);return(je==null?void 0:je.publicUrl)??null},Rt=async()=>{if(!yt)return null;const A=yt.name.split(".").pop(),k=`club_member-${Date.now()}.${A}`,{error:Q}=await ae.storage.from("logos").upload(k,yt);if(Q)return console.error("upload error",Q),null;const{data:ge}=ae.storage.from("logos").getPublicUrl(k);return(ge==null?void 0:ge.publicUrl)??null},Xe=async(A,k,Q,ge)=>{const{data:je}=await ae.from("club_members").select("*").eq("national_id_number",A).eq("club_id",k).eq("role",Q).eq("year",ge);if(je&&je.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:T}=await ae.from("club_members").select("*",{count:"exact",head:!0}).eq("national_id_number",A).eq("club_id",k).eq("role",Q);return(T||0)+1},Ft=async A=>{var me;if(A.preventDefault(),u(""),g(""),console.log("Setting submitLoading to true"),l(!0),await new Promise(ye=>setTimeout(ye,100)),!Ge||!Be||!at||!Oe||!Pt||!be||!ie||!_t||!Ot){const ye=[];Ge||ye.push("First Name"),Be||ye.push("Last Name"),at||ye.push("Date of Birth"),Oe||ye.push("Place of Birth"),Pt||ye.push("Role"),be||ye.push("Club"),ie||ye.push("League"),_t||ye.push("Password"),Ot||ye.push("Confirm Password"),u(`Please fill in the following required fields: ${ye.join(", ")}`),console.log("Setting submitLoading to false - missing fields"),l(!1);return}const k=Number(be),Q=Number(ie);if(!k||isNaN(k)){u("Please select a valid club."),l(!1);return}if(!Q||isNaN(Q)){u("Please select a valid league."),l(!1);return}if(dt.length!==18){u("National ID must be exactly 18 digits."),l(!1);return}if(_t!==Ot){u("Passwords do not match."),l(!1);return}const ge=new Date(at),je=new Date,T=je.getFullYear()-ge.getFullYear(),w=je.getMonth()-ge.getMonth(),K=je.getDate()-ge.getDate();if((w<0||w===0&&K<0?T-1:T)<=21){u("Member must be more than 21 years old to register."),l(!1);return}if(Be&&_t){const{data:ye}=await ae.from("club_members").select("*").eq("last_name",Be).eq("password",_t);if(ye&&ye.length>0){u("Change your Password for this name because is already exist"),l(!1);return}}const pe=((me=E.find(ye=>ye.id===parseInt(Pt)))==null?void 0:me.club_role)||"",Ue=new Date().getFullYear(),F=`${Ue}/${Ue+1}`;let ce;try{ce=await Xe(dt,k,pe,F)}catch(ye){u(ye.message),l(!1);return}try{const ye=await Rt(),Ee=await It(gt),ke={last_name:Be,first_name:Ge,date_of_birth:at,place_of_birth:Oe,role:pe,blood_type:He,national_id_number:dt,password:_t,photo_url:ye,logo_url:Ee,nationality:Nt,grade:wt,holder_of:Pe,club_id:k,league_id:Q,license_number:`LIC-${Date.now()}`,renewal:ce,year:F},{error:ht}=await ae.from("club_members").insert([ke]);ht?(console.error("insert club member error",ht),u("Error saving club member: "+ht.message),l(!1)):(g(`Member "${Ge} ${Be}" has been successfully added to the club!`),Ae(""),Qe(""),Ye(""),oe(""),Et(""),Me(""),st(""),Lt(""),tt(""),Tt(""),Kt(""),ve(""),Bt(null),jt(null),await qt(),l(!1))}catch(ye){console.error("handleSubmit error",ye),u("Unexpected error: "+ye.message),l(!1)}};return s.jsxs("div",{className:"app-container",children:[i&&s.jsx(rn,{}),o&&s.jsx(ta,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Y?s.jsx("img",{src:Y,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Zi,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:Re})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo"}):null,s.jsx("h2",{className:"federation-title",style:{fontSize:"1.5rem"},children:ee||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",t.first_name," ",t.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",t.role]}),s.jsxs("div",{className:"form-table-wrapper",children:[s.jsxs("div",{className:"sticky-button-bar",children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async A=>{if(pr(A.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/member-list-l",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async A=>{if(pr(A.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async A=>{if(pr(A.currentTarget),c){alert("Please resolve the current error before navigating to another page.");return}if(!x||!x.id){alert("League data not loaded yet.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:x.id,league_name:x.name_league||"",league_logo:(x==null?void 0:x.logo_url)||null}})},children:"The Athlete List Add"})]}),s.jsxs("section",{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"form-title",children:"Add Club Member"}),s.jsxs("form",{onSubmit:Ft,className:"form-grid",children:[s.jsxs("label",{children:["Club Role *",s.jsxs("select",{value:Pt,onChange:A=>Et(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select Role"}),E.map(A=>s.jsx("option",{value:A.id,children:A.club_role},A.id))]})]}),s.jsxs("label",{children:["League: *",s.jsx("select",{value:ie,onChange:A=>{xe(A.target.value),Ce("")},disabled:!!(t!=null&&t.league_id),required:!0,children:t!=null&&t.league_id?s.jsx("option",{value:t.league_id,children:ee}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- Select League --"}),_e.map(A=>s.jsx("option",{value:A.id,children:A.name_league},A.id))]})})]}),s.jsxs("label",{children:["Club: *",s.jsxs("select",{value:be,onChange:A=>Ce(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),X.map(A=>s.jsx("option",{value:A.id,children:A.name_club},A.id))]})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:Nt,onChange:A=>Tt(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:wt,onChange:A=>Kt(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]})]}),s.jsxs("label",{children:["Holder of *",s.jsx("input",{type:"text",value:Pe,onChange:A=>ve(A.target.value),required:!0})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:He,onChange:A=>Me(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:Be,onChange:A=>Ae(A.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:Ge,onChange:A=>Qe(A.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:at,onChange:A=>Ye(A.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Oe,onChange:A=>oe(A.target.value),required:!0})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{value:dt,onChange:A=>st(A.target.value),maxLength:"18",required:!0}),s.jsx("small",{children:"18 digits required — must be unique. "})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:_t,onChange:A=>Lt(A.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:Ot,onChange:A=>tt(A.target.value),required:!0})]}),s.jsxs("label",{children:["Upload Club Logo *",s.jsx("input",{type:"file",onChange:A=>{var k;return jt(((k=A.target.files)==null?void 0:k[0])??null)},required:!0})]}),s.jsxs("label",{children:["Upload Member Photo *",s.jsx("input",{type:"file",onChange:A=>{var k;return Bt(((k=A.target.files)==null?void 0:k[0])??null)},required:!0})]}),s.jsx("div",{className:"btn-row",children:s.jsx("button",{type:"submit",className:"primary-b",disabled:o,children:o?"Saving...":"Save Member"})}),s.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"10px",textAlign:"center"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsx("h2",{className:"form-title",children:"List Of Club Members"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League:",s.jsx("select",{value:ie,onChange:A=>{xe(A.target.value),Ce("")},disabled:!!(t!=null&&t.league_id),children:t!=null&&t.league_id?s.jsx("option",{value:t.league_id,children:ee}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- Select League --"}),_e.map(A=>s.jsx("option",{value:A.id,children:A.name_league},A.id))]})})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:be,onChange:A=>Ce(A.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),X.map(A=>s.jsx("option",{value:A.id,children:A.name_club},A.id))]})]}),s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or NID...",value:Te,onChange:A=>lt(A.target.value)})})]}),s.jsx("div",{className:"table-container",ref:ze,children:s.jsxs("table",{className:"athlete-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"holder_of"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:19,children:"No members found."})}):bt.map(A=>s.jsxs("tr",{onDoubleClick:()=>Zt(A),style:{cursor:"pointer"},children:[s.jsx("td",{children:C===A.id?s.jsx("input",{value:L.last_name||"",onChange:k=>z(k,"last_name")}):A.last_name}),s.jsx("td",{children:C===A.id?s.jsx("input",{value:L.first_name||"",onChange:k=>z(k,"first_name")}):A.first_name}),s.jsx("td",{children:C===A.id?s.jsx("input",{type:"date",value:L.date_of_birth||"",onChange:k=>z(k,"date_of_birth")}):A.date_of_birth}),s.jsx("td",{children:C===A.id?s.jsx("input",{value:L.place_of_birth||"",onChange:k=>z(k,"place_of_birth")}):A.place_of_birth}),s.jsx("td",{children:C===A.id?s.jsxs("select",{value:L.role_id||"",onChange:k=>z(k,"role_id"),children:[s.jsx("option",{value:"",children:"-- Select --"}),E.map(k=>s.jsx("option",{value:k.id,children:k.club_role},k.id))]}):A.role||"No Role"}),s.jsx("td",{children:C===A.id?s.jsxs("select",{value:L.blood_type||"",onChange:k=>z(k,"blood_type"),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):A.blood_type}),s.jsx("td",{children:C===A.id?s.jsxs("select",{value:L.nationality||"",onChange:k=>z(k,"nationality"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Algerian"}),s.jsx("option",{children:"Tunisian"})]}):A.nationality}),s.jsx("td",{children:C===A.id?s.jsxs("select",{value:L.grade||"",onChange:k=>z(k,"grade"),children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{children:"Brown Belt"}),s.jsx("option",{children:"Black Belt"})]}):A.grade}),s.jsx("td",{children:C===A.id?s.jsx("input",{value:L.holder_of||"",onChange:k=>z(k,"holder_of")}):A.holder_of}),s.jsx("td",{children:A.national_id_number}),s.jsx("td",{children:A.renewal}),s.jsx("td",{children:A.year}),s.jsx("td",{children:A.license_number}),s.jsx("td",{children:A.registration_date}),s.jsx("td",{children:A.photos_url||A.photo_url?s.jsx("img",{src:We(A.photos_url||A.photo_url),alt:"Member",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):"No Photo"}),s.jsx("td",{children:A.confirmation?"✅":"❌"}),s.jsx("td",{children:A.club_id}),s.jsx("td",{children:A.league_id}),s.jsx("td",{children:C===A.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:()=>De(A.id),children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:Fe,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>Mt(A),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>et(A),children:"Delete"}),s.jsx("button",{className:A.confirmation?"cancel-btn":"confirm-btn",onClick:()=>Ze(A.id,A.confirmation),children:A.confirmation?"Cancel Confirmation":"Confirm"})]})})]},A.id))})]})})]}),s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:we,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:Ke,children:"Export Grade Role PDF"})]})]}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})}),c&&s.jsx(Pn,{error:c,onClose:()=>u(null)}),d&&s.jsx(Rn,{success:d,onClose:()=>g("")}),s.jsx("style",{jsx:!0,children:`
        @keyframes fadeInScale {
          from {
            opacity: 0;
            transform: scale(0.8);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        
        @keyframes bounceIn {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function f8(){const{state:t}=fi(),e=Ur(),[r,n]=b.useState(!0),[i,a]=b.useState(!1),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState(null),[m,f]=b.useState(null),[x,N]=b.useState(""),[_,v]=b.useState(null),[C,j]=b.useState(""),[L,B]=b.useState((t==null?void 0:t.club_id)??""),[Y,V]=b.useState((t==null?void 0:t.league_id)??""),[D,$]=b.useState((t==null?void 0:t.league_id)??""),[ee,I]=b.useState((t==null?void 0:t.club_id)??""),[G,ue]=b.useState([]),[M,H]=b.useState([]),[be,Ce]=b.useState([]),[ie,xe]=b.useState([]),[Re,se]=b.useState([]),[E,U]=b.useState(""),[X,le]=b.useState(""),[_e,Ne]=b.useState(""),[Be,Ae]=b.useState(""),[Ge,Qe]=b.useState(""),[at,Ye]=b.useState(""),[Oe,oe]=b.useState(""),[Pt,Et]=b.useState(""),[He,Me]=b.useState(""),[dt,st]=b.useState(null),[_t,Lt]=b.useState(""),[Ot,tt]=b.useState(""),[yt,Bt]=b.useState(""),[gt,jt]=b.useState(""),[Nt,Tt]=b.useState(""),[wt,Kt]=b.useState(1),[Pe,ve]=b.useState(null),[Te,lt]=b.useState({}),[ze,We]=b.useState(""),Vt=Zn(),Ut="https://aolsbxfulbvpiobqqsao.supabase.co/storage/v1/object/public/logos/",qt="Algerian Judo Federation",Mt=["Admin","Coach","Athlete"],Fe=["Algerian","Tunisian"],z=["brown belt","black belt"],De=["Poussins","Benjamins","Minimes","Cadets","Juniors","Hopefuls","Seniors","Veterans"],et=["Men","Women"],[Ze,bt]=b.useState([]),Zt=F=>F?F.startsWith("http")?F:`${Ut}${F}`:null,Xt=async()=>{if(!dt)return null;try{const F=dt.name.split(".").pop(),ce=`athlete-${Date.now()}.${F}`,{error:me}=await ae.storage.from("logos").upload(ce,dt);if(me)return console.error("upload error",me),null;const{data:ye}=ae.storage.from("logos").getPublicUrl(ce);return(ye==null?void 0:ye.publicUrl)??null}catch(F){return console.error("handlePhotoUpload error",F),null}};function hr(F){return new Promise((ce,me)=>{Ua(F,ye=>{if(ye.type==="error")console.warn("EXIF processing failed, using original image:",F),ce(F);else try{const Ee=ye.toDataURL("image/png");ce(Ee)}catch(Ee){console.warn("Canvas conversion failed, using original image:",Ee),ce(F)}},{orientation:!0,canvas:!0,crossOrigin:"anonymous"})})}const re=async(F,ce)=>{const{data:me}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",F).eq("year",ce);if(me&&me.length>0)throw new Error("This member is already registered for the current season with the same role and club.");const{count:ye}=await ae.from("athletes").select("*",{count:"exact",head:!0}).eq("national_id_number",F);return(ye||0)+1},te=async()=>{var F;try{l("");const[ce,me,ye,Ee,ke]=await Promise.all([ae.from("logo").select("logo_url").order("created_at",{ascending:!1}).limit(1),ae.from("nameleague").select("id, name_league"),ae.from("roles").select("id, name"),D?ae.from("nameclub").select("id, name_club").eq("league_i",D):ae.from("nameclub").select("id, name_club"),ae.from("athletes").select("*").order("id",{ascending:!1}).limit(1e3)]);if((F=ce.data)!=null&&F.length&&g(Zt(ce.data[0].logo_url)),Ce(me.data||[]),ye.data?ue(ye.data.map(ct=>ct.name)):ue(Mt),H(Ee.data||[]),ke.error)throw ke.error;const ht=ke.data||[];se(ht);let ft=ht;ee?ft=ht.filter(ct=>String(ct.club_id)===String(ee)):D&&(ft=ht.filter(ct=>String(ct.league_id)===String(D))),xe(ft),await Promise.all([t!=null&&t.league_id?we(t.league_id):Promise.resolve(),ee||L?Ke(ee||L):Promise.resolve()])}catch(ce){console.error("fetchData error",ce),l((ce==null?void 0:ce.message)||String(ce))}finally{n(!1),a(!1)}};b.useEffect(()=>{ti()},[]);const we=async F=>{var ce;try{const[me,ye]=await Promise.all([ae.from("nameleague").select("*").eq("id",F).single(),ae.from("league_members").select("logo_url").eq("league_id",F).order("id",{ascending:!1}).limit(1)]);me.data&&N(me.data.name_league||""),(ce=ye.data)!=null&&ce.length&&f(Zt(ye.data[0].logo_url))}catch(me){console.error("loadLeagueDetails error",me)}},Ke=async F=>{var ce;try{const[me,ye]=await Promise.all([ae.from("nameclub").select("name_club, i").eq("id",F).single(),ae.from("club_members").select("logo_url").eq("club_id",F).order("id",{ascending:!1}).limit(1)]);me.data&&j(me.data.name_club),(ce=ye.data)!=null&&ce.length&&v(Zt(ye.data[0].logo_url))}catch(me){console.error("loadClubDetails error",me)}};b.useEffect(()=>{te()},[]),b.useEffect(()=>{ti()},[]);const It=b.useMemo(()=>{let F=Re;return ee?F=Re.filter(ce=>String(ce.club_id)===String(ee)):D&&(F=Re.filter(ce=>String(ce.league_id)===String(D))),F},[Re,ee,D]);b.useEffect(()=>{xe(It)},[It]),b.useEffect(()=>{D&&(async()=>{try{const{data:ce}=await ae.from("nameclub").select("id, name_club").eq("league_i",D);H(ce||[])}catch(ce){console.error("Error fetching clubs:",ce)}})()},[D]);const Rt=b.useCallback(async(F,ce)=>{if(!(!F||!ce))try{const{data:me,error:ye}=await ae.from("categories").select("weight").eq("genres",F).eq("categories",ce);ye?console.error("Erreur récupération poids:",ye.message):bt(me.map(Ee=>Ee.weight))}catch(me){console.error("Erreur inconnue:",me)}},[]);b.useEffect(()=>{const F=Te.genres||yt,ce=Te.categories||gt;Rt(F,ce)},[yt,gt,Te.genres,Te.categories,Rt]);const Xe=(F,ce)=>{if(!F||!ce)return{isValid:!1,message:"Date of birth and category are required."};const me=new Date(F),ye=new Date,Ee=ye.getFullYear()-me.getFullYear()-(ye.getMonth()<me.getMonth()||ye.getMonth()===me.getMonth()&&ye.getDate()<me.getDate()?1:0),ht={Poussins:{min:9,max:10},Benjamins:{min:11,max:12},Minimes:{min:13,max:14},Cadets:{min:15,max:17},Juniors:{min:15,max:20},Hopefuls:{min:15,max:17},Seniors:{min:15,max:35},Veterans:{min:36,max:150}}[ce];return ht?Ee<ht.min||Ee>ht.max?ce==="Veterans"?{isValid:!1,message:`For ${ce} category, athlete must be more than 35 years old. Current age: ${Ee}`}:{isValid:!1,message:`For ${ce} category, athlete must be between ${ht.min} and ${ht.max} years old. Current age: ${Ee}`}:{isValid:!0,message:""}:{isValid:!1,message:`Unknown category: ${ce}`}},Ft=async F=>{if(F.preventDefault(),l(""),u(""),a(!0),!X||!E){l("First name and Last name are required."),a(!1);return}if(!/^\d{18}$/.test(Oe)){l("National ID (NID) must be exactly 18 digits."),a(!1);return}if(Pt!==He){l("Passwords do not match."),a(!1);return}if(!D&&!Y){l("League must be selected or provided in state."),a(!1);return}if(!ee&&!L){l("Club must be selected or provided in state."),a(!1);return}const ce=Xe(_e,gt);if(!ce.isValid){l(ce.message),a(!1);return}if(E&&Pt){const{data:Ee}=await ae.from("athletes").select("*").eq("password",Pt);if(Ee&&Ee.length>0){l("Change your Password for this name because is already exist"),a(!1);return}}const me=new Date().getFullYear(),ye=`${me}/${me+1}`;try{const{data:Ee,error:ke}=await ae.from("athletes").select("id, national_id_number").eq("national_id_number",Oe).eq("year",ye);if(ke)throw ke;if(Ee&&Ee.length>0){l("An athlete with this National ID is already registered for this season."),a(!1);return}}catch(Ee){l(Ee.message||String(Ee)),a(!1);return}try{const Ee=await Xt(),ke=new Date().getFullYear(),ht=`${ke}/${ke+1}`;let ft;try{ft=await re(Oe,ht)}catch(pt){l(pt.message),setSubmitLoading(!1);return}const ct={last_name:E,first_name:X,date_of_birth:_e,place_of_birth:Be,role:Ge,blood_type:at,national_id_number:Oe,password:Pt,license_number:`ATH-${Date.now()}`,registration_date:new Date().toISOString().split("T")[0],photos_url:Ee,nationality:_t,grade:Ot,renewal:ft,confirmation:!1,genres:yt,categories:gt,weight:Nt,league_id:D||Y,club_id:ee||L,year:ht},{error:nt}=await ae.from("athletes").insert([ct]);if(nt)throw nt;u("Athlete added successfully."),U(""),le(""),Ne(""),Ae(""),Qe(""),Ye(""),oe(""),Et(""),Me(""),st(null),Lt(""),tt(""),Bt(""),jt(""),Tt(""),await te()}catch(Ee){console.error("handleSubmit error",Ee),l((Ee==null?void 0:Ee.message)||String(Ee))}finally{n(!1)}},A=F=>{ve(F.id),lt({...F})},k=()=>{ve(null),lt({})},Q=async()=>{a(!0);const F=Xe(Te.date_of_birth,Te.categories);if(!F.isValid){a(!1),l(F.message);return}const{error:ce}=await ae.from("athletes").update({last_name:Te.last_name,first_name:Te.first_name,date_of_birth:Te.date_of_birth,place_of_birth:Te.place_of_birth,role:Te.role,blood_type:Te.blood_type,nationality:Te.nationality,grade:Te.grade,categories:Te.categories,weight:Te.weight,genres:Te.genres}).eq("id",Pe);ce?(a(!1),l("Update failed: "+ce.message)):(await te(),k(),a(!1),u("Athlete updated successfully!"))},ge=async F=>{const ce=new Date().toISOString().split("T")[0];if(F.registration_date!==ce){l("You can only delete athletes the same day they were added.");return}if(window.confirm("Delete this athlete?"))try{const{error:me}=await ae.from("athletes").delete().eq("id",F.id);if(me)throw me;await te()}catch(me){console.error("deleteAthlete error",me),l("Error deleting athlete: "+me.message)}},je=async(F,ce)=>{try{n(!0);const{error:me}=await ae.from("athletes").update({confirmation:!ce}).eq("id",F);if(me)throw me;xe(ye=>ye.map(Ee=>Ee.id===F?{...Ee,confirmation:!ce}:Ee))}catch(me){console.error("toggle confirmation error",me),l((me==null?void 0:me.message)||String(me))}finally{n(!1)}},T=ie.filter(F=>{const ce=ze.trim().toLowerCase();return ce?String(F.first_name||"").toLowerCase().includes(ce)||String(F.last_name||"").toLowerCase().includes(ce)||String(F.national_id_number||"").includes(ce):!0}),w=F=>{if(!F||Object.keys(F).length===0){l("No data available to export");return}K(F)},K=async F=>{let ce=null,me=null;try{F.club_id&&(ce=(await Dn())[F.club_id]),F.league_id&&(me=(await Xn())[F.league_id])}catch(pt){console.error("Error fetching names:",pt)}const ye=new At("portrait","mm","a4");ye.setFontSize(18),ye.setTextColor(40,40,40),ye.text("Algerian Judo Federation",14,15);const Ee=`Athlete Information - ${F.first_name} ${F.last_name}`;ye.setFontSize(16),ye.setTextColor(40,40,40),ye.text(Ee,14,30),ye.setFontSize(10);const ke=new Date().toLocaleString();if(ye.text(`Generated: ${ke}`,14,37),d)try{ye.addImage(d,"PNG",170,10,25,25)}catch(pt){console.error("Error adding logo to PDF:",pt)}let ht=70;if(F.photos_url)try{const pt=await hr(F.photos_url),kt=pt.startsWith("data:")?"PNG":"JPEG";ye.addImage(pt,kt,14,45,25,20),ht=70}catch(pt){console.error("Error adding photo to PDF:",pt);try{ye.addImage(F.photos_url,"JPEG",14,45,25,20)}catch(kt){console.error("Fallback image addition also failed:",kt)}ht=70}ye.setFontSize(12),F.confirmation?ye.setTextColor(0,128,0):ye.setTextColor(255,0,0);const ft=F.confirmation?"CONFIRMED ✓":"NOT CONFIRMED ✗";ye.text(ft,160,50);const ct=[["First Name",F.first_name||""],["Last Name",F.last_name||""],["Date of Birth",F.date_of_birth||""],["Place of Birth",F.place_of_birth||""],["National ID",F.national_id_number||""],["Nationality",F.nationality||""],["Blood Type",F.blood_type||""],["Grade",F.grade||""],["Role",F.role||""],["Gender",F.genres||""],["Category",F.categories||""],["Weight",F.weight||""],["License Number",F.license_number||""],["Registration Date",F.registration_date||""],["Year",F.year||""],["Renewal",F.renewal||""]];mr(ye,{head:[["Field","Value"]],body:ct,startY:ht,theme:"grid",headStyles:{fillColor:[40,40,40]},styles:{overflow:"linebreak"},columnStyles:{0:{fontStyle:"bold",cellWidth:60},1:{cellWidth:"auto"}}});const nt=ye.lastAutoTable.finalY||200;if(ye.setFontSize(12),ye.setTextColor(0,0,0),ye.text("Medical certificate",14,nt+20),ye.setDrawColor(0),ye.line(14,nt+40,80,nt+40),ye.setFontSize(10),F.club_id||ce){const pt=ce||`ID: ${F.club_id}`;ye.text(`Club: ${pt}`,14,nt+60),ye.text("Club Visa: _________________",14,nt+70)}if(F.league_id||me){const pt=me||`ID: ${F.league_id}`;ye.text(`League: ${pt}`,120,nt+60),ye.text("League Visa: _________________",120,nt+70)}try{const pt=JSON.stringify({id:F.id,name:`${F.first_name||""} ${F.last_name||""}`.trim(),license:F.license_number||"",club_id:F.club_id||"",league_id:F.league_id||"",confirmation:F.confirmation||"Unconfirmed"}),kt=await ui.toDataURL(pt,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});ye.addImage(kt,"PNG",175,nt+75,15,15)}catch(pt){console.error("Error generating QR code:",pt)}ye.save(`athlete_${F.first_name}_${F.last_name}.pdf`)},J=async()=>{if(!T||T.length===0){l("No athletes data available to export");return}const F=new At("landscape","mm","a4"),ce=F.internal.pageSize.getWidth(),me=new Date().getFullYear(),ye=new Date().toLocaleDateString();if(F.setFontSize(10),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`Date: ${ye}`,14,15),F.setFontSize(16),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text("Algerian Judo Federation",ce/2,15,{align:"center"}),d)try{F.addImage(d,"PNG",ce-40,5,25,25)}catch(nt){console.error("Error adding logo to PDF:",nt)}F.setFontSize(14),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`League: ${x||"Unknown League"}`,ce/2,30,{align:"center"}),F.setFont("helvetica","bold"),F.setTextColor(255,0,0),F.text("Athletes Members - General Situation",ce/2,40,{align:"center"});let Ee={},ke={};try{Ee=await Dn(),ke=await Xn()}catch(nt){console.error("Error fetching club/league names:",nt)}const ht={};T.forEach(nt=>{const pt=nt.year||me,kt=nt.club_id;ht[pt]||(ht[pt]={}),ht[pt][kt]||(ht[pt][kt]=[]),ht[pt][kt].push(nt)});const ft=Object.keys(ht).sort();let ct=55;ft.forEach((nt,pt)=>{const kt=ht[nt];F.setFontSize(14),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`Year ${nt}`,14,ct),ct+=15,Object.keys(kt).sort((br,dr)=>{const Sr=Ee[br]||`Club ${br}`,nr=Ee[dr]||`Club ${dr}`;return Sr.localeCompare(nr)}).forEach((br,dr)=>{const Sr=kt[br],nr=Ee[br]||`Club ${br}`;F.setFontSize(12),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`Club ${dr+1}: ${nr}`,14,ct),ct+=10;const Nr=Sr.sort((ur,_a)=>{const ra=ur.categories||"",Wo=_a.categories||"";if(ra!==Wo)return ra.localeCompare(Wo);const Ni=ur.genres||"",io=_a.genres||"";if(Ni!==io)return Ni.localeCompare(io);const Ho=parseFloat(ur.weight)||0,wa=parseFloat(_a.weight)||0;return Ho-wa}).map(ur=>[ur.last_name||"",ur.first_name||"",ur.date_of_birth||"",ur.place_of_birth||"",ur.role||"",ur.blood_type||"",ur.national_id_number||"",ur.nationality||"",ur.grade||"",ur.renewal||"",ur.year||"",ur.genres||"",ur.categories||"",ur.weight||"",ur.license_number||"",ur.registration_date||"",ur.confirmation?"Yes":"No",Ee[ur.club_id]||`Club ID: ${ur.club_id}`,ke[ur.league_id]||`League ID: ${ur.league_id}`]);mr(F,{head:[["Last","First","DOB","POB","Role","Blood","NID","Nationality","Grade","Renewal","Year","Gender","Category","Weight","License #","Registration","Confirmed","Club","League"]],body:Nr,startY:ct,theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{fontSize:8},didParseCell:function(ur){if(ur.section==="body"){const ra=Nr[ur.row.index][11];ra&&ra.toLowerCase().includes("women")?ur.cell.styles.fillColor=[211,211,211]:ur.cell.styles.fillColor=[255,255,255]}},columnStyles:{0:{cellWidth:15},1:{cellWidth:15},2:{cellWidth:12},3:{cellWidth:15},4:{cellWidth:10},5:{cellWidth:8},6:{cellWidth:15},7:{cellWidth:12},8:{cellWidth:10},9:{cellWidth:12},10:{cellWidth:8},11:{cellWidth:10},12:{cellWidth:12},13:{cellWidth:10},14:{cellWidth:15},15:{cellWidth:15},16:{cellWidth:10},17:{cellWidth:20},18:{cellWidth:20}}}),ct=F.lastAutoTable.finalY+15,ct>160&&(F.addPage(),ct=20)}),ct+=10}),F.save(`athletes_members_general_situation_${me}.pdf`)},pe=async()=>{if(!T||T.length===0){l("No athletes data available to export");return}const F=new At("landscape","mm","a4"),ce=F.internal.pageSize.getWidth(),me=new Date().getFullYear(),ye=new Date().toLocaleDateString(),Ee=()=>{if(F.setFontSize(10),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`Date: ${ye}`,14,15),F.setFontSize(16),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text("Algerian Judo Federation",ce/2,15,{align:"center"}),d)try{F.addImage(d,"PNG",ce-40,5,25,25)}catch(kt){console.error("Error adding logo to PDF:",kt)}F.setFontSize(14),F.setFont("helvetica","normal"),F.setTextColor(40,40,40),F.text(`League: ${x||"Unknown League"}`,ce/2,30,{align:"center"}),F.setFontSize(14),F.setFont("helvetica","bold"),F.setTextColor(220,53,69),F.text("Athletes Members - Category Situation",ce/2,40,{align:"center"})};Ee();let ke={},ht={};try{ke=await Dn(),ht=await Xn()}catch(kt){console.error("Error fetching club/league names:",kt)}const ft=T.reduce((kt,wr)=>{const br=wr.year||"Unknown Year",dr=wr.club_id||"Unknown Club",Sr=ke[dr]||`Club ID: ${dr}`,nr=wr.categories||"Uncategorized",bn=wr.genres||"Unspecified",Nr=wr.weight||"No Weight";return kt[br]||(kt[br]={}),kt[br][Sr]||(kt[br][Sr]={}),kt[br][Sr][nr]||(kt[br][Sr][nr]={}),kt[br][Sr][nr][bn]||(kt[br][Sr][nr][bn]={}),kt[br][Sr][nr][bn][Nr]||(kt[br][Sr][nr][bn][Nr]=[]),kt[br][Sr][nr][bn][Nr].push(wr),kt},{}),ct=(kt,wr)=>[...kt].sort((dr,Sr)=>{const nr=new Date(dr.date_of_birth||"1900-01-01"),bn=new Date(Sr.date_of_birth||"1900-01-01");return nr-bn}).map(dr=>[dr.last_name||"",dr.first_name||"",dr.date_of_birth||"",dr.national_id_number||"",dr.nationality||"",dr.grade||"",dr.license_number||"",dr.confirmation?"Yes":"No",ke[dr.club_id]||`Club ID: ${dr.club_id}`]);let nt=50,pt=!0;Object.entries(ft).sort().forEach(([kt,wr])=>{pt||(F.addPage(),Ee(),nt=50),pt=!1,F.setFontSize(13),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`Year: ${kt}`,14,nt),nt+=15,Object.entries(wr).sort().forEach(([br,dr])=>{Object.entries(dr).sort().forEach(([Sr,nr])=>{Object.entries(nr).sort().forEach(([bn,Nr])=>{Object.entries(Nr).sort().forEach(([ur,_a])=>{nt>200&&(F.addPage(),Ee(),nt=50),F.setFontSize(11),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`  Club: ${br} - Category: ${Sr}`,20,nt),nt+=10,F.setFontSize(10),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`    Gender: ${bn} - Weight: ${ur}`,30,nt),nt+=8,nt>220&&(F.addPage(),Ee(),nt=50,F.setFontSize(13),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`Year: ${kt} (continued)`,14,nt),nt+=12,F.setFontSize(11),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`  Club: ${br} - Category: ${Sr} (continued)`,20,nt),nt+=10,F.setFontSize(10),F.setFont("helvetica","bold"),F.setTextColor(40,40,40),F.text(`    Gender: ${bn} - Weight: ${ur} (continued)`,30,nt),nt+=8);const ra=ct(_a);mr(F,{head:[["Last Name","First Name","DOB","NID","Nationality","Grade","License #","Confirmed","Club"]],body:ra,startY:nt,margin:{left:14,right:14},theme:"grid",headStyles:{fillColor:[40,167,69],fontSize:9,textColor:[255,255,255]},styles:{fontSize:8,cellPadding:2,fillColor:[255,255,255]},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:20},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:18},6:{cellWidth:35},7:{cellWidth:20},8:{cellWidth:50}}}),nt=F.lastAutoTable.finalY+10})})})})}),F.save(`athletes_category_hierarchical_${me}.pdf`)},Ue=async()=>{try{const F=T||ie||[];if(!F||F.length===0){l("No athletes data available to export");return}const{clubNames:ce,leagueNames:me}=await Promise.all([Dn(),Xn()]).then(([nt,pt])=>({clubNames:nt,leagueNames:pt})),ye=new Date().getFullYear(),Ee={};F.forEach(nt=>{const pt=ye,kt=nt.grade||"No Grade";Ee[pt]||(Ee[pt]={}),Ee[pt][kt]||(Ee[pt][kt]=[]),Ee[pt][kt].push(nt)}),Object.keys(Ee).forEach(nt=>{Object.keys(Ee[nt]).forEach(pt=>{Ee[nt][pt].sort((kt,wr)=>new Date(kt.date_of_birth)-new Date(wr.date_of_birth))})});const ke=new At("landscape","mm","a4");let ht=50;const ft=()=>{const nt=new Date().toLocaleDateString("en-GB");if(ke.setFontSize(8),ke.setTextColor(100,100,100),ke.text(`Print Date: ${nt}`,14,10),ke.setFontSize(16),ke.setTextColor(0,0,0),ke.setFont("helvetica","bold"),ke.text("Algerian Judo Federation",ke.internal.pageSize.width/2,20,{align:"center"}),d)try{ke.addImage(d,"PNG",ke.internal.pageSize.width-40,15,25,25)}catch(pt){console.warn("Could not add federation logo to PDF:",pt)}return ke.setFontSize(12),ke.setFont("helvetica","normal"),ke.text(`League: ${x||"Unknown League"}`,ke.internal.pageSize.width/2,30,{align:"center"}),ke.setFontSize(14),ke.setFont("helvetica","bold"),ke.setTextColor(220,53,69),ke.text("Athletes - Grade and Role Situation",ke.internal.pageSize.width/2,40,{align:"center"}),50};ht=ft(),Object.keys(Ee).sort().forEach((nt,pt)=>{Object.keys(Ee[nt]).sort().forEach((wr,br)=>{const dr=Ee[nt][wr];ht>180&&(ke.addPage(),ht=ft()),ke.setFontSize(12),ke.setFont("helvetica","bold"),ke.setTextColor(0,0,0),ke.text(`Season Year: ${nt} - Grade: ${wr}`,14,ht),ht+=10;const Sr=dr.map(nr=>[nr.last_name||"",nr.first_name||"",nr.date_of_birth?new Date(nr.date_of_birth).toLocaleDateString("en-GB"):"",nr.national_id_number||"",nr.nationality||"",nr.grade||"",nr.license_number||"",nr.confirmation?"Yes":"No",ce[nr.club_id]||`Club ID: ${nr.club_id}`]);mr(ke,{head:[["Last Name","First Name","DOB","NID","Nationality","Grade","License #","Confirmed","Club"]],body:Sr,startY:ht,margin:{left:14,right:14},theme:"grid",headStyles:{fillColor:[40,167,69],fontSize:9,textColor:[255,255,255]},styles:{fontSize:8,cellPadding:2,fillColor:[255,255,255]},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:20},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:18},6:{cellWidth:35},7:{cellWidth:20},8:{cellWidth:50}},didDrawPage:function(nr){nr.pageNumber>1&&(ft(),nr.settings.margin.top=80)}}),ht=ke.lastAutoTable.finalY+10})}),ke.save(`athletes_grade_role_${new Date().getFullYear()}.pdf`)}catch(F){console.error("Error exporting PDF:",F)}};return s.jsxs("div",{className:"app-container",children:[r&&s.jsx(rn,{}),s.jsx("header",{children:s.jsxs("div",{className:"federation-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d?s.jsx("img",{src:d,alt:"Federation Logo",className:"federation-logo"}):s.jsx("img",{src:Zi,alt:"Default Federation Logo",className:"federation-logo"}),s.jsx("h1",{className:"federation-title",children:qt})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[t!=null&&t.logo_url?s.jsx("img",{src:t.logo_url,alt:"League Logo",className:"member-logo",style:{width:"50px",height:"50px"}}):null,s.jsx("h2",{className:"federation-title",children:x||"League Name"})]})]})}),s.jsxs("section",{className:"app-container",children:[s.jsxs("h2",{children:["Welcome ",(t==null?void 0:t.first_name)||"User"," ",(t==null?void 0:t.last_name)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",(t==null?void 0:t.role)||"N/A"]}),s.jsxs("div",{className:"sticky-button-bar",style:{margin:"12px 0",display:"flex",gap:8},children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-btn","data-id":"1",onClick:async F=>{if(pr(F.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/member-list-l",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The League Member List"}),s.jsx("button",{className:"primary-btn","data-id":"2",onClick:async F=>{if(pr(F.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/TheClubListAddFed-League",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The Club Member List"}),s.jsx("button",{className:"primary-btn","data-id":"3",onClick:async F=>{if(pr(F.currentTarget),o){l("Please resolve the current error before navigating to another page.");return}e("/TheAthleteListAdd-League",{state:{...t,league_id:Y,league_name:x,league_logo:m}})},children:"The Athlete List Add"})]}),s.jsx("div",{className:"form-table-wrapper"}),s.jsx("h2",{className:"form-title",children:"Add Athlete"}),c&&s.jsx("div",{style:{color:"green"},children:c}),s.jsxs("form",{onSubmit:Ft,className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:12},children:[s.jsxs("label",{children:["Last Name *",s.jsx("input",{value:E,onChange:F=>U(F.target.value),required:!0})]}),s.jsxs("label",{children:["First Name *",s.jsx("input",{value:X,onChange:F=>le(F.target.value),required:!0})]}),s.jsxs("label",{children:["Date of Birth *",s.jsx("input",{type:"date",value:_e,onChange:F=>Ne(F.target.value),required:!0})]}),s.jsxs("label",{children:["Place of Birth *",s.jsx("input",{value:Be,onChange:F=>Ae(F.target.value),required:!0})]}),s.jsxs("label",{children:["Role *",s.jsxs("select",{value:Ge,onChange:F=>Qe(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),G.map((F,ce)=>s.jsx("option",{value:typeof F=="object"?F.club_role??F.name??"":F,children:typeof F=="object"?F.club_role??F.name??"":F},ce))]})]}),s.jsxs("label",{children:["Blood Type *",s.jsxs("select",{value:at,onChange:F=>Ye(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]})]}),s.jsxs("label",{children:["National Identity Number *",s.jsx("input",{value:Oe,onChange:F=>oe(F.target.value.replace(/\D/g,"").slice(0,18)),maxLength:18,required:!0}),s.jsx("small",{children:"18 digits required — must be unique."})]}),s.jsxs("label",{children:["Password *",s.jsx("input",{type:"password",value:Pt,onChange:F=>Et(F.target.value),required:!0})]}),s.jsxs("label",{children:["Confirm Password *",s.jsx("input",{type:"password",value:He,onChange:F=>Me(F.target.value),required:!0})]}),s.jsxs("label",{children:["Nationality *",s.jsxs("select",{value:_t,onChange:F=>Lt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Fe.map((F,ce)=>s.jsx("option",{value:F,children:F},ce))]})]}),s.jsxs("label",{children:["Grade *",s.jsxs("select",{value:Ot,onChange:F=>tt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),s.jsx("option",{value:"brown belt",children:"brown belt"}),s.jsx("option",{value:"black belt",children:"black belt"})]})]}),s.jsxs("label",{children:["Genres *",s.jsxs("select",{value:yt,onChange:F=>Bt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),et.map((F,ce)=>s.jsx("option",{value:F,children:F},ce))]})]}),s.jsxs("label",{children:["Categories *",s.jsxs("select",{value:gt,onChange:F=>jt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),De.map((F,ce)=>s.jsx("option",{value:F,children:F},ce))]})]}),s.jsxs("label",{children:["Weight *",s.jsxs("select",{value:Nt,onChange:F=>Tt(F.target.value),required:!0,children:[s.jsx("option",{value:"",children:"-- Select --"}),Ze.map((F,ce)=>s.jsx("option",{value:F,children:F},ce))]})]}),s.jsxs("label",{children:["League *",s.jsxs("select",{value:D,onChange:F=>{$(F.target.value),I("")},disabled:!0,required:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),be.map(F=>s.jsx("option",{value:F.id,children:F.name_league},F.id))]})]}),s.jsxs("label",{children:["Club *",s.jsxs("select",{value:ee,onChange:F=>I(F.target.value),disabled:!D&&!L,required:!0,children:[s.jsx("option",{value:"",children:"-- Select Club --"}),M.map(F=>s.jsx("option",{value:F.id,children:F.name_club},F.id))]})]}),s.jsxs("label",{children:["Upload Photo *",s.jsx("input",{type:"file",accept:"image/*",onChange:F=>{var ce;return st(((ce=F.target.files)==null?void 0:ce[0])??null)},required:!0})]}),s.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",gap:8},children:s.jsx("button",{type:"submit",className:"primary-b",children:"Save Athlete"})}),s.jsx("p",{style:{gridColumn:"1 / -1",fontSize:"14px",color:"#666",marginTop:"10px"},children:"All fields marked with an asterisk (*) must be filled in."})]})]}),s.jsxs("section",{className:"app-container",children:[s.jsx("h2",{className:"form-title",children:"List of Athletes"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("label",{children:["League",s.jsxs("select",{value:D,onChange:F=>{$(F.target.value),I("")},disabled:!0,children:[s.jsx("option",{value:"",children:"-- Select League --"}),be.map(F=>s.jsx("option",{value:F.id,children:F.name_league},F.id))]})]}),s.jsxs("label",{children:["Club:",s.jsxs("select",{value:ee,onChange:F=>I(F.target.value),disabled:!D&&!L,children:[s.jsx("option",{value:"",children:"-- All Clubs --"}),M.map(F=>s.jsx("option",{value:F.id,children:F.name_club},F.id))]})]}),s.jsx("div",{children:s.jsx("div",{children:s.jsx("h2",{className:"form-title",children:"search Member"})})}),s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search by First Name, Last Name, or License Number",value:ze,onChange:F=>We(F.target.value)})})]}),s.jsx("div",{className:"table-container",ref:Vt,style:{overflow:"auto"},children:s.jsxs("table",{className:"athlete-table",style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Last"}),s.jsx("th",{children:"First"}),s.jsx("th",{children:"DOB"}),s.jsx("th",{children:"POB"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Blood"}),s.jsx("th",{children:"NID"}),s.jsx("th",{children:"Nationality"}),s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Renewal"}),s.jsx("th",{children:"Year"}),s.jsx("th",{children:"Genres"}),s.jsx("th",{children:"Categories"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"License #"}),s.jsx("th",{children:"Registration"}),s.jsx("th",{children:"Photos"}),s.jsx("th",{children:"Confirmation"}),s.jsx("th",{children:"conf_request"}),s.jsx("th",{children:"Club ID"}),s.jsx("th",{children:"League ID"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:T.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:22,children:"No athletes found."})}):T.map(F=>s.jsxs("tr",{onDoubleClick:()=>w(F),style:{cursor:"pointer"},children:[s.jsx("td",{children:Pe===F.id?s.jsx("input",{value:Te.last_name||"",onChange:ce=>lt({...Te,last_name:ce.target.value})}):F.last_name}),s.jsx("td",{children:Pe===F.id?s.jsx("input",{value:Te.first_name||"",onChange:ce=>lt({...Te,first_name:ce.target.value})}):F.first_name}),s.jsx("td",{children:Pe===F.id?s.jsx("input",{type:"date",value:Te.date_of_birth||"",onChange:ce=>lt({...Te,date_of_birth:ce.target.value})}):F.date_of_birth}),s.jsx("td",{children:Pe===F.id?s.jsx("input",{value:Te.place_of_birth||"",onChange:ce=>lt({...Te,place_of_birth:ce.target.value})}):F.place_of_birth}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.role||"",onChange:ce=>lt({...Te,role:ce.target.value}),children:[s.jsx("option",{value:"",children:"-- Select --"}),G.map((ce,me)=>s.jsx("option",{value:typeof ce=="object"?ce.club_role??ce.name??"":ce,children:typeof ce=="object"?ce.club_role??ce.name??"":ce},me))]}):F.role}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.blood_type||"",onChange:ce=>lt({...Te,blood_type:ce.target.value}),children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{children:"A+"}),s.jsx("option",{children:"A-"}),s.jsx("option",{children:"B+"}),s.jsx("option",{children:"B-"}),s.jsx("option",{children:"AB+"}),s.jsx("option",{children:"AB-"}),s.jsx("option",{children:"O+"}),s.jsx("option",{children:"O-"})]}):F.blood_type}),s.jsx("td",{children:F.national_id_number}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.nationality||"",onChange:ce=>lt({...Te,nationality:ce.target.value}),children:[s.jsx("option",{value:"",children:"--"}),Fe.map((ce,me)=>s.jsx("option",{value:ce,children:ce},me))]}):F.nationality}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.grade||"",onChange:ce=>lt({...Te,grade:ce.target.value}),children:[s.jsx("option",{value:"",children:"--"}),z.map((ce,me)=>s.jsx("option",{value:ce,children:ce},me))]}):F.grade}),s.jsx("td",{children:F.renewal}),s.jsx("td",{children:F.year}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.genres||"",onChange:ce=>lt({...Te,genres:ce.target.value}),children:[s.jsx("option",{value:"",children:"--"}),et.map((ce,me)=>s.jsx("option",{value:ce,children:ce},me))]}):F.genres}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.categories||"",onChange:ce=>lt({...Te,categories:ce.target.value}),children:[s.jsx("option",{value:"",children:"--"}),De.map((ce,me)=>s.jsx("option",{value:ce,children:ce},me))]}):F.categories}),s.jsx("td",{children:Pe===F.id?s.jsxs("select",{value:Te.weight||"",onChange:ce=>lt({...Te,weight:ce.target.value}),disabled:!Te.genres||!Te.categories,children:[s.jsx("option",{value:"",children:"-- Select --"}),Ze.map((ce,me)=>s.jsx("option",{value:ce,children:ce},me))]}):F.weight}),s.jsx("td",{children:F.license_number}),s.jsx("td",{children:F.registration_date}),s.jsx("td",{children:F.photos_url?s.jsx("img",{src:F.photos_url,alt:`${F.first_name} ${F.last_name}`,style:{width:48,height:48,objectFit:"cover",borderRadius:6}}):"No Photo"}),s.jsx("td",{children:F.confirmation?"✅":"❌"}),s.jsx("td",{children:F.confirmation_request?"conf_request":"conf_Not_request"}),s.jsx("td",{children:F.club_id}),s.jsx("td",{children:F.league_id}),s.jsx("td",{children:Pe===F.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-S",onClick:Q,children:"Save"}),s.jsx("button",{className:"secondary-btn",onClick:k,children:"Cancel "})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"primary-M",onClick:()=>A(F),children:"Modify"}),s.jsx("button",{className:"secondary-btn",onClick:()=>ge(F),children:"Delete"}),s.jsx("button",{className:F.confirmation?"cancel-btn":"confirm-btn",disabled:(F.confirmation_request?"conf_request":"conf_Not_request")!="conf_request",onClick:()=>{if((F.confirmation_request?"conf_request":"conf_Not_request")!="conf_request"){l("you not confirme because is not requested");return}je(F.id,F.confirmation)},children:F.confirmation?"Cancel Confirmation":"Confirm"})]})})]},F.id))})]})}),s.jsxs("div",{className:"export-buttons",style:{margin:"12px 0",display:"flex",gap:8},children:[s.jsx(Er,{}),s.jsx("button",{className:"primary-b",onClick:J,children:"Export General PDF"}),s.jsx("button",{className:"primary-b",onClick:pe,children:"Export by Category"}),s.jsx("button",{className:"primary-b",onClick:Ue,children:"Export by Grade PDF"})]})]}),o&&s.jsx(Pn,{error:o,onClose:()=>l("")}),c&&s.jsx(Rn,{success:c,onClose:()=>u("")}),i&&s.jsx(ta,{}),s.jsx(gn,{}),s.jsx("footer",{className:"footer",style:{backgroundColor:"red"},children:s.jsx("p",{children:"© 2025 Algerian Judo Federation. All rights reserved."})})]})}function g8(){const t=Ur();return s.jsxs("div",{style:{padding:"50px",backgroundColor:"#f0f0f0",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px"},children:[s.jsx("h1",{children:"Button Comparison Test"}),s.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-btn class:"}),s.jsx("button",{className:"primary-btn",children:"Primary Button"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-b class:"}),s.jsx("button",{className:"primary-b",children:"Primary B Button"})]})]}),s.jsx("div",{style:{display:"flex",gap:"20px",alignItems:"center",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:"primary-bt class (for comparison):"}),s.jsx("button",{className:"primary-bt",children:"Primary BT Button"})]})}),s.jsxs("p",{style:{maxWidth:"600px",textAlign:"center",backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:["The first two buttons (primary-btn and primary-b) should look ",s.jsx("strong",{children:"exactly identical"}),"with the same gradient, animations, and hover effects. The third button (primary-bt) has different enhanced styling for comparison."]}),s.jsx("button",{className:"secondary-btn",onClick:()=>t("/"),style:{marginTop:"20px"},children:"Back to Home"})]})}function p8(){return s.jsx(yN,{children:s.jsxs(mN,{children:[s.jsx(Vr,{path:"/",element:s.jsx(KP,{})}),s.jsx(Vr,{path:"/FederationPage",element:s.jsx(yL,{})}),s.jsx(Vr,{path:"/LeaguePage",element:s.jsx(QP,{})}),s.jsx(Vr,{path:"/AmateurSportsClubPage",element:s.jsx($P,{})}),s.jsx(Vr,{path:"/AddMemberPage",element:s.jsx(e8,{})}),s.jsx(Vr,{path:"/AddMemberLeague",element:s.jsx(t8,{})}),s.jsx(Vr,{path:"/AddMemberClub",element:s.jsx(r8,{})}),s.jsx(Vr,{path:"/AthletePage",element:s.jsx(qP,{})}),s.jsx(Vr,{path:"/Athlete",element:s.jsx(WP,{})}),s.jsx(Vr,{path:"/MemberListPage",element:s.jsx(ZP,{})}),s.jsx(Vr,{path:"/member-list",element:s.jsx(i8,{})}),s.jsx(Vr,{path:"/club-member-list",element:s.jsx(a8,{})}),s.jsx(Vr,{path:"/MemberListPageP",element:s.jsx(s8,{})}),s.jsx(Vr,{path:"/member-list-l",element:s.jsx(o8,{})}),s.jsx(Vr,{path:"/club-member-listC",element:s.jsx(l8,{})}),s.jsx(Vr,{path:"/photos-logo-publication",element:s.jsx(n8,{})}),s.jsx(Vr,{path:"/TheClubListAdd-Fed",element:s.jsx(c8,{})}),s.jsx(Vr,{path:"/TheLeagueList-Add",element:s.jsx(d8,{})}),s.jsx(Vr,{path:"/TheAthleteList-Add",element:s.jsx(u8,{})}),s.jsx(Vr,{path:"/TheClubListAddFed-League",element:s.jsx(h8,{})}),s.jsx(Vr,{path:"/TheAthleteListAdd-League",element:s.jsx(f8,{})}),s.jsx(Vr,{path:"/button-test",element:s.jsx(g8,{})})]})})}rp.createRoot(document.getElementById("root")).render(s.jsx(p8,{}));export{kr as _,Mi as c,Mb as g};
